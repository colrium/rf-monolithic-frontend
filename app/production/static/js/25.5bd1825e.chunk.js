(this.webpackJsonpdashboard=this.webpackJsonpdashboard||[]).push([[25],{1389:function(e,t,a){"use strict";var r=a(1),n=a(5),i=a(0),o=a(4),s=(a(7),a(34)),c=a(14),l=i.forwardRef((function(e,t){var a=e.animation,s=void 0===a?"pulse":a,c=e.classes,l=e.className,d=e.component,h=void 0===d?"span":d,u=e.height,m=e.variant,f=void 0===m?"text":m,p=e.width,v=Object(n.a)(e,["animation","classes","className","component","height","variant","width"]),b=Boolean(v.children);return i.createElement(h,Object(r.a)({ref:t,className:Object(o.a)(c.root,c[f],l,b&&[c.withChildren,!p&&c.fitContent,!u&&c.heightAuto],!1!==s&&c[s])},v,{style:Object(r.a)({width:p,height:u},v.style)}))}));t.a=Object(c.a)((function(e){return{root:{display:"block",backgroundColor:Object(s.d)(e.palette.text.primary,"light"===e.palette.type?.11:.13),height:"1.2em"},text:{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 60%",transform:"scale(1, 0.60)",borderRadius:e.shape.borderRadius,"&:empty:before":{content:'"\\00a0"'}},rect:{},circle:{borderRadius:"50%"},pulse:{animation:"$pulse 1.5s ease-in-out 0.5s infinite"},"@keyframes pulse":{"0%":{opacity:1},"50%":{opacity:.4},"100%":{opacity:1}},wave:{position:"relative",overflow:"hidden","&::after":{animation:"$wave 1.6s linear 0.5s infinite",background:"linear-gradient(90deg, transparent, ".concat(e.palette.action.hover,", transparent)"),content:'""',position:"absolute",transform:"translateX(-100%)",bottom:0,left:0,right:0,top:0}},"@keyframes wave":{"0%":{transform:"translateX(-100%)"},"60%":{transform:"translateX(100%)"},"100%":{transform:"translateX(100%)"}},withChildren:{"& > *":{visibility:"hidden"}},fitContent:{maxWidth:"fit-content"},heightAuto:{height:"auto"}}}),{name:"MuiSkeleton"})(l)},1390:function(e,t,a){"use strict";var r=a(47);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(0)),i=(0,r(a(61)).default)(n.default.createElement("path",{d:"M4.47 21h15.06c1.54 0 2.5-1.67 1.73-3L13.73 4.99c-.77-1.33-2.69-1.33-3.46 0L2.74 18c-.77 1.33.19 3 1.73 3zM12 14c-.55 0-1-.45-1-1v-2c0-.55.45-1 1-1s1 .45 1 1v2c0 .55-.45 1-1 1zm1 4h-2v-2h2v2z"}),"WarningRounded");t.default=i},1931:function(e,t,a){"use strict";a.r(t);var r=a(9),n=a.n(r),i=a(20),o=a(13),s=a(26),c=a(27),l=a(18),d=a(17),h=a(428),u=a(43),m=a.n(u),f=a(1390),p=a.n(f),v=a(1389),b=a(3),g=a(23),y=a(22),E=a(16),_=a(21),x=a(0),w=a.n(x),O=a(35),N=a(8),j=a(63),S=a.n(j),k=a(73),W=a(436),R=a(33),C=a(50),z=a(1378),A=a(435),J=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var r;Object(o.a)(this,a),(r=t.call(this,e)).state={title:"",main_title:"New",main_subtitle:"Record",record:null,record_id:null,loading:!0},r.defination=null,r.service=null,r.record_id=null;var n=e.componentProps,i=e.match.params,s=e.definations,l=e.services;return r.context=n.context,r.defination=s[n.context],r.service=l[n.context],"id"in i&&(r.record_id=i.id),r.handleFormSuccess=r.handleFormSuccess.bind(Object(c.a)(r)),r}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.auth,a=e.location,r=e.appendNavHistory;r&&a&&this.defination&&r({name:R.e.singularize(this.defination.name)+"_"+(this.record_id?this.record_id:"new"),uri:a.pathname,title:(this.record_id?"Update":"New")+" "+R.e.singularize("function"===typeof this.defination.label?this.defination.label(t.user):this.defination.label),view:null,color:this.defination.color?this.defination.color:b.b.hex.primary,scrollTop:0}),this.record_id?this.getRecord():this.setState((function(e){return{loading:!1}}))}},{key:"handleFormSuccess",value:function(e){var t=this.props.history;JSON.isJSON(e)&&t.push((this.defination.name+"/view/"+e._id).toUriWithDashboardPrefix())}},{key:"getRecord",value:function(){var e=Object(i.a)(n.a.mark((function e(){var t,a,r=this;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.service.getRecordById(this.record_id);case 2:(t=e.sent).err?404===t.err.code?this.props.history.push("/not-found"):this.setState((function(e){return{load_error:t.err,loading:!1}})):(a=t.body.data,this.setState((function(e){return{record_id:r.record_id,record:a,loading:!1}})));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.auth,r=e.nav,n=!!Array.isArray(r.entries)&&(r.entries.length>1&&r.entries[r.entries.length-2].uri),i=!this.state.loading&&(JSON.isJSON(this.state.record)?this.defination.access.actions.update.restricted(a.user):this.defination.access.actions.create.restricted(a.user));return w.a.createElement(y.a,{className:t.root},w.a.createElement(E.a,{xs:12},this.state.loading?w.a.createElement(y.a,{className:t.full_height,justify:"center",alignItems:"center"},w.a.createElement(v.a,{variant:"rect",width:"100%",height:"100%"})):w.a.createElement(y.a,{className:"p-0 m-0"},this.state.load_error?w.a.createElement(y.a,null,w.a.createElement(E.a,{xs:12},w.a.createElement(_.a,{color:"error",variant:"h1",center:!0,fullWidth:!0},w.a.createElement(h.a,{fontSize:"large"},"error"))),w.a.createElement(E.a,{xs:12},w.a.createElement(_.a,{color:"error",variant:"body1",center:!0,fullWidth:!0},"An error occured.",w.a.createElement("br",null),"Status Code :"," ",this.state.load_error.code,w.a.createElement("br",null),this.state.load_error.msg))):w.a.createElement(y.a,null,i&&w.a.createElement(y.a,{className:t.fullPageHeight,direction:"column",justify:"center",alignItems:"center"},w.a.createElement(E.a,{xs:12},w.a.createElement(_.a,{color:"error",variant:"h1",center:!0,fullWidth:!0},w.a.createElement(p.a,{className:t.errorIcon}))),w.a.createElement(E.a,{xs:12},w.a.createElement(_.a,{color:"grey",variant:"h3",center:!0,fullWidth:!0},"Access Denied!")),w.a.createElement(E.a,{xs:12},w.a.createElement(_.a,{color:"default",variant:"body1",center:!0,fullWidth:!0},"Sorry! Access to this resource is prohibitted since you lack required priviledges. ",w.a.createElement("br",null)," Please contact the system administrator for further details.")),w.a.createElement(E.a,{xs:12},w.a.createElement(_.a,{color:"error",variant:"body1",center:!0,fullWidth:!0},w.a.createElement(N.b,{to:"home".toUriWithDashboardPrefix()}," ",w.a.createElement(g.a,{variant:"text",color:"default",simple:!0}," ","Home"," ")," "),n&&w.a.createElement(N.b,{to:n}," ",w.a.createElement(g.a,{variant:"text",color:"default",simple:!0}," ","Back"," ")," ")))),!i&&w.a.createElement(y.a,{className:"p-0 m-0"},w.a.createElement(E.a,{className:"p-0 m-0",xs:12},w.a.createElement(z.a,{record:this.state.record?this.state.record._id:null,initialValues:this.state.record,defination:this.defination,service:this.service,onSubmitSuccess:this.handleFormSuccess,form:this.defination&&"name"in this.defination?(this.state.record_id?this.state.record_id:"new")+"_"+R.e.singularize(this.defination.name).toLowerCase()+"_form":"record_form"})))))))}}]),a}(w.a.Component);t.default=Object(k.c)(S()(m()(A.a),Object(O.b)((function(e){return{auth:e.auth,nav:e.nav}}),{appendNavHistory:W.a}),C.a)(J))}}]);
//# sourceMappingURL=25.5bd1825e.chunk.js.map