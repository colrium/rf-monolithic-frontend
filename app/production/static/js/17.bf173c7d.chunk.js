(this.webpackJsonpdashboard=this.webpackJsonpdashboard||[]).push([[17],{1477:function(e,t,a){"use strict";var n=a(12),r=a(0),i=a.n(r);function s(e){var t=e.className,a=e.children,s=e.offset,l=e.onViewportVisibilityChange,c=(e.placeholder,e.placeholderType,Object(r.useRef)());!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0px",a=Object(r.useState)(!1),i=Object(n.a)(a,2),s=i[0],c=i[1];Object(r.useEffect)((function(){var a=new IntersectionObserver((function(e){var t=Object(n.a)(e,1)[0];c(t.isIntersecting),Function.isFunction(l)&&l(t.isIntersecting)}),{rootMargin:t});return e.current&&a.observe(e.current),function(){a.unobserve(e.current)}}),[])}(c,0-Number.parseNumber(s,0)+"px");return i.a.createElement("div",{className:t||"w-full ",ref:c},a)}s.defaultProps={placeholderType:"skeleton",placeholder:{variant:"rect",width:"100%",height:200,animation:"wave"},offset:0},t.a=s},1487:function(e,t,a){"use strict";var n=a(24),r=a(9),i=a.n(r),s=a(20),l=a(14),c=a(26),o=a(27),h=a(18),u=a(17),m=a(0),p=a.n(m),d=a(12),v=a(168),f=a(1303);function b(e){var t=Object(m.useState)(e),a=Object(d.a)(t,2),r=a[0],i=a[1];Object(m.useEffect)((function(){i(e)}),[e]);r.className;var s=r.placeholder,l=r.type;if("skeleton"===l){if(JSON.isJSON(s)){var c=s.variant,o=s.width,h=s.height,u=Object(n.a)(s,["variant","width","height"]);return p.a.createElement(f.a,Object.assign({variant:c||"rect",width:o||"100%",height:h||"auto"},u))}return Array.isArray(s)?p.a.createElement("div",{className:"w-full min-h-full flex flex-col relative"},s.map((function(e,t){if(JSON.isJSON(e)){var a=e.variant,r=e.width,i=e.height,s=e.className,l=Object(n.a)(e,["variant","width","height","className"]);return p.a.createElement("div",{className:s||"w-full",key:"skeleton-"+t},p.a.createElement(f.a,Object.assign({variant:a||"rect",width:r||"100%"},i?{height:i}:{},l)))}return Array.isArray(e)?p.a.createElement("div",{className:"w-full flex flex-row relative",key:"skeleton-row-"+t},e.map((function(e,t){var a=e.variant,r=e.width,i=e.height,s=e.className,l=Object(n.a)(e,["variant","width","height","className"]);return p.a.createElement(f.a,Object.assign({className:s||"",variant:a||"rect",width:r||"100%"},i?{height:i}:{},l,{key:"row-skeleton-"+t}))}))):p.a.createElement("div",{className:"w-full",key:"skeleton-"+t})}))):p.a.createElement(f.a,{variant:"rect",width:"100%",height:120})}return"progress"===l?p.a.createElement(v.a,{type:"circular",size:24}):"logo"===l?p.a.createElement(v.a,{type:"logo",size:24,thickness:5,className:"absolute center"}):p.a.createElement(f.a,{variant:"rect",width:"100%",height:"100%"})}b.defaultProps={type:"skeleton",placeholder:{variant:"rect",width:"100%",height:"100%",animation:"wave"}};var w=b,g=a(1477),N=a(141),y=a.n(N),E=function(e){Object(h.a)(r,e);var t=Object(u.a)(r);function r(){var e;return Object(l.a)(this,r),(e=t.call(this)).state={module:!1,inViewPort:!1},e.onViewportVisibilityChange=e.onViewportVisibilityChange.bind(Object(o.a)(e)),e}return Object(c.a)(r,[{key:"componentDidCatch",value:function(e){this.setState({hasError:e})}},{key:"loadModule",value:function(){var e=Object(s.a)(i.a.mark((function e(){var t,n,r,s,l,c,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=this.props,n=t.resolve,r=t.path,!Function.isFunction(n)){e.next=10;break}return e.next=5,n();case 5:s=e.sent,l=s.default,this.setState({module:l}),e.next=16;break;case 10:if(!String.isString(r)){e.next=16;break}return e.next=13,a(1877)(r);case 13:c=e.sent,o=c.default,this.setState({module:o});case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),this.setState({hasError:e.t0});case 21:case"end":return e.stop()}}),e,this,[[0,18]])})));return function(){return e.apply(this,arguments)}}()},{key:"onViewportVisibilityChange",value:function(e){var t=this.props.onVisible;e&&!this.state.module&&(this.loadModule(),this.setState({inViewPort:e}),Function.isFunction(t)&&t())}},{key:"render",value:function(){var e=this.props,t=(e.resolve,e.path,e.placeholderType),a=e.placeholder,r=(e.offset,Object(n.a)(e,["resolve","path","placeholderType","placeholder","offset"])),i=this.state,s=i.module,l=i.hasError;i.inViewPort;return p.a.createElement(g.a,{onViewportVisibilityChange:y()(this.onViewportVisibilityChange,200)},l&&p.a.createElement("h5",{className:"error_text relative center text-center"},l.message),!l&&s&&p.a.createElement(s,r),!l&&!s&&p.a.createElement(w,{placeholder:a,type:t}))}}]),r}(p.a.Component);E.defaultProps={placeholderType:"skeleton",placeholder:{variant:"rect",width:"100%",height:"100%",animation:"wave"},offset:0};t.a=E},1877:function(e,t){function a(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}a.keys=function(){return[]},a.resolve=a,e.exports=a,a.id=1877},1930:function(e,t,a){"use strict";a.r(t);var n=a(14),r=a(26),i=a(18),s=a(17),l=a(43),c=a.n(l),o=a(3),h=a(433),u=a(22),m=a(16),p=a(1487),d=a(0),v=a.n(d),f=a(259),b=a.n(f),w=a(219),g=a(35),N=a(63),y=a.n(N),E=a(438),O=a(50),k=a(601),x=a(437),j=function(e){Object(i.a)(l,e);var t=Object(s.a)(l);function l(){var e;Object(n.a)(this,l);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={mainMapInFullWidth:!0},e}return Object(r.a)(l,[{key:"componentDidMount",value:function(){var e=this.props,t=e.location,a=e.appendNavHistory;a&&t&&a({name:"dashboard",uri:t.pathname,title:"Dashboard",view:null,color:o.b.hex.primary,scrollTop:0})}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,r=(t.app.preferences,t.auth,t.location,t.theme),i=t.device;return v.a.createElement(u.a,{className:n.root},v.a.createElement(m.a,{xs:12,lg:this.state.mainMapInFullWidth?12:7,className:"p-2"},v.a.createElement(h.a,null,v.a.createElement(p.a,{resolve:function(){return Promise.all([a.e(0),a.e(2),a.e(3),a.e(1),a.e(20)]).then(a.bind(null,1380))},placeholderType:"skeleton",placeholder:[[{variant:"circle",width:40,height:40,className:"mt-2 ml-4"},{variant:"text",width:100,className:"mx-2 mt-4"}],{variant:"rect",width:"100%",height:600,className:"mt-4"}],actions:i.window_size.width>1280?[{icon:v.a.createElement(b.a,{path:this.state.mainMapInFullWidth?w.b:w.g,title:"Toggle size",className:"invisible xl:visible",size:.8,color:r.palette.text.primary}),onClick:function(){e.setState((function(e){return{mainMapInFullWidth:!e.mainMapInFullWidth}}))}}]:[]}))),v.a.createElement(m.a,{xs:12,lg:this.state.mainMapInFullWidth?12:5,className:"p-2"},v.a.createElement(u.a,{className:"p-0 m-0"},v.a.createElement(p.a,{resolve:function(){return a.e(44).then(a.bind(null,1908))},placeholderType:"skeleton",placeholder:[{variant:"text",width:"100%",className:"mx-2 mt-4"},{variant:"rect",width:40,height:40,className:"mt-2 ml-4"}],wrapperSize:this.state.mainMapInFullWidth?12:5})),v.a.createElement(u.a,{className:"p-0 m-0"},v.a.createElement(p.a,{resolve:function(){return Promise.all([a.e(4),a.e(16)]).then(a.bind(null,1899))},placeholder:[{variant:"rect",width:"100%",height:200,className:"mt-4"},{variant:"rect",width:"100%",height:200,className:"mt-4"},{variant:"rect",width:"100%",height:200,className:"mt-4"}],chartType:"bar",contexts:["responses"]}))),v.a.createElement(m.a,{xs:12,className:"p-2"},v.a.createElement(p.a,{resolve:function(){return a.e(43).then(a.bind(null,1909))},placeholder:[{variant:"rect",width:"100%",height:200,className:"mt-4"},{variant:"rect",width:"100%",height:200,className:"mt-4"},{variant:"rect",width:"100%",height:200,className:"mt-4"}],gridSize:4})))}}]),l}(v.a.Component);t.default=y()(c()(x.a),Object(g.b)((function(e){return{app:e.app,auth:e.auth,nav:e.nav,device:e.device}}),{appendNavHistory:E.a}),k.a,O.a)(j)}}]);
//# sourceMappingURL=17.bf173c7d.chunk.js.map