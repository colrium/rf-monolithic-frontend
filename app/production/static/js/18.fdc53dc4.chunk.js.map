{"version":3,"sources":["assets/img/realfield/logo-chevron.svg","views/pages/LandingPage/Order/components/Screens/SelectItems/GridView/index.jsx","views/pages/LandingPage/Order/components/Screens/SelectItems/ItemView/index.jsx","views/pages/LandingPage/Order/components/Screens/SelectItems/index.jsx"],"names":["module","exports","GridView","props","state","retailitems","loading","load_err","handleOnItemSelect","item","event","onItemSelect","Function","isFunction","params","p","JSON","isJSON","bind","this","loadItems","prevProps","prevState","snapshot","updatedParams","Object","areEqual","setState","retailItemsService","getRecords","then","res","body","data","err","GridContainer","className","GridItem","xs","md","lg","Skeleton","variant","width","height","Array","isArray","ScrollBars","map","retailitem","cursor","available","key","_id","LazyImage","src","featured_image","AttachmentsService","getAttachmentFileUrl","LogoChevron","name","cost","currency","html_symbol","description","item_type","Button","color","onClick","React","Component","withRoot","ItemView","options","options_cost","selected_image","canAddToCart","variantsError","handleOnItemAdd","onItemAdd","handleOnVariantsChange","value","entries","calculateOptionsPrice","handleOnImageSelect","prev_item","variants","values","cost_effect_type","Number","parseNumber","cost_effect","option_price","required","label","Typography","gutterBottom","Chip","size","taxable","discountable","categories","category","index","tags","tag","images","image","mode","blueprint","onChange","error","disabled","Step","view","prev_view","items","context","onContextChange","selection","onAddToCart","handleOnBackClick","onComplete","onCancel","includes","IconButton","aria-label","fontSize","length","round"],"mappings":"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","file":"static/js/18.fdc53dc4.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo-chevron.cc0777ae.svg\";","/** @format */\r\n\r\nimport Skeleton from \"@material-ui/lab/Skeleton\";\r\nimport LogoChevron from \"assets/img/realfield/logo-chevron.svg\";\r\nimport Button from \"components/Button\";\r\nimport GridContainer from \"components/Grid/GridContainer\";\r\nimport GridItem from \"components/Grid/GridItem\";\r\nimport LazyImage from \"components/LazyImage\";\r\nimport ScrollBars from \"components/ScrollBars\";\r\nimport React from \"react\";\r\nimport { attachments as AttachmentsService, retailitems as retailItemsService } from \"services\";\r\nimport withRoot from \"hoc/withRoot\";\r\n\r\nclass GridView extends React.Component {\r\n\tstate = {\r\n\t\tretailitems: [],\r\n\t\tloading: true,\r\n\t\tload_err: false,\r\n\t};\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tconst { params } = this.props;\r\n\t\tthis.state.params = { p: 1 };\r\n\t\tif (JSON.isJSON(params)) {\r\n\t\t\tthis.state.params = { ...params, p: 1 };\r\n\t\t}\r\n\t\tthis.handleOnItemSelect = this.handleOnItemSelect.bind(this);\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.loadItems();\r\n\t}\r\n\tcomponentDidUpdate(prevProps, prevState, snapshot) {\r\n\t\tconst { params } = this.props;\r\n\t\tlet updatedParams = { p: 1 };\r\n\t\tif (JSON.isJSON(params)) {\r\n\t\t\tupdatedParams = { ...params, p: 1 };\r\n\t\t\tif (!Object.areEqual(this.state.params, updatedParams)) {\r\n\t\t\t\tthis.setState({ params: params }, () => {\r\n\t\t\t\t\tthis.loadItems();\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tloadItems() {\r\n\t\tconst params = this.state.params;\r\n\t\tthis.setState(prevState => ({ loading: true, load_err: null }));\r\n\t\tretailItemsService\r\n\t\t\t.getRecords(params)\r\n\t\t\t.then(res => {\r\n\t\t\t\tthis.setState(prevState => ({\r\n\t\t\t\t\tretailitems: res.body.data,\r\n\t\t\t\t\tloading: false,\r\n\t\t\t\t\tload_err: null,\r\n\t\t\t\t}));\r\n\t\t\t})\r\n\t\t\t.catch(err => {\r\n\t\t\t\tthis.setState(prevState => ({\r\n\t\t\t\t\tretailitems: [],\r\n\t\t\t\t\tloading: false,\r\n\t\t\t\t\tload_err: err,\r\n\t\t\t\t}));\r\n\t\t\t});\r\n\t}\r\n\r\n\thandleOnItemSelect = item => event => {\r\n\t\tconst { onItemSelect } = this.props;\r\n\t\tif (Function.isFunction(onItemSelect)) {\r\n\t\t\tonItemSelect(item, event);\r\n\t\t}\r\n\t};\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<GridContainer className=\"p-0 m-0\">\r\n\t\t\t\t{this.state.loading && (\r\n\t\t\t\t\t<GridContainer className=\"flex-10\">\r\n\t\t\t\t\t\t<GridItem xs={12} md={6} lg={4}>\r\n\t\t\t\t\t\t\t<div className=\"bg-white shadow-xl rounded-lg flex flex-col overflow-hidden\">\r\n\t\t\t\t\t\t\t\t<Skeleton\r\n\t\t\t\t\t\t\t\t\tvariant=\"rect\"\r\n\t\t\t\t\t\t\t\t\twidth={\"100%\"}\r\n\t\t\t\t\t\t\t\t\theight={224}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Skeleton\r\n\t\t\t\t\t\t\t\t\tvariant=\"text\"\r\n\t\t\t\t\t\t\t\t\twidth={\"95%\"}\r\n\t\t\t\t\t\t\t\t\tclassName=\"mt-2 mx-auto\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Skeleton\r\n\t\t\t\t\t\t\t\t\tvariant=\"rect\"\r\n\t\t\t\t\t\t\t\t\twidth={\"30%\"}\r\n\t\t\t\t\t\t\t\t\theight={50}\r\n\t\t\t\t\t\t\t\t\tclassName=\"mt-2 ml-4\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Skeleton\r\n\t\t\t\t\t\t\t\t\tvariant=\"text\"\r\n\t\t\t\t\t\t\t\t\twidth={\"95%\"}\r\n\t\t\t\t\t\t\t\t\tclassName=\"mt-2 mx-auto\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Skeleton\r\n\t\t\t\t\t\t\t\t\tvariant=\"text\"\r\n\t\t\t\t\t\t\t\t\twidth={\"95%\"}\r\n\t\t\t\t\t\t\t\t\tclassName=\"mt-6 mx-auto\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Skeleton\r\n\t\t\t\t\t\t\t\t\tvariant=\"rect\"\r\n\t\t\t\t\t\t\t\t\twidth={\"80%\"}\r\n\t\t\t\t\t\t\t\t\theight={34}\r\n\t\t\t\t\t\t\t\t\tclassName=\"mt-8 mb-6 mx-auto rounded\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</GridItem>\r\n\t\t\t\t\t\t<GridItem xs={12} md={6} lg={4}>\r\n\t\t\t\t\t\t\t<div className=\"bg-white shadow-xl rounded-lg flex flex-col overflow-hidden\">\r\n\t\t\t\t\t\t\t\t<Skeleton\r\n\t\t\t\t\t\t\t\t\tvariant=\"rect\"\r\n\t\t\t\t\t\t\t\t\twidth={\"100%\"}\r\n\t\t\t\t\t\t\t\t\theight={224}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Skeleton\r\n\t\t\t\t\t\t\t\t\tvariant=\"text\"\r\n\t\t\t\t\t\t\t\t\twidth={\"95%\"}\r\n\t\t\t\t\t\t\t\t\tclassName=\"mt-2 mx-auto\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Skeleton\r\n\t\t\t\t\t\t\t\t\tvariant=\"rect\"\r\n\t\t\t\t\t\t\t\t\twidth={\"30%\"}\r\n\t\t\t\t\t\t\t\t\theight={50}\r\n\t\t\t\t\t\t\t\t\tclassName=\"mt-2 ml-4\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Skeleton\r\n\t\t\t\t\t\t\t\t\tvariant=\"text\"\r\n\t\t\t\t\t\t\t\t\twidth={\"95%\"}\r\n\t\t\t\t\t\t\t\t\tclassName=\"mt-2 mx-auto\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Skeleton\r\n\t\t\t\t\t\t\t\t\tvariant=\"text\"\r\n\t\t\t\t\t\t\t\t\twidth={\"95%\"}\r\n\t\t\t\t\t\t\t\t\tclassName=\"mt-6 mx-auto\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Skeleton\r\n\t\t\t\t\t\t\t\t\tvariant=\"rect\"\r\n\t\t\t\t\t\t\t\t\twidth={\"80%\"}\r\n\t\t\t\t\t\t\t\t\theight={34}\r\n\t\t\t\t\t\t\t\t\tclassName=\"mt-8 mb-6 mx-auto rounded\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</GridItem>\r\n\t\t\t\t\t\t<GridItem xs={12} md={6} lg={4}>\r\n\t\t\t\t\t\t\t<div className=\"bg-white shadow-xl rounded-lg flex flex-col overflow-hidden\">\r\n\t\t\t\t\t\t\t\t<Skeleton\r\n\t\t\t\t\t\t\t\t\tvariant=\"rect\"\r\n\t\t\t\t\t\t\t\t\twidth={\"100%\"}\r\n\t\t\t\t\t\t\t\t\theight={224}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Skeleton\r\n\t\t\t\t\t\t\t\t\tvariant=\"text\"\r\n\t\t\t\t\t\t\t\t\twidth={\"95%\"}\r\n\t\t\t\t\t\t\t\t\tclassName=\"mt-2 mx-auto\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Skeleton\r\n\t\t\t\t\t\t\t\t\tvariant=\"rect\"\r\n\t\t\t\t\t\t\t\t\twidth={\"30%\"}\r\n\t\t\t\t\t\t\t\t\theight={50}\r\n\t\t\t\t\t\t\t\t\tclassName=\"mt-2 ml-4\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Skeleton\r\n\t\t\t\t\t\t\t\t\tvariant=\"text\"\r\n\t\t\t\t\t\t\t\t\twidth={\"95%\"}\r\n\t\t\t\t\t\t\t\t\tclassName=\"mt-2 mx-auto\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Skeleton\r\n\t\t\t\t\t\t\t\t\tvariant=\"text\"\r\n\t\t\t\t\t\t\t\t\twidth={\"95%\"}\r\n\t\t\t\t\t\t\t\t\tclassName=\"mt-6 mx-auto\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Skeleton\r\n\t\t\t\t\t\t\t\t\tvariant=\"rect\"\r\n\t\t\t\t\t\t\t\t\twidth={\"80%\"}\r\n\t\t\t\t\t\t\t\t\theight={34}\r\n\t\t\t\t\t\t\t\t\tclassName=\"mt-8 mb-6 mx-auto rounded\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</GridItem>\r\n\t\t\t\t\t</GridContainer>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{!this.state.loading && Array.isArray(this.state.retailitems) && (\r\n\t\t\t\t\t<ScrollBars className=\"flex-10 overflow-x-hidden overflow-y-scroll\">\r\n\t\t\t\t\t\t<GridContainer className=\"p-4 m-0\">\r\n\t\t\t\t\t\t\t{this.state.retailitems.map(\r\n\t\t\t\t\t\t\t\t(retailitem, cursor) =>\r\n\t\t\t\t\t\t\t\t\tretailitem.available && (\r\n\t\t\t\t\t\t\t\t\t\t<GridItem\r\n\t\t\t\t\t\t\t\t\t\t\txs={12}\r\n\t\t\t\t\t\t\t\t\t\t\tmd={6}\r\n\t\t\t\t\t\t\t\t\t\t\tlg={4}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"flex flex-col\"\r\n\t\t\t\t\t\t\t\t\t\t\tkey={retailitem._id}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"bg-white shadow-xl rounded-lg overflow-hidden\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"bg-cover bg-center h-56 p-0\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<LazyImage\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-full h-full\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tretailitem.featured_image\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? AttachmentsService.getAttachmentFileUrl(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tretailitem.featured_image\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  )\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: LogoChevron\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"p-4\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"uppercase truncate tracking-wide text-sm  text-gray-900\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{retailitem.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{retailitem.cost > 0 &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tJSON.isJSON(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tretailitem.currency\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-3xl text-gray-900 my-4\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{retailitem\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.currency\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.html_symbol +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\" \" +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tretailitem.cost}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"truncate tracking-wide text-sm  text-gray-500\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{retailitem.description\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? retailitem.description\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"No description available\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex p-4 border-t border-gray-300 text-gray-700\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex-1 inline-flex items-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\" text-gray-900 font-bold\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tType\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex-1 inline-flex items-left\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"capitalize\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tretailitem.item_type\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"px-4 pt-3 pb-4 border-t border-gray-300 bg-gray-100\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-full\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={this.handleOnItemSelect(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tretailitem\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tView\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</GridItem>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</GridContainer>\r\n\t\t\t\t\t</ScrollBars>\r\n\t\t\t\t)}\r\n\t\t\t</GridContainer>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRoot(GridView);\r\n","/** @format */\r\n\r\nimport Chip from \"@material-ui/core/Chip\";\r\nimport LogoChevron from \"assets/img/realfield/logo-chevron.svg\";\r\nimport Button from \"components/Button\";\r\nimport { DynamicInput } from \"components/FormInputs\";\r\nimport GridContainer from \"components/Grid/GridContainer\";\r\nimport GridItem from \"components/Grid/GridItem\";\r\nimport LazyImage from \"components/LazyImage\";\r\nimport Typography from \"components/Typography\";\r\nimport React from \"react\";\r\nimport { attachments as AttachmentsService } from \"services\";\r\nimport withRoot from \"hoc/withRoot\";\r\n\r\nclass ItemView extends React.Component {\r\n\tstate = {\r\n\t\titem: {},\r\n\t\toptions: {},\r\n\t\toptions_cost: 0,\r\n\t\tselected_image: null,\r\n\t\tloading: true,\r\n\t\tload_err: false,\r\n\t\tcanAddToCart: false,\r\n\t\tvariantsError: false,\r\n\t};\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tconst { item, options } = this.props;\r\n\t\tthis.state.item = item;\r\n\t\tthis.state.options = JSON.isJSON(options) ? options : {};\r\n\t\tthis.state.selected_image = item.featured_image\r\n\t\t\t? AttachmentsService.getAttachmentFileUrl(item.featured_image)\r\n\t\t\t: null;\r\n\t\tthis.handleOnItemAdd = this.handleOnItemAdd.bind(this);\r\n\t\tthis.handleOnImageSelect = this.handleOnImageSelect.bind(this);\r\n\t\tthis.handleOnVariantsChange = this.handleOnVariantsChange.bind(this);\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.calculateOptionsPrice();\r\n\t\tthis.canAddToCart();\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps, prevState, snapshot) {\r\n\t\tconst { item } = this.props;\r\n\t\tconst { item: prev_item } = prevProps;\r\n\r\n\t\tif (!Object.areEqual(item, prev_item)) {\r\n\t\t\tthis.setState({ item: item });\r\n\t\t}\r\n\t}\r\n\r\n\thandleOnItemAdd = event => {\r\n\t\tconst { onItemAdd } = this.props;\r\n\t\tconst { item, options, options_cost } = this.state;\r\n\t\tif (Function.isFunction(onItemAdd)) {\r\n\t\t\tonItemAdd({\r\n\t\t\t\titem: item,\r\n\t\t\t\toptions: options,\r\n\t\t\t\toptions_cost: options_cost,\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tcalculateOptionsPrice(options = false) {\r\n\t\tconst {\r\n\t\t\titem: { variants, cost },\r\n\t\t} = this.state;\r\n\t\tif (!JSON.isJSON(options)) {\r\n\t\t\toptions = this.state.options;\r\n\t\t}\r\n\t\tlet options_cost = 0;\r\n\t\tif (JSON.isJSON(variants)) {\r\n\t\t\tfor (let { name, ...variant } of Object.values(variants)) {\r\n\t\t\t\tif (options[name]) {\r\n\t\t\t\t\tif (variant.cost_effect_type == \"amount\") {\r\n\t\t\t\t\t\toptions_cost =\r\n\t\t\t\t\t\t\toptions_cost +\r\n\t\t\t\t\t\t\tNumber.parseNumber(variant.cost_effect, 0);\r\n\t\t\t\t\t} else if (variant.cost_effect_type == \"percentage\") {\r\n\t\t\t\t\t\tlet option_price =\r\n\t\t\t\t\t\t\t(Number.parseNumber(cost, 0) *\r\n\t\t\t\t\t\t\t\tNumber.parseNumber(variant.cost_effect, 0)) /\r\n\t\t\t\t\t\t\t100;\r\n\t\t\t\t\t\toptions_cost = options_cost + option_price;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.setState({ options_cost: options_cost });\r\n\t}\r\n\r\n\thandleOnVariantsChange = name => value => {\r\n\t\tlet options = {};\r\n\r\n\t\tif (JSON.isJSON(value)) {\r\n\t\t\tfor (let [name, value] of Object.entries(value)) {\r\n\t\t\t\toptions[name] = value;\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.calculateOptionsPrice(options);\r\n\t\tthis.canAddToCart(options);\r\n\t\tthis.setState({ options: options });\r\n\t};\r\n\r\n\thandleOnImageSelect = src => event => {\r\n\t\tthis.setState({ selected_image: src });\r\n\t};\r\n\r\n\tcanAddToCart(options = false) {\r\n\t\tconst {\r\n\t\t\titem: { variants },\r\n\t\t} = this.state;\r\n\t\tif (!JSON.isJSON(options)) {\r\n\t\t\toptions = this.state.options;\r\n\t\t}\r\n\t\tlet canAddToCart = true;\r\n\t\tlet variantsError = false;\r\n\t\tif (JSON.isJSON(variants)) {\r\n\t\t\tfor (let [name, variant] of Object.entries(variants)) {\r\n\t\t\t\tif (\r\n\t\t\t\t\tvariant.required &&\r\n\t\t\t\t\t(!(variant.name in options) || !options[variant.name])\r\n\t\t\t\t) {\r\n\t\t\t\t\tcanAddToCart = false;\r\n\t\t\t\t\tvariantsError = variant.label + \" is required \";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.setState({\r\n\t\t\tcanAddToCart: canAddToCart,\r\n\t\t\tvariantsError: variantsError,\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { item, options_cost } = this.state;\r\n\t\treturn (\r\n\t\t\t<GridContainer className=\"p-0 m-0\">\r\n\t\t\t\t<GridItem xs={12} md={4} className=\"p-0 m-0\">\r\n\t\t\t\t\t<GridContainer className=\"p-0 m-0\">\r\n\t\t\t\t\t\t<GridItem xs={12}>\r\n\t\t\t\t\t\t\t<Typography variant=\"h3\" gutterBottom>\r\n\t\t\t\t\t\t\t\t{item.name}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</GridItem>\r\n\r\n\t\t\t\t\t\t{item.cost > 0 && JSON.isJSON(item.currency) && (\r\n\t\t\t\t\t\t\t<GridItem xs={12}>\r\n\t\t\t\t\t\t\t\t<span className=\"text-2xl text-gray-500\">\r\n\t\t\t\t\t\t\t\t\t{item.currency.html_symbol}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t<span className=\"text-3xl text-gray-900\">\r\n\t\t\t\t\t\t\t\t\t{(item.cost > 0 ? item.cost : 0) +\r\n\t\t\t\t\t\t\t\t\t\toptions_cost}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</GridItem>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t<GridItem xs={12}>\r\n\t\t\t\t\t\t\t\t<span className=\"text-gray-500 mr-2\">\r\n\t\t\t\t\t\t\t\t\tVariants price:\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t<span className=\"text-gray-900\">\r\n\t\t\t\t\t\t\t\t\t{(JSON.isJSON(item.currency)\r\n\t\t\t\t\t\t\t\t\t\t? item.currency.html_symbol\r\n\t\t\t\t\t\t\t\t\t\t\t? item.currency.html_symbol\r\n\t\t\t\t\t\t\t\t\t\t\t: \"\"\r\n\t\t\t\t\t\t\t\t\t\t: \"\") +\r\n\t\t\t\t\t\t\t\t\t\t\" \" +\r\n\t\t\t\t\t\t\t\t\t\toptions_cost}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</GridItem>\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t<GridItem xs={12}>\r\n\t\t\t\t\t\t\t<Typography variant=\"body1\" gutterBottom>\r\n\t\t\t\t\t\t\t\t{item.description}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</GridItem>\r\n\r\n\t\t\t\t\t\t<GridItem xs={12}>\r\n\t\t\t\t\t\t\t{item.item_type === \"service\" && (\r\n\t\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\t\tclassName=\"m-1\"\r\n\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\tlabel={\"Service\"}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t{item.item_type === \"product\" && (\r\n\t\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\t\tclassName=\"m-1\"\r\n\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\tlabel={\"Product\"}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t{item.available && (\r\n\t\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\t\tclassName=\"m-1\"\r\n\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\tlabel={\"Available\"}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t{item.taxable && (\r\n\t\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\t\tclassName=\"m-1\"\r\n\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\tlabel={\"Taxable\"}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t{item.discountable && (\r\n\t\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\t\tclassName=\"mx-1\"\r\n\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\tlabel={\"Discountable\"}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t{Array.isArray(item.categories) && (\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t{\" \"}\r\n\t\t\t\t\t\t\t\t\t{item.categories.map((category, index) => (\r\n\t\t\t\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={category}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"m-1\"\r\n\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\t\tkey={\"category-\" + index}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t))}{\" \"}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t{Array.isArray(item.tags) && (\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t{\" \"}\r\n\t\t\t\t\t\t\t\t\t{item.tags.map((tag, index) => (\r\n\t\t\t\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={tag}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"m-1\"\r\n\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\t\tkey={\"tag-\" + index}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t))}{\" \"}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</GridItem>\r\n\t\t\t\t\t</GridContainer>\r\n\t\t\t\t</GridItem>\r\n\t\t\t\t<GridItem xs={12} md={8} className=\"p-0 m-0\">\r\n\t\t\t\t\t<GridContainer className=\"p-0 m-0 flex flex-col\">\r\n\t\t\t\t\t\t<div className=\"p-2 w-full flex-grow\">\r\n\t\t\t\t\t\t\t<LazyImage\r\n\t\t\t\t\t\t\t\tclassName=\"w-full h-auto\"\r\n\t\t\t\t\t\t\t\tsrc={\r\n\t\t\t\t\t\t\t\t\tthis.state.selected_image\r\n\t\t\t\t\t\t\t\t\t\t? this.state.selected_image\r\n\t\t\t\t\t\t\t\t\t\t: LogoChevron\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"p-2 w-full flex\">\r\n\t\t\t\t\t\t\t{Array.isArray(item.tags) && (\r\n\t\t\t\t\t\t\t\t<div className=\"w-full flex\">\r\n\t\t\t\t\t\t\t\t\t{\" \"}\r\n\t\t\t\t\t\t\t\t\t{item.images.map((image, index) => (\r\n\t\t\t\t\t\t\t\t\t\t<LazyImage\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"sm:w-1/4 md:w-16 mx-1 cursor-pointer hover:opacity-50\"\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={AttachmentsService.getAttachmentFileUrl(\r\n\t\t\t\t\t\t\t\t\t\t\t\timage\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={this.handleOnImageSelect(\r\n\t\t\t\t\t\t\t\t\t\t\t\tAttachmentsService.getAttachmentFileUrl(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\timage\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\tkey={\"item-image-\" + index}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t))}{\" \"}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</GridContainer>\r\n\t\t\t\t</GridItem>\r\n\r\n\t\t\t\t<GridContainer className=\"px-0 m-0\">\r\n\t\t\t\t\t{JSON.isJSON(item.variants) && JSON.isJSON(item.variants) && (\r\n\t\t\t\t\t\t<GridItem xs={12} className=\"px-0 m-0\">\r\n\t\t\t\t\t\t\t<DynamicInput\r\n\t\t\t\t\t\t\t\tlabel=\"Variants\"\r\n\t\t\t\t\t\t\t\tmode=\"generation\"\r\n\t\t\t\t\t\t\t\tname=\"variants\"\r\n\t\t\t\t\t\t\t\tblueprint={item.variants}\r\n\t\t\t\t\t\t\t\tvalue={this.state.options}\r\n\t\t\t\t\t\t\t\tonChange={this.handleOnVariantsChange(\r\n\t\t\t\t\t\t\t\t\t\"variants\"\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\terror={this.state.variantsError}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</GridItem>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t<GridItem xs={12} className=\"px-0 m-0\">\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\tonClick={this.handleOnItemAdd}\r\n\t\t\t\t\t\t\tdisabled={!this.state.canAddToCart}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{\" \"}\r\n\t\t\t\t\t\t\tAdd to cart{\" \"}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</GridItem>\r\n\t\t\t\t</GridContainer>\r\n\t\t\t</GridContainer>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRoot(ItemView);\r\n","/** @format */\r\n\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport BackIcon from \"@material-ui/icons/ArrowBack\";\r\nimport Check from \"@material-ui/icons/Check\";\r\nimport Button from \"components/Button\";\r\nimport GridContainer from \"components/Grid/GridContainer\";\r\nimport GridItem from \"components/Grid/GridItem\";\r\nimport React from \"react\";\r\nimport withRoot from \"hoc/withRoot\";\r\nimport GridView from \"./GridView\";\r\nimport ItemView from \"./ItemView\";\r\n\r\nclass Step extends React.Component {\r\n\tstate = {\r\n\t\tview: \"gridview\",\r\n\t\tprev_view: \"gridview\",\r\n\t\titems: [],\r\n\t\tcontext: null,\r\n\t\tparams: {},\r\n\t};\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tconst { context, view } = props;\r\n\t\tif (context) {\r\n\t\t\tthis.state.context = context;\r\n\t\t}\r\n\t\tif (view) {\r\n\t\t\tthis.state.view = view;\r\n\t\t}\r\n\t\tthis.handleOnItemSelect = this.handleOnItemSelect.bind(this);\r\n\t\tthis.handleOnItemAdd = this.handleOnItemAdd.bind(this);\r\n\t\tthis.handleOnBackClick = this.handleOnBackClick.bind(this);\r\n\t}\r\n\r\n\tcomponentDidMount() {}\r\n\r\n\tcomponentDidUpdate(prevProps, prevState, snapshot) {\r\n\t\tconst { context, view } = this.props;\r\n\t\tif (\r\n\t\t\t!Object.areEqual(this.state.context, context) ||\r\n\t\t\t!Object.areEqual(this.state.view, view)\r\n\t\t) {\r\n\t\t\tthis.setState({ view: view, context: context });\r\n\t\t}\r\n\t}\r\n\r\n\thandleOnItemSelect = (item, event) => {\r\n        const { onContextChange } = this.props;\r\n        this.setState(prevState => ({\r\n\t\t\tview: \"itemview\",\r\n\t\t\tcontext: item,\r\n\t\t\tprev_view: prevState.view,\r\n\t\t}));\r\n        if (Function.isFunction(onContextChange)) {\r\n\t\t\tonContextChange(item, \"itemview\");\r\n\t\t}\r\n    };\r\n\r\n\thandleOnItemAdd = selection => {\r\n\t\tconst { onAddToCart, onContextChange } = this.props;\r\n\t\tif (Function.isFunction(onAddToCart)) {\r\n\t\t\tonAddToCart(selection);\r\n\t\t}\r\n\t\tif (Function.isFunction(onContextChange)) {\r\n\t\t\tonContextChange(null, this.state.prev_view);\r\n\t\t}\r\n\t\tthis.setState(prevState => ({\r\n\t\t\tview: prevState.prev_view,\r\n\t\t\tprev_view: prevState.view,\r\n\t\t\tcontext: {},\r\n\t\t}));\r\n\t};\r\n\r\n\thandleOnBackClick = event => {\r\n\t\tconst { onContextChange } = this.props;\r\n\t\tif (Function.isFunction(onContextChange)) {\r\n\t\t\tonContextChange(null, this.state.prev_view);\r\n\t\t}\r\n\t\tthis.setState(prevState => ({\r\n\t\t\tview: prevState.prev_view,\r\n\t\t\tprev_view: prevState.view,\r\n\t\t}));\r\n\t};\r\n\r\n\thandleOnComplete() {\r\n\t\tconst { onComplete } = this.props;\r\n\t\tif (Function.isFunction(onComplete)) {\r\n\t\t\tlet completionData = this.state.items;\r\n\t\t\tonComplete(completionData);\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { onComplete, onCancel } = this.props;\r\n\t\treturn (\r\n\t\t\t<GridContainer className=\"p-0 m-0\">\r\n\t\t\t\t<GridContainer className=\"p-0 m-0\">\r\n\t\t\t\t\t{![\"gridview\"].includes(this.state.view) && (\r\n\t\t\t\t\t\t<GridItem xs={6} className=\"float-left\">\r\n\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\taria-label=\"back\"\r\n\t\t\t\t\t\t\t\tonClick={this.handleOnBackClick}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<BackIcon fontSize=\"inherit\" />\r\n\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t</GridItem>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</GridContainer>\r\n\t\t\t\t<GridContainer className=\"p-0 m-0\">\r\n\t\t\t\t\t{this.state.view === \"gridview\" && (\r\n\t\t\t\t\t\t<GridView\r\n\t\t\t\t\t\t\tonItemSelect={this.handleOnItemSelect}\r\n\t\t\t\t\t\t\tparams={this.state.params}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{this.state.view === \"itemview\" && (\r\n\t\t\t\t\t\t<ItemView\r\n\t\t\t\t\t\t\tonItemAdd={this.handleOnItemAdd}\r\n\t\t\t\t\t\t\titem={this.state.context}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</GridContainer>\r\n\t\t\t\t<GridContainer className=\"p-4\">\r\n\t\t\t\t\t{this.state.items.length > 0 && (\r\n\t\t\t\t\t\t<GridItem xs={12} md={6} className=\"flex justify-start\">\r\n\t\t\t\t\t\t\t<Button onClick={onComplete} color=\"primary\" round>\r\n\t\t\t\t\t\t\t\t<Check /> Proceed{\" \"}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</GridItem>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<GridItem\r\n\t\t\t\t\t\txs={12}\r\n\t\t\t\t\t\tmd={this.state.items.length > 0 ? 6 : 12}\r\n\t\t\t\t\t\tclassName=\"flex justify-end\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Button onClick={onCancel} color=\"inverse\" round>\r\n\t\t\t\t\t\t\t{\" \"}\r\n\t\t\t\t\t\t\tBack{\" \"}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</GridItem>\r\n\t\t\t\t</GridContainer>\r\n\t\t\t</GridContainer>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRoot(Step);\r\n"],"sourceRoot":""}