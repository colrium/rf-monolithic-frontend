{"version":3,"sources":["assets/img/realfield/logo-chevron.svg","views/widgets/Ecommerce/Item/index.jsx","views/widgets/Ecommerce/Catalog/GridView/index.jsx","views/widgets/Ecommerce/Catalog/index.jsx","views/pages/LandingPage/Catalog/index.jsx"],"names":["module","exports","Widget","props","state","item","options","options_cost","selected_image","loading","canAddToCart","variantsError","handleOnItemAdd","event","onItemAdd","addToCart","Function","isFunction","handleOnVariantsChange","name","value","JSON","isJSON","Object","entries","calculateOptionsPrice","setState","handleOnImageSelect","src","featured_image","ApiService","getAttachmentFileUrl","bind","this","prevProps","mounted","areEqual","applyChanges","prevState","snapshot","newState","updateJSON","variants","cost","values","variant","cost_effect_type","Number","parseNumber","cost_effect","option_price","required","label","className","xs","md","width","height","gutterBottom","currency","html_symbol","description","item_type","size","available","taxable","discountable","Array","isArray","categories","map","category","index","key","tags","tag","LogoChevron","onClick","images","image","mode","blueprint","onChange","error","validate","color","disabled","React","Component","withErrorHandler","connect","auth","cart","ecommerce","GridView","retailitems","load_err","handleOnItemSelect","onItemSelect","params","p","loadItems","updatedParams","get","then","res","body","data","err","GridContainer","GridItem","lg","Skeleton","retailitem","cursor","_id","LazyImage","Button","view","prev_view","items","context","onContextChange","selection","handleOnBackClick","includes","IconButton","aria-label","fontSize","Item","order_progress","removeFromCart","closeDialog","openDialog","Page","document","title","app","classes","style","minHeight","sm","Catalog"],"mappings":"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","file":"static/js/13.b232703b.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo-chevron.cc0777ae.svg\";","/** @format */\r\n\r\nimport Chip from \"@material-ui/core/Chip\";\r\nimport Skeleton from \"@material-ui/lab/Skeleton\";\r\nimport LogoChevron from \"assets/img/realfield/logo-chevron.svg\";\r\nimport Button from \"components/Button\";\r\nimport { DynamicInput } from \"components/FormInputs\";\r\nimport GridContainer from \"components/Grid/GridContainer\";\r\nimport GridItem from \"components/Grid/GridItem\";\r\nimport LazyImage from \"components/LazyImage\";\r\nimport Typography from \"components/Typography\";\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport ApiService from \"services/Api\";\r\nimport { addToCart } from \"state/actions\";\r\nimport { withErrorHandler } from \"hoc/ErrorHandler\";\r\n\r\nclass Widget extends React.Component {\r\n\tstate = {\r\n\t\titem: {},\r\n\t\toptions: {},\r\n\t\toptions_cost: 0,\r\n\t\tselected_image: null,\r\n\t\tloading: false,\r\n\t\tcanAddToCart: false,\r\n\t\tvariantsError: false,\r\n\t};\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tconst { item, options, loading } = this.props;\r\n\t\tthis.state.item = item;\r\n\t\tthis.state.loading = loading ? true : false;\r\n\t\tthis.state.options = JSON.isJSON(options) ? options : {};\r\n\t\tthis.state.selected_image = JSON.isJSON(item)\r\n\t\t\t? item.featured_image\r\n\t\t\t\t? ApiService.getAttachmentFileUrl(item.featured_image)\r\n\t\t\t\t: null\r\n\t\t\t: null;\r\n\t\tthis.handleOnItemAdd = this.handleOnItemAdd.bind(this);\r\n\t\tthis.handleOnImageSelect = this.handleOnImageSelect.bind(this);\r\n\t\tthis.handleOnVariantsChange = this.handleOnVariantsChange.bind(this);\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst { item, options, loading } = this.state;\r\n\t\tif (JSON.isJSON(item)) {\r\n\t\t\tthis.calculateOptionsPrice();\r\n\t\t\tthis.canAddToCart();\r\n\t\t}\r\n\t}\r\n\r\n\tgetSnapshotBeforeUpdate(prevProps) {\r\n\t\tthis.mounted = false;\r\n\t\tif (!Object.areEqual(prevProps, this.props)) {\r\n\t\t\treturn {\r\n\t\t\t\tapplyChanges: true,\r\n\t\t\t};\r\n\t\t}\r\n\t\treturn {\r\n\t\t\tapplyChanges: false,\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps, prevState, snapshot) {\r\n\t\tif (snapshot.applyChanges) {\r\n            let newState = JSON.updateJSON(this.state, this.props);\r\n            this.setState(newState);\r\n            this.calculateOptionsPrice();\r\n            this.canAddToCart();\r\n        }\r\n\t}\r\n\r\n\thandleOnItemAdd = event => {\r\n\t\tconst { onItemAdd, addToCart } = this.props;\r\n\t\tconst { item, options, options_cost } = this.state;\r\n\t\tif (Function.isFunction(onItemAdd)) {\r\n\t\t\tonItemAdd({\r\n\t\t\t\titem: item,\r\n\t\t\t\toptions: options,\r\n\t\t\t\toptions_cost: options_cost,\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tcalculateOptionsPrice(options = false) {\r\n\t\tconst { item } = this.state;\r\n\t\tif (JSON.isJSON(item)) {\r\n\t\t\tconst { variants, cost } = item;\r\n\t\t\tif (!JSON.isJSON(options)) {\r\n\t\t\t\toptions = this.state.options;\r\n\t\t\t}\r\n\t\t\tlet options_cost = 0;\r\n\t\t\tif (JSON.isJSON(variants)) {\r\n\t\t\t\tfor (let { name, ...variant } of Object.values(variants)) {\r\n\t\t\t\t\tif (options[name]) {\r\n\t\t\t\t\t\tif (variant.cost_effect_type == \"amount\") {\r\n\t\t\t\t\t\t\toptions_cost =\r\n\t\t\t\t\t\t\t\toptions_cost +\r\n\t\t\t\t\t\t\t\tNumber.parseNumber(variant.cost_effect, 0);\r\n\t\t\t\t\t\t} else if (variant.cost_effect_type == \"percentage\") {\r\n\t\t\t\t\t\t\tlet option_price =\r\n\t\t\t\t\t\t\t\t(Number.parseNumber(cost, 0) *\r\n\t\t\t\t\t\t\t\t\tNumber.parseNumber(\r\n\t\t\t\t\t\t\t\t\t\tvariant.cost_effect,\r\n\t\t\t\t\t\t\t\t\t\t0\r\n\t\t\t\t\t\t\t\t\t)) /\r\n\t\t\t\t\t\t\t\t100;\r\n\t\t\t\t\t\t\toptions_cost = options_cost + option_price;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.setState({ options_cost: options_cost });\r\n\t\t}\r\n\t}\r\n\r\n\thandleOnVariantsChange = name => value => {\r\n\t\tlet options = {};\r\n\r\n\t\tif (JSON.isJSON(value)) {\r\n\t\t\tfor (let [name, value] of Object.entries(value)) {\r\n\t\t\t\toptions[name] = value;\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.calculateOptionsPrice(options);\r\n\t\tthis.canAddToCart(options);\r\n\t\tthis.setState({ options: options });\r\n\t};\r\n\r\n\thandleOnImageSelect = src => event => {\r\n\t\tthis.setState({ selected_image: src });\r\n\t};\r\n\r\n\tcanAddToCart(options = false) {\r\n\t\tconst { item } = this.state;\r\n\t\tif (JSON.isJSON(item)) {\r\n\t\t\tconst { variants } = item;\r\n\t\t\tif (!JSON.isJSON(options)) {\r\n\t\t\t\toptions = this.state.options;\r\n\t\t\t}\r\n\t\t\tlet canAddToCart = true;\r\n\t\t\tlet variantsError = false;\r\n\t\t\tif (JSON.isJSON(variants)) {\r\n\t\t\t\tfor (let [name, variant] of Object.entries(variants)) {\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\tvariant.required &&\r\n\t\t\t\t\t\t(!(variant.name in options) || !options[variant.name])\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tcanAddToCart = false;\r\n\t\t\t\t\t\tvariantsError = variant.label + \" is required \";\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis.setState({\r\n\t\t\t\tcanAddToCart: canAddToCart,\r\n\t\t\t\tvariantsError: variantsError,\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { item, options_cost, loading } = this.state;\r\n\t\tif (loading) {\r\n\t\t\treturn (\r\n\t\t\t\t<GridContainer className=\"p-0 m-0\">\r\n\t\t\t\t\t<GridContainer>\r\n\t\t\t\t\t\t<GridItem xs={12} md={4} className=\"p-0 m-0\">\r\n\t\t\t\t\t\t\t<GridContainer className=\"p-0 m-0\">\r\n\t\t\t\t\t\t\t\t<GridItem xs={12}>\r\n\t\t\t\t\t\t\t\t\t<Skeleton\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"rect\"\r\n\t\t\t\t\t\t\t\t\t\twidth={\"90%\"}\r\n\t\t\t\t\t\t\t\t\t\theight={28}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</GridItem>\r\n\r\n\t\t\t\t\t\t\t\t<GridItem xs={12}>\r\n\t\t\t\t\t\t\t\t\t<Skeleton\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"rect\"\r\n\t\t\t\t\t\t\t\t\t\twidth={\"30%\"}\r\n\t\t\t\t\t\t\t\t\t\theight={37}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</GridItem>\r\n\r\n\t\t\t\t\t\t\t\t<GridItem xs={12}>\r\n\t\t\t\t\t\t\t\t\t<Skeleton\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"text\"\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"mb-1\"\r\n\t\t\t\t\t\t\t\t\t\twidth=\"80%\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<Skeleton\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"text\"\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"mb-1\"\r\n\t\t\t\t\t\t\t\t\t\twidth=\"80%\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<Skeleton\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"text\"\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"mb-1\"\r\n\t\t\t\t\t\t\t\t\t\twidth=\"70%\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<Skeleton\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"text\"\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"mb-1\"\r\n\t\t\t\t\t\t\t\t\t\twidth=\"30%\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</GridItem>\r\n\r\n\t\t\t\t\t\t\t\t<GridItem xs={12} className=\"flex\">\r\n\t\t\t\t\t\t\t\t\t<Skeleton\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"rect\"\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"m-1 w-16 h-8 rounded-full\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<Skeleton\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"rect\"\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"m-1 w-16 h-8 rounded-full\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<Skeleton\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"rect\"\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"m-1 w-16 h-8 rounded-full\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</GridItem>\r\n\t\t\t\t\t\t\t</GridContainer>\r\n\t\t\t\t\t\t</GridItem>\r\n\t\t\t\t\t\t<GridItem xs={12} md={8} className=\"p-0 m-0\">\r\n\t\t\t\t\t\t\t<GridContainer className=\"p-0 m-0 flex flex-col\">\r\n\t\t\t\t\t\t\t\t<Skeleton\r\n\t\t\t\t\t\t\t\t\tvariant=\"rect\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"w-full\"\r\n\t\t\t\t\t\t\t\t\theight={400}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<div className=\"p-2 w-full flex\">\r\n\t\t\t\t\t\t\t\t\t<Skeleton\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"rect\"\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"sm:w-1/4 md:w-16 mx-1\"\r\n\t\t\t\t\t\t\t\t\t\twidth={74}\r\n\t\t\t\t\t\t\t\t\t\theight={64}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<Skeleton\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"rect\"\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"sm:w-1/4 md:w-16 mx-1\"\r\n\t\t\t\t\t\t\t\t\t\twidth={74}\r\n\t\t\t\t\t\t\t\t\t\theight={64}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<Skeleton\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"rect\"\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"sm:w-1/4 md:w-16 mx-1\"\r\n\t\t\t\t\t\t\t\t\t\twidth={74}\r\n\t\t\t\t\t\t\t\t\t\theight={64}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</GridContainer>\r\n\t\t\t\t\t\t</GridItem>\r\n\t\t\t\t\t</GridContainer>\r\n\r\n\t\t\t\t\t<GridContainer>\r\n\t\t\t\t\t\t<GridItem xs={12} className=\"px-0 m-0\">\r\n\t\t\t\t\t\t\t<Skeleton\r\n\t\t\t\t\t\t\t\tvariant=\"rect\"\r\n\t\t\t\t\t\t\t\tclassName=\"w-24 rounded\"\r\n\t\t\t\t\t\t\t\theight={34}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</GridItem>\r\n\t\t\t\t\t</GridContainer>\r\n\t\t\t\t</GridContainer>\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\treturn (\r\n\t\t\t\t<GridContainer className=\"p-0 m-0\">\r\n\t\t\t\t\t<GridItem xs={12} md={4} className=\"p-0 m-0\">\r\n\t\t\t\t\t\t<GridContainer className=\"p-0 m-0\">\r\n\t\t\t\t\t\t\t<GridItem xs={12}>\r\n\t\t\t\t\t\t\t\t<Typography variant=\"h3\" gutterBottom>\r\n\t\t\t\t\t\t\t\t\t{item.name}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</GridItem>\r\n\r\n\t\t\t\t\t\t\t{item.cost > 0 && JSON.isJSON(item.currency) && (\r\n\t\t\t\t\t\t\t\t<GridItem xs={12}>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-2xl text-gray-500\">\r\n\t\t\t\t\t\t\t\t\t\t{item.currency.html_symbol}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-3xl text-gray-900\">\r\n\t\t\t\t\t\t\t\t\t\t{(item.cost > 0 ? item.cost : 0) +\r\n\t\t\t\t\t\t\t\t\t\t\toptions_cost}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</GridItem>\r\n\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t<GridItem xs={12}>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-gray-500 mr-2\">\r\n\t\t\t\t\t\t\t\t\t\tVariants price:\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-gray-900\">\r\n\t\t\t\t\t\t\t\t\t\t{(JSON.isJSON(item.currency)\r\n\t\t\t\t\t\t\t\t\t\t\t? item.currency.html_symbol\r\n\t\t\t\t\t\t\t\t\t\t\t\t? item.currency.html_symbol\r\n\t\t\t\t\t\t\t\t\t\t\t\t: \"\"\r\n\t\t\t\t\t\t\t\t\t\t\t: \"\") +\r\n\t\t\t\t\t\t\t\t\t\t\t\" \" +\r\n\t\t\t\t\t\t\t\t\t\t\toptions_cost}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</GridItem>\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t<GridItem xs={12}>\r\n\t\t\t\t\t\t\t\t<Typography variant=\"body1\" gutterBottom>\r\n\t\t\t\t\t\t\t\t\t{item.description}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</GridItem>\r\n\r\n\t\t\t\t\t\t\t<GridItem xs={12}>\r\n\t\t\t\t\t\t\t\t{item.item_type === \"service\" && (\r\n\t\t\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"m-1\"\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\tlabel={\"Service\"}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t{item.item_type === \"product\" && (\r\n\t\t\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"m-1\"\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\tlabel={\"Product\"}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t{item.available && (\r\n\t\t\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"m-1\"\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\tlabel={\"Available\"}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t{item.taxable && (\r\n\t\t\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"m-1\"\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\tlabel={\"Taxable\"}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t{item.discountable && (\r\n\t\t\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"mx-1\"\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\tlabel={\"Discountable\"}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t\t{Array.isArray(item.categories) && (\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t{item.categories.map(\r\n\t\t\t\t\t\t\t\t\t\t\t(category, index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={category}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"m-1\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={\"category-\" + index}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t)}{\" \"}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t{Array.isArray(item.tags) && (\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t{item.tags.map((tag, index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel={tag}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"m-1\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey={\"tag-\" + index}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t))}{\" \"}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</GridItem>\r\n\t\t\t\t\t\t</GridContainer>\r\n\t\t\t\t\t</GridItem>\r\n\t\t\t\t\t<GridItem xs={12} md={8} className=\"p-0 m-0\">\r\n\t\t\t\t\t\t<GridContainer className=\"p-0 m-0 flex flex-col\">\r\n\t\t\t\t\t\t\t<div className=\"p-2 w-full flex-grow\">\r\n\t\t\t\t\t\t\t\t<LazyImage\r\n\t\t\t\t\t\t\t\t\tclassName=\"w-full h-auto\"\r\n\t\t\t\t\t\t\t\t\tsrc={\r\n\t\t\t\t\t\t\t\t\t\tthis.state.selected_image\r\n\t\t\t\t\t\t\t\t\t\t\t? this.state.selected_image\r\n\t\t\t\t\t\t\t\t\t\t\t: LogoChevron\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"p-2 w-full flex\">\r\n\t\t\t\t\t\t\t\t{item.featured_image && (\r\n\t\t\t\t\t\t\t\t\t<LazyImage\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"sm:w-1/4 md:w-16 mx-1 cursor-pointer hover:opacity-50\"\r\n\t\t\t\t\t\t\t\t\t\tsrc={ApiService.getAttachmentFileUrl(\r\n\t\t\t\t\t\t\t\t\t\t\titem.featured_image\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\tonClick={this.handleOnImageSelect(\r\n\t\t\t\t\t\t\t\t\t\t\tApiService.getAttachmentFileUrl(\r\n\t\t\t\t\t\t\t\t\t\t\t\titem.featured_image\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t\t{item.images.map((image, index) => (\r\n\t\t\t\t\t\t\t\t\t<LazyImage\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"sm:w-1/4 md:w-16 mx-1 cursor-pointer hover:opacity-50\"\r\n\t\t\t\t\t\t\t\t\t\tsrc={ApiService.getAttachmentFileUrl(\r\n\t\t\t\t\t\t\t\t\t\t\timage\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\tonClick={this.handleOnImageSelect(\r\n\t\t\t\t\t\t\t\t\t\t\tApiService.getAttachmentFileUrl(\r\n\t\t\t\t\t\t\t\t\t\t\t\timage\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\tkey={\"item-image-\" + index}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</GridContainer>\r\n\t\t\t\t\t</GridItem>\r\n\r\n\t\t\t\t\t<GridContainer className=\"px-0 m-0\">\r\n\t\t\t\t\t\t{JSON.isJSON(item.variants) &&\r\n\t\t\t\t\t\t\tJSON.isJSON(item.variants) && (\r\n\t\t\t\t\t\t\t\t<GridItem xs={12} className=\"px-0 m-0\">\r\n\t\t\t\t\t\t\t\t\t<DynamicInput\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"Variants\"\r\n\t\t\t\t\t\t\t\t\t\tmode=\"generation\"\r\n\t\t\t\t\t\t\t\t\t\tname=\"variants\"\r\n\t\t\t\t\t\t\t\t\t\tblueprint={item.variants}\r\n\t\t\t\t\t\t\t\t\t\tvalue={this.state.options}\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.handleOnVariantsChange(\r\n\t\t\t\t\t\t\t\t\t\t\t\"variants\"\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\terror={this.state.variantsError}\r\n\t\t\t\t\t\t\t\t\t\tvalidate\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</GridItem>\r\n\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t<GridItem xs={12} className=\"px-0 m-0\">\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\tonClick={this.handleOnItemAdd}\r\n\t\t\t\t\t\t\t\tdisabled={!this.state.canAddToCart}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{\" \"}\r\n\t\t\t\t\t\t\t\tAdd to Cart{\" \"}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</GridItem>\r\n\t\t\t\t\t</GridContainer>\r\n\t\t\t\t</GridContainer>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n\tauth: state.auth,\r\n\tcart: state.ecommerce.cart,\r\n});\r\n\r\nexport default withErrorHandler(connect(mapStateToProps, { addToCart })(Widget));\r\n","/** @format */\r\n\r\nimport Skeleton from \"@material-ui/lab/Skeleton\";\r\nimport LogoChevron from \"assets/img/realfield/logo-chevron.svg\";\r\nimport Button from \"components/Button\";\r\nimport GridContainer from \"components/Grid/GridContainer\";\r\nimport GridItem from \"components/Grid/GridItem\";\r\nimport LazyImage from \"components/LazyImage\";\r\nimport React from \"react\";\r\nimport ApiService from \"services/Api\";\r\n\r\nimport { withErrorHandler } from \"hoc/ErrorHandler\";\r\n\r\nclass GridView extends React.Component {\r\n\tstate = {\r\n\t\tretailitems: [],\r\n\t\tloading: true,\r\n\t\tload_err: false,\r\n\t};\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tconst { params } = this.props;\r\n\t\tthis.state.params = { p: 1 };\r\n\t\tif (JSON.isJSON(params)) {\r\n\t\t\tthis.state.params = { ...params, p: 1 };\r\n\t\t}\r\n\t\tthis.handleOnItemSelect = this.handleOnItemSelect.bind(this);\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.loadItems();\r\n\t}\r\n\tcomponentDidUpdate(prevProps, prevState, snapshot) {\r\n\t\tconst { params } = this.props;\r\n\t\tlet updatedParams = { p: 1 };\r\n\t\tif (JSON.isJSON(params)) {\r\n\t\t\tupdatedParams = { ...params, p: 1 };\r\n\t\t\tif (!Object.areEqual(this.state.params, updatedParams)) {\r\n\t\t\t\tthis.setState({ params: params }, () => {\r\n\t\t\t\t\tthis.loadItems();\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tloadItems() {\r\n\t\tconst params = this.state.params;\r\n\t\tthis.setState(prevState => ({ loading: true, load_err: null }));\r\n\t\tApiService.get(\"retail/items\", params)\r\n\t\t\t.then(res => {\r\n\t\t\t\tthis.setState(prevState => ({\r\n\t\t\t\t\tretailitems: res.body.data,\r\n\t\t\t\t\tloading: false,\r\n\t\t\t\t\tload_err: null,\r\n\t\t\t\t}));\r\n\t\t\t})\r\n\t\t\t.catch(err => {\r\n\t\t\t\tthis.setState(prevState => ({\r\n\t\t\t\t\tretailitems: [],\r\n\t\t\t\t\tloading: false,\r\n\t\t\t\t\tload_err: err,\r\n\t\t\t\t}));\r\n\t\t\t});\r\n\t}\r\n\r\n\thandleOnItemSelect = item => event => {\r\n\t\tconst { onItemSelect } = this.props;\r\n\t\tif (Function.isFunction(onItemSelect)) {\r\n\t\t\tonItemSelect(item, event);\r\n\t\t}\r\n\t};\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<GridContainer className=\"p-0 m-0\">\r\n\t\t\t\t{this.state.loading && (\r\n\t\t\t\t\t<GridContainer className=\"flex-10\">\r\n\t\t\t\t\t\t<GridItem xs={12} md={4} lg={3}>\r\n\t\t\t\t\t\t\t<div className=\"bg-white shadow-xl rounded-lg flex flex-col overflow-hidden\">\r\n\t\t\t\t\t\t\t\t<Skeleton\r\n\t\t\t\t\t\t\t\t\tvariant=\"rect\"\r\n\t\t\t\t\t\t\t\t\twidth={\"100%\"}\r\n\t\t\t\t\t\t\t\t\theight={224}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Skeleton\r\n\t\t\t\t\t\t\t\t\tvariant=\"text\"\r\n\t\t\t\t\t\t\t\t\twidth={\"95%\"}\r\n\t\t\t\t\t\t\t\t\tclassName=\"mt-2 mx-auto\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Skeleton\r\n\t\t\t\t\t\t\t\t\tvariant=\"rect\"\r\n\t\t\t\t\t\t\t\t\twidth={\"30%\"}\r\n\t\t\t\t\t\t\t\t\theight={50}\r\n\t\t\t\t\t\t\t\t\tclassName=\"mt-2 ml-4\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Skeleton\r\n\t\t\t\t\t\t\t\t\tvariant=\"text\"\r\n\t\t\t\t\t\t\t\t\twidth={\"95%\"}\r\n\t\t\t\t\t\t\t\t\tclassName=\"mt-2 mx-auto\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Skeleton\r\n\t\t\t\t\t\t\t\t\tvariant=\"text\"\r\n\t\t\t\t\t\t\t\t\twidth={\"95%\"}\r\n\t\t\t\t\t\t\t\t\tclassName=\"mt-6 mx-auto\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Skeleton\r\n\t\t\t\t\t\t\t\t\tvariant=\"rect\"\r\n\t\t\t\t\t\t\t\t\twidth={\"80%\"}\r\n\t\t\t\t\t\t\t\t\theight={34}\r\n\t\t\t\t\t\t\t\t\tclassName=\"mt-8 mb-6 mx-auto rounded\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</GridItem>\r\n\t\t\t\t\t\t<GridItem xs={12} md={4} lg={3}>\r\n\t\t\t\t\t\t\t<div className=\"bg-white shadow-xl rounded-lg flex flex-col overflow-hidden\">\r\n\t\t\t\t\t\t\t\t<Skeleton\r\n\t\t\t\t\t\t\t\t\tvariant=\"rect\"\r\n\t\t\t\t\t\t\t\t\twidth={\"100%\"}\r\n\t\t\t\t\t\t\t\t\theight={224}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Skeleton\r\n\t\t\t\t\t\t\t\t\tvariant=\"text\"\r\n\t\t\t\t\t\t\t\t\twidth={\"95%\"}\r\n\t\t\t\t\t\t\t\t\tclassName=\"mt-2 mx-auto\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Skeleton\r\n\t\t\t\t\t\t\t\t\tvariant=\"rect\"\r\n\t\t\t\t\t\t\t\t\twidth={\"30%\"}\r\n\t\t\t\t\t\t\t\t\theight={50}\r\n\t\t\t\t\t\t\t\t\tclassName=\"mt-2 ml-4\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Skeleton\r\n\t\t\t\t\t\t\t\t\tvariant=\"text\"\r\n\t\t\t\t\t\t\t\t\twidth={\"95%\"}\r\n\t\t\t\t\t\t\t\t\tclassName=\"mt-2 mx-auto\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Skeleton\r\n\t\t\t\t\t\t\t\t\tvariant=\"text\"\r\n\t\t\t\t\t\t\t\t\twidth={\"95%\"}\r\n\t\t\t\t\t\t\t\t\tclassName=\"mt-6 mx-auto\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Skeleton\r\n\t\t\t\t\t\t\t\t\tvariant=\"rect\"\r\n\t\t\t\t\t\t\t\t\twidth={\"80%\"}\r\n\t\t\t\t\t\t\t\t\theight={34}\r\n\t\t\t\t\t\t\t\t\tclassName=\"mt-8 mb-6 mx-auto rounded\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</GridItem>\r\n\t\t\t\t\t\t<GridItem xs={12} md={4} lg={3}>\r\n\t\t\t\t\t\t\t<div className=\"bg-white shadow-xl rounded-lg flex flex-col overflow-hidden\">\r\n\t\t\t\t\t\t\t\t<Skeleton\r\n\t\t\t\t\t\t\t\t\tvariant=\"rect\"\r\n\t\t\t\t\t\t\t\t\twidth={\"100%\"}\r\n\t\t\t\t\t\t\t\t\theight={224}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Skeleton\r\n\t\t\t\t\t\t\t\t\tvariant=\"text\"\r\n\t\t\t\t\t\t\t\t\twidth={\"95%\"}\r\n\t\t\t\t\t\t\t\t\tclassName=\"mt-2 mx-auto\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Skeleton\r\n\t\t\t\t\t\t\t\t\tvariant=\"rect\"\r\n\t\t\t\t\t\t\t\t\twidth={\"30%\"}\r\n\t\t\t\t\t\t\t\t\theight={50}\r\n\t\t\t\t\t\t\t\t\tclassName=\"mt-2 ml-4\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Skeleton\r\n\t\t\t\t\t\t\t\t\tvariant=\"text\"\r\n\t\t\t\t\t\t\t\t\twidth={\"95%\"}\r\n\t\t\t\t\t\t\t\t\tclassName=\"mt-2 mx-auto\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Skeleton\r\n\t\t\t\t\t\t\t\t\tvariant=\"text\"\r\n\t\t\t\t\t\t\t\t\twidth={\"95%\"}\r\n\t\t\t\t\t\t\t\t\tclassName=\"mt-6 mx-auto\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Skeleton\r\n\t\t\t\t\t\t\t\t\tvariant=\"rect\"\r\n\t\t\t\t\t\t\t\t\twidth={\"80%\"}\r\n\t\t\t\t\t\t\t\t\theight={34}\r\n\t\t\t\t\t\t\t\t\tclassName=\"mt-8 mb-6 mx-auto rounded\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</GridItem>\r\n\t\t\t\t\t</GridContainer>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{!this.state.loading && Array.isArray(this.state.retailitems) && (\r\n\t\t\t\t\t<GridContainer className=\"p-4 m-0\">\r\n\t\t\t\t\t\t{this.state.retailitems.map(\r\n\t\t\t\t\t\t\t(retailitem, cursor) =>\r\n\t\t\t\t\t\t\t\tretailitem.available && (\r\n\t\t\t\t\t\t\t\t\t<GridItem\r\n\t\t\t\t\t\t\t\t\t\txs={12}\r\n\t\t\t\t\t\t\t\t\t\txs={12}\r\n\t\t\t\t\t\t\t\t\t\tmd={4}\r\n\t\t\t\t\t\t\t\t\t\tlg={3}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"flex flex-col\"\r\n\t\t\t\t\t\t\t\t\t\tkey={retailitem._id}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"bg-white shadow-xl rounded-lg overflow-hidden\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"bg-cover bg-center h-56 p-0\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<LazyImage\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-full h-full\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tretailitem.featured_image\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? ApiService.getAttachmentFileUrl(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tretailitem.featured_image\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  )\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: LogoChevron\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"p-4\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"uppercase truncate tracking-wide text-sm  text-gray-900\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{retailitem.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{retailitem.cost > 0 &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tJSON.isJSON(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tretailitem.currency\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-3xl text-gray-900 my-4\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{retailitem.currency\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.html_symbol +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\" \" +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tretailitem.cost}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"truncate tracking-wide text-sm  text-gray-500\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{retailitem.description\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? retailitem.description\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"No description available\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex p-4 border-t border-gray-300 text-gray-700\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex-1 inline-flex items-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\" text-gray-900 font-bold\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tType\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex-1 inline-flex items-left\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"capitalize\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{retailitem.item_type}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"px-4 pt-3 pb-4 border-t border-gray-300 bg-gray-100\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-full\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={this.handleOnItemSelect(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tretailitem\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tView\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</GridItem>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</GridContainer>\r\n\t\t\t\t)}\r\n\t\t\t</GridContainer>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withErrorHandler(GridView);\r\n","/** @format */\r\n\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport BackIcon from \"@material-ui/icons/ArrowBack\";\r\nimport GridContainer from \"components/Grid/GridContainer\";\r\nimport GridItem from \"components/Grid/GridItem\";\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { addToCart, closeDialog, openDialog, removeFromCart } from \"state/actions\";\r\nimport { withErrorHandler } from \"hoc/ErrorHandler\";\r\nimport ItemView from \"views/widgets/Ecommerce/Item\";\r\nimport GridView from \"./GridView\";\r\n\r\nclass Widget extends React.Component {\r\n\tstate = {\r\n\t\tview: \"gridview\",\r\n\t\tprev_view: \"gridview\",\r\n\t\titems: [],\r\n\t\tcontext: null,\r\n\t\tparams: {},\r\n\t};\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tconst { context, view } = props;\r\n\t\tif (context) {\r\n\t\t\tthis.state.context = context;\r\n\t\t}\r\n\t\tif (view) {\r\n\t\t\tthis.state.view = view;\r\n\t\t}\r\n\t\tthis.handleOnItemSelect = this.handleOnItemSelect.bind(this);\r\n\t\tthis.handleOnItemAdd = this.handleOnItemAdd.bind(this);\r\n\t\tthis.handleOnBackClick = this.handleOnBackClick.bind(this);\r\n\t}\r\n\r\n\tcomponentDidMount() {}\r\n\r\n\tcomponentDidUpdate(prevProps, prevState, snapshot) {\r\n\t\tconst { context, view } = this.props;\r\n\t\tif (\r\n\t\t\t!Object.areEqual(this.state.context, context) ||\r\n\t\t\t!Object.areEqual(this.state.view, view)\r\n\t\t) {\r\n\t\t\tthis.setState({ view: view, context: context });\r\n\t\t}\r\n\t}\r\n\r\n\thandleOnItemSelect = (item, event) => {\r\n\t\tconst { onContextChange } = this.props;\r\n\t\tthis.setState(prevState => ({\r\n\t\t\tview: \"itemview\",\r\n\t\t\tcontext: item,\r\n\t\t\tprev_view: prevState.view,\r\n\t\t}));\r\n\t};\r\n\r\n\thandleOnItemAdd = selection => {\r\n\t\tconst { addToCart } = this.props;\r\n\t\tif (Function.isFunction(addToCart)) {\r\n\t\t\taddToCart(selection);\r\n\t\t}\r\n\t\tthis.setState(prevState => ({\r\n\t\t\tview: prevState.prev_view,\r\n\t\t\tprev_view: prevState.view,\r\n\t\t\tcontext: {},\r\n\t\t}));\r\n\t};\r\n\r\n\thandleOnBackClick = event => {\r\n\t\tthis.setState(prevState => ({\r\n\t\t\tview: prevState.prev_view,\r\n\t\t\tprev_view: prevState.view,\r\n\t\t}));\r\n\t};\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<GridContainer className=\"p-0 m-0\">\r\n\t\t\t\t<GridContainer className=\"p-0 m-0\">\r\n\t\t\t\t\t{![\"gridview\"].includes(this.state.view) && (\r\n\t\t\t\t\t\t<GridItem xs={6} className=\"float-left\">\r\n\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\taria-label=\"back\"\r\n\t\t\t\t\t\t\t\tonClick={this.handleOnBackClick}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<BackIcon fontSize=\"inherit\" />\r\n\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t</GridItem>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</GridContainer>\r\n\t\t\t\t<GridContainer className=\"p-0 m-0\">\r\n\t\t\t\t\t{this.state.view === \"gridview\" && (\r\n\t\t\t\t\t\t<GridView\r\n\t\t\t\t\t\t\tonItemSelect={this.handleOnItemSelect}\r\n\t\t\t\t\t\t\tparams={this.state.params}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{this.state.view === \"itemview\" && (\r\n\t\t\t\t\t\t<ItemView\r\n\t\t\t\t\t\t\tonItemAdd={this.handleOnItemAdd}\r\n\t\t\t\t\t\t\titem={this.state.context}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</GridContainer>\r\n\t\t\t</GridContainer>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n\tauth: state.auth,\r\n\torder_progress: state.ecommerce.order_progress,\r\n});\r\n\r\nexport default withErrorHandler(\r\n\tconnect(mapStateToProps, {\r\n\t\taddToCart,\r\n\t\tremoveFromCart,\r\n\t\tcloseDialog,\r\n\t\topenDialog,\r\n\t})(Widget)\r\n);\r\n","/** @format */\r\n\r\nimport { app } from \"assets/jss/app-theme\";\r\nimport GridContainer from \"components/Grid/GridContainer\";\r\nimport GridItem from \"components/Grid/GridItem\";\r\nimport React from \"react\";\r\nimport { withErrorHandler } from \"hoc/ErrorHandler\";\r\nimport CatalogView from \"views/widgets/Ecommerce/Catalog\";\r\n\r\nclass Page extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tdocument.title = app.title(\"Catalog\");\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes, ...rest } = this.props;\r\n\t\treturn (\r\n\t\t\t<GridContainer style={{ minHeight: \"90vh\" }} className=\"relative\">\r\n\t\t\t\t<GridItem xs={12} sm={12} md={10} className=\"m-auto\">\r\n\t\t\t\t\t<CatalogView className=\"w-full\" />\r\n\t\t\t\t</GridItem>\r\n\t\t\t</GridContainer>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withErrorHandler(Page);\r\n"],"sourceRoot":""}