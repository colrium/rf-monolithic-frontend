(this.webpackJsonpdashboard=this.webpackJsonpdashboard||[]).push([[18],{1372:function(e,t,a){e.exports=a.p+"static/media/logo-chevron.cc0777ae.svg"},1389:function(e,t,a){"use strict";var n=a(1),r=a(5),s=a(0),l=a(4),i=(a(7),a(34)),c=a(14),m=s.forwardRef((function(e,t){var a=e.animation,i=void 0===a?"pulse":a,c=e.classes,m=e.className,o=e.component,d=void 0===o?"span":o,h=e.height,u=e.variant,p=void 0===u?"text":u,v=e.width,f=Object(r.a)(e,["animation","classes","className","component","height","variant","width"]),b=Boolean(f.children);return s.createElement(d,Object(n.a)({ref:t,className:Object(l.a)(c.root,c[p],m,b&&[c.withChildren,!v&&c.fitContent,!h&&c.heightAuto],!1!==i&&c[i])},f,{style:Object(n.a)({width:v,height:h},f.style)}))}));t.a=Object(c.a)((function(e){return{root:{display:"block",backgroundColor:Object(i.d)(e.palette.text.primary,"light"===e.palette.type?.11:.13),height:"1.2em"},text:{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 60%",transform:"scale(1, 0.60)",borderRadius:e.shape.borderRadius,"&:empty:before":{content:'"\\00a0"'}},rect:{},circle:{borderRadius:"50%"},pulse:{animation:"$pulse 1.5s ease-in-out 0.5s infinite"},"@keyframes pulse":{"0%":{opacity:1},"50%":{opacity:.4},"100%":{opacity:1}},wave:{position:"relative",overflow:"hidden","&::after":{animation:"$wave 1.6s linear 0.5s infinite",background:"linear-gradient(90deg, transparent, ".concat(e.palette.action.hover,", transparent)"),content:'""',position:"absolute",transform:"translateX(-100%)",bottom:0,left:0,right:0,top:0}},"@keyframes wave":{"0%":{transform:"translateX(-100%)"},"60%":{transform:"translateX(100%)"},"100%":{transform:"translateX(100%)"}},withChildren:{"& > *":{visibility:"hidden"}},fitContent:{maxWidth:"fit-content"},heightAuto:{height:"auto"}}}),{name:"MuiSkeleton"})(m)},1424:function(e,t,a){"use strict";var n=a(47);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),s=(0,n(a(61)).default)(r.default.createElement("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBack");t.default=s},1488:function(e,t,a){"use strict";var n=a(24),r=a(12),s=a(13),l=a(26),i=a(27),c=a(18),m=a(17),o=a(1255),d=a(1389),h=a(1372),u=a.n(h),p=a(23),v=a(58),f=a(22),b=a(16),g=a(434),N=a(21),O=a(0),E=a.n(O),x=a(35),w=a(42),y=a(11),S=a(50),j=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var n;Object(s.a)(this,a),(n=t.call(this,e)).state={item:{},options:{},options_cost:0,selected_image:null,loading:!1,canAddToCart:!1,variantsError:!1},n.handleOnItemAdd=function(e){var t=n.props,a=t.onItemAdd,r=(t.addToCart,n.state),s=r.item,l=r.options,i=r.options_cost;Function.isFunction(a)&&a({item:s,options:l,options_cost:i})},n.handleOnVariantsChange=function(e){return function(e){var t={};if(JSON.isJSON(e))for(var a=0,s=Object.entries(e);a<s.length;a++){var l=Object(r.a)(s[a],2),i=l[0],c=l[1];t[i]=c}n.calculateOptionsPrice(t),n.canAddToCart(t),n.setState({options:t})}},n.handleOnImageSelect=function(e){return function(t){n.setState({selected_image:e})}};var l=n.props,c=l.item,m=l.options,o=l.loading;return n.state.item=c,n.state.loading=!!o,n.state.options=JSON.isJSON(m)?m:{},n.state.selected_image=JSON.isJSON(c)&&c.featured_image?w.attachments.getAttachmentFileUrl(c.featured_image):null,n.handleOnItemAdd=n.handleOnItemAdd.bind(Object(i.a)(n)),n.handleOnImageSelect=n.handleOnImageSelect.bind(Object(i.a)(n)),n.handleOnVariantsChange=n.handleOnVariantsChange.bind(Object(i.a)(n)),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this.state,t=e.item;e.options,e.loading;JSON.isJSON(t)&&(this.calculateOptionsPrice(),this.canAddToCart())}},{key:"getSnapshotBeforeUpdate",value:function(e){return this.mounted=!1,Object.areEqual(e,this.props)?{applyChanges:!1}:{applyChanges:!0}}},{key:"componentDidUpdate",value:function(e,t,a){if(a.applyChanges){var n=JSON.updateJSON(this.state,this.props);console.log("newState",n),this.setState(n),this.calculateOptionsPrice(),this.canAddToCart()}}},{key:"calculateOptionsPrice",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.state.item;if(JSON.isJSON(t)){var a=t.variants,r=t.cost;JSON.isJSON(e)||(e=this.state.options);var s=0;if(JSON.isJSON(a))for(var l=0,i=Object.values(a);l<i.length;l++){var c=i[l],m=c.name,o=Object(n.a)(c,["name"]);if(e[m])if("amount"==o.cost_effect_type)s+=Number.parseNumber(o.cost_effect,0);else if("percentage"==o.cost_effect_type){var d=Number.parseNumber(r,0)*Number.parseNumber(o.cost_effect,0)/100;s+=d}}this.setState({options_cost:s})}}},{key:"canAddToCart",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.state.item;if(JSON.isJSON(t)){var a=t.variants;JSON.isJSON(e)||(e=this.state.options);var n=!0,s=!1;if(JSON.isJSON(a))for(var l=0,i=Object.entries(a);l<i.length;l++){var c=Object(r.a)(i[l],2),m=(c[0],c[1]);if(m.required&&(!(m.name in e)||!e[m.name])){n=!1,s=m.label+" is required ";break}}this.setState({canAddToCart:n,variantsError:s})}}},{key:"render",value:function(){var e=this,t=this.state,a=t.item,n=t.options_cost;return t.loading?E.a.createElement(f.a,{className:"p-0 m-0"},E.a.createElement(f.a,null,E.a.createElement(b.a,{xs:12,md:4,className:"p-0 m-0"},E.a.createElement(f.a,{className:"p-0 m-0"},E.a.createElement(b.a,{xs:12},E.a.createElement(d.a,{variant:"rect",width:"90%",height:28})),E.a.createElement(b.a,{xs:12},E.a.createElement(d.a,{variant:"rect",width:"30%",height:37})),E.a.createElement(b.a,{xs:12},E.a.createElement(d.a,{variant:"text",className:"mb-1",width:"80%"}),E.a.createElement(d.a,{variant:"text",className:"mb-1",width:"80%"}),E.a.createElement(d.a,{variant:"text",className:"mb-1",width:"70%"}),E.a.createElement(d.a,{variant:"text",className:"mb-1",width:"30%"})),E.a.createElement(b.a,{xs:12,className:"flex"},E.a.createElement(d.a,{variant:"rect",className:"m-1 w-16 h-8 rounded-full"}),E.a.createElement(d.a,{variant:"rect",className:"m-1 w-16 h-8 rounded-full"}),E.a.createElement(d.a,{variant:"rect",className:"m-1 w-16 h-8 rounded-full"})))),E.a.createElement(b.a,{xs:12,md:8,className:"p-0 m-0"},E.a.createElement(f.a,{className:"p-0 m-0 flex flex-col"},E.a.createElement(d.a,{variant:"rect",className:"w-full",height:400}),E.a.createElement("div",{className:"p-2 w-full flex"},E.a.createElement(d.a,{variant:"rect",className:"sm:w-1/4 md:w-16 mx-1",width:74,height:64}),E.a.createElement(d.a,{variant:"rect",className:"sm:w-1/4 md:w-16 mx-1",width:74,height:64}),E.a.createElement(d.a,{variant:"rect",className:"sm:w-1/4 md:w-16 mx-1",width:74,height:64}))))),E.a.createElement(f.a,null,E.a.createElement(b.a,{xs:12,className:"px-0 m-0"},E.a.createElement(d.a,{variant:"rect",className:"w-24 rounded",height:34})))):E.a.createElement(f.a,{className:"p-0 m-0"},E.a.createElement(b.a,{xs:12,md:4,className:"p-0 m-0"},E.a.createElement(f.a,{className:"p-0 m-0"},E.a.createElement(b.a,{xs:12},E.a.createElement(N.a,{variant:"h3",gutterBottom:!0},a.name)),a.cost>0&&JSON.isJSON(a.currency)&&E.a.createElement(b.a,{xs:12},E.a.createElement("span",{className:"text-2xl text-gray-500"},a.currency.html_symbol),E.a.createElement("span",{className:"text-3xl text-gray-900"},(a.cost>0?a.cost:0)+n)),E.a.createElement(b.a,{xs:12},E.a.createElement("span",{className:"text-gray-500 mr-2"},"Variants price:"),E.a.createElement("span",{className:"text-gray-900"},(JSON.isJSON(a.currency)&&a.currency.html_symbol?a.currency.html_symbol:"")+" "+n)),E.a.createElement(b.a,{xs:12},E.a.createElement(N.a,{variant:"body1",gutterBottom:!0},a.description)),E.a.createElement(b.a,{xs:12},"service"===a.item_type&&E.a.createElement(o.a,{className:"m-1",size:"small",label:"Service"}),"product"===a.item_type&&E.a.createElement(o.a,{className:"m-1",size:"small",label:"Product"}),a.available&&E.a.createElement(o.a,{className:"m-1",size:"small",label:"Available"}),a.taxable&&E.a.createElement(o.a,{className:"m-1",size:"small",label:"Taxable"}),a.discountable&&E.a.createElement(o.a,{className:"mx-1",size:"small",label:"Discountable"}),Array.isArray(a.categories)&&E.a.createElement("div",null," ",a.categories.map((function(e,t){return E.a.createElement(o.a,{label:e,className:"m-1",size:"small",key:"category-"+t})}))," "),Array.isArray(a.tags)&&E.a.createElement("div",null," ",a.tags.map((function(e,t){return E.a.createElement(o.a,{label:e,className:"m-1",size:"small",key:"tag-"+t})}))," ")))),E.a.createElement(b.a,{xs:12,md:8,className:"p-0 m-0"},E.a.createElement(f.a,{className:"p-0 m-0 flex flex-col"},E.a.createElement("div",{className:"p-2 w-full flex-grow"},E.a.createElement(g.a,{className:"w-full h-auto",src:this.state.selected_image?this.state.selected_image:u.a})),E.a.createElement("div",{className:"p-2 w-full flex"},a.featured_image&&E.a.createElement(g.a,{className:"sm:w-1/4 md:w-16 mx-1 cursor-pointer hover:opacity-50",src:w.attachments.getAttachmentFileUrl(a.featured_image),onClick:this.handleOnImageSelect(w.attachments.getAttachmentFileUrl(a.featured_image))}),a.images.map((function(t,a){return E.a.createElement(g.a,{className:"sm:w-1/4 md:w-16 mx-1 cursor-pointer hover:opacity-50",src:w.attachments.getAttachmentFileUrl(t),onClick:e.handleOnImageSelect(w.attachments.getAttachmentFileUrl(t)),key:"item-image-"+a})}))))),E.a.createElement(f.a,{className:"px-0 m-0"},JSON.isJSON(a.variants)&&JSON.isJSON(a.variants)&&E.a.createElement(b.a,{xs:12,className:"px-0 m-0"},E.a.createElement(v.d,{label:"Variants",mode:"generation",name:"variants",blueprint:a.variants,value:this.state.options,onChange:this.handleOnVariantsChange("variants"),variant:"outlined",error:this.state.variantsError,validate:!0})),E.a.createElement(b.a,{xs:12,className:"px-0 m-0"},E.a.createElement(p.a,{color:"primary",onClick:this.handleOnItemAdd,disabled:!this.state.canAddToCart}," ","Add to Cart"," "))))}}]),a}(E.a.Component);t.a=Object(S.a)(Object(x.b)((function(e){return{auth:e.auth,cart:e.ecommerce.cart}}),{addToCart:y.fb})(j))},1956:function(e,t,a){"use strict";a.r(t);var n=a(24),r=a(13),s=a(26),l=a(18),i=a(17),c=a(3),m=a(22),o=a(16),d=a(0),h=a.n(d),u=a(50),p=a(27),v=a(110),f=a(1424),b=a.n(f),g=a(35),N=a(11),O=a(1488),E=a(6),x=a(2),w=a(1389),y=a(1372),S=a.n(y),j=a(23),k=a(434),_=a(42),C=function(e){Object(l.a)(a,e);var t=Object(i.a)(a);function a(e){var n;Object(r.a)(this,a),(n=t.call(this,e)).state={retailitems:[],loading:!0,load_err:!1},n.handleOnItemSelect=function(e){return function(t){var a=n.props.onItemSelect;Function.isFunction(a)&&a(e,t)}};var s=n.props.params;return n.state.params={p:1},JSON.isJSON(s)&&(n.state.params=Object(x.a)(Object(x.a)({},s),{},{p:1})),n.handleOnItemSelect=n.handleOnItemSelect.bind(Object(p.a)(n)),n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.loadItems()}},{key:"componentDidUpdate",value:function(e,t,a){var n=this,r=this.props.params,s={p:1};JSON.isJSON(r)&&(s=Object(x.a)(Object(x.a)({},r),{},{p:1}),Object.areEqual(this.state.params,s)||this.setState({params:r},(function(){n.loadItems()})))}},{key:"loadItems",value:function(){var e=this,t=this.state.params;this.setState((function(e){return{loading:!0,load_err:null}})),_.retailitems.getRecords(t).then((function(t){e.setState((function(e){return{retailitems:t.body.data,loading:!1,load_err:null}}))})).catch((function(t){e.setState((function(e){return{retailitems:[],loading:!1,load_err:t}}))}))}},{key:"render",value:function(){var e=this;return h.a.createElement(m.a,{className:"p-0 m-0"},this.state.loading&&h.a.createElement(m.a,{className:"flex-10"},h.a.createElement(o.a,{xs:12,md:4,lg:3},h.a.createElement("div",{className:"bg-white shadow-xl rounded-lg flex flex-col overflow-hidden"},h.a.createElement(w.a,{variant:"rect",width:"100%",height:224}),h.a.createElement(w.a,{variant:"text",width:"95%",className:"mt-2 mx-auto"}),h.a.createElement(w.a,{variant:"rect",width:"30%",height:50,className:"mt-2 ml-4"}),h.a.createElement(w.a,{variant:"text",width:"95%",className:"mt-2 mx-auto"}),h.a.createElement(w.a,{variant:"text",width:"95%",className:"mt-6 mx-auto"}),h.a.createElement(w.a,{variant:"rect",width:"80%",height:34,className:"mt-8 mb-6 mx-auto rounded"}))),h.a.createElement(o.a,{xs:12,md:4,lg:3},h.a.createElement("div",{className:"bg-white shadow-xl rounded-lg flex flex-col overflow-hidden"},h.a.createElement(w.a,{variant:"rect",width:"100%",height:224}),h.a.createElement(w.a,{variant:"text",width:"95%",className:"mt-2 mx-auto"}),h.a.createElement(w.a,{variant:"rect",width:"30%",height:50,className:"mt-2 ml-4"}),h.a.createElement(w.a,{variant:"text",width:"95%",className:"mt-2 mx-auto"}),h.a.createElement(w.a,{variant:"text",width:"95%",className:"mt-6 mx-auto"}),h.a.createElement(w.a,{variant:"rect",width:"80%",height:34,className:"mt-8 mb-6 mx-auto rounded"}))),h.a.createElement(o.a,{xs:12,md:4,lg:3},h.a.createElement("div",{className:"bg-white shadow-xl rounded-lg flex flex-col overflow-hidden"},h.a.createElement(w.a,{variant:"rect",width:"100%",height:224}),h.a.createElement(w.a,{variant:"text",width:"95%",className:"mt-2 mx-auto"}),h.a.createElement(w.a,{variant:"rect",width:"30%",height:50,className:"mt-2 ml-4"}),h.a.createElement(w.a,{variant:"text",width:"95%",className:"mt-2 mx-auto"}),h.a.createElement(w.a,{variant:"text",width:"95%",className:"mt-6 mx-auto"}),h.a.createElement(w.a,{variant:"rect",width:"80%",height:34,className:"mt-8 mb-6 mx-auto rounded"})))),!this.state.loading&&Array.isArray(this.state.retailitems)&&h.a.createElement(m.a,{className:"p-4 m-0"},this.state.retailitems.map((function(t,a){var n;return t.available&&h.a.createElement(o.a,(n={xs:12},Object(E.a)(n,"xs",12),Object(E.a)(n,"md",4),Object(E.a)(n,"lg",3),Object(E.a)(n,"className","flex flex-col"),Object(E.a)(n,"key",t._id),n),h.a.createElement("div",{className:"bg-white shadow-xl rounded-lg overflow-hidden"},h.a.createElement("div",{className:"bg-cover bg-center h-56 p-0"},h.a.createElement(k.a,{className:"w-full h-full",src:t.featured_image?_.attachments.getAttachmentFileUrl(t.featured_image):S.a})),h.a.createElement("div",{className:"p-4"},h.a.createElement("p",{className:"uppercase truncate tracking-wide text-sm  text-gray-900"},t.name),t.cost>0&&JSON.isJSON(t.currency)&&h.a.createElement("p",{className:"text-3xl text-gray-900 my-4"},t.currency.html_symbol+" "+t.cost),h.a.createElement("p",{className:"truncate tracking-wide text-sm  text-gray-500"},t.description?t.description:"No description available")),h.a.createElement("div",{className:"flex p-4 border-t border-gray-300 text-gray-700"},h.a.createElement("div",{className:"flex-1 inline-flex items-center"},h.a.createElement("p",{className:" text-gray-900 font-bold"},"Type")),h.a.createElement("div",{className:"flex-1 inline-flex items-left"},h.a.createElement("p",{className:"capitalize"},t.item_type))),h.a.createElement("div",{className:"px-4 pt-3 pb-4 border-t border-gray-300 bg-gray-100"},h.a.createElement(j.a,{className:"w-full",color:"primary",onClick:e.handleOnItemSelect(t)},"View"))))}))))}}]),a}(h.a.Component),J=Object(u.a)(C),A=function(e){Object(l.a)(a,e);var t=Object(i.a)(a);function a(e){var n;Object(r.a)(this,a),(n=t.call(this,e)).state={view:"gridview",prev_view:"gridview",items:[],context:null,params:{}},n.handleOnItemSelect=function(e,t){n.props.onContextChange;n.setState((function(t){return{view:"itemview",context:e,prev_view:t.view}}))},n.handleOnItemAdd=function(e){var t=n.props.addToCart;Function.isFunction(t)&&t(e),n.setState((function(e){return{view:e.prev_view,prev_view:e.view,context:{}}}))},n.handleOnBackClick=function(e){n.setState((function(e){return{view:e.prev_view,prev_view:e.view}}))};var s=e.context,l=e.view;return s&&(n.state.context=s),l&&(n.state.view=l),n.handleOnItemSelect=n.handleOnItemSelect.bind(Object(p.a)(n)),n.handleOnItemAdd=n.handleOnItemAdd.bind(Object(p.a)(n)),n.handleOnBackClick=n.handleOnBackClick.bind(Object(p.a)(n)),n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(e,t,a){var n=this.props,r=n.context,s=n.view;Object.areEqual(this.state.context,r)&&Object.areEqual(this.state.view,s)||this.setState({view:s,context:r})}},{key:"render",value:function(){return h.a.createElement(m.a,{className:"p-0 m-0"},h.a.createElement(m.a,{className:"p-0 m-0"},!["gridview"].includes(this.state.view)&&h.a.createElement(o.a,{xs:6,className:"float-left"},h.a.createElement(v.a,{"aria-label":"back",onClick:this.handleOnBackClick},h.a.createElement(b.a,{fontSize:"inherit"})))),h.a.createElement(m.a,{className:"p-0 m-0"},"gridview"===this.state.view&&h.a.createElement(J,{onItemSelect:this.handleOnItemSelect,params:this.state.params}),"itemview"===this.state.view&&h.a.createElement(O.a,{onItemAdd:this.handleOnItemAdd,item:this.state.context})))}}]),a}(h.a.Component),I=Object(u.a)(Object(g.b)((function(e){return{auth:e.auth,order_progress:e.ecommerce.order_progress}}),{addToCart:N.fb,removeFromCart:N.ub,closeDialog:N.pb,openDialog:N.sb})(A)),T=function(e){Object(l.a)(a,e);var t=Object(i.a)(a);function a(e){return Object(r.a)(this,a),t.call(this,e)}return Object(s.a)(a,[{key:"componentDidMount",value:function(){document.title=c.a.title("Catalog")}},{key:"render",value:function(){var e=this.props;e.classes,Object(n.a)(e,["classes"]);return h.a.createElement(m.a,{style:{minHeight:"90vh"},className:"relative"},h.a.createElement(o.a,{xs:12,sm:12,md:10,className:"m-auto"},h.a.createElement(I,{className:"w-full"})))}}]),a}(h.a.Component);t.default=Object(u.a)(T)}}]);
//# sourceMappingURL=18.85fa5c0d.chunk.js.map