{"version":3,"sources":["assets/img/empty-state-table.svg","views/widgets/Charts/AggregatesPieChart/index.jsx","views/widgets/Charts/AggregatesPieChart/styles.jsx","views/widgets/Charts/AggregatesBarChart/index.jsx","views/widgets/Charts/AggregatesBarChart/styles.jsx","views/widgets/Overview/CompactAggregatesOverview/index.jsx","../node_modules/@material-ui/icons/FolderOutlined.js"],"names":["module","exports","defaults","global","legend","display","AggregatesPieChart","props","state","loading","load_error","aggregate","aggregates","chart_data","labels","datasets","data","aggregateMenuEl","aggregatables","colors","handleShowAggregateMenu","event","currentTarget","setState","handleAggregateMenuItemClick","column","loadAggregates","g","bind","handleCloseAggregateMenu","this","prepareForData","prepareChartData","prevProps","Object","areEqual","defination","api","Array","isArray","cache","equals","dynamic","monochrome","color","service","onResolveAggregates","entries","scope","columns","properties","possibilities","push","name","label","length","no_of_colors","monochrome_colors","UtilitiesHelper","monochromeColorScheme","rotation_colors","rotationColorScheme","auth","onLoadAggregates","user","error","chart_data_labels","chart_data_data","onload_callback_data","i","_id","count","backgroundColor","query_data","apiCallRequest","new_aggregate","group","uri","endpoint","type","params","classes","className","showTitle","showMenu","GridContainer","GridItem","xs","Typography","variant","fullWidth","center","Button","aria-controls","aria-haspopup","onClick","size","aria-label","simple","Menu","id","anchorEl","keepMounted","open","Boolean","onClose","map","aggregatable","index","MenuItem","key","justify","alignItems","alt","emptyImage","src","EmptyStateImage","emptyText","complete","msg","React","Component","defaultProps","hex","accent","compose","withStyles","theme","root","padding","data_actions_wrapper","whiteSpace","valueChip","margin","spacing","maxWidth","width","marginTop","connect","ownProps","withErrorHandler","AggregatesBarChart","options","maintainAspectRatio","scales","yAxes","ticks","beginAtZero","CompactAggregatesOverview","context","definations","menuAnchorEl","handleMenuOpen","menuAnchorMenuEl","handleDefinationChange","services","contexts","possible_definations","access","restricted","view","summary","includes","handleMenuClose","handleOnAggregatesLoad","chartType","gridSize","outlineColor","avatar","style","background","icon","title","subheader","action","fullHeight","direction","height","primary","gutterBottom","fontSize","badgeContent","textColor","inverse","component","withGlobals","_interopRequireDefault","require","defineProperty","value","_react","_default","createElement","d"],"mappings":"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","file":"static/js/16.e68c7651.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/empty-state-table.cdb06dd9.svg\";","/** @format */\n\nimport { Menu, MenuItem } from \"@material-ui/core\";\n//\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport { MoreVert as AggregateMenuIcon } from \"@material-ui/icons\";\nimport EmptyStateImage from \"assets/img/empty-state-table.svg\";\nimport { colors } from \"assets/jss/app-theme\";\nimport Button from \"components/Button\";\nimport GridContainer from \"components/Grid/GridContainer\";\nimport GridItem from \"components/Grid/GridItem\";\nimport Typography from \"components/Typography\";\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport { defaults, Pie } from \"react-chartjs-2\";\nimport { connect } from \"react-redux\";\nimport compose from \"recompose/compose\";\nimport { apiCallRequest } from \"state/actions\";\nimport { withErrorHandler } from \"hoc/ErrorHandler\";\n//\nimport { UtilitiesHelper } from \"hoc/Helpers\";\nimport styles from \"./styles\";\n\n//\ndefaults.global.legend.display = false;\n\nclass AggregatesPieChart extends React.Component {\n\tstate = {\n\t\tloading: true,\n\t\tload_error: false,\n\t\taggregate: \"status\",\n\t\taggregates: [],\n\t\tchart_data: {\n\t\t\tlabels: [],\n\t\t\tdatasets: [\n\t\t\t\t{\n\t\t\t\t\tdata: [],\n\t\t\t\t},\n\t\t\t],\n\t\t},\n\t\taggregateMenuEl: null,\n\t};\n\taggregatables = [];\n\tcolors = [];\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.handleShowAggregateMenu = this.handleShowAggregateMenu.bind(this);\n\t\tthis.handleCloseAggregateMenu = this.handleCloseAggregateMenu.bind(\n\t\t\tthis\n\t\t);\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.prepareForData();\n\t\tthis.loadAggregates();\n\t\tthis.prepareChartData();\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\tif (!Object.areEqual(this.props.defination, prevProps.defination)) {\n\t\t\tthis.prepareForData();\n\t\t\tthis.loadAggregates();\n\t\t} else if (!Object.areEqual(prevProps.api, this.props.api)) {\n\t\t\tthis.prepareChartData();\n\t\t} else if (Array.isArray(this.props.cache)) {\n\t\t\tif (!this.props.cache.equals(prevProps.cache)) {\n\t\t\t\tthis.prepareChartData();\n\t\t\t}\n\t\t} else if (Array.isArray(prevProps.cache)) {\n\t\t\tif (!prevProps.cache.equals(this.props.cache)) {\n\t\t\t\tthis.prepareChartData();\n\t\t\t}\n\t\t}\n\t}\n\n\tprepareForData() {\n\t\tlet {\n\t\t\tdynamic,\n\t\t\tmonochrome,\n\t\t\tcolor,\n\t\t\tcolors,\n\t\t\tdefination,\n\t\t\tservice,\n\t\t\taggregate,\n\t\t\tonResolveAggregates,\n\t\t} = this.props;\n\n\t\tif (dynamic) {\n\t\t\tthis.aggregatables = [];\n\t\t\tfor (let [column, properties] of Object.entries(\n\t\t\t\tdefination.scope.columns\n\t\t\t)) {\n\t\t\t\tif (properties.possibilities) {\n\t\t\t\t\tthis.aggregatables.push({\n\t\t\t\t\t\tname: column,\n\t\t\t\t\t\tlabel: properties.label,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (!aggregate && this.aggregatables.length > 0) {\n\t\t\taggregate = this.aggregatables[0].name;\n\t\t\tif (onResolveAggregates) {\n\t\t\t\tonResolveAggregates(defination.name, this.aggregatables);\n\t\t\t}\n\t\t}\n\n\t\tif (dynamic) {\n\t\t\tthis.state.aggregate = aggregate;\n\n\t\t\t//generate color scheme if monochromatic\n\t\t\tif (monochrome) {\n\t\t\t\tlet no_of_colors =\n\t\t\t\t\tthis.aggregatables.length > 0\n\t\t\t\t\t\t? this.aggregatables.length\n\t\t\t\t\t\t: 1;\n\t\t\t\tlet monochrome_colors = UtilitiesHelper.monochromeColorScheme(\n\t\t\t\t\tcolor,\n\t\t\t\t\tno_of_colors\n\t\t\t\t);\n\t\t\t\tthis.colors = monochrome_colors;\n\t\t\t} else if (colors) {\n\t\t\t\tthis.colors = colors;\n\t\t\t} else {\n\t\t\t\tlet no_of_colors =\n\t\t\t\t\tthis.aggregatables.length > 0\n\t\t\t\t\t\t? this.aggregatables.length\n\t\t\t\t\t\t: 1;\n\t\t\t\tlet rotation_colors = UtilitiesHelper.rotationColorScheme(\n\t\t\t\t\tcolor,\n\t\t\t\t\tno_of_colors\n\t\t\t\t);\n\t\t\t\tthis.colors = rotation_colors;\n\t\t\t}\n\t\t}\n\t}\n\n\tprepareChartData() {\n\t\tconst {\n\t\t\tmonochrome,\n\t\t\tcolor,\n\t\t\tcolors,\n\t\t\taggregate,\n\t\t\tdefination,\n\t\t\tservice,\n\t\t\tauth,\n\t\t\tonLoadAggregates,\n\t\t\tcache,\n\t\t\tapi,\n\t\t} = this.props;\n\t\tif (Array.isArray(cache)) {\n\t\t\tlet possibilities = defination.scope.columns[this.state.aggregate]\n\t\t\t\t? defination.scope.columns[this.state.aggregate].possibilities\n\t\t\t\t: {};\n\t\t\tif (typeof possibilities === \"function\") {\n\t\t\t\tpossibilities = possibilities(false, auth.user);\n\t\t\t}\n\t\t\t//generate color scheme if monochromatic\n\t\t\tif (monochrome) {\n\t\t\t\tlet no_of_colors = cache.length > 0 ? cache.length : 1;\n\t\t\t\tlet monochrome_colors = UtilitiesHelper.monochromeColorScheme(\n\t\t\t\t\tapi.loading || api.error ? \"#595959\" : color,\n\t\t\t\t\tno_of_colors\n\t\t\t\t);\n\t\t\t\tthis.colors = monochrome_colors;\n\t\t\t} else if (colors) {\n\t\t\t\tthis.colors =\n\t\t\t\t\tapi.loading || api.error\n\t\t\t\t\t\t? UtilitiesHelper.monochromeColorScheme(\"#595959\")\n\t\t\t\t\t\t: colors;\n\t\t\t} else {\n\t\t\t\tlet no_of_colors = cache.length > 0 ? cache.length : 1;\n\t\t\t\tlet rotation_colors = UtilitiesHelper.rotationColorScheme(\n\t\t\t\t\tapi.loading || api.error ? \"#595959\" : color,\n\t\t\t\t\tno_of_colors\n\t\t\t\t);\n\t\t\t\tthis.colors = rotation_colors;\n\t\t\t}\n\n\t\t\tlet chart_data_labels = [];\n\t\t\tlet chart_data_data = [];\n\t\t\tlet onload_callback_data = [];\n\n\t\t\tif (typeof possibilities === \"object\") {\n\t\t\t\tfor (var i = 0; i < cache.length; i++) {\n\t\t\t\t\tif (cache[i]._id in possibilities) {\n\t\t\t\t\t\tchart_data_labels.push(possibilities[cache[i]._id]);\n\t\t\t\t\t\tchart_data_data.push(cache[i].count);\n\t\t\t\t\t\tif (onLoadAggregates) {\n\t\t\t\t\t\t\tonload_callback_data.push({\n\t\t\t\t\t\t\t\tname: cache[i]._id,\n\t\t\t\t\t\t\t\tlabel: possibilities[cache[i]._id],\n\t\t\t\t\t\t\t\tcount: cache[i].count,\n\t\t\t\t\t\t\t\tcolor: this.colors[i],\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet chart_data = {\n\t\t\t\tlabels: chart_data_labels,\n\t\t\t\tdatasets: [\n\t\t\t\t\t{\n\t\t\t\t\t\tdata: chart_data_data,\n\t\t\t\t\t\tbackgroundColor: this.colors,\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t};\n\n\t\t\tthis.setState(state => ({\n\t\t\t\taggregates: cache,\n\t\t\t\tchart_data: chart_data,\n\t\t\t\tloading: false,\n\t\t\t}));\n\t\t\tif (onLoadAggregates) {\n\t\t\t\tonLoadAggregates(onload_callback_data);\n\t\t\t}\n\t\t} else {\n\t\t\tlet chart_data_labels = [];\n\t\t\tlet chart_data_data = [];\n\t\t\tlet onload_callback_data = [];\n\n\t\t\tlet chart_data = {\n\t\t\t\tlabels: chart_data_labels,\n\t\t\t\tdatasets: [\n\t\t\t\t\t{\n\t\t\t\t\t\tdata: chart_data_data,\n\t\t\t\t\t\tbackgroundColor: this.colors,\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t};\n\n\t\t\tthis.setState(state => ({\n\t\t\t\taggregates: cache,\n\t\t\t\tchart_data: chart_data,\n\t\t\t\tloading: false,\n\t\t\t}));\n\t\t\tif (onLoadAggregates) {\n\t\t\t\tonLoadAggregates(onload_callback_data);\n\t\t\t}\n\t\t}\n\t}\n\n\tloadAggregates(query_data) {\n\t\tconst { apiCallRequest, defination } = this.props;\n\n\t\tif (!query_data) {\n\t\t\tquery_data = { g: this.state.aggregate };\n\t\t}\n\n\t\tlet new_aggregate =\n\t\t\t\"g\" in query_data\n\t\t\t\t? query_data.g\n\t\t\t\t: \"group\" in query_data\n\t\t\t\t? query_data.group\n\t\t\t\t: false;\n\t\tthis.setState(state => ({ aggregate: new_aggregate }));\n\n\t\tif (defination) {\n\t\t\tapiCallRequest(\n\t\t\t\tdefination.name + \"_aggregates\",\n\t\t\t\t{\n\t\t\t\t\turi: defination.endpoint,\n\t\t\t\t\ttype: \"aggregates\",\n\t\t\t\t\tparams: query_data,\n\t\t\t\t\tdata: {},\n\t\t\t\t\tcache: true,\n\t\t\t\t},\n\t\t\t);\n\t\t}\n\t}\n\n\thandleShowAggregateMenu = event => {\n\t\tlet aggregateMenuEl = event.currentTarget;\n\t\tthis.setState({ aggregateMenuEl: aggregateMenuEl });\n\t};\n\n\thandleCloseAggregateMenu() {\n\t\tthis.setState({ aggregateMenuEl: null });\n\t}\n\n\thandleAggregateMenuItemClick = column => event => {\n\t\t//this.handleCloseAggregateMenu();\n\t\tthis.setState({ aggregateMenuEl: null });\n\t\tthis.loadAggregates({ g: column });\n\t};\n\n\trender() {\n\t\tconst {\n\t\t\tclasses,\n\t\t\tclassName,\n\t\t\taggregate,\n\t\t\tdynamic,\n\t\t\tdefination,\n\t\t\tservice,\n\t\t\tshowTitle,\n\t\t\tshowMenu,\n\t\t\tapi,\n\t\t\tcache,\n\t\t} = this.props;\n\t\treturn (\n\t\t\t<GridContainer className={className + \" p-0 m-0\"}>\n\t\t\t\t<GridItem xs={12} className=\"p-0 m-0\">\n\t\t\t\t\t<GridContainer className=\"p-0 m-0\">\n\t\t\t\t\t\t<GridContainer className=\"p-0 m-0\">\n\t\t\t\t\t\t\t{(showMenu || showTitle) && (\n\t\t\t\t\t\t\t\t<GridItem xs={12}>\n\t\t\t\t\t\t\t\t\t<GridContainer>\n\t\t\t\t\t\t\t\t\t\t{showTitle && !showMenu && (\n\t\t\t\t\t\t\t\t\t\t\t<GridItem xs={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"default\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"body1\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\tcenter\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{defination.scope.columns[\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.state.aggregate\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? defination.scope\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.columns[\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.state\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.aggregate\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t  ].label\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"Unknown\"}{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t\tAggregate\n\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t\t</GridItem>\n\t\t\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t\t\t{dynamic && showMenu && (\n\t\t\t\t\t\t\t\t\t\t\t<GridItem\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"p-0 m-0\"\n\t\t\t\t\t\t\t\t\t\t\t\txs={12}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\taria-controls=\"aggregate-menu\"\n\t\t\t\t\t\t\t\t\t\t\t\t\taria-haspopup=\"true\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.handleShowAggregateMenu\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"default\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-right\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"md\"\n\t\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"Aggregate Menu\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tsimple\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{defination.scope.columns[\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.state.aggregate\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? defination.scope\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.columns[\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.state\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.aggregate\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t  ].label\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"Unknown\"}{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t\tAggregate\n\t\t\t\t\t\t\t\t\t\t\t\t\t<AggregateMenuIcon />\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t<Menu\n\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"surveys-aggregate-menu\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tanchorEl={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.state\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.aggregateMenuEl\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tkeepMounted\n\t\t\t\t\t\t\t\t\t\t\t\t\topen={Boolean(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.state\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.aggregateMenuEl\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClose={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.handleCloseAggregateMenu\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{this.aggregatables.map(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taggregatable,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tindex\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={this.handleAggregateMenuItemClick(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taggregatable.name\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"aggregate_\" +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taggregatable.name\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{aggregatable.label +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\" Aggregate\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</Menu>\n\t\t\t\t\t\t\t\t\t\t\t</GridItem>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</GridContainer>\n\t\t\t\t\t\t\t\t</GridItem>\n\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t<GridItem className=\"p-0 m-0\" xs={12}>\n\t\t\t\t\t\t\t\t{Array.isArray(this.state.chart_data.labels) &&\n\t\t\t\t\t\t\t\tthis.state.chart_data.labels.length > 0 ? (\n\t\t\t\t\t\t\t\t\t<Pie data={this.state.chart_data} />\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<GridContainer\n\t\t\t\t\t\t\t\t\t\tclassName=\"p-0 m-0\"\n\t\t\t\t\t\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\t\t\t\t\t\talignItems=\"center\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\talt=\"Empty Aggregates\"\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.emptyImage}\n\t\t\t\t\t\t\t\t\t\t\tsrc={EmptyStateImage}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.emptyText}\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"grey\"\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"body2\"\n\t\t\t\t\t\t\t\t\t\t\tcenter\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tNo{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t{defination.scope.columns[\n\t\t\t\t\t\t\t\t\t\t\t\tthis.state.aggregate\n\t\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t\t\t\t? defination.scope.columns[\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.state.aggregate\n\t\t\t\t\t\t\t\t\t\t\t\t  ].label\n\t\t\t\t\t\t\t\t\t\t\t\t: \"\"}{\" \"}\n\t\t\t\t\t\t\t\t\t\t\tAggregates\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t</GridContainer>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</GridItem>\n\t\t\t\t\t\t</GridContainer>\n\n\t\t\t\t\t\t{api.complete && api.error && (\n\t\t\t\t\t\t\t<GridContainer>\n\t\t\t\t\t\t\t\t<GridItem xs={12}>\n\t\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\t\tcolor=\"error\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"body2\"\n\t\t\t\t\t\t\t\t\t\tcenter\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{\"An error occured. \\n \" +\n\t\t\t\t\t\t\t\t\t\t\tapi.error.msg}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</GridItem>\n\t\t\t\t\t\t\t</GridContainer>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</GridContainer>\n\t\t\t\t</GridItem>\n\t\t\t</GridContainer>\n\t\t);\n\t}\n}\n\nAggregatesPieChart.propTypes = {\n\tclassName: PropTypes.string,\n\tclasses: PropTypes.object.isRequired,\n\tdynamic: PropTypes.bool,\n\tshowTitle: PropTypes.bool,\n\tshowMenu: PropTypes.bool,\n\tmonochrome: PropTypes.bool,\n\tcolor: PropTypes.string,\n\tcolors: PropTypes.array,\n\tdefination: PropTypes.object.isRequired,\n\tservice: PropTypes.any.isRequired,\n\taggregate: PropTypes.string,\n\tonResolveAggregates: PropTypes.func,\n\tonLoadAggregates: PropTypes.func,\n};\n\nAggregatesPieChart.defaultProps = {\n\t//colors: [colors.hex.accent, colors.hex.primary, colors.hex.secondary, colors.hex.primarydark, colors.hex.default],\n\tcolor: colors.hex.accent,\n\tmonochrome: true,\n};\n\nconst mapStateToProps = (state, ownProps) => {\n\tconst { defination } = ownProps;\n\treturn {\n\t\tauth: state.auth,\n\t\tcache: defination\n\t\t\t? state.cache.data[defination.name + \"_aggregates\"]\n\t\t\t: null,\n\t\tapi: defination\n\t\t\t? state.api[defination.name]\n\t\t\t\t? state.api[defination.name]\n\t\t\t\t: {}\n\t\t\t: {},\n\t};\n};\n\nexport default compose(\n\twithStyles(styles),\n\tconnect(mapStateToProps, { apiCallRequest }),\n\twithErrorHandler\n)(AggregatesPieChart);\n","/** @format */\n\nexport default theme => ({\n\troot: {\n\t\tpadding: \"0\",\n\t},\n\tdata_actions_wrapper: {\n\t\tdisplay: \"inline-block\",\n\t\twhiteSpace: \"nowrap\",\n\t\t\"& > *\": {\n\t\t\tdisplay: \"inline-block\",\n\t\t\twhiteSpace: \"nowrap\",\n\t\t},\n\t},\n\tvalueChip: {\n\t\tmargin: theme.spacing(0.5),\n\t},\n\temptyImage: {\n\t\tmaxWidth: 100,\n\t\twidth: \"70%\",\n\t\tmargin: theme.spacing(2),\n\t},\n\temptyText: {\n\t\tmarginTop: theme.spacing(3),\n\t},\n});\n","/** @format */\n\nimport { Menu, MenuItem } from \"@material-ui/core\";\n//\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport { MoreVert as AggregateMenuIcon } from \"@material-ui/icons\";\nimport EmptyStateImage from \"assets/img/empty-state-table.svg\";\nimport { colors } from \"assets/jss/app-theme\";\nimport Button from \"components/Button\";\nimport GridContainer from \"components/Grid/GridContainer\";\nimport GridItem from \"components/Grid/GridItem\";\nimport Typography from \"components/Typography\";\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport { defaults, Bar } from \"react-chartjs-2\";\nimport { connect } from \"react-redux\";\nimport compose from \"recompose/compose\";\nimport { apiCallRequest } from \"state/actions\";\nimport { withErrorHandler } from \"hoc/ErrorHandler\";\n//\nimport { UtilitiesHelper } from \"hoc/Helpers\";\nimport styles from \"./styles\";\n\n//\ndefaults.global.legend.display = false;\n\nclass AggregatesBarChart extends React.Component {\n\tstate = {\n\t\tloading: true,\n\t\tload_error: false,\n\t\taggregate: \"status\",\n\t\taggregates: [],\n\t\tchart_data: {\n\t\t\tlabels: [],\n\t\t\tdatasets: [\n\t\t\t\t{\n\t\t\t\t\tdata: [],\n\t\t\t\t},\n\t\t\t],\n\t\t},\n\t\taggregateMenuEl: null,\n\t};\n\taggregatables = [];\n\tcolors = [];\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.handleShowAggregateMenu = this.handleShowAggregateMenu.bind(this);\n\t\tthis.handleCloseAggregateMenu = this.handleCloseAggregateMenu.bind(\n\t\t\tthis\n\t\t);\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.prepareForData();\n\t\tthis.loadAggregates();\n\t\tthis.prepareChartData();\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\tif (!Object.areEqual(this.props.defination, prevProps.defination)) {\n\t\t\tthis.prepareForData();\n\t\t\tthis.loadAggregates();\n\t\t} else if (!Object.areEqual(prevProps.api, this.props.api)) {\n\t\t\tthis.prepareChartData();\n\t\t} else if (Array.isArray(this.props.cache)) {\n\t\t\tif (!this.props.cache.equals(prevProps.cache)) {\n\t\t\t\tthis.prepareChartData();\n\t\t\t}\n\t\t} else if (Array.isArray(prevProps.cache)) {\n\t\t\tif (!prevProps.cache.equals(this.props.cache)) {\n\t\t\t\tthis.prepareChartData();\n\t\t\t}\n\t\t}\n\t}\n\n\tprepareForData() {\n\t\tlet {\n\t\t\tdynamic,\n\t\t\tmonochrome,\n\t\t\tcolor,\n\t\t\tcolors,\n\t\t\tdefination,\n\t\t\tservice,\n\t\t\taggregate,\n\t\t\tonResolveAggregates,\n\t\t} = this.props;\n\n\t\tif (dynamic) {\n\t\t\tthis.aggregatables = [];\n\t\t\tfor (let [column, properties] of Object.entries(\n\t\t\t\tdefination.scope.columns\n\t\t\t)) {\n\t\t\t\tif (properties.possibilities) {\n\t\t\t\t\tthis.aggregatables.push({\n\t\t\t\t\t\tname: column,\n\t\t\t\t\t\tlabel: properties.label,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (!aggregate && this.aggregatables.length > 0) {\n\t\t\taggregate = this.aggregatables[0].name;\n\t\t\tif (onResolveAggregates) {\n\t\t\t\tonResolveAggregates(defination.name, this.aggregatables);\n\t\t\t}\n\t\t}\n\n\t\tif (dynamic) {\n\t\t\tthis.state.aggregate = aggregate;\n\n\t\t\t//generate color scheme if monochromatic\n\t\t\tif (monochrome) {\n\t\t\t\tlet no_of_colors =\n\t\t\t\t\tthis.aggregatables.length > 0\n\t\t\t\t\t\t? this.aggregatables.length\n\t\t\t\t\t\t: 1;\n\t\t\t\tlet monochrome_colors = UtilitiesHelper.monochromeColorScheme(\n\t\t\t\t\tcolor,\n\t\t\t\t\tno_of_colors\n\t\t\t\t);\n\t\t\t\tthis.colors = monochrome_colors;\n\t\t\t} else if (colors) {\n\t\t\t\tthis.colors = colors;\n\t\t\t} else {\n\t\t\t\tlet no_of_colors =\n\t\t\t\t\tthis.aggregatables.length > 0\n\t\t\t\t\t\t? this.aggregatables.length\n\t\t\t\t\t\t: 1;\n\t\t\t\tlet rotation_colors = UtilitiesHelper.rotationColorScheme(\n\t\t\t\t\tcolor,\n\t\t\t\t\tno_of_colors\n\t\t\t\t);\n\t\t\t\tthis.colors = rotation_colors;\n\t\t\t}\n\t\t}\n\t}\n\n\tprepareChartData() {\n\t\tconst {\n\t\t\tmonochrome,\n\t\t\tcolor,\n\t\t\tcolors,\n\t\t\taggregate,\n\t\t\tdefination,\n\t\t\tservice,\n\t\t\tauth,\n\t\t\tonLoadAggregates,\n\t\t\tcache,\n\t\t\tapi,\n\t\t} = this.props;\n\t\tif (Array.isArray(cache)) {\n\t\t\tlet possibilities = defination.scope.columns[this.state.aggregate]\n\t\t\t\t? defination.scope.columns[this.state.aggregate].possibilities\n\t\t\t\t: {};\n\t\t\tif (typeof possibilities === \"function\") {\n\t\t\t\tpossibilities = possibilities(false, auth.user);\n\t\t\t}\n\t\t\t//generate color scheme if monochromatic\n\t\t\tif (monochrome) {\n\t\t\t\tlet no_of_colors = cache.length > 0 ? cache.length : 1;\n\t\t\t\tlet monochrome_colors = UtilitiesHelper.monochromeColorScheme(\n\t\t\t\t\tapi.loading || api.error ? \"#595959\" : color,\n\t\t\t\t\tno_of_colors\n\t\t\t\t);\n\t\t\t\tthis.colors = monochrome_colors;\n\t\t\t} else if (colors) {\n\t\t\t\tthis.colors =\n\t\t\t\t\tapi.loading || api.error\n\t\t\t\t\t\t? UtilitiesHelper.monochromeColorScheme(\"#595959\")\n\t\t\t\t\t\t: colors;\n\t\t\t} else {\n\t\t\t\tlet no_of_colors = cache.length > 0 ? cache.length : 1;\n\t\t\t\tlet rotation_colors = UtilitiesHelper.rotationColorScheme(\n\t\t\t\t\tapi.loading || api.error ? \"#595959\" : color,\n\t\t\t\t\tno_of_colors\n\t\t\t\t);\n\t\t\t\tthis.colors = rotation_colors;\n\t\t\t}\n\n\t\t\tlet chart_data_labels = [];\n\t\t\tlet chart_data_data = [];\n\t\t\tlet onload_callback_data = [];\n\n\t\t\tif (typeof possibilities === \"object\") {\n\t\t\t\tfor (var i = 0; i < cache.length; i++) {\n\t\t\t\t\tif (cache[i]._id in possibilities) {\n\t\t\t\t\t\tchart_data_labels.push(possibilities[cache[i]._id]);\n\t\t\t\t\t\tchart_data_data.push(cache[i].count);\n\t\t\t\t\t\tif (onLoadAggregates) {\n\t\t\t\t\t\t\tonload_callback_data.push({\n\t\t\t\t\t\t\t\tname: cache[i]._id,\n\t\t\t\t\t\t\t\tlabel: possibilities[cache[i]._id],\n\t\t\t\t\t\t\t\tcount: cache[i].count,\n\t\t\t\t\t\t\t\tcolor: this.colors[i],\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet chart_data = {\n\t\t\t\tlabels: chart_data_labels,\n\t\t\t\tdatasets: [\n\t\t\t\t\t{\n\t\t\t\t\t\tdata: chart_data_data,\n\t\t\t\t\t\tbackgroundColor: this.colors,\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t};\n\n\t\t\tthis.setState(state => ({\n\t\t\t\taggregates: cache,\n\t\t\t\tchart_data: chart_data,\n\t\t\t\tloading: false,\n\t\t\t}));\n\t\t\tif (onLoadAggregates) {\n\t\t\t\tonLoadAggregates(onload_callback_data);\n\t\t\t}\n\t\t} else {\n\t\t\tlet chart_data_labels = [];\n\t\t\tlet chart_data_data = [];\n\t\t\tlet onload_callback_data = [];\n\n\t\t\tlet chart_data = {\n\t\t\t\tlabels: chart_data_labels,\n\t\t\t\tdatasets: [\n\t\t\t\t\t{\n\t\t\t\t\t\tdata: chart_data_data,\n\t\t\t\t\t\tbackgroundColor: this.colors,\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t};\n\n\t\t\tthis.setState(state => ({\n\t\t\t\taggregates: cache,\n\t\t\t\tchart_data: chart_data,\n\t\t\t\tloading: false,\n\t\t\t}));\n\t\t\tif (onLoadAggregates) {\n\t\t\t\tonLoadAggregates(onload_callback_data);\n\t\t\t}\n\t\t}\n\t}\n\n\tloadAggregates(query_data) {\n\t\tconst { apiCallRequest, defination } = this.props;\n\n\t\tif (!query_data) {\n\t\t\tquery_data = { g: this.state.aggregate };\n\t\t}\n\n\t\tlet new_aggregate =\n\t\t\t\"g\" in query_data\n\t\t\t\t? query_data.g\n\t\t\t\t: \"group\" in query_data\n\t\t\t\t? query_data.group\n\t\t\t\t: false;\n\t\tthis.setState(state => ({ aggregate: new_aggregate }));\n\n\t\tif (defination) {\n\t\t\tapiCallRequest(\n\t\t\t\tdefination.name + \"_aggregates\",\n\t\t\t\t{\n\t\t\t\t\turi: defination.endpoint,\n\t\t\t\t\ttype: \"aggregates\",\n\t\t\t\t\tparams: query_data,\n\t\t\t\t\tdata: {},\n\t\t\t\t\tcache: true,\n\t\t\t\t},\n\t\t\t);\n\t\t}\n\t}\n\n\thandleShowAggregateMenu = event => {\n\t\tlet aggregateMenuEl = event.currentTarget;\n\t\tthis.setState({ aggregateMenuEl: aggregateMenuEl });\n\t};\n\n\thandleCloseAggregateMenu() {\n\t\tthis.setState({ aggregateMenuEl: null });\n\t}\n\n\thandleAggregateMenuItemClick = column => event => {\n\t\t//this.handleCloseAggregateMenu();\n\t\tthis.setState({ aggregateMenuEl: null });\n\t\tthis.loadAggregates({ g: column });\n\t};\n\n\trender() {\n\t\tconst {\n\t\t\tclasses,\n\t\t\tclassName,\n\t\t\taggregate,\n\t\t\tdynamic,\n\t\t\tdefination,\n\t\t\tservice,\n\t\t\tshowTitle,\n\t\t\tshowMenu,\n\t\t\tapi,\n\t\t\tcache,\n\t\t} = this.props;\n\t\treturn (\n\t\t\t<GridContainer className={className + \" p-0 m-0\"}>\n\t\t\t\t<GridItem xs={12} className=\"p-0 m-0\">\n\t\t\t\t\t<GridContainer className=\"p-0 m-0\">\n\t\t\t\t\t\t<GridContainer className=\"p-0 m-0\">\n\t\t\t\t\t\t\t{(showMenu || showTitle) && (\n\t\t\t\t\t\t\t\t<GridItem xs={12}>\n\t\t\t\t\t\t\t\t\t<GridContainer>\n\t\t\t\t\t\t\t\t\t\t{showTitle && !showMenu && (\n\t\t\t\t\t\t\t\t\t\t\t<GridItem xs={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"default\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"body1\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\tcenter\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{defination.scope.columns[\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.state.aggregate\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? defination.scope\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.columns[\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.state\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.aggregate\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t  ].label\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"Unknown\"}{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t\tAggregate\n\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t\t</GridItem>\n\t\t\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t\t\t{dynamic && showMenu && (\n\t\t\t\t\t\t\t\t\t\t\t<GridItem\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"p-0 m-0\"\n\t\t\t\t\t\t\t\t\t\t\t\txs={12}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\taria-controls=\"aggregate-menu\"\n\t\t\t\t\t\t\t\t\t\t\t\t\taria-haspopup=\"true\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.handleShowAggregateMenu\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"default\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-right\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"md\"\n\t\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"Aggregate Menu\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tsimple\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{defination.scope.columns[\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.state.aggregate\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? defination.scope\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.columns[\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.state\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.aggregate\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t  ].label\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"Unknown\"}{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t\tAggregate\n\t\t\t\t\t\t\t\t\t\t\t\t\t<AggregateMenuIcon />\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t<Menu\n\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"surveys-aggregate-menu\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tanchorEl={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.state\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.aggregateMenuEl\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tkeepMounted\n\t\t\t\t\t\t\t\t\t\t\t\t\topen={Boolean(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.state\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.aggregateMenuEl\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClose={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.handleCloseAggregateMenu\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{this.aggregatables.map(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taggregatable,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tindex\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={this.handleAggregateMenuItemClick(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taggregatable.name\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"aggregate_\" +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taggregatable.name\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{aggregatable.label +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\" Aggregate\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</Menu>\n\t\t\t\t\t\t\t\t\t\t\t</GridItem>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</GridContainer>\n\t\t\t\t\t\t\t\t</GridItem>\n\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t<GridItem className=\"p-0 m-0\" xs={12}>\n\t\t\t\t\t\t\t\t{Array.isArray(this.state.chart_data.labels) &&\n\t\t\t\t\t\t\t\tthis.state.chart_data.labels.length > 0 ? (\n\t\t\t\t\t\t\t\t\t<Bar \n\t\t\t\t\t\t\t\t\t\tdata={this.state.chart_data} \n\t\t\t\t\t\t\t\t\t\toptions={{\n\t\t\t\t\t\t\t\t\t\t\tmaintainAspectRatio: false,\n\t\t\t\t\t\t\t\t\t\t\tscales: {\n\t\t\t\t\t\t\t\t\t\t\t\tyAxes: [{\n\t\t\t\t\t\t\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbeginAtZero: true\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}]\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<GridContainer\n\t\t\t\t\t\t\t\t\t\tclassName=\"p-0 m-0\"\n\t\t\t\t\t\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\t\t\t\t\t\talignItems=\"center\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\talt=\"Empty Aggregates\"\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.emptyImage}\n\t\t\t\t\t\t\t\t\t\t\tsrc={EmptyStateImage}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.emptyText}\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"grey\"\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"body2\"\n\t\t\t\t\t\t\t\t\t\t\tcenter\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tNo{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t{defination.scope.columns[\n\t\t\t\t\t\t\t\t\t\t\t\tthis.state.aggregate\n\t\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t\t\t\t? defination.scope.columns[\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.state.aggregate\n\t\t\t\t\t\t\t\t\t\t\t\t  ].label\n\t\t\t\t\t\t\t\t\t\t\t\t: \"\"}{\" \"}\n\t\t\t\t\t\t\t\t\t\t\tAggregates\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t</GridContainer>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</GridItem>\n\t\t\t\t\t\t</GridContainer>\n\n\t\t\t\t\t\t{api.complete && api.error && (\n\t\t\t\t\t\t\t<GridContainer>\n\t\t\t\t\t\t\t\t<GridItem xs={12}>\n\t\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\t\tcolor=\"error\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"body2\"\n\t\t\t\t\t\t\t\t\t\tcenter\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{\"An error occured. \\n \" +\n\t\t\t\t\t\t\t\t\t\t\tapi.error.msg}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</GridItem>\n\t\t\t\t\t\t\t</GridContainer>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</GridContainer>\n\t\t\t\t</GridItem>\n\t\t\t</GridContainer>\n\t\t);\n\t}\n}\n\nAggregatesBarChart.propTypes = {\n\tclassName: PropTypes.string,\n\tclasses: PropTypes.object.isRequired,\n\tdynamic: PropTypes.bool,\n\tshowTitle: PropTypes.bool,\n\tshowMenu: PropTypes.bool,\n\tmonochrome: PropTypes.bool,\n\tcolor: PropTypes.string,\n\tcolors: PropTypes.array,\n\tdefination: PropTypes.object.isRequired,\n\tservice: PropTypes.any.isRequired,\n\taggregate: PropTypes.string,\n\tonResolveAggregates: PropTypes.func,\n\tonLoadAggregates: PropTypes.func,\n};\n\nAggregatesBarChart.defaultProps = {\n\t//colors: [colors.hex.accent, colors.hex.primary, colors.hex.secondary, colors.hex.primarydark, colors.hex.default],\n\tcolor: colors.hex.accent,\n\tmonochrome: true,\n};\n\nconst mapStateToProps = (state, ownProps) => {\n\tconst { defination } = ownProps;\n\treturn {\n\t\tauth: state.auth,\n\t\tcache: defination\n\t\t\t? state.cache.data[defination.name + \"_aggregates\"]\n\t\t\t: null,\n\t\tapi: defination\n\t\t\t? state.api[defination.name]\n\t\t\t\t? state.api[defination.name]\n\t\t\t\t: {}\n\t\t\t: {},\n\t};\n};\n\nexport default compose(\n\twithStyles(styles),\n\tconnect(mapStateToProps, { apiCallRequest }),\n\twithErrorHandler\n)(AggregatesBarChart);\n","/** @format */\n\nexport default theme => ({\n\troot: {\n\t\tpadding: \"0\",\n\t},\n\tdata_actions_wrapper: {\n\t\tdisplay: \"inline-block\",\n\t\twhiteSpace: \"nowrap\",\n\t\t\"& > *\": {\n\t\t\tdisplay: \"inline-block\",\n\t\t\twhiteSpace: \"nowrap\",\n\t\t},\n\t},\n\tvalueChip: {\n\t\tmargin: theme.spacing(0.5),\n\t},\n\temptyImage: {\n\t\tmaxWidth: 100,\n\t\twidth: \"70%\",\n\t\tmargin: theme.spacing(2),\n\t},\n\temptyText: {\n\t\tmarginTop: theme.spacing(3),\n\t},\n});\n","/** @format */\n\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Menu from \"@material-ui/core/Menu\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport FolderIcon from \"@material-ui/icons/FolderOutlined\";\nimport MenuIcon from \"@material-ui/icons/MoreVert\";\nimport { colors } from \"assets/jss/app-theme\";\nimport Avatar from \"components/Avatar\";\nimport Badge from \"components/Badge\";\nimport Card from \"components/Card\";\nimport CardActions from \"components/Card/CardActions\";\nimport CardContent from \"components/Card/CardContent\";\nimport CardHeader from \"components/Card/CardHeader\";\nimport GridContainer from \"components/Grid/GridContainer\";\nimport GridItem from \"components/Grid/GridItem\";\nimport Typography from \"components/Typography\";\nimport {withGlobals} from \"contexts/Globals\";\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport compose from \"recompose/compose\";\nimport AggregatesPieChart from \"views/widgets/Charts/AggregatesPieChart\";\nimport AggregatesBarChart from \"views/widgets/Charts/AggregatesBarChart\";\nimport { withErrorHandler } from \"hoc/ErrorHandler\";\n\nconst styles = theme => ({\n\tfullHeight: {\n\t\theight: \"100% !important\",\n\t},\n});\n\nclass CompactAggregatesOverview extends React.Component {\n\tstate = {\n\t\tcontext: null,\n\t\tdefination: false,\n\t\tdefinations: {},\n\t\taggregates: [],\n\t\tmenuAnchorEl: null,\n\t};\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tconst { auth, definations, services, contexts } = props;\n\t\tlet possible_definations = {};\n\t\tfor (let [name, defination] of Object.entries(definations)) {\n\t\t\tif ( name in services && !defination.access.restricted(auth.user) && defination.access.view.summary(auth.user) && contexts.includes(name)) {\n\t\t\t\tpossible_definations[name] = defination;\n\t\t\t\tif (!this.state.defination) {\n\t\t\t\t\tthis.state.defination = defination;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tthis.state.definations = possible_definations;\n\t\tthis.handleMenuOpen = this.handleMenuOpen.bind(this);\n\t\tthis.handleMenuClose = this.handleMenuClose.bind(this);\n\t\tthis.handleDefinationChange = this.handleDefinationChange.bind(this);\n\t\tthis.handleOnAggregatesLoad = this.handleOnAggregatesLoad.bind(this);\n\t}\n\n\thandleMenuOpen = event => {\n\t\tlet menuAnchorMenuEl = event.currentTarget;\n\t\tthis.setState(state => ({ menuAnchorEl: menuAnchorMenuEl }));\n\t};\n\n\thandleMenuClose() {\n\t\tthis.setState(state => ({ menuAnchorEl: null }));\n\t}\n\n\thandleDefinationChange = name => event => {\n\t\tthis.setState(state => ({\n\t\t\tmenuAnchorEl: null,\n\t\t\tdefination: state.definations[name],\n\t\t}));\n\t};\n\n\thandleOnAggregatesLoad(aggregates) {\n\t\tthis.setState(state => ({ aggregates: aggregates }));\n\t}\n\n\trender() {\n\t\tconst { classes, auth, definations, services, contexts,  gridSize, theme, chartType } = this.props;\n\n\t\treturn (\n\t\t\t<Card outlineColor=\"#cfd8dc\">\n\t\t\t\t<CardHeader\n\t\t\t\t\tavatar={\n\t\t\t\t\t\t<Avatar\n\t\t\t\t\t\t\taria-label={this.state.defination.label}\n\t\t\t\t\t\t\tstyle={{ background: this.state.defination.color }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{this.state.defination.icon}\n\t\t\t\t\t\t</Avatar>\n\t\t\t\t\t}\n\t\t\t\t\ttitle={this.state.defination.label}\n\t\t\t\t\tsubheader=\"Aggregates Overview\"\n\t\t\t\t\taction={(\n\t\t\t\t\t\tcontexts.length > 1 && <div>\n\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\taria-label=\"menuicon\"\n\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\tclassName={classes.margin}\n\t\t\t\t\t\t\t\tonClick={this.handleMenuOpen}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{\" \"}\n\t\t\t\t\t\t\t\t<MenuIcon />{\" \"}\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t<Menu\n\t\t\t\t\t\t\t\tid=\"definations-menu\"\n\t\t\t\t\t\t\t\tanchorEl={this.state.menuAnchorEl}\n\t\t\t\t\t\t\t\tkeepMounted\n\t\t\t\t\t\t\t\topen={Boolean(this.state.menuAnchorEl)}\n\t\t\t\t\t\t\t\tonClose={this.handleMenuClose}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{Object.entries(this.state.definations).map(\n\t\t\t\t\t\t\t\t\t([name, defination], index) => (\n\t\t\t\t\t\t\t\t\t\t!defination.access.restricted(auth.user) && defination.access.view.summary(auth.user) && name in services && contexts.includes(name) && <MenuItem\n\t\t\t\t\t\t\t\t\t\t\tonClick={this.handleDefinationChange(\n\t\t\t\t\t\t\t\t\t\t\t\tname\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\tkey={\"aggregate-\" + defination.name}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t{defination.label}{\" \"}\n\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Menu>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t></CardHeader>\n\t\t\t\t<CardContent className=\"p-0 m-0\">\n\t\t\t\t\t<GridContainer\n\t\t\t\t\t\tclassName={classes.fullHeight}\n\t\t\t\t\t\tdirection=\"column\"\n\t\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\t\talignItems=\"center\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<GridContainer className=\"p-0 m-0\">\n\t\t\t\t\t\t\t<GridItem xs={12}>\n\t\t\t\t\t\t\t\t<GridContainer\n\t\t\t\t\t\t\t\t\tstyle={{ height: \"100%\" }}\n\t\t\t\t\t\t\t\t\tdirection=\"column\"\n\t\t\t\t\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\t\t\t\t\talignItems=\"center\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{chartType === \"pie\" && <AggregatesPieChart\n\t\t\t\t\t\t\t\t\t\tdefination={this.state.defination}\n\t\t\t\t\t\t\t\t\t\tservice={\n\t\t\t\t\t\t\t\t\t\t\tservices[this.state.defination.name]\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tcolor={\n\t\t\t\t\t\t\t\t\t\t\tthis.state.defination.color\n\t\t\t\t\t\t\t\t\t\t\t\t? this.state.defination.color\n\t\t\t\t\t\t\t\t\t\t\t\t: colors.hex.primary\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tonLoadAggregates={\n\t\t\t\t\t\t\t\t\t\t\tthis.handleOnAggregatesLoad\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tmonochrome\n\t\t\t\t\t\t\t\t\t\tshowTitle\n\t\t\t\t\t\t\t\t\t\tshowMenu\n\t\t\t\t\t\t\t\t\t\tdynamic\n\t\t\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t\t\t\t{chartType === \"bar\" && <AggregatesBarChart\n\t\t\t\t\t\t\t\t\t\tdefination={this.state.defination}\n\t\t\t\t\t\t\t\t\t\tservice={\n\t\t\t\t\t\t\t\t\t\t\tservices[this.state.defination.name]\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tcolor={\n\t\t\t\t\t\t\t\t\t\t\tthis.state.defination.color\n\t\t\t\t\t\t\t\t\t\t\t\t? this.state.defination.color\n\t\t\t\t\t\t\t\t\t\t\t\t: colors.hex.primary\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tonLoadAggregates={\n\t\t\t\t\t\t\t\t\t\t\tthis.handleOnAggregatesLoad\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tmonochrome\n\t\t\t\t\t\t\t\t\t\tshowTitle\n\t\t\t\t\t\t\t\t\t\tshowMenu\n\t\t\t\t\t\t\t\t\t\tdynamic\n\t\t\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t\t\t</GridContainer>\n\t\t\t\t\t\t\t</GridItem>\n\t\t\t\t\t\t\t<GridItem xs={12}>\n\t\t\t\t\t\t\t\t<GridContainer\n\t\t\t\t\t\t\t\t\tclassName=\"center\"\n\t\t\t\t\t\t\t\t\tdirection=\"column\"\n\t\t\t\t\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\t\t\t\t\talignItems=\"center\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\t\tcolor=\"grey\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"body2\"\n\t\t\t\t\t\t\t\t\t\tgutterBottom\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tAggregates Index\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t{this.state.aggregates.length === 0 && (\n\t\t\t\t\t\t\t\t\t\t<FolderIcon fontSize=\"large\" />\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t{this.state.aggregates.map(\n\t\t\t\t\t\t\t\t\t\t(aggregate, index) => (\n\t\t\t\t\t\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\t\t\t\t\t\tbadgeContent={aggregate.count}\n\t\t\t\t\t\t\t\t\t\t\t\tcolor={aggregate.color}\n\t\t\t\t\t\t\t\t\t\t\t\ttextColor={colors.hex.inverse}\n\t\t\t\t\t\t\t\t\t\t\t\tkey={\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.state.defination.name +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"-aggregate-\" +\n\t\t\t\t\t\t\t\t\t\t\t\t\tindex\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"default\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"subtitle1\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tcomponent=\"h3\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tgutterBottom\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{aggregate.label}\n\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</GridContainer>\n\t\t\t\t\t\t\t</GridItem>\n\t\t\t\t\t\t</GridContainer>\n\t\t\t\t\t</GridContainer>\n\t\t\t\t</CardContent>\n\t\t\t\t<CardActions>\n\t\t\t\t\t<GridContainer className=\"p-0 m-0\">\n\t\t\t\t\t\t<GridItem xs={12}>\n\t\t\t\t\t\t\t<Typography variant=\"body2\">\n\t\t\t\t\t\t\t\t{this.state.defination.label} by Aggregates\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</GridItem>\n\t\t\t\t\t</GridContainer>\n\t\t\t\t</CardActions>\n\t\t\t</Card>\n\t\t);\n\t}\n}\n\nCompactAggregatesOverview.propTypes = {\n\tclasses: PropTypes.object.isRequired,\n\tgridSize: PropTypes.number,\n\tchartType: PropTypes.string,\n\tcontexts:  PropTypes.array,\n\taggregates: PropTypes.array,\n};\n\nCompactAggregatesOverview.defaultProps = {\n\tgridSize: 12,\n\tchartType: \"pie\",\n\tcontexts: [\"commissions\", \"surveys\", \"responses\"],\n\taggregates: []\n};\n\nconst mapStateToProps = state => ({\n\tauth: state.auth,\n});\n\nexport default withGlobals(compose(\n\twithStyles(styles),\n\tconnect(mapStateToProps, {}),\n\twithErrorHandler\n)(CompactAggregatesOverview));\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M9.17 6l2 2H20v10H4V6h5.17M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z\"\n}), 'FolderOutlined');\n\nexports.default = _default;"],"sourceRoot":""}