(this.webpackJsonpdashboard=this.webpackJsonpdashboard||[]).push([[1],{2079:function(e){e.exports=JSON.parse('["Accounting","Actuarial Science","Aeronautical Engineering","Agriculture","Analytical Chemistry","Animal Health","Animation","Anthropology","Architecture","Automotive Engineering","Baking","Bioengineering","Biostatistics","Biosystems Engineering","Business","Chemistry","Civil Engineering","Clinical Medicine","Communication","Communications","Community Health","Community Resource Management","Conservation","Construction Management","Cooperative Management","Criminology","Crop Management","Development Studies","Disaster Managerment","Economics","Education","Engineering","English","Entrepreneurship","Environment","Film","Finance","Forestry","Gender","Geography","Geospatial Information Systems","History","Horticulture","Human Resources","Humanities","ICT","IR","Linguistics","Linguitsics","Literature","Logistics","Management","Marine Resources","Marketing","Media","Medicine","Meteorology","Microbiology","Natural Resource Management","Nursing","Operations Management","Penology","Petroleum Chemistry","Phsyics","Politics","Procurement","Psychology","Purchasing","Range Management","Remote Sensing","Renewable Energy","Rural Development","Sociology","Software Engineering","Statistics","Supply Chain","Surgery","Trade","Veterinary Medicine"]')},2080:function(e){e.exports=JSON.parse('["Agriculture","Architecture","Business Administration","Communication","Communications","Criminology","Culinary Arts","Earth Sciences","Economics","Education","Energy","Engineering","Environmental Science","Environmental Sciences","Geography","Humanities","ICT","Linguistics","Media","Medicine","Meteorology","Modern Languages","Natural Resource Management","Natural Resources","Natural Sciences","Public Health","Rural Development","Security Studies","Social Science","Social Sciences","Statistics","Veterinary Sciences"]')},2084:function(e,t,a){"use strict";var n=a(1),o=a.n(n),l=a(17),c=a(13),r=a(9),i=a(298),s=a(1067),d=a(2025),u=a(273),b=a(3),p=a(748),j=a(33),h=a(99),m=a(0),g="start",f=function(e){var t=e.onSubmit,a=(e.title,e.description),o=Object(h.h)({name:"projectcomposer",defaultValues:{stage:g}}),r=(o.trigger,o.register),i=o.Field,s=o.TextField,d=o.Select,f=(o.getValues,o.setValue),x=o.values,O=o.formState,v=o.handleSubmit,y=O.isValid,C=(O.isSubmitted,JSON.getDeepPropertyValue("stages.".concat(g),x||{})||{}),S=Object(n.useMemo)((function(){return JSON.getDeepPropertyValue("complete_stages",x)||[]}),[x]),N=(Object(n.useRef)(S),Object(n.useCallback)((function(e,t){f(e,t)}),[])),w=Object(n.useCallback)((function(e){return function(t){N(e,t)}}),[]),k=Object(n.useCallback)((function(e){return function(t){N(e,t.target.value)}}),[]),P=(Object(n.useCallback)((function(e){return function(t,a){N(e,a)}}),[]),Object(n.useCallback)((function(e){return function(t){N(e,t.target.value)}}),[])),M=Object(n.useCallback)((function(e){Function.isFunction(t)&&t(C)}),[y,C,t]);return Object(m.jsxs)(l.a,{children:[Object(m.jsx)(c.a,{className:"p-6 flex flex-row justify-end"}),!!a&&Object(m.jsx)(c.a,{className:"flex flex-col items-start py-8",children:Object(m.jsx)(u.a,{variant:"body2",children:a})}),Object(m.jsx)(c.a,{children:Object(m.jsxs)(l.a,{children:[Object(m.jsx)(c.a,{md:6,className:"py-8",children:Object(m.jsx)(s,{label:"First Name",name:"stages.".concat(g,".first_name"),defaultValue:(null===C||void 0===C?void 0:C.first_name)||"",onChange:k("stages.".concat(g,".first_name")),rules:{required:"Please enter your First Name."},variant:"filled",required:!0,fullWidth:!0})}),Object(m.jsx)(c.a,{md:6,className:"py-8",children:Object(m.jsx)(s,{label:"Last Name",name:"stages.".concat(g,".last_name"),defaultValue:(null===C||void 0===C?void 0:C.last_name)||"",onChange:k("stages.".concat(g,".last_name")),rules:{required:"Last Name is required."},variant:"filled",required:!0,fullWidth:!0})}),Object(m.jsx)(c.a,{md:6,className:"py-8",children:Object(m.jsx)(s,Object(b.a)(Object(b.a)({label:"Email"},r("stages.".concat(g,".email_address"),{required:"Email is required.",pattern:{value:/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,message:"Invalid Email"}})),{},{onChange:k("stages.".concat(g,".email_address")),variant:"filled",required:!0,fullWidth:!0}))}),Object(m.jsx)(c.a,{md:6,className:"py-8",children:Object(m.jsx)(s,Object(b.a)(Object(b.a)({label:"Phone",placeholder:"(Country Code) Telephone"},r("stages.".concat(g,".phone"),{required:"Phone is required.",minLength:{value:10,message:"Phone is too short"}})),{},{onChange:k("stages.".concat(g,".phone")),variant:"filled",required:!0,fullWidth:!0}))}),Object(m.jsx)(c.a,{md:12,className:"py-8",children:Object(m.jsx)(d,{name:"stages.".concat(g,".survey_type"),label:"Survey Type",defaultValue:C.survey_type||"Qualititive",onChange:P("stages.".concat(g,".survey_type")),options:{Qualititive:"Qualititive",Quantitative:"Quantitative"},sx:{width:"100%"},variant:"filled",required:!0})}),Object(m.jsx)(c.a,{md:6,className:"py-8",children:Object(m.jsx)(i,{label:"Start Date",name:"stages.".concat(g,".start_date"),defaultValue:(null===C||void 0===C?void 0:C.start_date)||(new Date).addDays(7),onChange:w("stages.".concat(g,".start_date")),component:j.l,required:!0})}),Object(m.jsx)(c.a,{md:6,className:"py-8",children:Object(m.jsx)(i,{label:"End Date",name:"stages.".concat(g,".end_date"),defaultValue:(null===C||void 0===C?void 0:C.end_date)||(new Date).addDays(14),onChange:w("stages.".concat(g,".end_date")),component:j.l,required:!0})})]})}),Object(m.jsx)(c.a,{className:"flex flex-col items-center py-20 mb-12",children:Object(m.jsx)(p.a,{onClick:v(M),disabled:!y,color:"accent",variant:"contained",children:"Ok. Ready to continue"})})]})},x="description",O=function(e){var t=e.onSubmit,a=(e.title,e.description),o=Object(h.h)({name:"projectcomposer",defaultValues:{stage:x}}),r=(o.Field,o.TextField),i=o.formState,s=o.setValue,d=o.values,j=o.register,g=o.handleSubmit,f=JSON.getDeepPropertyValue("stages.".concat(x),d||{})||{},O=Object(n.useMemo)((function(){return JSON.getDeepPropertyValue("complete_stages",d)||[]}),[d]),v=(Object(n.useRef)(O),i.errors,i.isValid),y=Object(n.useCallback)((function(e,t){s(e,t)}),[]),C=Object(n.useCallback)((function(e){return function(t){y(e,t.target.value)}}),[]),S=Object(n.useCallback)((function(e){Function.isFunction(t)&&t(f)}),[v,f,t]);return Object(m.jsxs)(l.a,{children:[!!a&&Object(m.jsx)(c.a,{className:"flex flex-col items-start py-8",children:Object(m.jsx)(u.a,{variant:"body2",children:a})}),Object(m.jsx)(c.a,{className:"py-12",children:Object(m.jsxs)(l.a,{children:[Object(m.jsx)(c.a,{md:12,className:"py-8",children:Object(m.jsx)(r,Object(b.a)(Object(b.a)({label:"Project Name",placeholder:"This is the Project Title"},j("stages.".concat(x,".project_name"),{required:"Project Name is required."})),{},{onChange:C("stages.".concat(x,".project_name")),variant:"filled",required:!0,fullWidth:!0}))}),Object(m.jsx)(c.a,{md:12,className:"py-8",children:Object(m.jsx)(r,Object(b.a)(Object(b.a)({label:"Project Summary"},j("stages.".concat(x,".project_summary"),{required:"Project Summary is required."})),{},{onChange:C("stages.".concat(x,".project_summary")),helperText:"Please give us a short description of your project",variant:"filled",multiline:!0,rows:8,required:!0,fullWidth:!0}))}),Object(m.jsx)(c.a,{md:12,className:"py-8",children:Object(m.jsx)(r,Object(b.a)(Object(b.a)({label:"Project Objectives"},j("stages.".concat(x,".project_objectives"),{required:"Project Objectives is required."})),{},{onChange:C("stages.".concat(x,".project_objectives")),helperText:"Please give us a short description of your project",variant:"filled",multiline:!0,rows:12,required:!0,fullWidth:!0}))})]})}),Object(m.jsx)(c.a,{className:"flex flex-col items-center py-20 mb-12",children:Object(m.jsx)(p.a,{onClick:g(S),disabled:!v,color:"accent",variant:"contained",children:"Great. Nearly there"})})]})},v=a(969),y="scope",C=function(e){var t=e.onSubmit,a=(e.title,e.description),o=Object(h.h)({name:"projectcomposer",defaultValues:{stage:y}}),r=o.handleSubmit,i=o.Field,s=o.RadioGroup,d=o.values,b=o.setValue,j=(o.getValues,o.formState.isValid),g=JSON.getDeepPropertyValue("stages.".concat(y),d||{})||{},f=Object(n.useCallback)((function(e,t){b(e,t)}),[]),x=(Object(n.useCallback)((function(e){return function(t){f(e,t)}}),[]),Object(n.useCallback)((function(e){return function(t){f(e,t.target.value)}}),[]),Object(n.useCallback)((function(e){return function(t,a){f(e,a)}}),[]),Object(n.useCallback)((function(e){return function(t){f(e,t)}}),[])),O=Object(n.useCallback)((function(e){return function(t){f(e,t.target.value)}}),[]),C=Object(n.useCallback)((function(e){Function.isFunction(t)&&t(g)}),[j,g,t]);return Object(m.jsxs)(l.a,{children:[!!a&&Object(m.jsx)(c.a,{className:"flex flex-col items-start py-8",children:Object(m.jsx)(u.a,{variant:"body2",children:a})}),Object(m.jsx)(c.a,{className:"py-12",children:Object(m.jsxs)(l.a,{children:[Object(m.jsx)(c.a,{md:12,className:"py-8",children:Object(m.jsx)(i,{name:"stages.".concat(y,".questions"),label:"Upload Questions",helperText:"Accepted Formats: doc, docx, csv, xlsx, xls, pdf",defaultValue:(null===g||void 0===g?void 0:g.questions)||[],component:v.a,onChange:x("stages.".concat(y,".questions")),variant:"filled",accept:".doc,.docx,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.ms-excel,application/vnd.ms-powerpoint,text/plain,application/pdf",filesLimit:20,rules:{validate:{isNotEmpty:function(e){return!Array.isEmpty(e)||"Questions Upload is Required"}}},required:!0})}),Object(m.jsx)(c.a,{md:12,className:"py-8",children:Object(m.jsx)(s,{name:"stages.".concat(y,".data_gathering_format"),label:"Data gathering format",defaultValue:(null===g||void 0===g?void 0:g.data_gathering_format)||"",onChange:O("stages.".concat(y,".data_gathering_format")),"aria-label":"data-gathering-format",options:{Written:"Written",Audio:"Audio",Video:"Video"},rules:{validate:{isNotEmpty:function(e){return!String.isEmpty(e)||"Data gathering format is Required"}}},required:!0})})]})}),Object(m.jsx)(c.a,{className:"flex flex-col items-center  py-8",children:Object(m.jsx)(p.a,{onClick:r(C),disabled:!j,color:"accent",variant:"contained",children:"Now Select the Regions"})})]})},S=a(5),N=a(369),w=a(34),k=a(28),P=a(36),M=a(2047),A=a(746),_=a(18),R=a(1820),V=a(2022),F=a(2065),T=a.n(F),L=a(2088),E=a.n(L),D=a(1819),G=a(1065),I=a(2019),B=a(23),J=(Object(_.a)("div")((function(e){return{height:"100%",position:"relative",backgroundColor:e.theme.palette.background.default}})),Object(_.a)(D.a)((function(e){return{backgroundColor:e.theme.palette.background.paper}})),Object(_.a)(D.a)((function(e){return{width:30,height:6,backgroundColor:e.theme.palette.divider,borderRadius:3,position:"absolute",top:8,left:"calc(50% - 15px)"}})),{0:"bg-blue-700",1:"bg-indigo-700",2:"bg-green-700",3:"bg-purple-700",4:"bg-yellow-700"}),q=o.a.forwardRef((function(e,t){var a=e.onChange,o=e.value,s=e.className,u=e.drawerOpen,b=Object(h.k)({invalid:!0,level:0,loading:!1,error:!1,drawerOpen:Boolean(u)}),p=Object(r.a)(b,2),j=p[0],g=p[1],f=Object(I.a)().height,x=Object(n.useMemo)((function(){return Math.round(.7*f)}),[f]),O=Object(n.useRef)(null),v=Object(n.useRef)(null),y=Object(n.useRef)(null),C=Object(n.useRef)(null),P=Object(h.d)(),_=Object(n.useRef)([]),R=Object(n.useCallback)((function(e){var t=new google.maps.LatLngBounds,a=[],n=[];e.getGeometry().forEachLatLng((function(e){a.push(e.lat()),n.push(e.lng())}));var o=Math.max.apply(null,a.map((function(e){return e}))),l=Math.max.apply(null,n.map((function(e){return e}))),c=Math.min.apply(null,a.map((function(e){return e}))),r=Math.min.apply(null,n.map((function(e){return e})));return t.extend({lat:c,lng:r}),t.extend({lat:o,lng:l}),t}),[]),F=(Object(n.useCallback)((function(e){var t=[],a=e.getProperty("level"),n="admin_level_".concat(a),o=e.getProperty(n);return v.current&&v.current.data.forEach((function(e){e.getProperty("level")>a&&e.getProperty(n)===o&&t.push(e)})),t}),[]),Object(n.useCallback)((function(e){return R(e).getCenter()}),[])),L=Object(n.useCallback)((function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(v.current){if(C.current&&C.current.close(),clearTimeout(y.current),e.setProperty("isFocused",!0),t){var a=R(e);v.current.fitBounds(a)}e.getProperty("isSelected");for(var n=e.getProperty("admin_level"),o=e.getProperty("admin_level_type"),l=e.getProperty("name"),c=e.getProperty("population"),r=[],i='<span class="grey-text"> World </span>',s="",d=0;d<n;d++){var u=e.getProperty("admin_level_"+d);String.isEmpty(u)||(r.push(u),i+=' <span class="w-2 h-2 rounded default-text leading-none">-</span><span class="secondary-text ml-1">  '.concat(u,"</span>"))}var b=F(e);e.toGeoJson((function(e){var a=(P.geometryArea(e)/1e6).toFixed(2);s+='<p class="default-text leading-none"><i class="grey-text">Type:</i> &emsp; '.concat(o," </p>"),JSON.isJSON(c)&&(s+='<table>\n                        <tr class="bg-gray-50">\n                            <td colspan="4" scope="col" class="p-2 text-left text-xs text-gray-500 tracking-wider "> Population </td>\n                        </tr>\n                        <tr class="bg-gray-50">\n                            <td scope="col" class="p-2 text-left text-xs text-gray-400 tracking-wider "> Male </td>\n                            <td scope="col" class="p-2 text-left text-xs text-gray-400 tracking-wider "> Female </td>\n                            <td scope="col" class="p-2 text-left text-xs text-gray-400 tracking-wider "> Intersex </td>\n                            <td scope="col" class="p-2 text-left text-xs text-gray-600 tracking-wider font-semibold"> Total </td>\n                        </tr>\n                        <tr class="bg-white divide-y divide-gray-200">\n                            <td class="p-2 text-left text-xs text-gray-500 font-medium tracking-wider">'.concat(c.male,'</td>\n                            <td class="p-2 text-left text-xs text-gray-500 font-medium tracking-wider">').concat(c.female,'</td>\n                            <td class="p-2 text-left text-xs text-gray-500 font-medium tracking-wider">').concat(c.intersex,'</td>\n                            <td class="p-2 text-left text-xs text-gray-700 font-semibold tracking-wider">').concat(c.total,"</td>\n                        </tr>\n                    </table>")),C.current&&(C.current.setContent('\n                            <div class="infowindow ">\n                                '.concat(i,'\n                                <span class="w-2 h-2 rounded default-text">-</span>\n                                <span class="default-text">').concat(o,'</span>\n                                <h3 class="primary-text">').concat(l,'</h3>\n                                <p class="default-text"><i class="grey-text">Area:</i> &emsp; ').concat(a,' km<sup>2</sup></p>\n                                <p class="default-text"><i class="grey-text">Center:</i> &emsp; ').concat(b.lat().toFixed(3),", ").concat(b.lng().toFixed(3),"</p>\n                                ").concat(s,"\n                            </div>")),C.current.setPosition(b),C.current.setOptions({pixelOffset:new google.maps.Size(0,10)}),y.current=setTimeout((function(){v.current&&C.current.open(v.current)}),t?1e3:2e3))}))}}),[]),D=Object(n.useCallback)((function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(v.current){var a=e.properties.admin_level,n="admin_level_".concat(a),o=e.properties[n];v.current.data.forEach((function(e){e.getProperty("admin_level")===a&&e.getProperty(n)===o?L(e,t):e.setProperty("isFocused",!1)}))}}),[]),q=Object(n.useCallback)((function(e){var t=-1;if(Array.isArray(o)&&!JSON.isEmpty(e.properties))for(var a=e.properties.admin_level,n=e.properties.name,l=0;l<o.length;l++)if(-1===t&&o[l].properties.admin_level===a&&o[l].properties.name===n){t=l;break}return t}),[]),z=Object(n.useCallback)(Function.debounce((function(e){var t=e.getProperty("admin_level"),a=(e.getProperty("admin_level_type"),e.getProperty("name"));if(v.current){var n,o=R(e);v.current.fitBounds(o),g({loading:!0,level:t}),w.a.get("/geography/boundaries",{params:(n={},Object(S.a)(n,"admin_level_".concat(t),a),Object(S.a)(n,"admin_level",t+1),Object(S.a)(n,"pagination",300),n)}).then((function(e){var t=e.body.data;Array.isArray(t)&&(t.map((function(e){var t=e.type,a=e.geometry,n=Object(k.a)(e,["type","geometry"]);return v.current.data.addGeoJson({type:t,geometry:a,properties:n})})),v.current.data.forEach((function(e){e.getProperty("admin_level");var t=e.getProperty("name");e.getProperty("isSelected")||t===a?t!==a&&e.setProperty("isFocused",!0):e.setProperty("isFocused",!1)})))})).catch((function(e){console.error(e)})).finally((function(){return g({loading:!1})}))}}),250),[j.level]),W=Object(n.useCallback)((function(e){var t=e.properties.admin_level,n="admin_level_".concat(t),l=e.properties.name,c=q(e),r=Array.isArray(o)?o:[];Array.isArray(r)||(r=[]),c>-1?r=r.remove(c):r.push(e),v.current&&v.current.data.forEach((function(e){if(e.getProperty("admin_level")===t&&e.getProperty("name")===l){var a=e.getProperty("isSelected"),o=!(c>=0);o!==a&&e.setProperty("isSelected",o)}else e.getProperty(n)===l&&e.getProperty("isSelected")&&e.toGeoJson((function(e){return W(e)}))})),Function.isFunction(a)&&a(r)}),[a,o]),H=Object(n.useCallback)((function(e){e.toGeoJson((function(e){W(e)}))}),[]),K=Object(n.useCallback)(Function.debounce((function(e){e.domEvent.ctrlKey||e.domEvent.shiftKey?H(e.feature):z(e.feature)}),250),[]),U=Object(n.useCallback)(Function.debounce((function(e){var t=e.feature.getProperty("admin_level");g((function(e){return{level:t}}))}),250),[]),Z=Object(n.useCallback)((function(e){L(e.feature,!1)}),[j.level]),Y=Object(n.useCallback)((function(e){v.current&&(e.feature.setProperty("isFocused",!1),C.current&&C.current.close(),clearTimeout(y.current))}),[j.level]),Q=Object(n.useCallback)((function(){v.current&&Array.isArray(o)&&(o.forEach((function(e){e.properties.admin_level;var t=e.properties.admin_level_type,a=e.properties.name,n="".concat(t,"_").concat(a);_.current.includes(n)||(_.current.push(n),e.properties.isFocused=!1,v.current.data.addGeoJson(e))})),v.current.data.forEach((function(e){var t=e.getProperty("isSelected");e.toGeoJson((function(a){var n=q(a);(-1===n&&t||n>=0&&!t)&&e.setProperty("isSelected",!t)}))})))}),[o]),X=Object(n.useCallback)((function(e){var t=e.feature.getProperty("admin_level"),a=e.feature.getProperty("admin_level_type"),n=e.feature.getProperty("name"),o="".concat(a,"_").concat(n);t>=0&&!_.current.includes(o)&&_.current.push(o),v.current&&v.current.data.overrideStyle(e.feature,{zIndex:t,title:"".concat(n," (").concat(a,")"),label:"".concat(n," (").concat(a,")")})}),[]),$=Object(n.useCallback)((function(e){v.current=e,v.current&&(C.current=new google.maps.InfoWindow,v.current.data.setStyle((function(e){var t="gray",a=.5,n="gray",o=0,l=e.getProperty("isFocused"),c=e.getProperty("isSelected");return l&&(t="gray",n=B.l,a=1.5,o=.1),c&&(t=B.a,n=l?B.l:B.y,a=2,o=.9),{fillColor:t,strokeColor:n,strokeWeight:a,fillOpacity:o}})),v.current.data.addListener("dblclick",U),v.current.data.addListener("click",K),v.current.data.addListener("mouseover",Z),v.current.data.addListener("mouseout",Y),v.current.data.addListener("addfeature",X),Q(),g({loading:!0}),w.a.get("/geography/boundaries",{params:{admin_level_type:"Country",pagination:300}}).then((function(e){var t=e.body.data;Array.isArray(t)&&t.map((function(e){var t=e.type,a=e.geometry,n=Object(k.a)(e,["type","geometry"]);return v.current.data.addGeoJson({type:t,geometry:a,properties:n})}))})).catch((function(e){console.error(e)})).finally((function(){return g({loading:!1})})))}),[]),ee=(Object(n.useCallback)((function(e){P.getCenterCoordinates(e),e.properties.admin_level_type;var t=P.getAdminLevelName(e);return"".concat(t)}),[]),Object(n.useCallback)((function(e){return function(){return W(e)}}),[])),te=Object(n.useCallback)((function(e){return function(){D(e)}}),[]);return Object(m.jsxs)(l.a,{className:"relative p-0 ".concat(s||""),ref:O,children:[Object(m.jsx)(c.a,{xs:12,className:"p-0",children:Object(m.jsx)(N.a,{zoom:6,showCurrentPosition:!0,onMapLoad:$,className:"p-0",height:x})}),!j.drawerOpen&&Object(m.jsxs)(M.a,{className:"absolute m-2 bottom-8 left-8","aria-label":"show selections",variant:"extended",size:"medium",onClick:function(){return g({drawerOpen:!0})},sx:{backgroundColor:function(e){return e.palette.background.paper},color:function(e){return e.palette.accent.main}},children:[!j.loading&&Object(m.jsx)(T.a,{size:18,className:"mr-4"}),j.loading&&Object(m.jsx)(G.a,{color:"accent",size:18,className:"mr-4"}),"Selections"]}),(null===o||void 0===o?void 0:o.length)>0&&j.drawerOpen&&Object(m.jsxs)(c.a,{xs:12,className:"absolute drop-shadow m-2 bottom-0 left-0 right-0 blur-bg-sm flex flex-row p-4 ",sx:{backgroundColor:function(e){return e.palette.background.paper}},children:[Object(m.jsx)("div",{className:"p-0 flex flex-row flex-wrap flex-grow",children:o.map((function(e,t){var a;return Object(m.jsx)(d.a,{title:e.properties.admin_level_type||"Unknown","aria-label":e.properties.admin_level_type||"Unknown",children:Object(m.jsx)(V.a,{className:"m-1",classes:{deleteIcon:"text-gray-600 hover:text-red-600 text-base ml-2 mr-2"},avatar:Object(m.jsx)(A.a,{className:"".concat(J[null===(a=e.properties)||void 0===a?void 0:a.admin_level]," text-white mx-1"),sx:{bgcolor:function(e){return"".concat(e.palette.background.paper)}},children:(e.properties.admin_level_type||"Unknown").charAt(0).toUpperCase()}),label:e.properties.name,onDelete:ee(e),onClick:te(e)})},"value_"+t)}))}),Object(m.jsx)("div",{className:"p-4",children:Object(m.jsx)(i.a,{color:"warning","aria-label":"hide selections",onClick:function(){return g({drawerOpen:!1})},children:Object(m.jsx)(E.a,{})})})]})]})})),z=o.a.forwardRef((function(e,t){var a=e.className,n=e.readOnly,o=e.disabled,l=e.helperText,c=e.error,r=e.variant,i=e.label,s=e.required,d=Object(k.a)(e,["className","readOnly","disabled","helperText","error","variant","label","required"]);return Object(m.jsx)(R.a,{InputLabelProps:{shrink:!0},InputProps:{inputComponent:q,inputProps:Object(b.a)(Object(b.a)({},d),{},{className:"cursor-pointer"}),classes:{}},className:"".concat(a||""," cursor-pointer"),variant:r,readOnly:n,disabled:o,helperText:l,error:c,label:i,required:s,fullWidth:!0,multiline:!0,ref:t})})),W="target",H=function(e){var t=e.onChange,a=e.onSubmit,o=(e.title,e.description),i=Object(h.h)({name:"projectcomposer",defaultValues:{stage:W}}),s=i.Select,d=i.formState,u=i.TextField,j=i.Field,g=i.values,f=i.setValue,x=i.register,O=i.handleSubmit,v=Object(n.useRef)(null),y=Object(h.k)({invalid:!0,level:0,loading:!1}),C=Object(r.a)(y,2),N=(C[0],C[1],JSON.getDeepPropertyValue("stages.".concat(W),g||{})||{}),w=Object(n.useMemo)((function(){return JSON.getDeepPropertyValue("regions",N)||[]}),[N]),k=Object(n.useMemo)((function(){return JSON.getDeepPropertyValue("confidence_level",N)}),[N]),P=Object(n.useMemo)((function(){return JSON.getDeepPropertyValue("error_margin",N)}),[N]),M=Object(n.useMemo)((function(){return JSON.getDeepPropertyValue("sample_size",N)}),[N]),A=Object(n.useMemo)((function(){return JSON.getDeepPropertyValue("standard_deviation",N)||.5}),[N]),_=Object(n.useMemo)((function(){return JSON.getDeepPropertyValue("finite_population_sample_size",N)}),[N]),R=(d.errors,d.isValid);Object(h.a)((function(){}));var V=Object(n.useCallback)((function(e){var t=e.standard_deviation||.5,a=0;if(Array.isArray(e.regions)&&e.regions.length>0&&e.regions.map((function(e){var t,n,o=parseFloat((null===e||void 0===e||null===(t=e.properties)||void 0===t||null===(n=t.population)||void 0===n?void 0:n.total)||0);NaN!==o&&o>0&&(a+=o)})),e.confidence_level>0&&e.error_margin>0){var n=Math.pow(e.confidence_level,2)*(t*(1-t))/Math.pow(e.error_margin,2);if(n=Math.round(n),a>0){var o=n/(1+(n-1)/a);o=Math.round(o),f("stages.".concat(W,".finite_population_sample_size"),o)}n!==e.sample_size&&f("stages.".concat(W,".sample_size"),n)}else f("stages.".concat(W,".sample_size"),0)}),[]),F=Object(n.useCallback)((function(e,a){f(e,a),V(Object(b.a)(Object(b.a)({},N),{},Object(S.a)({},e,a))),Function.isFunction(t)&&t(e,a)}),[t,N]),T=Object(n.useCallback)((function(e){Function.isFunction(a)&&a(N)}),[R,N,a]);return Object(m.jsxs)(l.a,{className:"relative p-0",children:[Object(m.jsx)(c.a,{xs:12,className:"p-0 ",children:Object(m.jsx)(j,{name:"stages.".concat(W,".regions"),label:"Regions",rules:{validate:{isNotEmpty:function(e){return!Array.isEmpty(e)||"Regions are Required"}}},defaultValue:w,component:z,helperText:o,variant:"filled",multiline:!0,fullWidth:!0})}),Object(m.jsx)(c.a,{xs:12,md:4,className:"pt-8",children:Object(m.jsx)(s,Object(b.a)(Object(b.a)({name:"stages.".concat(W,".confidence_level"),label:"Confidence Level"},x("stages.".concat(W,".confidence_level"),{required:"Confidence level is required."})),{},{defaultValue:k,onChange:function(e){return F("stages.".concat(W,".confidence_level"),e.target.value)},variant:"filled",options:{1.28:"80%",1.44:"85%",1.65:"90%",1.96:"95%",2.58:"99%"},sx:{width:"100%"}}))}),Object(m.jsx)(c.a,{xs:12,md:4,className:"pt-8",children:Object(m.jsx)(s,{name:"stages.".concat(W,".error_margin"),label:"Error Margin",rules:{required:"Error margin level is required."},defaultValue:P,onChange:function(e){return F("stages.".concat(W,".error_margin"),e.target.value)},variant:"filled",options:{.01:"1%",.02:"2%",.03:"3%",.04:"4%",.05:"5%"},sx:{width:"100%"}})}),Object(m.jsx)(c.a,{xs:12,md:4,className:"pt-8",children:Object(m.jsx)(u,Object(b.a)(Object(b.a)({},x("stages.".concat(W,".sample_size"),{required:"Sample Size is required."})),{},{inputProps:{inputMode:"numeric",pattern:"[0-9]*"},label:"Sample Size",type:"number",defaultValue:M,inputRef:v,helperText:"Calculated from the confidence level, margin of error and standard deviation of ".concat(A,". ").concat(_?"Finite Population Sample size: "+_:""),variant:"filled",onChange:function(e){return F("stages.".concat(W,".sample_size"),e.target.value)},readOnly:!0,fullWidth:!0}))}),Object(m.jsx)(c.a,{xs:12,className:"flex flex-col items-center py-12",children:Object(m.jsx)(p.a,{onClick:O(T),disabled:!R,color:"accent",variant:"contained",children:"Ok. Next Select your Workforce"})})]})},K=a(73),U=a(1995),Z=a(2104),Y=a.n(Z),Q=a(2083),X=function(e){var t=e.data,a=e.cellRenderer,o=e.gutterSize,l=void 0===o?10:o,c=e.itemWidth,i=void 0===c?100:c,s=e.itemHeight,d=void 0===s?100:s,u=e.columnCount,p=void 0===u?3:u,j=e.onScrollToEnd,g=(e.scrollElement,Object(k.a)(e,["data","cellRenderer","gutterSize","itemWidth","itemHeight","columnCount","onScrollToEnd","scrollElement"])),f=Object(h.k)({horizontalOverscanSize:0,scrollToCell:void 0,verticalOverscanSize:0}),x=Object(r.a)(f,2),O=(x[0],x[1],t.length),v=Math.ceil(O/p),y=v*d,C=p*i+l*(2*p),S=Object(n.useRef)([]),N=Object(n.useRef)([]),w=Object(n.useRef)(null),P=(Object(n.useCallback)((function(e){var a=e.index,n=a%(p||1),o=t[a%t.length],c=o.height||d,r=o.width||i,s=N.current[n]||n*r+l*n+l,u=(S.current[n]||0)+l;return N.current[n]=s,S.current[n]=u+c,{height:c,width:r,x:s,y:u}}),[t,p,l,i,d]),Object(n.useCallback)((function(e){var t,a,n=e.clientHeight,o=e.clientWidth,l=e.scrollHeight,c=e.scrollLeft,r=e.scrollTop,i=(null===(t=w.current)||void 0===t?void 0:t._positionFromTop)||0,s=(null===(a=w.current)||void 0===a?void 0:a._positionFromLeft)||0,u=l-(r+(n+i));u>0&&u<=d&&Function.isFunction(j)&&j({topOffset:i,leftOffset:s,clientHeight:n,clientWidth:o,scrollHeight:l,scrollLeft:c,scrollTop:r})}),[j,d,i])),M=Object(n.useCallback)((function(e){var t=e.rowIndex,n=e.columnIndex,o=Object(k.a)(e,["rowIndex","columnIndex"]);if(Function.isFunction(a)){var l=n+t*p;return a(Object(b.a)(Object(b.a)({rowIndex:t,columnIndex:n},o),{},{index:l}))}}),[p,a]);return Object(m.jsx)(Q.b,Object(b.a)({cellRenderer:M,columnCount:p,columnWidth:i,rowCount:v,rowHeight:d,onScroll:function(e){P(e)},height:y,width:C},g))},$=a(2172),ee=a(282),te=a(1822),ae=(a(487),a(2175)),ne=a(2174),oe=a(2017),le=a(2157),ce=function(e){e.className;var t,a=e.selected,o=e.onSelect,l=e.onDeselect,c=e.fielder,i=e.onClickGender,s=e.onClickCourse,p=Object(k.a)(e,["className","selected","onSelect","onDeselect","fielder","onClickGender","onClickCourse"]),j=c||{},g=j.avatar,f=j.icon,x=j.first_name,O=j.course,v=j.rating,y=j.gender,C=(j.education,Object(h.g)(g?"https://api.realfield.io/attachments/download/"+g:w.a.endpoint("/public/img/avatars/"+f+".png"),w.a.endpoint("/public/img/avatars/"+f+".png"))),N=Object(r.a)(C,2),P=(N[0],N[1].ref),M=Object(n.useMemo)((function(){return{inputProps:{"aria-label":a?"Unselect ".concat(x):"Select ".concat(x)}}}),[a,x]),A=Object(n.useCallback)((function(e){a?Function.isFunction(l)&&l(c):Function.isFunction(o)&&o(c)}),[o,l,a,c]);return Object(m.jsxs)(te.a,Object(b.a)(Object(b.a)({elevation:5,sx:{},className:"m-1 block relative"},p),{},{children:[Object(m.jsx)(ae.a,{component:"img",className:"h-80 object-cover",image:g?"https://api.realfield.io/attachments/download/"+g:w.a.endpoint("/public/img/avatars/"+f+".png"),ref:P,alt:x}),Object(m.jsxs)(ne.a,{className:"px-2 flex flex-row items-center absolute bottom-0 left-0 right-0 bottom-to-top-fading-dark-bg",children:[Object(m.jsxs)("div",{className:"flex-1 flex flex-col",children:[Object(m.jsx)(u.a,{gutterBottom:!0,variant:"h5",className:"inverse-text",children:(x||"").replaceAll(" ","").humanize().truncate(30)}),Object(m.jsxs)("div",{className:"flex-1 flex flex-row flex-wrap mb-4",children:[!!y&&Object(m.jsx)(V.a,(t={className:"mx-1"},Object(S.a)(t,"className","accent inverse-text"),Object(S.a)(t,"label",y.humanize()),Object(S.a)(t,"size","small"),Object(S.a)(t,"onClick",i),t)),!!O&&Object(m.jsx)(d.a,{title:O.humanize(),children:Object(m.jsx)(V.a,{className:"mx-1",color:"secondary",label:O.humanize().truncate(10),size:"small",onClick:s})})]}),Object(m.jsx)(le.a,{name:"rating",defaultValue:v,size:"small",readOnly:!0})]}),Object(m.jsx)("div",{className:"flex-shrink",children:Object(m.jsx)(oe.a,Object(b.a)(Object(b.a)({},M),{},{checked:a,onChange:A,color:"primary",sx:{"& .MuiSvgIcon-root":{fontSize:28},color:"#FFFFFF"}}))})]})]}))},re=a(1066),ie=a(161),se=a(2024),de=a(1821),ue=a(2018),be=a(1063),pe=a(2103),je=a.n(pe),he=a(2012),me=a(1928),ge=a(2038),fe=a(2039),xe=a(2035),Oe=a(1923),ve=a(2176),ye=a(2163),Ce=a(2102),Se=a.n(Ce),Ne=a(1841),we=a.n(Ne),ke=a(716),Pe=a.n(ke),Me=a(2100),Ae=a.n(Me),_e=a(2101),Re=a.n(_e),Ve=a(2079),Fe=a(2080),Te=Object(_.a)(ye.a)((function(e){var t=e.theme;return{"& .MuiToggleButtonGroup-grouped":{margin:t.spacing(.5),border:0,"&.Mui-disabled":{border:0},"&:not(:first-of-type)":{borderRadius:t.shape.borderRadius},"&:first-of-type":{borderRadius:t.shape.borderRadius}}}})),Le=function(e){var t=e.tags,a=void 0===t?Ve:t,o=e.groups,l=void 0===o?Fe:o,c=e.regions,s=e.loading,p=e.onToggleSelectMode,j=e.onChangeListingMode,g=e.keyword,f=void 0===g?"":g,x=e.selectMode,O=void 0===x?"none":x,v=e.listingMode,y=void 0===v?"all":v,C=e.pagination,S=void 0===C?{page:1,pages:1,count:0,rpp:10}:C,N=e.elevation,w=void 0===N?0:N,M=e.selectedRegions,A=void 0===M?[]:M,_=e.onChangeSelectedRegions,F=e.autoSelect,L=e.onChangeAutoSelect,E=e.onChangeTags,G=e.onChangeGroups,I=e.onChangeKeyword,B=Object(k.a)(e,["tags","groups","regions","loading","onToggleSelectMode","onChangeListingMode","keyword","selectMode","listingMode","pagination","elevation","selectedRegions","onChangeSelectedRegions","autoSelect","onChangeAutoSelect","onChangeTags","onChangeGroups","onChangeKeyword"]),J=Object(h.k)({menuAnchorEl:null,popoverAnchorEl:null,filterView:"location",dialogOpen:!1,selectedGeojsons:[],pagination:S,tags:[]}),q=Object(r.a)(J,2),z=q[0],W=q[1],H=Object(h.d)().getAdminLevelName,K=Object(n.useRef)(null);Object(h.b)((function(){K.current&&(K.current.val=f)}),[f]);var U=Object(n.useCallback)((function(e,t){W({filterView:t,popoverAnchorEl:e.currentTarget})}),[]),Z=Object(n.useCallback)((function(e){Function.isFunction(L)&&L(e.target.checked)}),[L]),Y=Object(n.useCallback)((function(){Function.isFunction(p)&&p("all"===O||"some"===O?"none":"all")}),[p,O]),Q=Object(n.useCallback)((function(e,t){W((function(e){return{pagination:Object(b.a)(Object(b.a)({},e.pagination),{},{page:t})}}))}),[]),X=Object(n.useCallback)((function(e){W((function(t){return{pagination:Object(b.a)(Object(b.a)({},t.pagination),{},{rpp:parseInt(e.target.value,10)})}}))}),[]),$=Object(n.useCallback)((function(e){e.preventDefault(),Function.isFunction(I)&&I()}),[I]),ee=Object(n.useCallback)(Function.debounce((function(e){var t=e.target.value;Function.isFunction(I)&&I(t)}),500),[I]),te=Object(n.useCallback)((function(e){Function.isFunction(j)&&j(e.target.value)}),[j,y]),ae=Object(n.useCallback)((function(e,t){Function.isFunction(E)&&E(Array.isArray(t)?t:[])}),[E]),ne=Object(n.useCallback)((function(e,t){Function.isFunction(G)&&G(Array.isArray(t)?t:[])}),[G]),le=Object(n.useCallback)((function(e){return function(t){if(Function.isFunction(_)){var a=Array.isArray(A)?Object(P.a)(A):[],n=a.indexOf(e);-1!==n?a.splice(n,1):a.push(e),_(a)}}}),[_,A]);return Object(m.jsxs)(be.a,Object(b.a)(Object(b.a)({container:!0,spacing:2},B),{},{children:[Object(m.jsx)(be.a,{item:!0,xs:12,className:"flex flex-col",children:Object(m.jsxs)(be.a,{container:!0,spacing:2,children:[Object(m.jsx)(be.a,{item:!0,xs:12,md:6,children:Object(m.jsx)(re.a,{elevation:w,sx:{border:function(e){return"1px solid ".concat(e.palette.divider)},backgroundColor:function(e){return"".concat(e.palette.background.paper)}},children:Object(m.jsxs)(xe.a,{sx:{m:3},component:"fieldset",variant:"standard",children:[Object(m.jsx)(Oe.a,{component:"legend",children:"Workforce Selection"}),Object(m.jsx)(de.a,{children:Object(m.jsx)(fe.a,{control:Object(m.jsx)(oe.a,{checked:F,onChange:Z,name:"autoselect"}),label:"Auto Select"})}),Object(m.jsx)(ge.a,{children:"Realfield will create a workforce for you based on your project's parameters"})]})})}),Object(m.jsx)(be.a,{item:!0,xs:12,md:6,children:Object(m.jsx)(re.a,{elevation:w,className:"h-full w-full flex items-center justify-center",sx:{border:function(e){return"1px solid ".concat(e.palette.divider)},backgroundColor:function(e){return"".concat(e.palette.background.paper)}},children:Object(m.jsxs)(xe.a,{className:"h-full w-full flex flex-col items-center justify-center",sx:{m:3},component:"fieldset",variant:"standard",children:[Object(m.jsxs)(de.a,{children:[Object(m.jsx)(u.a,{className:"text-center",children:"Options"}),Object(m.jsxs)(Te,{size:"small",color:"primary",value:z.filterView,exclusive:!0,onChange:U,"aria-label":"open actions",children:[Object(m.jsx)(ve.a,{value:"tags","aria-label":"Tags",children:Object(m.jsx)(d.a,{title:"Tags",children:Object(m.jsx)(Ae.a,{})})}),Object(m.jsx)(ve.a,{value:"groups","aria-label":"Groups",children:Object(m.jsx)(d.a,{title:"groups",children:Object(m.jsx)(Re.a,{})})}),!F&&Object(m.jsx)(ve.a,{value:"listingMode","aria-label":"Listing Mode",children:Object(m.jsx)(d.a,{title:"Selection Mode",children:Object(m.jsx)(Se.a,{})})}),!F&&Object(m.jsx)(ve.a,{value:"location","aria-label":"Select Location",children:Object(m.jsx)(d.a,{title:"Select Boundary",children:Object(m.jsx)(T.a,{})})}),!F&&Object(m.jsx)(ve.a,{value:"pagination","aria-label":"Pagination",children:Object(m.jsx)(d.a,{title:"Pagination",children:Object(m.jsx)(je.a,{})})})]})]}),Object(m.jsx)(ge.a,{children:"Workforce selection options"})]})})})]})}),Object(m.jsx)(be.a,{item:!0,xs:12,children:!!z.filterView&&Object(m.jsxs)(re.a,{elevation:w,className:"p-4",sx:{display:"flex",backgroundColor:function(e){return"".concat(e.palette.background.paper)},flexWrap:"wrap"},children:["tags"===z.filterView&&Object(m.jsx)(D.a,{className:"flex flex-row w-full items-center justify-center",children:Object(m.jsx)(se.a,{multiple:!0,limitTags:20,id:"tags-autocomplete",className:"w-full",onChange:ae,options:Ve,value:a,renderInput:function(e){return Object(m.jsx)(R.a,Object(b.a)(Object(b.a)({},e),{},{label:"Tags",placeholder:"Tags",variant:"standard",fullWidth:!0}))}})}),"groups"===z.filterView&&Object(m.jsx)(D.a,{className:"flex flex-row w-full items-center justify-center",children:Object(m.jsx)(se.a,{multiple:!0,limitTags:20,id:"groups-autocomplete",options:Fe,value:l,onChange:ne,renderInput:function(e){return Object(m.jsx)(R.a,Object(b.a)(Object(b.a)({},e),{},{label:"Groups",placeholder:"Groups",variant:"standard",fullWidth:!0}))}})}),"pagination"===z.filterView&&Object(m.jsxs)(D.a,{className:"flex flex-row w-full items-center justify-center",children:[Object(m.jsx)(u.a,{className:"mx-4",children:"Page ".concat((null===S||void 0===S?void 0:S.page)||1," of  ").concat((null===S||void 0===S?void 0:S.pages)||1)}),Object(m.jsx)(ue.a,{component:"div",count:(null===S||void 0===S?void 0:S.count)||0,page:(null===S||void 0===S?void 0:S.page)||1,onPageChange:Q,rowsPerPage:(null===S||void 0===S?void 0:S.rpp)||10,onRowsPerPageChange:X})]}),"listingMode"===z.filterView&&Object(m.jsxs)(xe.a,{component:"fieldset",children:[Object(m.jsx)(Oe.a,{component:"legend",children:"Show"}),Object(m.jsxs)(me.a,{row:!0,"aria-label":"listing-mode",name:"listing-mode-group",value:y,onChange:te,children:[Object(m.jsx)(fe.a,{value:"all",control:Object(m.jsx)(he.a,{}),label:"All"}),Object(m.jsx)(fe.a,{value:"selected-only",control:Object(m.jsx)(he.a,{}),label:"Selected only"}),Object(m.jsx)(fe.a,{value:"non-selected-only",control:Object(m.jsx)(he.a,{}),label:"Non-selected only"})]})]}),"location"===z.filterView&&Object(m.jsxs)(xe.a,{component:"fieldset",children:[Object(m.jsx)(Oe.a,{component:"legend",className:"px-4",children:"Regions"}),Object(m.jsx)(ge.a,{id:"regions-helper-text",children:"Click a region to select or deselect."}),Object(m.jsx)(de.a,{className:"flex flex-row flex-wrap",children:Array.isArray(c)&&c.map((function(e,t){return Object(m.jsx)(V.a,{className:"m-2 cursor-pointer",label:H(e),onClick:le(t),color:Array.isArray(A)&&A.includes(t)?"primary":"default",variant:Array.isArray(A)&&A.includes(t)?"filled":"outlined",icon:Array.isArray(A)&&A.includes(t)?Object(m.jsx)(Pe.a,{}):void 0},"geojson-".concat(t))}))})]})]})}),!F&&Object(m.jsx)(be.a,{item:!0,xs:12,children:Object(m.jsxs)(re.a,{component:"div",sx:{p:"2px 4px",display:"flex",alignItems:"center",width:"100%",border:function(e){return"1px solid ".concat(e.palette.divider)}},elevation:w,children:[Object(m.jsx)(d.a,{title:"all"===O||"some"===O?"Clear selected":"Select All",children:Object(m.jsx)(oe.a,{inputProps:{"aria-label":"Toggle Selection"},checked:"some"===O||"all"===O,indeterminate:"some"===O,onChange:Y,disabled:s,sx:{"& .MuiSvgIcon-root":{fontSize:28}}})}),Object(m.jsxs)("form",{className:"flex-grow flex flex-row m-0 p-0",onSubmit:$,noValidate:!0,children:[Object(m.jsx)(ie.c,{sx:{ml:1,flex:1},placeholder:"Search",inputProps:{"aria-label":"Search..."},inputRef:K,defaultValue:f,onChange:ee}),Object(m.jsx)(i.a,{type:"submit",sx:{p:"10px"},"aria-label":"search",disabled:s,children:Object(m.jsx)(we.a,{})})]})]})})]}))},Ee=o.a.memo(Le),De="workforce",Ge=function(e){var t=e.onSubmit,a=(e.description,e.itemHeight),o=void 0===a?400:a,i=Object(K.a)(),s=Object(U.a)(i.breakpoints.down("xs")),d=Object(U.a)(i.breakpoints.down("sm")),j=Object(U.a)(i.breakpoints.down("md")),g=Object(U.a)(i.breakpoints.down("lg")),f=Object(U.a)(i.breakpoints.up("xl")),x=s?1:d?2:j?3:f?5:4,O=Object($.a)(),v=Object(r.a)(O,2),y=v[0],C=v[1],S=Object(n.useRef)(null),N=Object(n.useRef)(!0),k=Object(I.a)(),P=k.width,M=(k.height,C.width||P*(d?.95:.75)),A=M/x-4,_=Object(h.h)({name:"projectcomposer",defaultValues:{stage:De}}),R=(_.Field,_.values),V=_.getValues,F=_.setValue,T=_.register,L=_.formState,E=_.handleSubmit,B=JSON.getDeepPropertyValue("stages.".concat(De),R||{})||{},J=JSON.getDeepPropertyValue("stages.target.regions",R)||[],q=JSON.getDeepPropertyValue("stages.".concat(De,".fielders"),R)||[],z=void 0===JSON.getDeepPropertyValue("stages.".concat(De,".autoSelect"),R)||JSON.getDeepPropertyValue("stages.".concat(De,".autoSelect"),R),W=Object(n.useRef)(q),H=Object(n.useRef)({sort:"first_name",pagination:10*x}),Z=(Object(n.useMemo)((function(){return JSON.getDeepPropertyValue("stages.".concat(De,".state"),R)||{}}),[R]),L.isValid),Q=Object(h.k)({loading:!1,containerWidth:M,itemWidth:A,columns:x,bodyScrollLocked:!1,selectMode:"none",listingMode:"all",selectedRegions:[],records_chunks:[],records:[],error:null,pagination:10*x,page:1,pages:1,count:0,keyword:"",query:{asc:"first_name"},tags:Ve,groups:Fe}),te=Object(r.a)(Q,4),ae=te[0],ne=te[1],oe=te[2],le=te[3],re=Object(h.d)(),ie=(re.getBoundingBox,re.getAdminLevelName,Object(n.useCallback)((function(e,t){F(e,t)}),[]));Object(h.b)((function(){Object.areEqual(q,W.current)||me()}),[q]),Object(h.m)((function(){var e=le();Object.difference(ae,e)}));var se=Object(n.useCallback)((function(e){Function.isFunction(t)&&t(e)}),[t,B]),de=Object(n.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=oe(),n=a.columns,o=a.records,l=(a.records_chunks,Object(b.a)(Object(b.a)({},H.current),e));n>0&&(ne({loading:!0,error:null,records:t?o:[]}),w.a.get("people/fielders/recommendations",{params:Object(b.a)({},l)}).then((function(e){var a=e.body,n=a.data,c=void 0===n?[]:n,r=a.pages,i=void 0===r?1:r,s=a.page,d=void 0===s?1:s,u=a.count,b=void 0===u?1:u;H.current=l,ne({records:t&&Array.isArray(o)?o.concat(c):c,loading:!1,page:d,pages:i,count:b,error:null})})).catch((function(e){ne({records:t&&Array.isArray(o)?o:[],loading:!1,error:e})})))}),[]),ue=Object(n.useCallback)((function(e){var t=oe();t.selectMode!=e&&(ne({selectMode:e}),"none"===e?(W.current=[],F("stages.".concat(De,".fielders"),[])):"all"===e&&(W.current=t.records,F("stages.".concat(De,".fielders"),t.records)))}),[]),be=Object(n.useCallback)((function(){var e=oe(),t=e.loading,a=e.page,n=e.pages,o=e.pagination;e.query;if(!t&&a<n){JSON.merge(H.current,{pagination:o,page:a+1});de({pagination:o,page:a+1},!0)}}),[]);Object(h.b)((function(){oe().query;var e=[];if(Array.isArray(ae.selectedRegions))for(var t=0;t<ae.selectedRegions.length;t++){var a,n,o=(null===(a=J[ae.selectedRegions[t]])||void 0===a||null===(n=a.properties)||void 0===n?void 0:n._id)||!1;o&&e.push(o)}de({boundaries:e,page:1},!1)}),[ae.selectedRegions]),Object(h.b)((function(){var e=s?1:d?2:j?3:f?5:4,t=10*e,a=C.width,n=oe(),o=n.records;n.loading;ne({containerWidth:a,itemWidth:a/e-4,columns:e,records_chunks:Array.isArray(o)?o.chunks(e):[],pagination:t}),de({pagination:t})}),[C,d,j,g,s,f]),Object(h.a)((function(){var e=[],t=[];if(Array.isArray(J))for(var a=0;a<J.length;a++){var n,o=(null===(n=J[a].properties)||void 0===n?void 0:n._id)||!1;o&&t.push(o),e.push(a)}ne({selectedRegions:e}),H.current=Object(b.a)(Object(b.a)({},H.current),{},{boundaries:t}),T("stages.".concat(De,".fielders"),{validate:{isNotEmpty:function(e){return JSON.getDeepPropertyValue("stages.".concat(De,".autoSelect"),V())||!Array.isEmpty(e)||"Fielders are Required"}}}),void 0===JSON.getDeepPropertyValue("stages.".concat(De,".autoSelect"),R)&&F("stages.".concat(De,".autoSelect"),!0)}));Object(n.useCallback)((function(){oe()}),[]);var pe=Object(n.useCallback)((function(){N.current||(be(),N.current=!0)}),[]),je=Object(n.useCallback)((function(){N.current=!1}),[]),he=Object(n.useCallback)((function(e){var t=-1;return Array.isArray(W.current)?t=W.current.findIndex((function(t){return(null===t||void 0===t?void 0:t._id)==(null===e||void 0===e?void 0:e._id)})):(W.current=[],F("stages.".concat(De,".fielders"),[])),t}),[]),me=Object(n.useCallback)((function(){var e=oe();if(Array.isArray(W.current)&&Array.isArray(e.records))if(0!==W.current.length||"all"!==e.selectMode&&"some"!==e.selectMode)if(W.current.length>0){var t=!0;if(e.records.length>0)for(var a=0;a<e.records.length;a++){if(-1===he(e.records[a])&&t){t=!1;break}}else t=!1;ne({selectMode:t?"all":"some"})}else ne({selectMode:"none"});else ne({selectMode:"none"});else ne({selectMode:"none"})}),[]),ge=Object(n.useCallback)((function(e){if(-1===he(e)){if(Array.isArray(W.current)){var t=W.current;t.push(e),W.current=t}else W.current=[e];F("stages.".concat(De,".fielders"),W.current),me()}}),[]),fe=Object(n.useCallback)((function(e){var t=he(e);if(-1!==t){oe();var a=W.current.removeAtIndex(t)||[];W.current=a,F("stages.".concat(De,".fielders"),W.current),me()}}),[]),xe=Object(n.useCallback)((function(e){ne({selectedRegions:e})}),[]),Oe=Object(n.useCallback)((function(e){ne({listingMode:e})}),[]),ve=Object(n.useCallback)((function(e){ie("stages.".concat(De,".autoSelect"),e),e&&(W.current=[],ie("stages.".concat(De,".fielders"),[]))}),[]),ye=Object(n.useCallback)((function(e){ne({tags:e})}),[]),Ce=Object(n.useCallback)((function(e){ne({groups:e})}),[]),Se=Object(n.useCallback)((function(e){console.log("handleOnChangeKeyword keywordVal",e,a!==e&&e&&e.trim().length>=3);var t=oe(),a=t.keyword,n=t.loading;if(!n&&a!==e&&e&&e.trim().length>=3)de({q:e,page:1},!1),ne({keyword:e.trim()});else if(!n&&!String.isEmpty(a)){ne({keyword:""});var o=JSON.fromJSON(H.current);delete o.q,H.current=o,de({page:1},!1)}}),[]),Ne=Object(n.useCallback)((function(e){return function(t){if(e)if(H.current.gender!==e)de({gender:e,page:1},!1);else{var a=JSON.fromJSON(H.current);delete a.gender,H.current=a,de({page:1},!1)}}}),[]),we=Object(n.useCallback)((function(e){return function(t){if(e)if(H.current.q!==e)ne({keyword:e}),de({q:e,page:1},!1);else{ne({keyword:""});var a=JSON.fromJSON(H.current);delete a.q,H.current=a,de({page:1},!1)}}}),[]),ke=Object(n.useCallback)((function(e){var t=e.index,a=e.key,n=e.parent,o=e.style,l=oe(),c=l.records,r=(l.columns,!!Array.isArray(c)&&c[t]);if(r){var i=-1!==he(r);return Object(m.jsx)("div",{className:"p-2",style:o,parent:n,children:Object(m.jsx)(ce,{fielder:r,selected:i,onSelect:ge,onDeselect:fe,onClickGender:Ne(null===r||void 0===r?void 0:r.gender),onClickCourse:we(null===r||void 0===r?void 0:r.course)})},a)}return Object(m.jsx)("div",{className:"p-2",style:o,parent:n},a)}),[]),Pe=Object(n.useCallback)((function(e){e.preventDefault()}),[]),Me=Object(n.useCallback)((function(){window.addEventListener("scroll",Pe)}),[]),Ae=Object(n.useCallback)((function(e){window.removeEventListener("scroll",Pe)}),[]);Object(n.useEffect)((function(){return me(),function(){window.removeEventListener("scroll",Pe)}}),[q]);ae.records;return console.log("state.records",ae.records),Object(m.jsxs)(l.a,{className:"p-0",sx:{backgroundColor:function(e){return"".concat(e.palette.deep_purple)}},children:[Object(m.jsx)(c.a,{xs:12,className:"p-0",children:Object(m.jsx)("div",{className:"w-full",ref:y})}),Object(m.jsx)(c.a,{xs:12,className:"p-4",children:Object(m.jsx)(Ee,{regions:J,selectMode:ae.selectMode,loading:ae.loading,keyword:ae.keyword||"",listingMode:ae.listingMode,autoSelect:z,tags:ae.tags,groups:ae.groups,pagination:{pages:ae.pages,page:ae.page,count:ae.count,rpp:ae.pagination},selectedRegions:ae.selectedRegions,onToggleSelectMode:ue,onChangeSelectedRegions:xe,onChangeListingMode:Oe,onChangeAutoSelect:ve,onChangeTags:ye,onChangeGroups:Ce,onChangeKeyword:Se})}),z&&Object(m.jsxs)(c.a,{xs:12,className:"flex flex-col items-center justify-center p-8",children:[Object(m.jsx)(D.a,{className:"h-72 w-72 shadow flex flex-col items-center justify-center rounded-full",sx:{backgroundColor:function(e){return e.palette.background.paper}},children:Object(m.jsx)(Y.a,{sx:{fontSize:"10rem"}})}),Object(m.jsx)(u.a,{className:"m-8",children:"Auto Select Workforce"}),Object(m.jsx)(u.a,{className:"m-8",variant:"body2",color:"text.secondary",children:"Realfield will create a workforce for you based on your project's parameters"})]}),!z&&Object(m.jsx)(c.a,{xs:12,className:"p-0",onMouseEnter:Me,onMouseLeave:Ae,children:Object(m.jsx)(ee.a,{className:"max-h-screen ",onYReachEnd:pe,onScrollDown:je,ref:S,children:Object(m.jsxs)(l.a,{className:"p-0",children:[Object(m.jsx)("div",{className:"w-full"}),Object(m.jsx)(c.a,{className:"w-full py-2 flex  justify-center items-center",children:Array.isArray(ae.records)&&ae.containerWidth>0&&Object(m.jsx)(X,{data:ae.records,cellRenderer:ke,itemWidth:A,columnCount:x,itemHeight:o})}),!ae.loading&&(!Array.isArray(ae.records)||Array.isArray(ae.records)&&0===ae.records.length)&&Object(m.jsxs)(c.a,{className:"p-8 flex flex-col justify-center items-center",children:[Object(m.jsx)("img",{alt:"Empty state",className:"h-40",src:w.a.endpoint("/public/img/empty-state-table.svg")}),Object(m.jsx)(u.a,{className:"m-4",color:"text.secondary",variant:"body2",children:"No Records found"})]}),ae.loading&&Object(m.jsx)(c.a,{className:"p-8 flex flex-col justify-center items-center",children:Object(m.jsx)(G.a,{color:"accent"})})]})})}),Object(m.jsx)(c.a,{className:"flex flex-col items-center  py-8",children:Object(m.jsx)(p.a,{onClick:E(se),disabled:!Z,color:"accent",variant:"contained",children:"Review Project"})})]})},Ie=o.a.memo(Ge),Be=a(1823),Je=a(1803),qe=a(1826),ze=a(1064),We=a(1825),He=a(1824),Ke=a(2105),Ue=a.n(Ke);function Ze(e){var t=e.label,a=e.value,o=e.multiple,l=e.variant,c=Object(k.a)(e,["label","value","multiple","variant"]),r=n.useMemo((function(){if(a){var e=Ye.filter((function(e){var t,n,o;if(String.isString(a)||JSON.isJSON(a))return String.isString(a)?e.code.toLowerCase()===a.toLowerCase()||e.label.toLowerCase()===a.toLowerCase()||e.phone.toLowerCase()===a.toLowerCase():e.code.toLowerCase()===(null===a||void 0===a||null===(t=a.code)||void 0===t?void 0:t.toLowerCase())||e.label.toLowerCase()===(null===a||void 0===a||null===(n=a.label)||void 0===n?void 0:n.toLowerCase())||e.phone.toLowerCase()===(null===a||void 0===a||null===(o=a.phone)||void 0===o?void 0:o.toLowerCase());if(Array.isArray(a)){for(var l=!1,c=0;c<a.length;c++){var r,i,s;if(String.isString(a[c])||JSON.isJSON(a[c])&&!l)if(String.isString(a[c]))l=e.code.toLowerCase()===a[c].toLowerCase()||e.label.toLowerCase()===a[c].toLowerCase()||e.phone.toLowerCase()===a[c].toLowerCase();else l=e.code.toLowerCase()===(null===(r=a[c].code)||void 0===r?void 0:r.toLowerCase())||e.label.toLowerCase()===(null===(i=a[c].label)||void 0===i?void 0:i.toLowerCase())||e.phone.toLowerCase()===(null===(s=a[c].phone)||void 0===s?void 0:s.toLowerCase())}return l}return!1}));return o?e:e[0]}}),[a,o]);return Object(m.jsx)(se.a,Object(b.a)({options:Ye,value:r,autoHighlight:!0,getOptionLabel:function(e){return e.label},renderOption:function(e,t){return Object(m.jsxs)(D.a,Object(b.a)(Object(b.a)({component:"li",sx:{"& > img":{mr:2,flexShrink:0}}},e),{},{children:[Object(m.jsx)("img",{loading:"lazy",width:"20",src:"https://flagcdn.com/w20/".concat(t.code.toLowerCase(),".png"),srcSet:"https://flagcdn.com/w40/".concat(t.code.toLowerCase(),".png 2x"),alt:""}),t.label," (",t.code,") +",t.phone]}))},renderInput:function(e){return Object(m.jsx)(R.a,Object(b.a)(Object(b.a)({},e),{},{label:t,variant:l||"standard",inputProps:Object(b.a)(Object(b.a)({},e.inputProps),{},{autoComplete:"new-password"})}))},multiple:o},c))}var Ye=[{code:"AD",label:"Andorra",phone:"376"},{code:"AE",label:"United Arab Emirates",phone:"971"},{code:"AF",label:"Afghanistan",phone:"93"},{code:"AG",label:"Antigua and Barbuda",phone:"1-268"},{code:"AI",label:"Anguilla",phone:"1-264"},{code:"AL",label:"Albania",phone:"355"},{code:"AM",label:"Armenia",phone:"374"},{code:"AO",label:"Angola",phone:"244"},{code:"AQ",label:"Antarctica",phone:"672"},{code:"AR",label:"Argentina",phone:"54"},{code:"AS",label:"American Samoa",phone:"1-684"},{code:"AT",label:"Austria",phone:"43"},{code:"AU",label:"Australia",phone:"61",suggested:!0},{code:"AW",label:"Aruba",phone:"297"},{code:"AX",label:"Alland Islands",phone:"358"},{code:"AZ",label:"Azerbaijan",phone:"994"},{code:"BA",label:"Bosnia and Herzegovina",phone:"387"},{code:"BB",label:"Barbados",phone:"1-246"},{code:"BD",label:"Bangladesh",phone:"880"},{code:"BE",label:"Belgium",phone:"32"},{code:"BF",label:"Burkina Faso",phone:"226"},{code:"BG",label:"Bulgaria",phone:"359"},{code:"BH",label:"Bahrain",phone:"973"},{code:"BI",label:"Burundi",phone:"257"},{code:"BJ",label:"Benin",phone:"229"},{code:"BL",label:"Saint Barthelemy",phone:"590"},{code:"BM",label:"Bermuda",phone:"1-441"},{code:"BN",label:"Brunei Darussalam",phone:"673"},{code:"BO",label:"Bolivia",phone:"591"},{code:"BR",label:"Brazil",phone:"55"},{code:"BS",label:"Bahamas",phone:"1-242"},{code:"BT",label:"Bhutan",phone:"975"},{code:"BV",label:"Bouvet Island",phone:"47"},{code:"BW",label:"Botswana",phone:"267"},{code:"BY",label:"Belarus",phone:"375"},{code:"BZ",label:"Belize",phone:"501"},{code:"CA",label:"Canada",phone:"1",suggested:!0},{code:"CC",label:"Cocos (Keeling) Islands",phone:"61"},{code:"CD",label:"Congo, Democratic Republic of the",phone:"243"},{code:"CF",label:"Central African Republic",phone:"236"},{code:"CG",label:"Congo, Republic of the",phone:"242"},{code:"CH",label:"Switzerland",phone:"41"},{code:"CI",label:"Cote d'Ivoire",phone:"225"},{code:"CK",label:"Cook Islands",phone:"682"},{code:"CL",label:"Chile",phone:"56"},{code:"CM",label:"Cameroon",phone:"237"},{code:"CN",label:"China",phone:"86"},{code:"CO",label:"Colombia",phone:"57"},{code:"CR",label:"Costa Rica",phone:"506"},{code:"CU",label:"Cuba",phone:"53"},{code:"CV",label:"Cape Verde",phone:"238"},{code:"CW",label:"Curacao",phone:"599"},{code:"CX",label:"Christmas Island",phone:"61"},{code:"CY",label:"Cyprus",phone:"357"},{code:"CZ",label:"Czech Republic",phone:"420"},{code:"DE",label:"Germany",phone:"49",suggested:!0},{code:"DJ",label:"Djibouti",phone:"253"},{code:"DK",label:"Denmark",phone:"45"},{code:"DM",label:"Dominica",phone:"1-767"},{code:"DO",label:"Dominican Republic",phone:"1-809"},{code:"DZ",label:"Algeria",phone:"213"},{code:"EC",label:"Ecuador",phone:"593"},{code:"EE",label:"Estonia",phone:"372"},{code:"EG",label:"Egypt",phone:"20"},{code:"EH",label:"Western Sahara",phone:"212"},{code:"ER",label:"Eritrea",phone:"291"},{code:"ES",label:"Spain",phone:"34"},{code:"ET",label:"Ethiopia",phone:"251"},{code:"FI",label:"Finland",phone:"358"},{code:"FJ",label:"Fiji",phone:"679"},{code:"FK",label:"Falkland Islands (Malvinas)",phone:"500"},{code:"FM",label:"Micronesia, Federated States of",phone:"691"},{code:"FO",label:"Faroe Islands",phone:"298"},{code:"FR",label:"France",phone:"33",suggested:!0},{code:"GA",label:"Gabon",phone:"241"},{code:"GB",label:"United Kingdom",phone:"44"},{code:"GD",label:"Grenada",phone:"1-473"},{code:"GE",label:"Georgia",phone:"995"},{code:"GF",label:"French Guiana",phone:"594"},{code:"GG",label:"Guernsey",phone:"44"},{code:"GH",label:"Ghana",phone:"233"},{code:"GI",label:"Gibraltar",phone:"350"},{code:"GL",label:"Greenland",phone:"299"},{code:"GM",label:"Gambia",phone:"220"},{code:"GN",label:"Guinea",phone:"224"},{code:"GP",label:"Guadeloupe",phone:"590"},{code:"GQ",label:"Equatorial Guinea",phone:"240"},{code:"GR",label:"Greece",phone:"30"},{code:"GS",label:"South Georgia and the South Sandwich Islands",phone:"500"},{code:"GT",label:"Guatemala",phone:"502"},{code:"GU",label:"Guam",phone:"1-671"},{code:"GW",label:"Guinea-Bissau",phone:"245"},{code:"GY",label:"Guyana",phone:"592"},{code:"HK",label:"Hong Kong",phone:"852"},{code:"HM",label:"Heard Island and McDonald Islands",phone:"672"},{code:"HN",label:"Honduras",phone:"504"},{code:"HR",label:"Croatia",phone:"385"},{code:"HT",label:"Haiti",phone:"509"},{code:"HU",label:"Hungary",phone:"36"},{code:"ID",label:"Indonesia",phone:"62"},{code:"IE",label:"Ireland",phone:"353"},{code:"IL",label:"Israel",phone:"972"},{code:"IM",label:"Isle of Man",phone:"44"},{code:"IN",label:"India",phone:"91"},{code:"IO",label:"British Indian Ocean Territory",phone:"246"},{code:"IQ",label:"Iraq",phone:"964"},{code:"IR",label:"Iran, Islamic Republic of",phone:"98"},{code:"IS",label:"Iceland",phone:"354"},{code:"IT",label:"Italy",phone:"39"},{code:"JE",label:"Jersey",phone:"44"},{code:"JM",label:"Jamaica",phone:"1-876"},{code:"JO",label:"Jordan",phone:"962"},{code:"JP",label:"Japan",phone:"81",suggested:!0},{code:"KE",label:"Kenya",phone:"254"},{code:"KG",label:"Kyrgyzstan",phone:"996"},{code:"KH",label:"Cambodia",phone:"855"},{code:"KI",label:"Kiribati",phone:"686"},{code:"KM",label:"Comoros",phone:"269"},{code:"KN",label:"Saint Kitts and Nevis",phone:"1-869"},{code:"KP",label:"Korea, Democratic People's Republic of",phone:"850"},{code:"KR",label:"Korea, Republic of",phone:"82"},{code:"KW",label:"Kuwait",phone:"965"},{code:"KY",label:"Cayman Islands",phone:"1-345"},{code:"KZ",label:"Kazakhstan",phone:"7"},{code:"LA",label:"Lao People's Democratic Republic",phone:"856"},{code:"LB",label:"Lebanon",phone:"961"},{code:"LC",label:"Saint Lucia",phone:"1-758"},{code:"LI",label:"Liechtenstein",phone:"423"},{code:"LK",label:"Sri Lanka",phone:"94"},{code:"LR",label:"Liberia",phone:"231"},{code:"LS",label:"Lesotho",phone:"266"},{code:"LT",label:"Lithuania",phone:"370"},{code:"LU",label:"Luxembourg",phone:"352"},{code:"LV",label:"Latvia",phone:"371"},{code:"LY",label:"Libya",phone:"218"},{code:"MA",label:"Morocco",phone:"212"},{code:"MC",label:"Monaco",phone:"377"},{code:"MD",label:"Moldova, Republic of",phone:"373"},{code:"ME",label:"Montenegro",phone:"382"},{code:"MF",label:"Saint Martin (French part)",phone:"590"},{code:"MG",label:"Madagascar",phone:"261"},{code:"MH",label:"Marshall Islands",phone:"692"},{code:"MK",label:"Macedonia, the Former Yugoslav Republic of",phone:"389"},{code:"ML",label:"Mali",phone:"223"},{code:"MM",label:"Myanmar",phone:"95"},{code:"MN",label:"Mongolia",phone:"976"},{code:"MO",label:"Macao",phone:"853"},{code:"MP",label:"Northern Mariana Islands",phone:"1-670"},{code:"MQ",label:"Martinique",phone:"596"},{code:"MR",label:"Mauritania",phone:"222"},{code:"MS",label:"Montserrat",phone:"1-664"},{code:"MT",label:"Malta",phone:"356"},{code:"MU",label:"Mauritius",phone:"230"},{code:"MV",label:"Maldives",phone:"960"},{code:"MW",label:"Malawi",phone:"265"},{code:"MX",label:"Mexico",phone:"52"},{code:"MY",label:"Malaysia",phone:"60"},{code:"MZ",label:"Mozambique",phone:"258"},{code:"NA",label:"Namibia",phone:"264"},{code:"NC",label:"New Caledonia",phone:"687"},{code:"NE",label:"Niger",phone:"227"},{code:"NF",label:"Norfolk Island",phone:"672"},{code:"NG",label:"Nigeria",phone:"234"},{code:"NI",label:"Nicaragua",phone:"505"},{code:"NL",label:"Netherlands",phone:"31"},{code:"NO",label:"Norway",phone:"47"},{code:"NP",label:"Nepal",phone:"977"},{code:"NR",label:"Nauru",phone:"674"},{code:"NU",label:"Niue",phone:"683"},{code:"NZ",label:"New Zealand",phone:"64"},{code:"OM",label:"Oman",phone:"968"},{code:"PA",label:"Panama",phone:"507"},{code:"PE",label:"Peru",phone:"51"},{code:"PF",label:"French Polynesia",phone:"689"},{code:"PG",label:"Papua New Guinea",phone:"675"},{code:"PH",label:"Philippines",phone:"63"},{code:"PK",label:"Pakistan",phone:"92"},{code:"PL",label:"Poland",phone:"48"},{code:"PM",label:"Saint Pierre and Miquelon",phone:"508"},{code:"PN",label:"Pitcairn",phone:"870"},{code:"PR",label:"Puerto Rico",phone:"1"},{code:"PS",label:"Palestine, State of",phone:"970"},{code:"PT",label:"Portugal",phone:"351"},{code:"PW",label:"Palau",phone:"680"},{code:"PY",label:"Paraguay",phone:"595"},{code:"QA",label:"Qatar",phone:"974"},{code:"RE",label:"Reunion",phone:"262"},{code:"RO",label:"Romania",phone:"40"},{code:"RS",label:"Serbia",phone:"381"},{code:"RU",label:"Russian Federation",phone:"7"},{code:"RW",label:"Rwanda",phone:"250"},{code:"SA",label:"Saudi Arabia",phone:"966"},{code:"SB",label:"Solomon Islands",phone:"677"},{code:"SC",label:"Seychelles",phone:"248"},{code:"SD",label:"Sudan",phone:"249"},{code:"SE",label:"Sweden",phone:"46"},{code:"SG",label:"Singapore",phone:"65"},{code:"SH",label:"Saint Helena",phone:"290"},{code:"SI",label:"Slovenia",phone:"386"},{code:"SJ",label:"Svalbard and Jan Mayen",phone:"47"},{code:"SK",label:"Slovakia",phone:"421"},{code:"SL",label:"Sierra Leone",phone:"232"},{code:"SM",label:"San Marino",phone:"378"},{code:"SN",label:"Senegal",phone:"221"},{code:"SO",label:"Somalia",phone:"252"},{code:"SR",label:"Suriname",phone:"597"},{code:"SS",label:"South Sudan",phone:"211"},{code:"ST",label:"Sao Tome and Principe",phone:"239"},{code:"SV",label:"El Salvador",phone:"503"},{code:"SX",label:"Sint Maarten (Dutch part)",phone:"1-721"},{code:"SY",label:"Syrian Arab Republic",phone:"963"},{code:"SZ",label:"Swaziland",phone:"268"},{code:"TC",label:"Turks and Caicos Islands",phone:"1-649"},{code:"TD",label:"Chad",phone:"235"},{code:"TF",label:"French Southern Territories",phone:"262"},{code:"TG",label:"Togo",phone:"228"},{code:"TH",label:"Thailand",phone:"66"},{code:"TJ",label:"Tajikistan",phone:"992"},{code:"TK",label:"Tokelau",phone:"690"},{code:"TL",label:"Timor-Leste",phone:"670"},{code:"TM",label:"Turkmenistan",phone:"993"},{code:"TN",label:"Tunisia",phone:"216"},{code:"TO",label:"Tonga",phone:"676"},{code:"TR",label:"Turkey",phone:"90"},{code:"TT",label:"Trinidad and Tobago",phone:"1-868"},{code:"TV",label:"Tuvalu",phone:"688"},{code:"TW",label:"Taiwan, Province of China",phone:"886"},{code:"TZ",label:"United Republic of Tanzania",phone:"255"},{code:"UA",label:"Ukraine",phone:"380"},{code:"UG",label:"Uganda",phone:"256"},{code:"US",label:"United States",phone:"1",suggested:!0},{code:"UY",label:"Uruguay",phone:"598"},{code:"UZ",label:"Uzbekistan",phone:"998"},{code:"VA",label:"Holy See (Vatican City State)",phone:"379"},{code:"VC",label:"Saint Vincent and the Grenadines",phone:"1-784"},{code:"VE",label:"Venezuela",phone:"58"},{code:"VG",label:"British Virgin Islands",phone:"1-284"},{code:"VI",label:"US Virgin Islands",phone:"1-340"},{code:"VN",label:"Vietnam",phone:"84"},{code:"VU",label:"Vanuatu",phone:"678"},{code:"WF",label:"Wallis and Futuna",phone:"681"},{code:"WS",label:"Samoa",phone:"685"},{code:"XK",label:"Kosovo",phone:"383"},{code:"YE",label:"Yemen",phone:"967"},{code:"YT",label:"Mayotte",phone:"262"},{code:"ZA",label:"South Africa",phone:"27"},{code:"ZM",label:"Zambia",phone:"260"},{code:"ZW",label:"Zimbabwe",phone:"263"}],Qe="review",Xe=function(e){var t,a,o,s,d,b,j,g,f,x,O,v,y,C,S,N=e.onSubmit,w=e.stages,k=(e.title,e.description,Object(h.k)({invalid:!1,previewDialogOpen:!1,previewDialogTitle:"",previewDialogContent:""})),P=Object(r.a)(k,2),M=P[0],A=P[1],_=Object(h.h)({name:"projectcomposer",defaultValues:{stage:Qe}}),V=_.handleSubmit,F=(_.register,_.setError,_.errors,_.formState.isValid),T=(_.ErrorMessage,_.Field),L=_.Select,E=(_.trigger,_.RadioGroup),D=(_.getValues,_.values),G=_.setValue,I=Object(n.useMemo)((function(){return JSON.getDeepPropertyValue("stages",D)||{}}),[D]),B=Object(n.useMemo)((function(){return JSON.getDeepPropertyValue("stages.".concat(Qe),D)||{}}),[D]),J=Object(h.d)();Object(h.a)((function(){}));var q=Object(n.useCallback)((function(e,t){G(e,t)}),[]),z=Object(n.useCallback)((function(e){return function(t){q(e,t.target.value)}}),[]),W=Object(n.useCallback)((function(e){return function(t){q(e,t.target.value)}}),[]),H=Object(n.useCallback)((function(e){Function.isFunction(N)&&N(e)}),[N]),K=Object(n.useCallback)((function(e,t){return function(){A({previewDialogOpen:!0,previewDialogTitle:e,previewDialogContent:t})}}),[]),U=Object(n.useCallback)((function(){A({previewDialogOpen:!1,previewDialogTitle:"",previewDialogContent:""})}),[]);return Object(m.jsxs)(l.a,{children:[Object(m.jsx)(c.a,{className:"p-0",children:Object(m.jsxs)(l.a,{children:[Object(m.jsxs)(c.a,{xs:12,md:6,className:"py-4",children:[Object(m.jsx)(u.a,{variant:"h5",component:"div",className:"py-8",color:"text.secondary",children:"Review Your Detais"}),Object(m.jsxs)(te.a,{elevation:0,className:"mb-8",sx:{backgroundColor:"transparent",border:function(e){return"1px solid ".concat(e.palette.divider)}},children:[Object(m.jsx)(Be.a,{title:w.start.title,subheader:w.start.subtitle,titleTypographyProps:{color:"text.disabled",variant:"subtitle2"},subheaderTypographyProps:{color:"text.secondary",variant:"caption"},action:Object(m.jsx)(i.a,{onClick:function(e){return G("stage","start")},color:"primary",size:"small","aria-label":"Details",children:Object(m.jsx)(Ue.a,{fontSize:"inherit"})})}),Object(m.jsxs)(ne.a,{children:[Object(m.jsxs)(c.a,{xs:12,className:"p-0 py-1 flex flex-row items-center",children:[Object(m.jsx)(u.a,{color:"text.disabled",children:"First Name"}),Object(m.jsx)(u.a,{className:"mx-8 font-bold",color:"text.secondary",children:null===I||void 0===I||null===(t=I.start)||void 0===t?void 0:t.first_name})]}),Object(m.jsxs)(c.a,{xs:12,className:"p-0 py-1 flex flex-row items-center",children:[Object(m.jsx)(u.a,{color:"text.disabled",children:"Last Name"}),Object(m.jsx)(u.a,{className:"mx-8 font-bold",color:"text.secondary",children:null===I||void 0===I||null===(a=I.start)||void 0===a?void 0:a.last_name})]}),Object(m.jsxs)(c.a,{xs:12,className:"p-0 py-1 flex flex-row items-center",children:[Object(m.jsx)(u.a,{color:"text.disabled",children:"Email"}),Object(m.jsx)(u.a,{className:"mx-8 font-bold",color:"text.secondary",children:null===I||void 0===I||null===(o=I.start)||void 0===o?void 0:o.email_address})]}),Object(m.jsxs)(c.a,{xs:12,className:"p-0 py-1 flex flex-row items-center",children:[Object(m.jsx)(u.a,{color:"text.disabled",children:"Survey Type"}),Object(m.jsx)(u.a,{className:"mx-8 font-bold",color:"text.secondary",children:null===I||void 0===I||null===(s=I.start)||void 0===s?void 0:s.survey_type})]}),Object(m.jsxs)(c.a,{xs:12,className:"p-0 py-1 flex flex-row items-center",children:[Object(m.jsx)(u.a,{color:"text.disabled",children:"Date"}),Object(m.jsxs)(u.a,{className:"mx-8 font-bold",color:"text.secondary",children:[new Date(null===I||void 0===I||null===(d=I.start)||void 0===d?void 0:d.start_date).toLocaleDateString()," ",Object(m.jsx)("em",{children:"To"})," ",new Date(null===I||void 0===I||null===(b=I.start)||void 0===b?void 0:b.end_date).toLocaleDateString()]})]})]})]}),Object(m.jsxs)(te.a,{elevation:0,className:"mb-8",sx:{backgroundColor:"transparent",border:function(e){return"1px solid ".concat(e.palette.divider)}},children:[Object(m.jsx)(Be.a,{title:w.description.title,subheader:w.description.subtitle,titleTypographyProps:{color:"text.disabled",variant:"subtitle2"},subheaderTypographyProps:{color:"text.secondary",variant:"caption"},action:Object(m.jsx)(i.a,{onClick:function(e){return G("stage","description")},color:"primary",size:"small","aria-label":"Details",children:Object(m.jsx)(Ue.a,{fontSize:"inherit"})})}),Object(m.jsxs)(ne.a,{children:[Object(m.jsxs)(c.a,{xs:12,className:"p-0 py-1 flex flex-row items-center",children:[Object(m.jsx)(u.a,{color:"text.disabled",children:"Project Title"}),Object(m.jsx)(u.a,{className:"mx-8 font-bold",color:"text.secondary",children:null===I||void 0===I||null===(j=I.description)||void 0===j?void 0:j.project_name})]}),Object(m.jsxs)(c.a,{xs:12,className:"p-0 py-1 flex flex-row items-center",children:[Object(m.jsx)(u.a,{color:"text.disabled",children:"Project Summary"}),Object(m.jsx)(p.a,{onClick:K("Project Summary",(null===I||void 0===I||null===(g=I.description)||void 0===g?void 0:g.project_summary)||""),color:"accent",className:"mx-8 capitalize font-bold",size:"small",children:"View"})]}),Object(m.jsxs)(c.a,{xs:12,className:"p-0 py-1 flex flex-row items-center",children:[Object(m.jsx)(u.a,{color:"text.disabled",children:"Project Objectives"}),Object(m.jsx)(p.a,{onClick:K("Project Objectives",(null===I||void 0===I||null===(f=I.description)||void 0===f?void 0:f.project_objectives)||""),color:"accent",className:"mx-8 capitalize font-bold",size:"small",children:"View"})]})]})]}),Object(m.jsxs)(te.a,{elevation:0,className:"mb-8",sx:{backgroundColor:"transparent",border:function(e){return"1px solid ".concat(e.palette.divider)}},children:[Object(m.jsx)(Be.a,{title:w.scope.title,subheader:w.scope.subtitle,titleTypographyProps:{color:"text.disabled",variant:"subtitle2"},subheaderTypographyProps:{color:"text.secondary",variant:"caption"},action:Object(m.jsx)(i.a,{onClick:function(e){return G("stage","scope")},color:"primary",size:"small","aria-label":"Details",children:Object(m.jsx)(Ue.a,{fontSize:"inherit"})})}),Object(m.jsxs)(ne.a,{children:[Object(m.jsxs)(c.a,{xs:12,className:"p-0 py-1 flex flex-row items-center",children:[Object(m.jsx)(u.a,{color:"text.disabled",children:"Questions Uploaded"}),Object(m.jsx)(u.a,{className:"mx-8 font-bold",color:"text.secondary",children:Array.isArray(null===I||void 0===I||null===(x=I.scope)||void 0===x?void 0:x.questions)?"Yes":"No"})]}),Object(m.jsxs)(c.a,{xs:12,className:"p-0 py-1 flex flex-row items-center",children:[Object(m.jsx)(u.a,{color:"text.disabled",children:"Data gathering format"}),Object(m.jsx)(u.a,{className:"mx-8 font-bold",color:"text.secondary",children:null===I||void 0===I||null===(O=I.scope)||void 0===O?void 0:O.data_gathering_format})]})]})]}),Object(m.jsxs)(te.a,{elevation:0,className:"mb-8",sx:{backgroundColor:"transparent",border:function(e){return"1px solid ".concat(e.palette.divider)}},children:[Object(m.jsx)(Be.a,{title:w.target.title,subheader:w.target.subtitle,titleTypographyProps:{color:"text.disabled",variant:"subtitle2"},subheaderTypographyProps:{color:"text.secondary",variant:"caption"},action:Object(m.jsx)(i.a,{onClick:function(e){return G("stage","target")},color:"primary",size:"small","aria-label":"Details",children:Object(m.jsx)(Ue.a,{fontSize:"inherit"})})}),Object(m.jsxs)(ne.a,{children:[Object(m.jsxs)(c.a,{xs:12,className:"p-0 py-1 flex flex-row items-center",children:[Object(m.jsx)(u.a,{color:"text.disabled",children:"Confidence Level"}),Object(m.jsx)(u.a,{className:"mx-8 font-bold",color:"text.secondary",children:"".concat(null===I||void 0===I||null===(v=I.target)||void 0===v?void 0:v.confidence_level,"%")})]}),Object(m.jsxs)(c.a,{xs:12,className:"p-0 py-1 flex flex-row items-center",children:[Object(m.jsx)(u.a,{color:"text.disabled",children:"Error Margin"}),Object(m.jsx)(u.a,{className:"mx-8 font-bold",color:"text.secondary",children:"".concat(null===I||void 0===I||null===(y=I.target)||void 0===y?void 0:y.error_margin,"%")})]}),Object(m.jsxs)(c.a,{xs:12,className:"p-0 py-1 flex flex-row items-center",children:[Object(m.jsx)(u.a,{color:"text.disabled",children:"Sample Size"}),Object(m.jsx)(u.a,{className:"mx-8 font-bold",color:"text.secondary",children:"".concat(null===I||void 0===I||null===(C=I.target)||void 0===C?void 0:C.sample_size)})]}),Object(m.jsxs)(c.a,{xs:12,className:"p-0 py-1 flex flex-row items-center",children:[Object(m.jsx)(u.a,{color:"text.disabled",children:"Regions"}),Object(m.jsx)(u.a,{className:"mx-8 font-bold",color:"text.secondary",children:Array.isArray(null===I||void 0===I||null===(S=I.target)||void 0===S?void 0:S.regions)&&I.target.regions.map((function(e,t){return t>0?", ".concat(J.getAdminLevelName(e)):"".concat(J.getAdminLevelName(e))}))})]})]})]}),Object(m.jsxs)(c.a,{xs:12,className:"p-0 py-4 flex flex-row items-center",children:[Object(m.jsx)(u.a,{color:"text.disabled",children:"Last Autosave"}),Object(m.jsx)(u.a,{className:"mx-8 font-bold",color:"text.secondary",children:D.persist_timestamp?"".concat(new Date(D.persist_timestamp).toLocaleString()):"None"})]})]}),Object(m.jsx)(c.a,{xs:12,md:6,className:"py-4",children:Object(m.jsxs)(l.a,{className:"p-0",children:[Object(m.jsx)(c.a,{md:12,className:"p-0",children:Object(m.jsx)(u.a,{variant:"h5",className:"py-8",component:"div",color:"text.secondary",children:"Account Creation"})}),Object(m.jsx)(c.a,{md:12,className:"py-4",children:Object(m.jsx)(T,{label:"Company Name",name:"stages.".concat(Qe,".company_name"),defaultValue:B.company_name||"",onChange:z("stages.".concat(Qe,".company_name")),component:R.a,variant:"filled",required:!0,fullWidth:!0})}),Object(m.jsx)(c.a,{md:12,className:"py-4",children:Object(m.jsx)(L,{name:"stages.".concat(Qe,".sector"),label:"Sector",defaultValue:B.sector||"",onChange:W("stages.".concat(Qe,".sector")),options:{Private:"Private","Non-Profit":"Non-Profit",Government:"Government"},sx:{width:"100%"},variant:"filled",rules:{validate:{isNotEmpty:function(e){return!String.isEmpty(e)||"Sector is Required"}}},required:!0})}),Object(m.jsx)(c.a,{md:12,className:"py-4",children:Object(m.jsx)(T,{name:"stages.".concat(Qe,".country"),label:"Country",defaultValue:(null===B||void 0===B?void 0:B.country)||"Kenya",onChange:function(e,t){return q("stages.".concat(Qe,".country"),t.label)},variant:"filled",component:Ze,rules:{validate:{isNotEmpty:function(e){return!String.isEmpty(e)||"Country is Required"}}}})}),Object(m.jsx)(c.a,{md:12,className:"py-4",children:Object(m.jsx)(E,{name:"stages.".concat(Qe,".currency"),label:"Pay in",value:(null===B||void 0===B?void 0:B.currency)||"",options:["USD","KES"],onChange:z("stages.".concat(Qe,".currency")),rules:{validate:{isNotEmpty:function(e){return!String.isEmpty(e)||"Currency is Required"}}},row:!0})}),Object(m.jsx)(c.a,{md:12,className:"py-4",children:Object(m.jsx)(T,{name:"stages.".concat(Qe,".password"),label:"Password",placeholder:"Set Password",defaultValue:B.password||"",onChange:z("stages.".concat(Qe,".password")),component:R.a,variant:"filled",type:"password",rules:{validate:{isNotEmpty:function(e){return!String.isEmpty(e)||"Password is Required"}}},required:!0,fullWidth:!0})}),Object(m.jsx)(c.a,{md:12,className:"py-4",children:Object(m.jsx)(T,{name:"stages.".concat(Qe,".repeat_password"),label:"Repeat Password",placeholder:"Enter Password again to confirm",defaultValue:B.repeat_password||"",onChange:z("stages.".concat(Qe,".repeat_password")),component:R.a,variant:"filled",type:"password",rules:{validate:{isNotEmpty:function(e){return!String.isEmpty(e)||"Password confirmation is Required"}}},required:!0,fullWidth:!0})}),Object(m.jsx)(c.a,{className:"flex flex-col xs:items-center md:items-end md:px-20 py-8 mb-20",children:Object(m.jsx)(p.a,{onClick:V(H),disabled:!F,color:"accent",variant:"contained",children:"Continue to Checkout"})})]})})]})}),Object(m.jsxs)(Je.a,{open:M.previewDialogOpen,onClose:U,"aria-labelledby":"review-dialog-title","aria-describedby":"review-dialog-description",children:[Object(m.jsx)(He.a,{id:"review-dialog-title",children:M.previewDialogTitle}),Object(m.jsx)(ze.a,{children:Object(m.jsx)(We.a,{id:"review-dialog-description",children:M.previewDialogContent})}),Object(m.jsx)(qe.a,{children:Object(m.jsx)(p.a,{onClick:U,color:"error",autoFocus:!0,children:"Dismiss"})})]})]})},$e=a(2128),et=(a(2130),$e.a().shape({test:$e.b().required()}),{name:"projectcomposer",mode:"onChange",defaultValues:{stage:"start",stages:{start:{first_name:"",last_name:"",phone:"",email_address:"",survey_type:void 0,start_date:(new Date).addDays(7),end_date:(new Date).addDays(14)},description:{project_name:"",project_summary:"",project_objectives:""},scope:{questions:[],format:"Written",countries:[]},target:{confidence_level:"85",error_margin:"10",sample_size:1e3,regions:[]},workforce:{fielders:[],autoSelect:!0},review:{}},complete_stages:[]},persistOnChange:["stage"],onSubmit:function(e){}}),tt={start:{title:"Start",subtitle:"Project Start Details",description:"It takes under 5 minutes to fill the information you'd like us to collect, then sit back, relax and let us do the heavy lifting.",component:f},description:{title:"Description",subtitle:"Project Description",description:"",component:O},scope:{title:"Scope",subtitle:"Project's Scope",description:"",component:C},target:{title:"Target ",subtitle:"Project's Respondents Target",description:"To select or unselect a boundary Press Ctrl and click on the desired political Boundary \n. Click On an administrative boundary to get it's sub administrative boundary. Right click a boundary to highlight its apical boundary",component:H},workforce:{title:"Workforce",subtitle:"Select Workforce",description:"",component:Ie},review:{title:"Review",subtitle:"Project Overview & Review",description:"Project Overview & Review",component:Xe}},at=Object.keys(tt),nt=function(e){e.title;var t,a=e.complete,o=Object(h.h)(et),b=o.setValue,p=o.values,j=JSON.getDeepPropertyValue("stage",p)||at[0],g=JSON.getDeepPropertyValue("complete_stages",p)||[],f=(at.indexOf(j),Object(n.useCallback)((function(e){b("stage",e)}),[a]));return Object(m.jsxs)(l.a,{className:"min-h-screen",children:[Object(m.jsx)(c.a,{className:"flex flex-col items-end px-4",children:Object(m.jsx)("img",{src:w.a.endpoint("/public/img/realfield/survey.png")})}),Object(m.jsx)(c.a,{className:"flex flex-col items-end justify-center px-8",children:Object.entries(tt).map((function(e,t){var a=Object(r.a)(e,2),n=a[0],o=a[1];return n===j||g.includes(n)?Object(m.jsx)(d.a,{title:o.title,"aria-label":o.title,children:Object(m.jsx)(i.a,{onClick:function(){return f(n)},className:"transform rotate-180 ",disabled:n!==j&&!g.includes(n),sx:{color:function(e){return j===n?e.palette.accent.main:e.palette.background.paper}},children:Object(m.jsx)(s.a,{viewBox:"0 0 243.33 243.33",children:Object(m.jsxs)("g",{children:[Object(m.jsx)("polygon",{points:"115.84,32.59 115.84,180.42 22.45,210.75",fill:"inherit"}),Object(m.jsx)("polygon",{points:"127.5,32.59 127.5,180.42 220.88,210.75",fill:"inherit"})]})})})},"stage-".concat(t)):Object(m.jsx)(i.a,{onClick:function(){return f(n)},className:"transform rotate-180 ",disabled:!0,sx:{color:function(e){return e.palette.background.default}},children:Object(m.jsx)(s.a,{viewBox:"0 0 243.33 243.33",children:Object(m.jsxs)("g",{children:[Object(m.jsx)("polygon",{points:"115.84,32.59 115.84,180.42 22.45,210.75",fill:"inherit"}),Object(m.jsx)("polygon",{points:"127.5,32.59 127.5,180.42 220.88,210.75",fill:"inherit"})]})})},"stage-".concat(t))}))}),Object(m.jsx)(c.a,{className:"flex flex-col items-end px-8",children:Object(m.jsx)(u.a,{variant:"body1",color:"text.secondary",className:" px-4",children:"Stage ".concat(at.indexOf(j)+1," of ").concat(at.length)})}),Object(m.jsx)(c.a,{className:"flex flex-col items-end px-8",children:Object(m.jsx)(u.a,{variant:"body2",color:"accent.main",className:"px-4",children:null===(t=tt[j])||void 0===t?void 0:t.title})})]})};nt.defaultProps={title:"Survey",complete:at};var ot=nt,lt=a(2129),ct=a(701),rt=a.n(ct),it=a(700),st=a.n(it),dt=Object.keys(tt),ut=function(e){e.title;var t=e.complete,a=Object(k.a)(e,["title","complete"]),o=Object(K.a)(),l=Object(h.h)(et),c=l.setValue,r=l.values,i=l.formState,s=(i.errors,i.isValid),d=JSON.getDeepPropertyValue("stage",r)||dt[0],u=(JSON.getDeepPropertyValue("complete_stages",r),dt.indexOf(d)),j=(Object(n.useCallback)((function(e){c("stage",e)}),[t]),Object(n.useCallback)((function(){u<dt.length-1&&c("stage",dt[u+1])}),[u])),g=Object(n.useCallback)((function(){u>0&&u<=dt.length-1&&c("stage",dt[u-1])}),[u]);return Object(m.jsx)(be.a,Object(b.a)(Object(b.a)({},a),{},{children:Object(m.jsx)(lt.a,{variant:"text",steps:dt.length,position:"static",activeStep:u,nextButton:Object(m.jsxs)(p.a,{size:"small",onClick:j,disabled:!s||u===dt.length-1,children:["Next","rtl"===o.direction?Object(m.jsx)(rt.a,{}):Object(m.jsx)(st.a,{})]}),backButton:Object(m.jsxs)(p.a,{size:"small",onClick:g,disabled:0===u,children:["rtl"===o.direction?Object(m.jsx)(st.a,{}):Object(m.jsx)(rt.a,{}),"Back"]})})}))};ut.defaultProps={title:"Survey",complete:dt};var bt=ut,pt=Object.keys(tt),jt=function(e){var t=Object(h.h)(et),a=(t.getValues,t.setValue),o=t.values,r=t.register,i=JSON.getDeepPropertyValue("stage",o)||pt[0],s=JSON.getDeepPropertyValue("complete_stages",o)||[],d=Object(n.useCallback)((function(e){var t=pt.indexOf(i);if(console.log("indexOfStage < (stagekeys.length - 1)",t<pt.length-1),t>=0&&t<pt.length-1){var n=Array.isArray(s)?s:[];-1===n.indexOf(i)&&(n.push(i),a("complete_stages",n)),a("stage",pt[t+1])}}),[i,s]);Object(h.a)((function(){if(!JSON.getDeepPropertyValue("stage",o)){r("stage");a("stage",pt[0])}}));var u=tt[i]?tt[i]:tt[pt[0]],p=u.component,j=Object(k.a)(u,["component"]);return Object(m.jsx)(l.a,{className:"min-h-screen p-0",children:Object(m.jsx)(c.a,{className:"p-0",children:!!p&&Object(m.jsx)(p,Object(b.a)({onSubmit:d,stages:tt},j))})})};t.a=function(e){return Object(m.jsxs)(l.a,{className:"p-0",children:[Object(m.jsxs)(l.a,{className:"p-0 relative",sx:{backgroundColor:function(e){return"".concat(e.palette.background.default)},display:{xs:"none",md:"flex"}},children:[Object(m.jsx)(c.a,{xs:12,md:2,className:"p-0 py-4 secondary relative",children:Object(m.jsx)(ot,{})}),Object(m.jsx)(c.a,{xs:12,md:10,className:"p-0 relative",children:Object(m.jsx)(jt,{})})]}),Object(m.jsxs)(l.a,{className:"p-0 relative",sx:{backgroundColor:function(e){return"".concat(e.palette.background.default)},display:{md:"none",xs:"block"}},children:[Object(m.jsx)(c.a,{xs:12,className:"p-0 py-4 relative",children:Object(m.jsx)(bt,{})}),Object(m.jsx)(c.a,{xs:12,className:"p-0 relative",children:Object(m.jsx)(jt,{})})]})]})}}}]);