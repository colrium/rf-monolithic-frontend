(this.webpackJsonpdashboard=this.webpackJsonpdashboard||[]).push([[31],{2096:function(e,t,a){"use strict";a.r(t);var n=a(11),r=a.n(n),o=a(4),i=a(1),c=a(18),s=a(5),l=a(25),u=a(26),d=a(19),h=a(29),g=a(28),p=a(14),m=a(10),b=a(32),f=a.n(b),v=a(48),O=a.n(v),j=a(82),y=a(328),w=a(167),x=a(12),k=a(6),C=a(685),N=a(349),M=a(17),E=a(45),R=a(0),S=a.n(R),T=a(22),I=a(43),A=a.n(I),q=a(24),z=a(33),W=function(e){Object(h.a)(n,e);var t=Object(g.a)(n);function n(e){var a;Object(l.a)(this,n),(a=t.call(this,e)).state={counts:{},aggregates:{},loaded:{},loading:{},main_loading:!0},a.handleShowOptionsMenu=function(e){return function(e){}},a.handleCloseOptionsMenu=function(e){return function(e){}},a.handleAggregateMenuItemClick=function(e){return function(e){}};var r=a.props.definations;a.handleShowOptionsMenu=a.handleShowOptionsMenu.bind(Object(d.a)(a)),a.handleCloseOptionsMenu=a.handleCloseOptionsMenu.bind(Object(d.a)(a)),a.handleOnResolveAggregates=a.handleOnResolveAggregates.bind(Object(d.a)(a)),a.backgroundColors={};for(var o=0,i=Object.entries(r);o<i.length;o++){var c=Object(s.a)(i[o],2),u=c[0],h=c[1];a.backgroundColors[u]=O()(h.color?h.color:m.b.hex.primary).rgb().array().join(",")}return a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=Object(c.a)(r.a.mark((function e(){var t,a,n,c,l,u,d=this;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=this.props,a=t.auth,n=t.definations,c=function(){var e=Object(s.a)(u[l],2),t=e[0],n=e[1];if(!n.access.restricted(a.user)){var r=d;q.a.getContextRequests(null===n||void 0===n?void 0:n.endpoint).getRecordsCount().then((function(e){r.setState((function(a){return{counts:Object(i.a)(Object(i.a)({},a.counts),{},Object(o.a)({},t,e.body.data.count))}}))}))}},l=0,u=Object.entries(n);l<u.length;l++)c();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleOnResolveAggregates",value:function(e,t){this.setState((function(a){return{aggregates:Object(i.a)(Object(i.a)({},a.aggregates),{},Object(o.a)({},e,t))}}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,r=t.className,i=t.auth,c=t.definations,l=(t.services,t.contexts),u=t.gridSize,d=t.theme,h=t.chartType,g=f()(n.root,r);return S.a.createElement(x.a,Object(o.a)({className:"p-0"},"className",g),Object.entries(c).map((function(t,r){var o=Object(s.a)(t,2),c=o[0],g=o[1];return!g.access.restricted(i.user)&&g.access.view.summary(i.user)&&l.includes(c)&&S.a.createElement(k.a,{xs:12,md:u,key:c+"-aggregates"},S.a.createElement(j.a,{className:"rounded p-0",style:{background:d.palette.background.paper}},S.a.createElement(w.a,{className:"p-0"},"pie"===h&&S.a.createElement(N.a,{resolve:function(){return a.e(22).then(a.bind(null,2038))},placeholder:[{variant:"rect",width:"30%",height:50,className:"m-auto float-right"},{variant:"circle",width:150,height:150,className:"m-auto mt-4"},{variant:"text",width:"50%",className:"m-auto mt-4"}],defination:g,service:q.a.getContextRequests(g.endpoint),color:g.color?g.color:m.b.hex.primary,dynamic:!0,showTitle:!0,showMenu:!0,monochrome:!0}),"bar"===h&&S.a.createElement(N.a,{resolve:function(){return a.e(21).then(a.bind(null,2039))},placeholder:[{variant:"rect",width:"30%",height:50,className:"m-auto float-right"},{variant:"circle",width:150,height:150,className:"m-auto mt-4"},{variant:"text",width:"50%",className:"m-auto mt-4"}],defination:g,service:q.a.getContextRequests(g.endpoint),color:g.color?g.color:m.b.hex.primary,dynamic:!0,showTitle:!0,showMenu:!0,monochrome:!0})),S.a.createElement(y.a,null,g.icon,S.a.createElement(M.a,{className:n.caption,variant:"caption"},"Total"," ",g.label," :"," ",e.state.counts[c]?e.state.counts[c]+"":"0"))))})))}}]),n}(R.Component);W.defaultProps={gridSize:12,chartType:"pie",contexts:["commissions","surveys","responses"]};t.default=Object(E.c)(A()(C.a,Object(p.a)((function(e){return{root:{padding:"0"},content:{alignItems:"center",display:"flex",padding:e.spacing()},title:{color:e.palette.text.secondary,fontWeight:700,padding:e.spacing(2)},value:{marginTop:e.spacing(),padding:e.spacing(2)},iconWrapper:{alignItems:"center",borderRadius:"50%",display:"inline-flex",height:"4rem",justifyContent:"center",marginLeft:"auto",width:"4rem","&:hover":{background:"rgba("+m.b.rgb.default+", 0.3)"}},icon:{color:m.b.hex.inverse,fontSize:"2rem",height:"2rem",width:"2rem"},footer:{marginTop:e.spacing(),display:"flex",alignItems:"center",padding:e.spacing()},difference:{alignItems:"center",color:m.b.hex.error,display:"inline-flex",fontWeight:700},caption:{marginLeft:e.spacing()}}})),Object(T.b)((function(e){return{auth:e.auth}}),{}),z.a)(W))}}]);
//# sourceMappingURL=31.118f1c79.chunk.js.map