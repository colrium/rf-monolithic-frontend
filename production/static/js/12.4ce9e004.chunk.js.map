{"version":3,"sources":["assets/img/realfield/logo-chevron.svg","../node_modules/@material-ui/icons/ShoppingCartOutlined.js","views/widgets/Auth/LoginDialog/index.jsx","views/widgets/Ecommerce/Cart/index.jsx","views/pages/LandingPage/Cart/index.jsx"],"names":["module","exports","_interopRequireDefault","require","Object","defineProperty","value","_react","_default","createElement","d","withErrorHandler","connect","state","auth","props","open","onLogin","onCancel","title","className","useState","isOpen","setIsOpen","useEffect","Dialog","onClose","e","aria-labelledby","DialogTitle","id","Typography","variant","ScrollBars","DialogContent","GridContainer","GridItem","xs","LoginForm","user","Function","isFunction","DialogActions","Button","color","simple","onClick","event","withGlobals","cart","ecommerce","order","removeFromCart","setCartNote","setOrder","emptyCart","setCheckoutData","closeDialog","openDialog","setState","sockets","onProceedToCheckout","loading","setLoading","loginDialogOpen","setLoginDialogOpen","proceedToCheckout","isAuthenticated","currency","Array","isArray","entries","length","item","_id","make_order_data","total","options_total","discount","tax","customer","status","apply_coupon","coupon","notes","note","items","map","entry","index","quantity","cost","options","options_cost","gateway_params_data","context","symbol","amount","reference","made_by","account","phone","phone_number","email","email_address","mpesa","country","p1","socketId","PaymentsService","gatewayData","then","res","gateway_params","body","data","OrdersService","makeOrder","made_order","sm","actions","cancel","text","proceed","right","List","JSON","isJSON","ListItem","alignItems","key","ListItemAvatar","Avatar","LazyImage","alt","name","src","featured_image","AttachmentsService","getAttachmentFileUrl","LogoChevron","ListItemText","primary","secondary","component","description","confirmRemoveFromCart","disabled","md","type","label","multiline","rows","onChange","updatedOrder","updateJSON","update","setOrderNote","helperText","LoginDialog","Page","bind","document","app","history","this","push","toUriWithLandingPagePrefix","classes","Cart","React","Component"],"mappings":"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","file":"static/js/12.4ce9e004.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo-chevron.cc0777ae.svg\";","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M15.55 13c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.37-.66-.11-1.48-.87-1.48H5.21l-.94-2H1v2h2l3.6 7.59-1.35 2.44C4.52 15.37 5.48 17 7 17h12v-2H7l1.1-2h7.45zM6.16 6h12.15l-2.76 5H8.53L6.16 6zM7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm10 0c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z\"\n}), 'ShoppingCartOutlined');\n\nexports.default = _default;","/** @format */\r\n\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Button from \"components/Button\";\r\nimport GridContainer from \"components/Grid/GridContainer\";\r\nimport GridItem from \"components/Grid/GridItem\";\r\nimport ScrollBars from \"components/ScrollBars\";\r\nimport Typography from \"components/Typography\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { withErrorHandler } from \"hoc/ErrorHandler\";\r\nimport LoginForm from \"views/forms/LoginForm\";\r\n\r\nfunction Widget(props) {\r\n\tconst { auth, open, onLogin, onCancel, title, className } = props;\r\n\tconst [isOpen, setIsOpen] = useState(open);\r\n\tconst [error, setError] = useState(false);\r\n\tuseEffect(() => {\r\n\t\tsetIsOpen(props.open);\r\n\t}, [props.open]);\r\n\r\n\tfunction onLoginInternal(user) {\r\n\t\tif (isOpen && Function.isFunction(onLogin)) {\r\n\t\t\tonLogin(user);\r\n\t\t}\r\n\t\tsetIsOpen(false);\r\n\t}\r\n\tfunction onLoginCancel(event) {\r\n\t\tif (Function.isFunction(onCancel)) {\r\n\t\t\tonCancel();\r\n\t\t}\r\n\t\tsetIsOpen(false);\r\n\t}\r\n\treturn (\r\n\t\t<Dialog\r\n\t\t\tonClose={e => setIsOpen(false)}\r\n\t\t\tclassName={className}\r\n\t\t\taria-labelledby=\"login-dialog-title\"\r\n\t\t\topen={isOpen}\r\n\t\t>\r\n\t\t\t<DialogTitle id=\"login-dialog-title\">\r\n\t\t\t\t<Typography variant=\"h5\">{title ? title : \"Login\"} </Typography>\r\n\t\t\t</DialogTitle>\r\n\t\t\t<ScrollBars>\r\n\t\t\t\t<DialogContent>\r\n\t\t\t\t\t<GridContainer className=\"px-4\">\r\n\t\t\t\t\t\t<GridItem xs={12} className=\"p-0 m-0\">\r\n\t\t\t\t\t\t\t<LoginForm onLogin={onLoginInternal} />\r\n\t\t\t\t\t\t</GridItem>\r\n\t\t\t\t\t</GridContainer>\r\n\t\t\t\t</DialogContent>\r\n\t\t\t</ScrollBars>\r\n\r\n\t\t\t<DialogActions>\r\n\t\t\t\t<Button color=\"error\" simple onClick={onLoginCancel}>\r\n\t\t\t\t\tCancel\r\n\t\t\t\t</Button>\r\n\t\t\t</DialogActions>\r\n\t\t</Dialog>\r\n\t);\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n\tauth: state.auth,\r\n});\r\n\r\nexport default withErrorHandler(connect(mapStateToProps, {})(Widget));\r\n","/** @format */\r\n\r\nimport List from \"@material-ui/core/List\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport CartIcon from \"@material-ui/icons/ShoppingCartOutlined\";\r\nimport LogoChevron from \"assets/img/realfield/logo-chevron.svg\";\r\nimport Avatar from \"components/Avatar\";\r\nimport Button from \"components/Button\";\r\nimport { TextInput } from \"components/FormInputs\";\r\nimport GridContainer from \"components/Grid/GridContainer\";\r\nimport GridItem from \"components/Grid/GridItem\";\r\nimport LazyImage from \"components/LazyImage\";\r\nimport Typography from \"components/Typography\";\r\nimport React, { useEffect, useState } from \"react\";\r\n\r\nimport { connect } from \"react-redux\";\r\nimport {withGlobals} from \"contexts/Globals\";\r\nimport { attachments as AttachmentsService, orders as OrdersService, payments as PaymentsService } from \"services\";\r\nimport { closeDialog, emptyCart, openDialog, removeFromCart, setCartNote, setCheckoutData, setOrder } from \"state/actions\";\r\nimport { withErrorHandler } from \"hoc/ErrorHandler\";\r\nimport LoginDialog from \"views/widgets/Auth/LoginDialog\";\r\n\r\n\r\n\r\nfunction Widget(props) {\r\n\tlet [state, setState] = useState(props);\r\n\tuseEffect(() => {\r\n\t\tsetState(props);\r\n\t}, [props]);\r\n\r\n\tlet {\r\n\t\tcart,\r\n\t\torder,\r\n\t\tauth,\r\n\t\tsockets,\r\n\t\tremoveFromCart,\r\n\t\tsetCartNote,\r\n\t\tsetOrder,\r\n\t\temptyCart,\r\n\t\tsetCheckoutData,\r\n\t\tcloseDialog,\r\n\t\topenDialog,\r\n\t\tonProceedToCheckout,\r\n\t\tclassName,\r\n\t} = state;\r\n\tlet [loading, setLoading] = useState(false);\r\n\tlet [error, setError] = useState(false);\r\n\tlet [loginDialogOpen, setLoginDialogOpen] = useState(false);\r\n\r\n\tfunction confirmRemoveFromCart(entry) {\r\n\t\topenDialog({\r\n\t\t\ttitle: \"Remove from Cart\",\r\n\t\t\tbody: \"Are you sure you want to remove cart item?\",\r\n\t\t\tactions: {\r\n\t\t\t\tcancel: {\r\n\t\t\t\t\ttext: \"Dismiss\",\r\n\t\t\t\t\tcolor: \"grey\",\r\n\t\t\t\t\tonClick: closeDialog,\r\n\t\t\t\t},\r\n\t\t\t\tproceed: {\r\n\t\t\t\t\ttext: \"Remove\",\r\n\t\t\t\t\tcolor: \"error\",\r\n\t\t\t\t\tonClick: () => {\r\n\t\t\t\t\t\tcloseDialog();\r\n\t\t\t\t\t\tremoveFromCart(entry);\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n\r\n\tfunction confirmEmptyCart() {\r\n\t\topenDialog({\r\n\t\t\ttitle: \"Empty Cart\",\r\n\t\t\tbody: \"Are you sure you want to remove all items from your cart?\",\r\n\t\t\tactions: {\r\n\t\t\t\tcancel: {\r\n\t\t\t\t\ttext: \"Dismiss\",\r\n\t\t\t\t\tcolor: \"grey\",\r\n\t\t\t\t\tonClick: closeDialog,\r\n\t\t\t\t},\r\n\t\t\t\tproceed: {\r\n\t\t\t\t\ttext: \"Empty\",\r\n\t\t\t\t\tcolor: \"error\",\r\n\t\t\t\t\tonClick: () => {\r\n\t\t\t\t\t\tcloseDialog();\r\n\t\t\t\t\t\temptyCart();\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n\r\n\tfunction proceedToCheckout() {\r\n\t\tif (auth.isAuthenticated) {\r\n\t\t\tlet currency = null;\r\n\t\t\tif (Array.isArray(cart.entries)) {\r\n\t\t\t\tif (cart.entries.length > 0) {\r\n\t\t\t\t\tcurrency = cart.entries[0].item.currency\r\n\t\t\t\t\t\t? cart.entries[0].item.currency._id\r\n\t\t\t\t\t\t: null;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tlet make_order_data = {\r\n\t\t\t\tcurrency: currency,\r\n\t\t\t\ttotal: cart.total,\r\n\t\t\t\toptions_total: cart.options_total,\r\n\t\t\t\tdiscount: 0,\r\n\t\t\t\ttax: 0,\r\n\t\t\t\tcustomer: auth.user._id,\r\n\t\t\t\tstatus: \"awaiting_payment\",\r\n\t\t\t\tapply_coupon: false,\r\n\t\t\t\tcoupon: null,\r\n\t\t\t\tnotes: cart.note,\r\n\t\t\t\titems: cart.entries.map((entry, index) => {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\titem: entry.item._id,\r\n\t\t\t\t\t\tquantity: entry.quantity ? entry.quantity : 1,\r\n\t\t\t\t\t\tcost: entry.item.cost,\r\n\t\t\t\t\t\toptions: entry.options ? entry.options : {},\r\n\t\t\t\t\t\toptions_cost: entry.options_cost,\r\n\t\t\t\t\t};\r\n\t\t\t\t}),\r\n\t\t\t};\r\n\r\n\t\t\tif (order) {\r\n\t\t\t\tlet gateway_params_data = {\r\n\t\t\t\t\tcontext: \"order\",\r\n\t\t\t\t\torder: order._id,\r\n\t\t\t\t\tcurrency: order.currency.symbol,\r\n\t\t\t\t\tamount: order.total,\r\n\t\t\t\t\treference: order.reference,\r\n\t\t\t\t\tmade_by: order.customer._id,\r\n\t\t\t\t\taccount: \"realfield\",\r\n\t\t\t\t\tphone: order.customer.phone_number\r\n\t\t\t\t\t\t? order.customer.phone_number\r\n\t\t\t\t\t\t: \"\",\r\n\t\t\t\t\temail: order.customer.email_address,\r\n\t\t\t\t\tmpesa: order.customer.country === \"KE\" ? \"1\" : \"0\",\r\n\t\t\t\t\tp1: sockets.default ? sockets.default.socketId : \"\",\r\n\t\t\t\t};\r\n\r\n\t\t\t\tPaymentsService.gatewayData(gateway_params_data)\r\n\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\tlet gateway_params = res.body.data;\r\n\t\t\t\t\t\tsetCheckoutData(gateway_params);\r\n\t\t\t\t\t\tif (Function.isFunction(onProceedToCheckout)) {\r\n\t\t\t\t\t\t\tonProceedToCheckout();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(e => {\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tOrdersService.makeOrder(make_order_data)\r\n\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\tlet made_order = res.body.data;\r\n\t\t\t\t\t\tsetOrder(made_order);\r\n\t\t\t\t\t\tlet gateway_params_data = {\r\n\t\t\t\t\t\t\tcontext: \"order\",\r\n\t\t\t\t\t\t\torder: made_order._id,\r\n\t\t\t\t\t\t\tcurrency: made_order.currency.symbol,\r\n\t\t\t\t\t\t\tamount: made_order.total,\r\n\t\t\t\t\t\t\treference: made_order.reference,\r\n\t\t\t\t\t\t\tmade_by: made_order.customer._id,\r\n\t\t\t\t\t\t\taccount: \"realfield\",\r\n\t\t\t\t\t\t\tphone: made_order.customer.phone_number\r\n\t\t\t\t\t\t\t\t? made_order.customer.phone_number\r\n\t\t\t\t\t\t\t\t: \"\",\r\n\t\t\t\t\t\t\temail: made_order.customer.email_address,\r\n\t\t\t\t\t\t\tmpesa:\r\n\t\t\t\t\t\t\t\tmade_order.customer.country === \"KE\"\r\n\t\t\t\t\t\t\t\t\t? \"1\"\r\n\t\t\t\t\t\t\t\t\t: \"0\",\r\n\t\t\t\t\t\t\tp1: sockets.default ? sockets.default.socketId : \"\",\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\tPaymentsService.gatewayData(gateway_params_data)\r\n\t\t\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\t\t\tlet gateway_params = res.body.data;\r\n\t\t\t\t\t\t\t\tsetCheckoutData(gateway_params);\r\n\t\t\t\t\t\t\t\tif (Function.isFunction(onProceedToCheckout)) {\r\n\t\t\t\t\t\t\t\t\tonProceedToCheckout();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.catch(e => {\r\n\t\t\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(e => {\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetLoginDialogOpen(true);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction setOrderNote(note) {\r\n\t\tif (order) {\r\n\t\t\tlet updatedOrder = JSON.updateJSON(order, { notes: note });\r\n\t\t\tOrdersService.update(order._id, updatedOrder)\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tsetOrder(updatedOrder);\r\n\t\t\t\t\tsetCartNote(note);\r\n\t\t\t\t})\r\n\t\t\t\t.catch(e => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tif (cart.entries.length > 0) {\r\n\t\treturn (\r\n\t\t\t<GridContainer\r\n\t\t\t\tclassName={\"px-4\" + (className ? \" \" + className : \"\")}\r\n\t\t\t>\r\n\t\t\t\t<GridItem xs={12} sm={12} className=\"mb-4\">\r\n\t\t\t\t\t<Typography variant=\"h4\"> Cart </Typography>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tcolor=\"warning\"\r\n\t\t\t\t\t\tclassName=\"mt-2 w-auto\"\r\n\t\t\t\t\t\tonClick={confirmEmptyCart}\r\n\t\t\t\t\t\tright\r\n\t\t\t\t\t\tsimple\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{\" \"}\r\n\t\t\t\t\t\tRemove all{\" \"}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</GridItem>\r\n\t\t\t\t<GridItem xs={12} className=\"p-0 m-0\">\r\n\t\t\t\t\t<List className=\"w-full\">\r\n\t\t\t\t\t\t{cart.entries.map((entry, index) => {\r\n\t\t\t\t\t\t\tlet { item } = entry;\r\n\t\t\t\t\t\t\tif (!JSON.isJSON(item)) {\r\n\t\t\t\t\t\t\t\titem = {};\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<ListItem\r\n\t\t\t\t\t\t\t\t\talignItems=\"flex-start\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"inverse mb-2 rounded\"\r\n\t\t\t\t\t\t\t\t\tkey={\"cart-item-\" + index}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<ListItemAvatar>\r\n\t\t\t\t\t\t\t\t\t\t<Avatar>\r\n\t\t\t\t\t\t\t\t\t\t\t<LazyImage\r\n\t\t\t\t\t\t\t\t\t\t\t\talt={item.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titem.featured_image\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? AttachmentsService.getAttachmentFileUrl(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.featured_image\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t  )\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: LogoChevron\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</Avatar>\r\n\t\t\t\t\t\t\t\t\t</ListItemAvatar>\r\n\t\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\t\tprimary={item.name}\r\n\t\t\t\t\t\t\t\t\t\tsecondary={\r\n\t\t\t\t\t\t\t\t\t\t\t<GridContainer className=\"p-0\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<GridItem\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txs={12}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"m-0 p-0\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcomponent=\"span\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"body2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-full \"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"grey\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{item.description}{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</GridItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<GridItem\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txs={12}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"m-0 mt-2 p-0\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcomponent=\"span\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"body2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"inline\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"default\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tCost: {item.cost}{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</GridItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<GridItem\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txs={12}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"m-0 mt-2 p-0\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcomponent=\"span\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"body2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"inline\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"default\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tOptions:{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tentry.options_cost\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</GridItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<GridItem\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txs={12}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"m-0 mt-2 p-0\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"warning\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsimple\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={event =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconfirmRemoveFromCart(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tentry\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={loading}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tRemove{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</GridItem>\r\n\t\t\t\t\t\t\t\t\t\t\t</GridContainer>\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</List>\r\n\t\t\t\t</GridItem>\r\n\t\t\t\t<GridItem xs={12} className=\"p-2\">\r\n\t\t\t\t\t<GridContainer className=\"p-0\">\r\n\t\t\t\t\t\t<GridItem xs={12} sm={12} md={6} className=\"mb-2\">\r\n\t\t\t\t\t\t\t<TextInput\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tlabel=\"Order Note\"\r\n\t\t\t\t\t\t\t\tname=\"note\"\r\n\t\t\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\t\t\trows={4}\r\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\tvalue={cart.note}\r\n\t\t\t\t\t\t\t\tonChange={value => setOrderNote(value)}\r\n\t\t\t\t\t\t\t\thelperText=\"Leave a note with your order\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</GridItem>\r\n\r\n\t\t\t\t\t\t<GridItem\r\n\t\t\t\t\t\t\txs={12}\r\n\t\t\t\t\t\t\tsm={12}\r\n\t\t\t\t\t\t\tmd={6}\r\n\t\t\t\t\t\t\tclassName=\"mb-4 flex flex-col\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\tcomponent=\"span\"\r\n\t\t\t\t\t\t\t\tvariant=\"h2\"\r\n\t\t\t\t\t\t\t\tclassName=\"text-right\"\r\n\t\t\t\t\t\t\t\tcolor=\"default\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<span className=\"text-gray-500 mr-2 text-base\">\r\n\t\t\t\t\t\t\t\t\t{cart.currency}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t<span className=\"text-3xl\">{cart.total}</span>\r\n\t\t\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\tcomponent=\"span\"\r\n\t\t\t\t\t\t\t\tvariant=\"h4\"\r\n\t\t\t\t\t\t\t\tclassName=\"text-right\"\r\n\t\t\t\t\t\t\t\tcolor=\"default\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<span className=\"text-gray-400 mr-4 text-xs\">\r\n\t\t\t\t\t\t\t\t\tOptions:{\" \"}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t<span className=\"text-gray-500 mr-2 text-xs\">\r\n\t\t\t\t\t\t\t\t\t{cart.currency}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t<span className=\"text-sm\">\r\n\t\t\t\t\t\t\t\t\t{cart.options_total}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</GridItem>\r\n\t\t\t\t\t</GridContainer>\r\n\r\n\t\t\t\t\t<GridContainer className=\"p-0\">\r\n\t\t\t\t\t\t<GridItem xs={12} sm={12} className=\"mb-2\">\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\tclassName=\" w-auto\"\r\n\t\t\t\t\t\t\t\tonClick={e => {\r\n\t\t\t\t\t\t\t\t\tproceedToCheckout();\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tright\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{\" \"}\r\n\t\t\t\t\t\t\t\tProceed to Checkout{\" \"}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</GridItem>\r\n\t\t\t\t\t\t<GridItem xs={12} sm={12} className=\"mb-4\">\r\n\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\tcomponent=\"span\"\r\n\t\t\t\t\t\t\t\tvariant=\"body2\"\r\n\t\t\t\t\t\t\t\tclassName=\"w-full text-right text-gray-700\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{\" \"}\r\n\t\t\t\t\t\t\t\tShipping & taxes calculated at checkout{\" \"}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</GridItem>\r\n\t\t\t\t\t</GridContainer>\r\n\t\t\t\t\t<LoginDialog\r\n\t\t\t\t\t\topen={loginDialogOpen}\r\n\t\t\t\t\t\tonLogin={proceedToCheckout}\r\n\t\t\t\t\t\ttitle=\"Login to Proceed\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</GridItem>\r\n\t\t\t</GridContainer>\r\n\t\t);\r\n\t} else {\r\n\t\treturn (\r\n\t\t\t<GridContainer\r\n\t\t\t\tclassName={\"px-4\" + (className ? \" \" + className : \"\")}\r\n\t\t\t>\r\n\t\t\t\t<GridItem xs={12} className=\"p-0 m-0 my-20 text-center\">\r\n\t\t\t\t\t<CartIcon className=\"text-6xl m-auto text-gray-500\" />\r\n\t\t\t\t</GridItem>\r\n\r\n\t\t\t\t<GridItem xs={12} className=\"p-0 m-0\">\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tcomponent=\"span\"\r\n\t\t\t\t\t\tvariant=\"subtitle1\"\r\n\t\t\t\t\t\tclassName=\"w-full text-center text-gray-500\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{\" \"}\r\n\t\t\t\t\t\tYour Cart is empty{\" \"}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</GridItem>\r\n\t\t\t</GridContainer>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n\tauth: state.auth,\r\n\tcart: state.ecommerce.cart,\r\n\torder: state.ecommerce.order,\r\n});\r\n\r\nexport default withGlobals(\r\n\tconnect(mapStateToProps, {\r\n\t\tremoveFromCart,\r\n\t\tsetCartNote,\r\n\t\tsetOrder,\r\n\t\temptyCart,\r\n\t\tsetCheckoutData,\r\n\t\tcloseDialog,\r\n\t\topenDialog,\r\n\t})(withErrorHandler(Widget))\r\n);\r\n","/** @format */\r\n\r\nimport { app } from \"assets/jss/app-theme\";\r\nimport GridContainer from \"components/Grid/GridContainer\";\r\nimport GridItem from \"components/Grid/GridItem\";\r\nimport React from \"react\";\r\nimport { withErrorHandler } from \"hoc/ErrorHandler\";\r\nimport CartView from \"views/widgets/Ecommerce/Cart\";\r\n\r\nclass Page extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.onProceedToCheckout = this.onProceedToCheckout.bind(this);\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tdocument.title = app.title(\"Cart\");\r\n\t}\r\n\r\n\tonProceedToCheckout() {\r\n\t\tconst { history } = this.props;\r\n\t\tif (history) {\r\n\t\t\thistory.push(\"/checkout\".toUriWithLandingPagePrefix());\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes, ...rest } = this.props;\r\n\t\treturn (\r\n\t\t\t<GridContainer className=\"relative min-h-screen\">\r\n\t\t\t\t<GridItem xs={12} sm={10} md={8} className=\"m-auto\">\r\n\t\t\t\t\t<CartView\r\n\t\t\t\t\t\tclassName=\"w-full\"\r\n\t\t\t\t\t\tonProceedToCheckout={this.onProceedToCheckout}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</GridItem>\r\n\t\t\t</GridContainer>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withErrorHandler(Page);\r\n"],"sourceRoot":""}