(this.webpackJsonpdashboard=this.webpackJsonpdashboard||[]).push([[32],{1965:function(e,t,a){"use strict";a.r(t);var n=a(7),r=a.n(n),i=a(4),o=a(2),c=a(18),s=a(9),l=a(17),u=a(25),d=a(22),h=a(20),g=a(19),m=a(14),p=a(11),b=a(32),f=a.n(b),v=a(48),O=a.n(v),j=a(77),y=a(290),w=a(153),x=a(12),k=a(5),N=a(615),M=a(392),C=a(21),E=a(46),S=a(0),T=a.n(S),I=a(26),R=a(44),A=a.n(R),z=a(31),P=function(e){Object(h.a)(n,e);var t=Object(g.a)(n);function n(e){var a;Object(l.a)(this,n),(a=t.call(this,e)).state={counts:{},aggregates:{},loaded:{},loading:{},main_loading:!0},a.handleShowOptionsMenu=function(e){return function(e){}},a.handleCloseOptionsMenu=function(e){return function(e){}},a.handleAggregateMenuItemClick=function(e){return function(e){}};var r=a.props,i=r.definations;r.services;a.handleShowOptionsMenu=a.handleShowOptionsMenu.bind(Object(d.a)(a)),a.handleCloseOptionsMenu=a.handleCloseOptionsMenu.bind(Object(d.a)(a)),a.handleOnResolveAggregates=a.handleOnResolveAggregates.bind(Object(d.a)(a)),a.backgroundColors={};for(var o=0,c=Object.entries(i);o<c.length;o++){var u=Object(s.a)(c[o],2),h=u[0],g=u[1];a.backgroundColors[h]=O()(g.color?g.color:p.b.hex.primary).rgb().array().join(",")}return a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=Object(c.a)(r.a.mark((function e(){var t,a,n,c,l,u,d,h=this;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=this.props,a=t.auth,n=t.definations,c=t.services,l=function(){var e=Object(s.a)(d[u],2),t=e[0];if(!e[1].access.restricted(a.user)&&t in c){var n=h;c[t].getRecordsCount().then((function(e){n.setState((function(a){return{counts:Object(o.a)(Object(o.a)({},a.counts),{},Object(i.a)({},t,e.body.data.count))}}))}))}},u=0,d=Object.entries(n);u<d.length;u++)l();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleOnResolveAggregates",value:function(e,t){this.setState((function(a){return{aggregates:Object(o.a)(Object(o.a)({},a.aggregates),{},Object(i.a)({},e,t))}}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,r=t.className,o=t.auth,c=t.definations,l=t.services,u=t.contexts,d=t.gridSize,h=t.theme,g=t.chartType,m=f()(n.root,r);return T.a.createElement(x.a,Object(i.a)({className:"p-0"},"className",m),Object.entries(c).map((function(t,r){var i=Object(s.a)(t,2),c=i[0],m=i[1];return!m.access.restricted(o.user)&&m.access.view.summary(o.user)&&c in l&&u.includes(c)&&T.a.createElement(k.a,{xs:12,md:d,key:c+"-aggregates"},T.a.createElement(j.a,{className:"rounded p-0",style:{background:h.palette.background.paper}},T.a.createElement(w.a,{className:"p-0"},"pie"===g&&T.a.createElement(M.a,{resolve:function(){return Promise.all([a.e(0),a.e(31)]).then(a.bind(null,1901))},placeholder:[{variant:"rect",width:"30%",height:50,className:"m-auto float-right"},{variant:"circle",width:150,height:150,className:"m-auto mt-4"},{variant:"text",width:"50%",className:"m-auto mt-4"}],defination:m,service:l[c],color:m.color?m.color:p.b.hex.primary,dynamic:!0,showTitle:!0,showMenu:!0,monochrome:!0}),"bar"===g&&T.a.createElement(M.a,{resolve:function(){return Promise.all([a.e(0),a.e(30)]).then(a.bind(null,1902))},placeholder:[{variant:"rect",width:"30%",height:50,className:"m-auto float-right"},{variant:"circle",width:150,height:150,className:"m-auto mt-4"},{variant:"text",width:"50%",className:"m-auto mt-4"}],defination:m,service:l[c],color:m.color?m.color:p.b.hex.primary,dynamic:!0,showTitle:!0,showMenu:!0,monochrome:!0})),T.a.createElement(y.a,null,m.icon,T.a.createElement(C.a,{className:n.caption,variant:"caption"},"Total"," ",m.label," :"," ",e.state.counts[c]?e.state.counts[c]+"":"0"))))})))}}]),n}(S.Component);P.defaultProps={gridSize:12,chartType:"pie",contexts:["commissions","surveys","responses"]};t.default=Object(E.c)(A()(N.a,Object(m.a)((function(e){return{root:{padding:"0"},content:{alignItems:"center",display:"flex",padding:e.spacing()},title:{color:e.palette.text.secondary,fontWeight:700,padding:e.spacing(2)},value:{marginTop:e.spacing(),padding:e.spacing(2)},iconWrapper:{alignItems:"center",borderRadius:"50%",display:"inline-flex",height:"4rem",justifyContent:"center",marginLeft:"auto",width:"4rem","&:hover":{background:"rgba("+p.b.rgb.default+", 0.3)"}},icon:{color:p.b.hex.inverse,fontSize:"2rem",height:"2rem",width:"2rem"},footer:{marginTop:e.spacing(),display:"flex",alignItems:"center",padding:e.spacing()},difference:{alignItems:"center",color:p.b.hex.error,display:"inline-flex",fontWeight:700},caption:{marginLeft:e.spacing()}}})),Object(I.b)((function(e){return{auth:e.auth}}),{}),z.a)(P))}}]);
//# sourceMappingURL=32.d6e3023b.chunk.js.map