(this.webpackJsonpdashboard=this.webpackJsonpdashboard||[]).push([[19],{2044:function(e,t,a){"use strict";var s=a(39);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a(0)),r=(0,s(a(43)).default)(n.default.createElement("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check");t.default=r},2094:function(e,t,a){"use strict";a.r(t);var s=a(1),n=a(4),r=a(17),c=a(25),o=a(22),l=a(20),i=a(19),p=a(2037),d=a(11),u=a(12),m=a(5),h=a(21),O=a(16),b=a(0),f=a.n(b),S=a(26),j=a(13),_=a(31),v=a(123),C=a(6),y=a(68),g=a(118),E=a(2029),k=a(2030),N=a(2031),x=a(429),w=a.n(x),A=a(428),J=a.n(A),P=a(2044),T=a.n(P);function q(e){var t=Object(b.useState)(e),a=Object(C.a)(t,2),s=a[0],n=a[1];Object(b.useEffect)((function(){n(e)}),[e]);var r=s.active,c=s.completed,o=s.color,l=s.activeColor;return f.a.createElement("div",{className:(r?l:o)+"+text"},r?f.a.createElement("div",{className:"w-4 h-4 rounded-full "+l}):c?f.a.createElement(T.a,null):f.a.createElement("div",{className:"w-2 h-2 ml-1 rounded-full "+o}))}function z(e){var t=f.a.useState(e.direction),a=Object(C.a)(t,2),s=(a[0],a[1]),n=f.a.useState(e.steps),r=Object(C.a)(n,2),c=r[0],o=r[1],l=f.a.useState(e.step),i=Object(C.a)(l,2),p=i[0],d=i[1],u=f.a.useState(e.color),m=Object(C.a)(u,2),O=m[0],S=m[1],j=f.a.useState(e.activeColor),_=Object(C.a)(j,2),v=_[0],y=_[1],x=f.a.useState(e.onStep),A=Object(C.a)(x,2),P=A[0],T=A[1],z=f.a.useState(e.controlled),D=Object(C.a)(z,2),F=D[0],R=D[1],I=f.a.useState(e.completed),B=Object(C.a)(I,2),M=(B[0],B[1]);Object(b.useEffect)((function(){s(e.direction),o(e.steps),d(e.step),S(e.color),y(e.activeColor),T(e.onStep),R(e.controlled),M(e.completed)}),[e]);return f.a.createElement("div",{className:"min-w-full"},!F&&f.a.createElement("div",{className:"w-full relative"},f.a.createElement(g.a,{className:0===p?"center_horizontally opacity-0":v+"_text opacity-100 center_horizontally",onClick:function(){Function.isFunction(P)&&P(p,p-1),d((function(e){return e-1}))},disabled:0===p},f.a.createElement(J.a,null))),f.a.createElement(N.a,{className:"bg-transparent",activeStep:p,orientation:"vertical",connector:f.a.createElement("div",{className:"h-8"})},Object.entries(c).map((function(e,t){var a=Object(C.a)(e,2),s=a[0],n=a[1];return f.a.createElement(E.a,{key:s,className:"bg-transparent"},f.a.createElement(k.a,{StepIconComponent:q,StepIconProps:{color:O,activeColor:v}},f.a.createElement(h.a,{className:p===t?v+"_text":O+"_text"},n)))}))),!F&&f.a.createElement("div",{className:"w-full relative"},f.a.createElement(g.a,{className:p===Object.size(c)===0?"center_horizontally":v+"_text center_horizontally",onClick:function(){Function.isFunction(P)&&P(p,p+1),d((function(e){return e+1}))},disabled:p===Object.size(c)},f.a.createElement(w.a,null))))}z.defaultProps={color:"inverse",activeColor:"inverse",steps:{},completed:[],step:0,controlled:!0};var D=Object(y.a)(z),F=a(2028),R=a(690),I=a.n(R),B=a(527),M=a.n(B),W=a(29);function L(e){var t=e.direction,a=e.steps,s=e.step,n=e.backText,r=e.nextText,c=f.a.useState(s),o=Object(C.a)(c,2),l=o[0],i=o[1];return f.a.createElement(F.a,{variant:"dots",steps:a,position:"static",activeStep:l,className:"flex-grow min-w-full",nextButton:f.a.createElement(W.a,{color:l===a?"grey":"primary",onClick:function(){i((function(e){return e+1}))},disabled:l===a,simple:!0},r,"rtl"===t?f.a.createElement(I.a,null):f.a.createElement(M.a,null)),backButton:f.a.createElement(W.a,{color:0===l?"grey":"primary",onClick:function(){i((function(e){return e-1}))},disabled:0===l,simple:!0},"rtl"===t?f.a.createElement(M.a,null):f.a.createElement(I.a,null),n)})}L.defaultProps={direction:"ltr",backText:"Back",nextText:"Next",steps:1,step:0};var U=Object(y.a)(L);function H(e){var t=Object(b.useState)(e),a=Object(C.a)(t,2),n=a[0],r=a[1],c=n.type,o=Object(s.a)(Object(s.a)({},n),{},{steps:Object.size(n.steps)});return Object(b.useEffect)((function(){r(e)}),[e]),f.a.createElement("div",null,"mobile"===c&&f.a.createElement(U,o),"default"===c&&f.a.createElement(D,n))}H.defaultProps={type:"default"};var K=Object(y.a)(H),Y=Object(v.a)((function(){return a.e(30).then(a.bind(null,2088))})),G=Object(v.a)((function(){return a.e(29).then(a.bind(null,2114))})),Q=Object(v.a)((function(){return a.e(28).then(a.bind(null,2089))})),V=Object(v.a)((function(){return a.e(25).then(a.bind(null,2090))})),X=Object(v.a)((function(){return a.e(18).then(a.bind(null,2098))})),Z=Object(v.a)((function(){return a.e(27).then(a.bind(null,2091))})),$=Object(v.a)((function(){return a.e(26).then(a.bind(null,2092))})),ee=function(e){Object(l.a)(a,e);var t=Object(i.a)(a);function a(e){var s;Object(r.a)(this,a),(s=t.call(this,e)).state={step:0,steps:{},completedSteps:[],steps_data:{},context:null,context_view:null},s.typeSteps={unauthenticated:{start:"Start",select_items:"Select Items",signin_signup:"Signin/Signup",checkout:"Checkout"},authenticated:{start:"Start",select_items:"Select Items",checkout:"Checkout"},proposalRequest:{start:"Start",request_proposal:"Request Proposal",thankyou:"Complete"}};var n=e.auth;return s.state.steps=s.typeSteps.unauthenticated,n.isAuthenticated&&(s.state.steps=s.typeSteps.authenticated),s.state.step_name=Object.keys(s.state.steps)[s.state.step],s.recoverAbadonedOrder=s.recoverAbadonedOrder.bind(Object(o.a)(s)),s.handleStepNavigation=s.handleStepNavigation.bind(Object(o.a)(s)),s.handleOnStepComplete=s.handleOnStepComplete.bind(Object(o.a)(s)),s.handleOnStepCancel=s.handleOnStepCancel.bind(Object(o.a)(s)),s.handleOnContextChange=s.handleOnContextChange.bind(Object(o.a)(s)),s.handleOnAddToCart=s.handleOnAddToCart.bind(Object(o.a)(s)),s}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.auth,s=t.order_progress,n=(t.setOrderProgress,t.closeDialog),r=t.openDialog;a.isAuthenticated&&s.step_name!==this.state.step_name&&("development"===O.m?this.recoverAbadonedOrder():r({title:"Heads Up! We found an abadoned order",body:"We found some progress for an order you were making. Would you like to recover and proceed from where you left off?",actions:{cancel:{text:"Dismiss",color:"grey",onClick:n},proceed:{text:"Yes please",color:"primarydark",onClick:function(){n(),e.recoverAbadonedOrder()}}}})),document.title=d.a.title("Order")}},{key:"recoverAbadonedOrder",value:function(){var e=this.props,t=e.order_progress,a=e.auth,s=this.typeSteps.unauthenticated;a.isAuthenticated&&(s=this.typeSteps.authenticated),"request_proposal"===t.step_name&&(s=this.typeSteps.proposalRequest),this.setState((function(e){return{step:JSON.positionOfKey(s,t.step_name),step_name:t.step_name,steps:s,steps_data:t.steps_data}}))}},{key:"handleStepNavigation",value:function(e,t){}},{key:"handleOnStepComplete",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.props,a=t.auth,s=t.order_progress,r=t.setOrderProgress,c=this.typeSteps.unauthenticated;if(a.isAuthenticated&&(c=this.typeSteps.authenticated),"request_proposal"===this.state.step_name&&(c=this.typeSteps.proposalRequest),0===this.state.step)r({step_name:Object.keys(c)[1],steps_data:Object(n.a)({},Object.keys(c)[1],{})}),this.setState((function(e){return{step:1,step_name:Object.keys(c)[1],steps:c}}));else if(Object.size(c)-1<this.state.step){var o={};JSON.isJSON(s.steps_data)&&(o=JSON.parse(JSON.stringify(s.steps_data))),o[this.state.step_name]=e,r({step_name:Object.keys(c)[this.state.step+1],steps_data:o}),this.setState((function(e){return{step:e.step+1,step_name:Object.keys(c)[e.step+1],steps:c}}))}else r({step_name:"start",steps_data:{}}),this.setState((function(e){return{step:0,step_name:Object.keys(c)[0],steps:c,order_complete:!0}}))}},{key:"handleOnStepCancel",value:function(){var e=this.props,t=e.auth,a=e.order_progress,s=e.setOrderProgress,r=this.typeSteps.unauthenticated;if(t.isAuthenticated&&(r=this.typeSteps.authenticated),0===this.state.step)r=this.typeSteps.proposalRequest,s({step_name:Object.keys(r)[1],steps_data:Object(n.a)({},Object.keys(r)[1],{})}),this.setState((function(e){return{step:1,step_name:"request_proposal",steps:r}}));else{var c={};JSON.isJSON(a.steps_data)&&(c=JSON.parse(JSON.stringify(a.steps_data))),this.state.step_name in c&&delete c[this.state.step_name],s({step_name:Object.keys(r)[this.state.step-1],steps_data:c}),this.setState((function(e){return{steps:r,step:e.step-1,step_name:Object.keys(r)[e.step-1]}}))}}},{key:"handleOnContextChange",value:function(e,t){var a=this,r=this.props,c=r.setOrderProgress;r.order_progress;c({step_name:Object.keys(this.state.steps)[this.state.step],steps_data:Object(s.a)(Object(s.a)({},this.state.steps_data),{},Object(n.a)({},Object.keys(this.state.steps)[this.state.step],Object(s.a)(Object(s.a)({},this.state.steps_data[Object.keys(this.state.steps)[this.state.step]]),{},{context:e,view:t})))}),this.setState((function(r){return{steps_data:Object(s.a)(Object(s.a)({},a.state.steps_data),{},Object(n.a)({},Object.keys(a.state.steps)[a.state.step],Object(s.a)(Object(s.a)({},a.state.steps_data[Object.keys(a.state.steps)[a.state.step]]),{},{context:e,view:t})))}}))}},{key:"handleOnAddToCart",value:function(e){(0,this.props.addToCart)(e)}},{key:"render",value:function(){var e=JSON.isJSON(this.state.steps_data[this.state.step_name])?this.state.steps_data[this.state.step_name]:{};return f.a.createElement(u.a,{className:"p-0 m-0 md:relative md:mb-8 md:h-screen bg-gray-100 md:overflow-x-hidden md:overflow-y-hidden"},f.a.createElement(m.a,{xs:12,md:3,className:"inverse md:absolute md:top-0 md:left-0 md:right-auto md:h-screen"},f.a.createElement(u.a,{className:"absolute center"},f.a.createElement(m.a,null,f.a.createElement(p.a,{smDown:!0},f.a.createElement(K,{color:"grey",activeColor:"primary",type:"default",step:this.state.step,steps:this.state.steps,onStep:this.handleStepNavigation})),f.a.createElement(p.a,{mdUp:!0},f.a.createElement(K,{color:"grey",activeColor:"primary",type:"mobile",step:this.state.step,steps:this.state.steps,onStep:this.handleStepNavigation}))))),f.a.createElement(m.a,{xs:12,md:9,className:"md:p-4 md:pt-8 md:absolute md:top-0 md:right-0 md:h-screen "},f.a.createElement(u.a,{className:"px-8 h-16 md:absolute md:top-0"},f.a.createElement(m.a,{xs:12,md:8,className:"p-2"},f.a.createElement(h.a,{variant:"h4",className:"default_text text-left"}," ",this.state.steps[this.state.step_name]," ")),f.a.createElement(m.a,{xs:12,md:4,className:"p-2"},f.a.createElement(h.a,{variant:"h6",className:"grey_text text-right font-bold uppercase"},"Step ",this.state.step+1," /"," ",Object.size(this.state.steps)," "))),f.a.createElement(u.a,{className:"xs:px1 md:px-8 h-full mt-8 overflow-y-auto overflow-x-hidden"},"start"===this.state.step_name&&f.a.createElement(Y,Object.assign({onComplete:this.handleOnStepComplete,onCancel:this.handleOnStepCancel},e)),"select_items"===this.state.step_name&&f.a.createElement(X,Object.assign({onContextChange:this.handleOnContextChange,onAddToCart:this.handleOnAddToCart,onComplete:this.handleOnStepComplete,onCancel:this.handleOnStepCancel},e)),"request_proposal"===this.state.step_name&&f.a.createElement(G,Object.assign({onComplete:this.handleOnStepComplete,onCancel:this.handleOnStepCancel},e)),"signin_signup"===this.state.step_name&&f.a.createElement(Q,Object.assign({onComplete:this.handleOnStepComplete,onCancel:this.handleOnStepCancel},e)),"account"===this.state.step_name&&f.a.createElement(V,Object.assign({onComplete:this.handleOnStepComplete,onCancel:this.handleOnStepCancel},e)),"confirm"===this.state.step_name&&f.a.createElement(Z,Object.assign({onComplete:this.handleOnStepComplete,onCancel:this.handleOnStepCancel},e)),"checkout"===this.state.step_name&&f.a.createElement($,Object.assign({onComplete:this.handleOnStepComplete,onCancel:this.handleOnStepCancel},e)),"thankyou"===this.state.step_name&&f.a.createElement($,Object.assign({onComplete:this.handleOnStepComplete,onCancel:this.handleOnStepCancel},e)))))}}]),a}(f.a.Component);t.default=Object(_.a)(Object(S.b)((function(e){return{auth:e.auth,order_progress:e.ecommerce.order_progress}}),{setOrderProgress:j.ac,addToCart:j.gb,removeFromCart:j.yb,closeDialog:j.pb,openDialog:j.wb})(ee))}}]);
//# sourceMappingURL=19.1d12f5ed.chunk.js.map