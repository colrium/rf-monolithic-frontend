{"version":3,"sources":["assets/img/empty-state-table.svg","views/widgets/Listings/GoogleMapView/index.jsx","views/widgets/Listings/GoogleMapView/styles.jsx","components/Calendar/index.jsx","views/widgets/Listings/CalendarView/index.jsx","views/widgets/Listings/CalendarView/styles.jsx","views/widgets/Listings/ListView/index.jsx","views/widgets/Listings/ListView/styles.jsx","views/widgets/Listings/TableView/index.jsx","views/widgets/Listings/TableView/styles.jsx","views/widgets/Listings/index.jsx","views/widgets/Listings/styles.jsx","views/widgets/Overview/GoogleMapOverview/index.jsx","views/widgets/Overview/GoogleMapOverview/styles.jsx","../node_modules/@material-ui/lab/esm/Skeleton/Skeleton.js","../node_modules/@material-ui/icons/WarningRounded.js","views/pages/Dashboard/RecordsListing/index.jsx"],"names":["module","exports","GoogleMapView","props","state","loading","load_error","defination","service","query","p","records","handleDeleteItemConfirm","item_id","event","openDialog","closeDialog","title","body","actions","cancel","text","color","onClick","delete","handleDeleteItem","close","bind","this","cache","mounted","loadContext","prepareData","Array","isArray","data","name","prevProps","contextReloadRequired","Object","areEqual","dataReloadRequired","dataPreparationRequired","prevState","snapshot","setState","loadData","auth","apiCallRequest","cache_data","onLoadData","load_data","uri","endpoint","type","params","then","Function","isFunction","e","msg","target_data","scope","columns","views","listing","googlemapview","resolveData","resolve","err","classes","googleMapProps","api","GridContainer","className","root","GridItem","xs","GoogleMap","defaultZoom","zoom","polylines","markers","circles","showCurrentPosition","complete","error","Typography","variant","center","fullWidth","React","Component","defaultProps","mapHeight","showClientsPositions","compose","withStyles","theme","padding","connect","ownProps","withErrorHandler","AntTabs","indicator","backgroundColor","colors","hex","accent","Tabs","AntTab","textTransform","minWidth","fontWeight","typography","fontWeightRegular","marginRight","spacing","opacity","fontWeightMedium","selected","Tab","CustomCalendar","calendarRef","createRef","view","view_title","Date","format","formats","dateformats","month","calendars","tasks","schedules","handleChangeCalendarView","current","rendered_date","getInstance","getDate","toDate","date","week","handleClickPrevButton","calendarInstance","prev","handleClickNextButton","next","handleOnEditEntryClick","handleOnDeleteEntryClick","show_actions","icon","subtitle","icon_color","title_color","subtitle_color","calendarProps","initCalendarEvents","refreshRequired","onSelect","onClickEntry","onClickEdit","onClickDelete","calendar","on","clickSchedule","UtilitiesHelper","isOfType","schedule","beforeCreateSchedule","beforeUpdateSchedule","beforeDeleteSchedule","height","defaultView","disableDblClick","disableClick","isReadOnly","useDetailPopup","useCreationPopup","scheduleView","taskView","calProps","Card","elevation","outlineColor","CardHeader","avatar","Avatar","aria-label","style","background","subheader","CardContent","sm","md","value","onChange","indicatorColor","textColor","label","IconButton","ref","CardActions","display","gutterBottom","map","index","Status","bgColor","secondary","key","rgb","grey","primary","primarydark","withRoot","styles","CalendarView","res","console","log","app","handleEditItem","access","update","restricted","user","window","location","href","id","borderColor","calendarview","full_height","justify","alignItems","ProgressIndicator","size","thickness","progress","disableShrink","Icon","fontSize","code","length","Calendar","alt","emptyImage","src","EmptyStateImage","emptyText","ListView","raw_records","dispatch","Actions","entryItemProps","listview","Skeleton","width","List","entry","ListItem","button","listItem","ListItemAvatar","ListItemIcon","ListItemText","Divider","component","show_links","transition","transitions","create","easing","sharp","duration","palette","action","hover","TableView","dt_columns","raw_data","raw_data_mutated","mouseX","mouseY","actionsView","context","handleSocketsOnCreate","sockets","model","new_raw_data","unshift","result","_id","new_records","filter","record","handleOnRowContextMenu","preventDefault","clientX","clientY","handleOnRowContextMenuClose","cachedData","off","actionsType","push","String","isString","singularize","options","sort","customBodyRender","tableMeta","updateValue","data_actions_wrapper","keys","action_name","action_index","link","inline","entries","field","display_field","tableview","reference","possibilities","cursor","undefined","input","isAttachment","Chip","valueChip","FilesHelper","fileType","AttachmentsService","getAttachmentFileUrl","fileIcon","open","focus","parsed_data","field_name","datetime","time","JSON","isJSON","stringify","possibilities_obj","resolved_data","ServiceDataHelper","resolveReferenceColumnsDisplays","that","all_records","parseData","table_options","filterType","downloadOptions","filename","separator","resizableColumns","selectableRows","responsive","pagination","rowHover","customToolbarSelect","selectedRows","displayData","setSelectedRows","ClickAwayListener","onContextMenu","onClickAway","Menu","onClose","anchorReference","anchorPosition","top","left","MenuItem","busy","whiteSpace","margin","maxWidth","marginTop","withGlobals","TablePaginationActions","useTheme","count","page","rowsPerPage","onChangePage","disabled","direction","Math","ceil","max","ListingView","showViewOptions","showAddBtn","searchKeyword","pages","viewMenuAnchorEl","sortFields","filterAccordionExpanded","filterableFields","filterContext","filterMenuAnchor","filters","values","labels","searchkeywordRef","handleViewItemClick","handleShowViewsMenu","currentTarget","handleCloseViewsMenu","handleOnPageChanged","handleOnRecordsPerPageChanged","Number","parseNumber","target","preferences","column_name","column_props","includes","filterContextMatched","filterableColumns","queryColumn","queryValue","q","prepareForRender","prepareForRenderRequired","all_views","vectormapview","default_view","showPagination","showSorter","sorterFormLayoutType","Button","Accordion","expanded","Paper","searchRoot","onSubmit","filterIconButton","humanize","anchorEl","keepMounted","Boolean","filterableField","filterableFieldProps","searchInput","placeholder","inputProps","defaultValue","onFocus","newKeyword","newState","newQuery","fromJSON","searchIconButton","AccordionDetails","filter_name","filter_label","GoogleMapOverview","TablePagination","labelRowsPerPage","rowsPerPageOptions","onChangeRowsPerPage","ActionsComponent","SelectProps","toolbar","paper","borderRight","borderLeft","activeVieBtn","inverse","border","viewBtnGroup","position","right","marginLeft","flex","searchDivider","googleMap","definations","services","drawerOpen","show_client_positions","clients_positions","context_entry","multicontexts","rendered_contexts","contexts_props","toggleDrawer","handleOnDrawerNavigationValueChange","newValue","context_entries","handleClientListItemClick","socketId","client","panTo","lat","latitude","lng","longitude","__SECRET_MAP_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","setZoom","handleToggleContextRender","renderContext","renderedContextIndex","indexOf","removeAtIndex","concat","a","populate","isMounted","context_entry_type","elements","element","loaded","handleContextEntryClick","device","contexts","elementRef","prepareForView","handleOnLoadMap","handleOnToggleShowClients","handleOnClientsPositionsLoaded","handleOnClientPositionAvailable","handleOnClientPositionUnavailable","handleOnClientPositionChanged","defaultMapZoom","current_defination","current_service","possible_definations","possible_services","google","clientId","newclientspositions","showAll","rendered_context","rest","path","mdiForwardburger","rotate","wrapper","classNames","content","contentDrawerMargin","window_size","contentShift","minHeight","onLoadClientsPositions","onClientPositionAvailable","onClientPositionUnavailable","onClientPositionChanged","selectedEntry","selectedEntryType","onMapLoad","SwipeableDrawer","drawer","anchor","onOpen","drawerPaper","temporaryDrawerPaper","BottomNavigation","showLabels","BottomNavigationAction","mdiAccountCircleOutline","mdiFolderOutline","show_entry","gender","trim","toLowerCase","client_user_female_icon","client_user_male_icon","first_name","last_name","role","Listings","commissions","loadedData","tracks","context_entry_name","round","new_value","appDrawer","flexShrink","zIndex","appBar","flexGrow","leavingScreen","easeOut","enteringScreen","withTheme","_props$animation","animation","_props$component","_props$variant","other","_objectWithoutProperties","hasChildren","children","_extends","clsx","withChildren","fitContent","heightAuto","fade","marginBottom","transformOrigin","transform","borderRadius","shape","rect","circle","pulse","wave","overflow","bottom","visibility","_interopRequireDefault","require","defineProperty","_react","_default","createElement","d","Page","componentProps","urlQuery","search","match","RegExp","reduce","each","n","every","decodeURI","split","appendNavHistory","pathname","scrollTop","fullPageHeight","errorIcon","to","toUriWithDashboardPrefix","simple"],"mappings":"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","file":"static/js/15.6c012110.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/empty-state-table.cdb06dd9.svg\";","/** @format */\n\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport EmptyStateImage from \"assets/img/empty-state-table.svg\";\nimport GoogleMap from \"components/GoogleMap\";\nimport GridContainer from \"components/Grid/GridContainer\";\nimport GridItem from \"components/Grid/GridItem\";\nimport Typography from \"components/Typography\";\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport compose from \"recompose/compose\";\nimport { apiCallRequest, closeDialog, openDialog } from \"state/actions\";\nimport { withErrorHandler } from \"hoc/ErrorHandler\";\nimport styles from \"./styles\";\n\n\n\nclass GoogleMapView extends React.Component {\n\tstate = {\n\t\tloading: true,\n\t\tload_error: false,\n\t\tdefination: null,\n\t\tservice: null,\n\t\tquery: { p: 1 },\n\t\trecords: [],\n\t};\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tconst { defination, service, query } = props;\n\n\t\tthis.state.defination = defination;\n\t\tthis.state.service = service;\n\t\tthis.state.query = query ? { ...query, p: 1 } : { p: 1 };\n\n\t\tthis.handleDeleteItemConfirm = this.handleDeleteItemConfirm.bind(this);\n\t\tthis.handleDeleteItem = this.handleDeleteItem.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tconst { cache, defination } = this.props;\n\t\tthis.mounted = true;\n\t\tthis.loadContext();\n\t\tthis.prepareData((Array.isArray(cache.data[defination.name])? cache.data[defination.name] : []));\n\t}\n\n\tgetSnapshotBeforeUpdate(prevProps) {\n\t\tthis.mounted = false;\n\t\tconst { cache, defination } = this.props;\n\t\treturn {\n\t\t\tcontextReloadRequired: !Object.areEqual(prevProps.defination, this.props.defination),\n\t\t\tdataReloadRequired: !Object.areEqual(prevProps.query,this.props.query),\n\t\t\t/*dataPreparationRequired: Array.isArray(cache.data[defination.name])? !cache.data[prevProps.defination.name].equals(prevProps.cache.data[defination.name]) : (Array.isArray(prevProps.cache.data[defination.name])? !prevProps.cache.data[prevProps.defination.name].equals(cache.data[defination.name]) : false),*/\n\t\t\tdataPreparationRequired: false,\n\t\t};\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState, snapshot) {\n\t\tif (snapshot.contextReloadRequired) {\n\t\t\tthis.loadContext();\n\t\t\tthis.prepareData();\n\t\t}\n\t\tif (snapshot.dataReloadRequired) {\n\t\t\tconst { query } = this.props;\n\t\t\tthis.setState(\n\t\t\t\t{ query: query ? { ...query, p: 1 } : { p: 1 } },\n\t\t\t\tthis.loadData\n\t\t\t);\n\t\t}\n\t\t\n\t}\n\n\thandleDeleteItemConfirm = item_id => event => {\n\t\tconst { openDialog, closeDialog } = this.props;\n\t\tlet that = this;\n\t\topenDialog({\n\t\t\ttitle: \"Confirm Delete\",\n\t\t\tbody:\n\t\t\t\t\"Are you sure you want delete entry? This action might be irreversible\",\n\t\t\tactions: {\n\t\t\t\tcancel: {\n\t\t\t\t\ttext: \"Cancel\",\n\t\t\t\t\tcolor: \"default\",\n\t\t\t\t\tonClick: () => closeDialog(),\n\t\t\t\t},\n\t\t\t\tdelete: {\n\t\t\t\t\ttext: \"Delete\",\n\t\t\t\t\tcolor: \"error\",\n\t\t\t\t\tonClick: event => {\n\t\t\t\t\t\tcloseDialog();\n\t\t\t\t\t\tthis.handleDeleteItem(item_id);\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\t};\n\n\thandleDeleteItem = item_id => event => {\n\t\tconst { openDialog, closeDialog } = this.props;\n\t\topenDialog({\n\t\t\ttitle: \"Deleting safely\",\n\t\t\tbody: \"Please wait. Executing safe delete...\",\n\t\t\tactions: {\n\t\t\t\tclose: {\n\t\t\t\t\ttext: \"Close\",\n\t\t\t\t\tcolor: \"default\",\n\t\t\t\t\tonClick: () => closeDialog(),\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\t};\n\n\tloadContext() {\n\t\tconst { defination, service, query, cache } = this.props;\n\t\tif (defination) {\n\t\t\tthis.setState(\n\t\t\t\t{\n\t\t\t\t\tdefination: defination,\n\t\t\t\t\tservice: service,\n\t\t\t\t\tquery: query ? { ...query, p: 1 } : { p: 1 },\n\t\t\t\t\tloading: false,\n\t\t\t\t},\n\t\t\t\tthis.loadData\n\t\t\t);\n\t\t}\n\t}\n\n\t\n\tloadData() {\n\t\tconst { auth, cache, defination, apiCallRequest, cache_data, onLoadData, load_data } = this.props;\n\t\tif (defination ) {\n\t\t\tif (load_data) {\n\t\t\t\tapiCallRequest( defination.name,\n\t\t\t\t\t{\n\t\t\t\t\t\turi: defination.endpoint,\n\t\t\t\t\t\ttype: \"records\",\n\t\t\t\t\t\tparams: this.state.query,\n\t\t\t\t\t\tdata: {},\n\t\t\t\t\t\tcache: cache_data,\n\t\t\t\t\t}\n\t\t\t\t).then(data => {\n\t\t\t\t\tif (Function.isFunction(onLoadData)) {\n\t\t\t\t\t\tonLoadData(data);\n\t\t\t\t\t}\n\t\t\t\t\tthis.prepareData(data);\n\t\t\t\t}).catch(e => {\n\t\t\t\t\tthis.setState(state => ({\n\t\t\t\t\t\trecords: [],\n\t\t\t\t\t\tload_error: e,\n\t\t\t\t\t\tloading: false,\n\t\t\t\t\t}));\n\t\t\t\t});\n\t\t\t}\n\t\t\telse {\n\t\t\t\tlet data = Array.isArray(cache.data[defination.name])? cache.data[defination.name] : [];\n\t\t\t\tif (Function.isFunction(onLoadData)) {\n\t\t\t\t\tonLoadData(data);\n\t\t\t\t}\n\t\t\t\tthis.prepareData(data);\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tthis.setState(state => ({\n\t\t\t\trecords: [],\n\t\t\t\tload_error: { msg: \"No Context defination or provided\" },\n\t\t\t\tloading: false,\n\t\t\t}));\n\t\t}\n\t}\n\n\t\n\n\tprepareData(data=null) {\n\t\tconst { auth, cache, defination } = this.props;\n\t\tlet target_data = Array.isArray(data)? data : (Array.isArray(cache.data[defination.name]) ? cache.data[defination.name] : []);\n\t\tlet columns = defination ? defination.scope.columns : {};\n\t\tlet resolved_data = [];\n\n\t\tif ( Function.isFunction( defination.views.listing.googlemapview.resolveData ) ) {\n\t\t\tdefination.views.listing.googlemapview.resolveData(target_data, true).then(resolve => {\n\t\t\t\t\tthis.setState(state => ({\n\t\t\t\t\t\trecords: resolve,\n\t\t\t\t\t\tloading: false,\n\t\t\t\t\t}));\n\t\t\t}).catch(err => {\t\t\t\t\t\n\t\t\t\tthis.setState(state => ({ records: [], loading: false }));\n\t\t\t});\n\t\t}\n\t}\n\trender() {\n\t\tconst { classes, googleMapProps, api, defination } = this.props;\n\t\treturn (\n\t\t\t<GridContainer className={classes.root}>\n\t\t\t\t<GridItem className=\"p-0 m-0\" xs={12}>\n\t\t\t\t\t<GridContainer className=\"p-0 m-0\">\n\t\t\t\t\t\t<GridContainer className=\"p-0 m-0\">\n\t\t\t\t\t\t\t<GridItem className=\"p-0 m-0\" xs={12}>\n\t\t\t\t\t\t\t\t<GridContainer className=\"p-0 m-0\">\n\t\t\t\t\t\t\t\t\t\t<GridItem xs={12} className=\"p-0 m-0\">\n\t\t\t\t\t\t\t\t\t\t\t<GoogleMap\n\t\t\t\t\t\t\t\t\t\t\t\tdefaultZoom={12}\n\t\t\t\t\t\t\t\t\t\t\t\tzoom={12}\n\t\t\t\t\t\t\t\t\t\t\t\t{...googleMapProps}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\tpolylines={\n\t\t\t\t\t\t\t\t\t\t\t\t\tdefination &&\n\t\t\t\t\t\t\t\t\t\t\t\t\tdefination.views.listing\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.googlemapview.type ===\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"polyline\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? this.state.records\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: []\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tmarkers={\n\t\t\t\t\t\t\t\t\t\t\t\t\tdefination.views.listing\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.googlemapview.type ===\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"marker\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? this.state.records\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: []\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tcircles={\n\t\t\t\t\t\t\t\t\t\t\t\t\tdefination.views.listing\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.googlemapview.type ===\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"circle\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? this.state.records\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: []\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tshowCurrentPosition={true}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</GridItem>\n\t\t\t\t\t\t\t\t\t</GridContainer>\n\t\t\t\t\t\t\t</GridItem>\n\t\t\t\t\t\t</GridContainer>\n\t\t\t\t\t\t{(api ? api.complete && api.error : false) && (\n\t\t\t\t\t\t\t<GridContainer>\n\t\t\t\t\t\t\t\t<GridItem xs={12}>\n\t\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\t\tcolor=\"error\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"body2\"\n\t\t\t\t\t\t\t\t\t\tcenter\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{\"An error occured. \\n \" +\n\t\t\t\t\t\t\t\t\t\t\tapi.error.msg}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</GridItem>\n\t\t\t\t\t\t\t</GridContainer>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</GridContainer>\n\t\t\t\t</GridItem>\n\t\t\t</GridContainer>\n\t\t);\n\t}\n}\nGoogleMapView.propTypes = {\n\tclassName: PropTypes.string,\n\tclasses: PropTypes.object.isRequired,\n\tdefination: PropTypes.object.isRequired,\n\tservice: PropTypes.any.isRequired,\n\tshow_actions: PropTypes.bool,\n\tshow_links: PropTypes.bool,\n\tgoogleMapProps: PropTypes.object,\n\tquery: PropTypes.object,\n\tcache_data: PropTypes.bool,\n\tload_data: PropTypes.bool,\n\tonLoadData: PropTypes.func,\n};\n\nGoogleMapView.defaultProps = {\n\tgoogleMapProps: {\n\t\tmapHeight: 900,\n\t\tshowClientsPositions: true,\n\t\tshowCurrentPosition: true,\n\t},\n\tquery: {},\n\tload_data: true,\n\tcache_data: true,\n};\n\nconst mapStateToProps = (state, ownProps) => {\n\tconst { defination } = ownProps;\n\treturn {\n\t\tauth: state.auth,\n\t\tcache: state.cache,\n\t\tapi: state.api,\n\t};\n};\n\nexport default compose(\n\twithStyles(styles),\n\tconnect(mapStateToProps, { apiCallRequest, openDialog, closeDialog }),\n\twithErrorHandler\n)(GoogleMapView);\n","/** @format */\n\nexport default theme => ({\n\troot: {\n\t\tpadding: \"0\",\n\t},\n});\n","/** @format */\n\nimport IconButton from \"@material-ui/core/IconButton\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport Tab from \"@material-ui/core/Tab\";\n//\nimport Tabs from \"@material-ui/core/Tabs\";\nimport {\n\tArrowBack as PrevIcon,\n\tArrowForward as NextIcon,\n\tEventOutlined as CalendarIcon,\n} from \"@material-ui/icons\";\nimport Calendar from \"@toast-ui/react-calendar\";\nimport { colors } from \"assets/jss/app-theme\";\nimport Avatar from \"components/Avatar\";\nimport Card from \"components/Card\";\nimport CardActions from \"components/Card/CardActions\";\nimport CardContent from \"components/Card/CardContent\";\nimport CardHeader from \"components/Card/CardHeader\";\nimport GridContainer from \"components/Grid/GridContainer\";\nimport GridItem from \"components/Grid/GridItem\";\nimport Status from \"components/Status\";\nimport Typography from \"components/Typography\";\nimport { formats } from \"config/data\";\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport { UtilitiesHelper } from \"hoc/Helpers\";\nimport withRoot from \"hoc/withRoot\";\nimport styles from \"views/pages/styles\";\n\nconst AntTabs = withStyles({\n\tindicator: {\n\t\tbackgroundColor: colors.hex.accent,\n\t},\n})(Tabs);\n\nconst AntTab = withStyles(theme => ({\n\troot: {\n\t\ttextTransform: \"none\",\n\t\tminWidth: 50,\n\t\tfontWeight: theme.typography.fontWeightRegular,\n\t\tmarginRight: theme.spacing(),\n\t\t\"&:hover\": {\n\t\t\tcolor: colors.hex.default,\n\t\t\topacity: 1,\n\t\t},\n\t\t\"&$selected\": {\n\t\t\tcolor: colors.hex.accent,\n\t\t\tfontWeight: theme.typography.fontWeightMedium,\n\t\t},\n\t\t\"&:focus\": {\n\t\t\tcolor: colors.hex.accent,\n\t\t},\n\t},\n\tselected: {},\n}))(props => <Tab {...props} />);\n\nclass CustomCalendar extends React.Component {\n\tcalendarRef = React.createRef();\n\tstate = {\n\t\tview: \"month\",\n\t\tview_title: new Date().format(formats.dateformats.month),\n\t\tcalendars: [],\n\t\ttasks: [],\n\t\tschedules: [],\n\t};\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tconst {\n\t\t\ttheme,\n\t\t\tview,\n\t\t\tcalendars,\n\t\t\ttasks,\n\t\t\tschedules,\n\t\t\tshow_actions,\n\t\t\ticon,\n\t\t\ttitle,\n\t\t\tsubtitle,\n\t\t\ticon_color,\n\t\t\ttitle_color,\n\t\t\tsubtitle_color,\n\t\t\tcalendarProps,\n\t\t} = props;\n\t\tthis.state = {\n\t\t\t...this.state,\n\t\t\ttheme: theme,\n\t\t\tview: view,\n\t\t\tview_title:\n\t\t\t\tview === \"day\"\n\t\t\t\t\t? new Date().format(formats.dateformats.date)\n\t\t\t\t\t: view === \"week\"\n\t\t\t\t\t? new Date().format(formats.dateformats.week)\n\t\t\t\t\t: new Date().format(formats.dateformats.month),\n\t\t\tcalendars: calendars,\n\t\t\ttasks: tasks,\n\t\t\tschedules: schedules,\n\t\t\tshow_actions: show_actions,\n\t\t\ticon: icon,\n\t\t\ttitle: title,\n\t\t\tsubtitle: subtitle,\n\t\t\ticon_color: icon_color,\n\t\t\ttitle_color: title_color,\n\t\t\tsubtitle_color: subtitle_color,\n\t\t\tcalendarProps: calendarProps,\n\t\t};\n\t\tthis.handleChangeCalendarView = this.handleChangeCalendarView.bind(\n\t\t\tthis\n\t\t);\n\t\tthis.handleClickPrevButton = this.handleClickPrevButton.bind(this);\n\t\tthis.handleClickNextButton = this.handleClickNextButton.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.initCalendarEvents();\n\t}\n\n\tgetSnapshotBeforeUpdate(prevProps) {\n\t\treturn { refreshRequired: !Object.areEqual(prevProps, this.props) };\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState, snapshot) {\n\t\tconst {\n\t\t\ttheme,\n\t\t\tview,\n\t\t\tcalendars,\n\t\t\ttasks,\n\t\t\tschedules,\n\t\t\tshow_actions,\n\t\t\ticon,\n\t\t\ttitle,\n\t\t\tsubtitle,\n\t\t\ticon_color,\n\t\t\ttitle_color,\n\t\t\tsubtitle_color,\n\t\t\tcalendarProps,\n\t\t} = this.props;\n\t\tif (snapshot.refreshRequired) {\n\t\t\tthis.setState(\n\t\t\t\t{\n\t\t\t\t\ttheme: theme,\n\t\t\t\t\tview: view,\n\t\t\t\t\tview_title:\n\t\t\t\t\t\tview === \"day\"\n\t\t\t\t\t\t\t? new Date().format(formats.dateformats.date)\n\t\t\t\t\t\t\t: view === \"week\"\n\t\t\t\t\t\t\t? new Date().format(formats.dateformats.week)\n\t\t\t\t\t\t\t: new Date().format(formats.dateformats.month),\n\t\t\t\t\tcalendars: calendars,\n\t\t\t\t\ttasks: tasks,\n\t\t\t\t\tschedules: schedules,\n\t\t\t\t\tshow_actions: show_actions,\n\t\t\t\t\ticon: icon,\n\t\t\t\t\ttitle: title,\n\t\t\t\t\tsubtitle: subtitle,\n\t\t\t\t\ticon_color: icon_color,\n\t\t\t\t\ttitle_color: title_color,\n\t\t\t\t\tsubtitle_color: subtitle_color,\n\t\t\t\t\tcalendarProps: calendarProps,\n\t\t\t\t},\n\t\t\t\tthis.initCalendarEvents\n\t\t\t);\n\t\t}\n\t}\n\n\tinitCalendarEvents() {\n\t\tconst {\n\t\t\tonSelect,\n\t\t\tonClickEntry,\n\t\t\tonClickEdit,\n\t\t\tonClickDelete,\n\t\t} = this.props;\n\t\tconst calendar = this.calendarRef.current.getInstance();\n\t\tif (calendar) {\n\t\t\tcalendar.on({\n\t\t\t\tclickSchedule: function(e) {\n\t\t\t\t\tif (UtilitiesHelper.isOfType(onClickEntry, \"function\")) {\n\t\t\t\t\t\tonClickEntry(e.schedule);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tbeforeCreateSchedule: function(e) {\n\t\t\t\t\tif (UtilitiesHelper.isOfType(onSelect, \"function\")) {\n\t\t\t\t\t\tonSelect(e);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tbeforeUpdateSchedule: function(e) {\n\t\t\t\t\tif (UtilitiesHelper.isOfType(onClickEdit, \"function\")) {\n\t\t\t\t\t\tonClickEdit(e);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tbeforeDeleteSchedule: function(e) {\n\t\t\t\t\tif (UtilitiesHelper.isOfType(onClickDelete, \"function\")) {\n\t\t\t\t\t\tonClickDelete(e);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\t}\n\n\thandleChangeCalendarView = (event, view) => {\n\t\tif (this.calendarRef.current) {\n\t\t\tconst calendarInstance = this.calendarRef.current.getInstance();\n\t\t\tconst rendered_date = calendarInstance.getDate().toDate();\n\t\t\tthis.setState(state => ({\n\t\t\t\tview: view,\n\t\t\t\tview_title:\n\t\t\t\t\tview === \"day\"\n\t\t\t\t\t\t? rendered_date.format(formats.dateformats.date)\n\t\t\t\t\t\t: view === \"week\"\n\t\t\t\t\t\t? rendered_date.format(formats.dateformats.week)\n\t\t\t\t\t\t: rendered_date.format(formats.dateformats.month),\n\t\t\t}));\n\t\t} else {\n\t\t\tthis.setState(state => ({ view: view }));\n\t\t}\n\t};\n\n\thandleClickPrevButton = () => {\n\t\tif (this.calendarRef.current) {\n\t\t\tconst calendarInstance = this.calendarRef.current.getInstance();\n\t\t\tcalendarInstance.prev();\n\t\t\tconst rendered_date = calendarInstance.getDate().toDate();\n\t\t\tthis.setState(state => ({\n\t\t\t\tview_title:\n\t\t\t\t\tstate.view === \"day\"\n\t\t\t\t\t\t? rendered_date.format(formats.dateformats.date)\n\t\t\t\t\t\t: state.view === \"week\"\n\t\t\t\t\t\t? rendered_date.format(formats.dateformats.week)\n\t\t\t\t\t\t: rendered_date.format(formats.dateformats.month),\n\t\t\t}));\n\t\t}\n\t};\n\n\thandleClickNextButton = () => {\n\t\tif (this.calendarRef.current) {\n\t\t\tconst calendarInstance = this.calendarRef.current.getInstance();\n\t\t\tcalendarInstance.next();\n\t\t\tconst rendered_date = calendarInstance.getDate().toDate();\n\t\t\tthis.setState(state => ({\n\t\t\t\tview_title:\n\t\t\t\t\tstate.view === \"day\"\n\t\t\t\t\t\t? rendered_date.format(formats.dateformats.date)\n\t\t\t\t\t\t: state.view === \"week\"\n\t\t\t\t\t\t? rendered_date.format(formats.dateformats.week)\n\t\t\t\t\t\t: rendered_date.format(formats.dateformats.month),\n\t\t\t}));\n\t\t}\n\t};\n\n\thandleOnEditEntryClick = event => {\n\t\tif (this.calendarRef.current) {\n\t\t}\n\t};\n\n\thandleOnDeleteEntryClick = event => {\n\t\tif (this.calendarRef.current) {\n\t\t}\n\t};\n\n\trender() {\n\t\tconst {\n\t\t\tclasses,\n\t\t\theight,\n\t\t\tdefaultView,\n\t\t\tdisableDblClick,\n\t\t\tdisableClick,\n\t\t\tisReadOnly,\n\t\t\tuseDetailPopup,\n\t\t\tuseCreationPopup,\n\t\t\tscheduleView,\n\t\t\ttaskView,\n\t\t} = this.props;\n\t\tconst {\n\t\t\ttheme,\n\t\t\tview,\n\t\t\tview_title,\n\t\t\tcalendars,\n\t\t\ttasks,\n\t\t\tschedules,\n\t\t\tshow_actions,\n\t\t\ticon,\n\t\t\ttitle,\n\t\t\tsubtitle,\n\t\t\ticon_color,\n\t\t\ttitle_color,\n\t\t\tsubtitle_color,\n\t\t\tcalendarProps,\n\t\t} = this.state;\n\t\tconst calProps = {\n\t\t\theight: height + \"px\",\n\t\t\tdefaultView: defaultView,\n\t\t\tdisableDblClick: disableDblClick,\n\t\t\tdisableClick: disableClick,\n\t\t\tisReadOnly: isReadOnly,\n\t\t\tuseDetailPopup: useDetailPopup,\n\t\t\tuseCreationPopup: useCreationPopup,\n\t\t\tscheduleView: scheduleView,\n\t\t\ttaskView: taskView,\n\t\t\t...calendarProps,\n\t\t};\n\n\t\treturn (\n\t\t\t<Card elevation={0} outlineColor=\"#cfd8dc\">\n\t\t\t\t<CardHeader\n\t\t\t\t\tavatar={\n\t\t\t\t\t\t<Avatar\n\t\t\t\t\t\t\taria-label={title}\n\t\t\t\t\t\t\tstyle={{ background: icon_color }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{icon}\n\t\t\t\t\t\t</Avatar>\n\t\t\t\t\t}\n\t\t\t\t\ttitle={title}\n\t\t\t\t\tsubheader={subtitle}\n\t\t\t\t></CardHeader>\n\t\t\t\t<CardContent className=\"p-0 m-0\">\n\t\t\t\t\t<GridContainer className=\"p-0 m-0\">\n\t\t\t\t\t\t<GridContainer className=\"p-0 m-0\">\n\t\t\t\t\t\t\t<GridItem sm={6} md={4}>\n\t\t\t\t\t\t\t\t<AntTabs\n\t\t\t\t\t\t\t\t\tvalue={view}\n\t\t\t\t\t\t\t\t\tonChange={this.handleChangeCalendarView}\n\t\t\t\t\t\t\t\t\tindicatorColor=\"primary\"\n\t\t\t\t\t\t\t\t\ttextColor=\"primary\"\n\t\t\t\t\t\t\t\t\tvariant=\"fullWidth\"\n\t\t\t\t\t\t\t\t\taria-label=\"view change tabs\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<AntTab value=\"month\" label=\"Month\" />\n\t\t\t\t\t\t\t\t\t<AntTab value=\"week\" label=\"Week\" />\n\t\t\t\t\t\t\t\t\t<AntTab value=\"day\" label=\"Day\" />\n\t\t\t\t\t\t\t\t</AntTabs>\n\t\t\t\t\t\t\t</GridItem>\n\n\t\t\t\t\t\t\t<GridItem sm={6} md={4}>\n\t\t\t\t\t\t\t\t<Typography variant=\"h3\" center>\n\t\t\t\t\t\t\t\t\t{\" \"}\n\t\t\t\t\t\t\t\t\t{view_title}{\" \"}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</GridItem>\n\n\t\t\t\t\t\t\t<GridItem sm={12} md={4}>\n\t\t\t\t\t\t\t\t<div className=\"float-right\">\n\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\tonClick={this.handleClickPrevButton}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<PrevIcon />\n\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\tonClick={this.handleClickNextButton}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<NextIcon />\n\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</GridItem>\n\t\t\t\t\t\t</GridContainer>\n\n\t\t\t\t\t\t<GridContainer className=\"p-0 m-0\">\n\t\t\t\t\t\t\t<GridItem xs={12}>\n\t\t\t\t\t\t\t\t<Calendar\n\t\t\t\t\t\t\t\t\ttheme={theme}\n\t\t\t\t\t\t\t\t\tview={view}\n\t\t\t\t\t\t\t\t\tclassName={classes.calendar}\n\t\t\t\t\t\t\t\t\tcalendars={calendars}\n\t\t\t\t\t\t\t\t\ttasks={tasks}\n\t\t\t\t\t\t\t\t\tschedules={schedules}\n\t\t\t\t\t\t\t\t\tref={this.calendarRef}\n\t\t\t\t\t\t\t\t\t{...calProps}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</GridItem>\n\t\t\t\t\t\t</GridContainer>\n\t\t\t\t\t</GridContainer>\n\t\t\t\t</CardContent>\n\t\t\t\t<CardActions>\n\t\t\t\t\t<GridContainer className=\"p-0 m-0\">\n\t\t\t\t\t\t<GridItem xs={12}>\n\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\tvariant=\"subtitle2\"\n\t\t\t\t\t\t\t\tdisplay=\"block\"\n\t\t\t\t\t\t\t\tcolor=\"default\"\n\t\t\t\t\t\t\t\tgutterBottom\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{\" \"}\n\t\t\t\t\t\t\t\tCalendar index{\" \"}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</GridItem>\n\t\t\t\t\t\t<GridItem xs={12}>\n\t\t\t\t\t\t\t{calendars.map((calendar, index) => (\n\t\t\t\t\t\t\t\t<Status\n\t\t\t\t\t\t\t\t\tcolor={\n\t\t\t\t\t\t\t\t\t\tcalendar.bgColor\n\t\t\t\t\t\t\t\t\t\t\t? calendar.bgColor\n\t\t\t\t\t\t\t\t\t\t\t: colors.hex.secondary\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\ttext={calendar.name}\n\t\t\t\t\t\t\t\t\tkey={\"calendar-\" + index}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</GridItem>\n\t\t\t\t\t</GridContainer>\n\t\t\t\t</CardActions>\n\t\t\t</Card>\n\t\t);\n\t}\n}\n\nCustomCalendar.propTypes = {\n\tclasses: PropTypes.object.isRequired,\n\tclassName: PropTypes.string,\n\tcalendars: PropTypes.array,\n\tview: PropTypes.string,\n\ttasks: PropTypes.array,\n\tschedules: PropTypes.array,\n\tshow_actions: PropTypes.bool,\n\ttheme: PropTypes.object,\n\tcalendarProps: PropTypes.object,\n\tstartDate: PropTypes.string,\n\ticon: PropTypes.node,\n\ttitle: PropTypes.string,\n\tsubtitle: PropTypes.string,\n\ticon_color: PropTypes.string,\n\ttitle_color: PropTypes.string,\n\tsubtitle_color: PropTypes.string,\n\theight: PropTypes.number,\n\tdefaultView: PropTypes.string,\n\tdisableDblClick: PropTypes.bool,\n\tdisableClick: PropTypes.bool,\n\tisReadOnly: PropTypes.bool,\n\tuseDetailPopup: PropTypes.bool,\n\tuseCreationPopup: PropTypes.bool,\n\tscheduleView: PropTypes.bool,\n\ttaskView: PropTypes.bool,\n\tonSelect: PropTypes.func,\n\tonClickEntry: PropTypes.func,\n\tonClickEdit: PropTypes.func,\n\tonClickDelete: PropTypes.func,\n};\n\nCustomCalendar.defaultProps = {\n\tcalendars: [],\n\ttasks: [],\n\tschedules: [],\n\tview: \"month\",\n\ttheme: {\n\t\t\"common.border\": \"1px solid rgba(\" + colors.rgb.grey + \", 0.5)\",\n\t\t\"common.backgroundColor\": \"#fcfcfc\",\n\t\t\"common.holiday.color\": colors.hex.grey,\n\t\t\"common.saturday.color\": colors.hex.grey,\n\t\t\"common.dayname.color\": colors.hex.default,\n\t\t\"common.today.color\": colors.hex.primary,\n\t\t\"week.currentTime.color\": colors.hex.primarydark,\n\t},\n\tshow_actions: true,\n\ticon: <CalendarIcon />,\n\ttitle: \"My\",\n\tsubtitle: \"Calendar\",\n\ticon_color: colors.hex.primary,\n\ttitle_color: colors.hex.primary,\n\tsubtitle_color: colors.hex.grey,\n\tcalendarProps: {},\n\theight: 900,\n\tdefaultView: \"month\",\n\tdisableDblClick: true,\n\tdisableClick: false,\n\tisReadOnly: false,\n\tuseDetailPopup: true,\n\tuseCreationPopup: false,\n\tscheduleView: true,\n\ttaskView: true,\n};\n\nexport default withRoot(withStyles(styles)(CustomCalendar));\n","/** @format */\n\nimport { Icon } from \"@material-ui/core\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport EmptyStateImage from \"assets/img/empty-state-table.svg\";\n//\nimport Calendar from \"components/Calendar\";\nimport GridContainer from \"components/Grid/GridContainer\";\nimport GridItem from \"components/Grid/GridItem\";\nimport ProgressIndicator from \"components/ProgressIndicator\";\nimport Typography from \"components/Typography\";\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\n//Redux imports\nimport { connect } from \"react-redux\";\nimport compose from \"recompose/compose\";\nimport { apiCallRequest, closeDialog, openDialog } from \"state/actions\";\n//\nimport { withErrorHandler } from \"hoc/ErrorHandler\";\nimport styles from \"./styles\";\n\nclass CalendarView extends React.Component {\n\tcalendarRef = React.createRef();\n\tstate = {\n\t\tloading: true,\n\t\tload_error: false,\n\t\trecords: [],\n\t};\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tconst { defination, service, query, app } = props;\n\n\t\tthis.state.defination = defination;\n\t\tthis.state.service = service;\n\t\tthis.state.query = query ? { ...query, p: 1 } : { p: 1 };\n\n\t\tthis.handleEditItem = this.handleEditItem.bind(this);\n\t\tthis.handleDeleteItemConfirm = this.handleDeleteItemConfirm.bind(this);\n\t\tthis.handleDeleteItem = this.handleDeleteItem.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.loadContext();\n\t}\n\n\tgetSnapshotBeforeUpdate(prevProps) {\n\t\treturn {\n\t\t\tcontextReloadRequired:\n\t\t\t\t!Object.areEqual(prevProps.defination, this.props.defination) &&\n\t\t\t\t!Object.areEqual(prevProps.service, this.props.service),\n\t\t\tdataReloadRequired: !Object.areEqual(\n\t\t\t\tprevProps.query,\n\t\t\t\tthis.props.query\n\t\t\t),\n\t\t};\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState, snapshot) {\n\t\tif (snapshot.contextReloadRequired) {\n\t\t\tthis.loadContext();\n\t\t}\n\t\tif (snapshot.dataReloadRequired) {\n\t\t\tconst { query } = this.props;\n\t\t\tthis.setState(\n\t\t\t\t{ query: query ? { ...query, p: 1 } : { p: 1 } },\n\t\t\t\tthis.loadData\n\t\t\t);\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tconst { openDialog, closeDialog } = this.props;\n\t\tcloseDialog();\n\t}\n\n\thandleEditItem(event) {\n\t\tconst { auth } = this.props;\n\n\t\tif (\n\t\t\t!this.state.defination.access.actions.update.restricted(auth.user)\n\t\t) {\n\t\t\twindow.location.href =\n\t\t\t\t\"/\" +\n\t\t\t\tthis.state.defination.access.actions.update.uri(\n\t\t\t\t\tevent.schedule.id\n\t\t\t\t);\n\t\t}\n\t}\n\n\thandleDeleteItemConfirm(event) {\n\t\tconst { openDialog, closeDialog } = this.props;\n\t\tlet that = this;\n\t\topenDialog({\n\t\t\ttitle: \"Confirm Delete\",\n\t\t\tbody:\n\t\t\t\t\"Are you sure you want delete \" +\n\t\t\t\tevent.schedule.title +\n\t\t\t\t\"? This action might be irreversible\",\n\t\t\tactions: {\n\t\t\t\tcancel: {\n\t\t\t\t\ttext: \"Cancel\",\n\t\t\t\t\tcolor: \"default\",\n\t\t\t\t\tonClick: () => closeDialog(),\n\t\t\t\t},\n\t\t\t\tdelete: {\n\t\t\t\t\ttext: \"Delete\",\n\t\t\t\t\tcolor: \"error\",\n\t\t\t\t\tonClick: this.handleDeleteItem(event.schedule.id),\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\t}\n\n\thandleDeleteItem = item_id => event => {\n\t\tconst { openDialog, closeDialog } = this.props;\n\n\t\topenDialog({\n\t\t\ttitle: \"Deleting safely\",\n\t\t\tbody: \"Please wait. Executing safe delete...\",\n\t\t\tactions: {},\n\t\t});\n\n\t\tthis.state.service\n\t\t\t.delete(item_id)\n\t\t\t.then(res => {\n\t\t\t\tcloseDialog();\n\t\t\t\tthis.loadData();\n\t\t\t})\n\t\t\t.catch(e => {\n\t\t\t\tconsole.log(\"CalendarView delete error\", e);\n\t\t\t\tcloseDialog();\n\t\t\t});\n\t};\n\n\tloadContext() {\n\t\tconst { defination, service, query, auth } = this.props;\n\t\tif (defination) {\n\t\t\tthis.setState(\n\t\t\t\t{\n\t\t\t\t\tdefination: defination,\n\t\t\t\t\tservice: service,\n\t\t\t\t\tquery: query ? { ...query, p: 1 } : { p: 1 },\n\t\t\t\t\tcalendars: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: defination.name,\n\t\t\t\t\t\t\tname: defination.label,\n\t\t\t\t\t\t\tbgColor: defination.color,\n\t\t\t\t\t\t\tborderColor: defination.color,\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t\trecords: [],\n\t\t\t\t\tloading: false,\n\t\t\t\t},\n\t\t\t\tthis.loadData\n\t\t\t);\n\t\t}\n\t}\n\n\tloadData() {\n\t\tconst { auth, cache, defination, apiCallRequest, cache_data, onLoadData, load_data } = this.props;\n\t\tif (defination ) {\n\t\t\tif (load_data) {\n\t\t\t\tapiCallRequest( defination.name,\n\t\t\t\t\t{\n\t\t\t\t\t\turi: defination.endpoint,\n\t\t\t\t\t\ttype: \"records\",\n\t\t\t\t\t\tparams: this.state.query,\n\t\t\t\t\t\tdata: {},\n\t\t\t\t\t\tcache: cache_data,\n\t\t\t\t\t}\n\t\t\t\t).then(data => {\n\t\t\t\t\tconsole.log(\"calendar data\", data);\n\t\t\t\t\tif (Function.isFunction(onLoadData)) {\n\t\t\t\t\t\tonLoadData(data, this.state.query);\n\t\t\t\t\t}\n\t\t\t\t\tthis.prepareData(data);\n\t\t\t\t}).catch(e => {\n\t\t\t\t\tconsole.log(\"calendar error\", e);\n\t\t\t\t\tthis.setState(state => ({\n\t\t\t\t\t\trecords: [],\n\t\t\t\t\t\tload_error: e,\n\t\t\t\t\t\tloading: false,\n\t\t\t\t\t}));\n\t\t\t\t});\n\t\t\t}\n\t\t\telse {\n\t\t\t\tlet data = Array.isArray(cache.data[defination.name])? cache.data[defination.name] : [];\n\t\t\t\tif (Function.isFunction(onLoadData)) {\n\t\t\t\t\tonLoadData(data, this.state.query);\n\t\t\t\t}\n\t\t\t\tthis.prepareData(data);\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tthis.setState(state => ({\n\t\t\t\trecords: [],\n\t\t\t\tload_error: { msg: \"No Context defination or provided\" },\n\t\t\t\tloading: false,\n\t\t\t}));\n\t\t}\n\t}\n\n\tprepareData(data=null) {\n\t\tconst { auth, cache, defination } = this.props;\n\t\tlet target_data = Array.isArray(data)? data : (Array.isArray(cache.data[defination.name]) ? cache.data[defination.name] : []);\n\t\tlet columns = defination ? defination.scope.columns : {};\n\t\tlet resolved_data = [];\n\n\t\tif ( Function.isFunction( defination.views.listing.calendarview.resolveData ) ) {\n\t\t\tdefination.views.listing.calendarview.resolveData(target_data, true).then(resolve => {\n\t\t\t\t\tthis.setState(state => ({\n\t\t\t\t\t\trecords: resolve,\n\t\t\t\t\t\tloading: false,\n\t\t\t\t\t}));\n\t\t\t}).catch(err => {\t\t\t\t\t\n\t\t\t\tthis.setState(state => ({ records: [], loading: false }));\n\t\t\t});\n\t\t}\n\t}\n\n\trender() {\n\t\tconst { classes } = this.props;\n\n\t\treturn (\n\t\t\t<GridContainer className={classes.root}>\n\t\t\t\t{this.state.defination && (\n\t\t\t\t\t<GridItem className=\"p-0 m-0\" xs={12}>\n\t\t\t\t\t\t{this.state.loading ? (\n\t\t\t\t\t\t\t<GridContainer\n\t\t\t\t\t\t\t\tclassName={classes.full_height}\n\t\t\t\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\t\t\t\talignItems=\"center\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<GridItem xs={1}>\n\t\t\t\t\t\t\t\t\t<ProgressIndicator\n\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\tthickness={4}\n\t\t\t\t\t\t\t\t\t\tclassName={classes.progress}\n\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\t\tdisableShrink\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</GridItem>\n\t\t\t\t\t\t\t</GridContainer>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<GridContainer className=\"p-0 m-0\">\n\t\t\t\t\t\t\t\t{this.state.load_error ? (\n\t\t\t\t\t\t\t\t\t<GridContainer>\n\t\t\t\t\t\t\t\t\t\t<GridItem xs={12}>\n\t\t\t\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"error\"\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"h1\"\n\t\t\t\t\t\t\t\t\t\t\t\tcenter\n\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<Icon fontSize=\"large\">\n\t\t\t\t\t\t\t\t\t\t\t\t\terror\n\t\t\t\t\t\t\t\t\t\t\t\t</Icon>\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t</GridItem>\n\t\t\t\t\t\t\t\t\t\t<GridItem xs={12}>\n\t\t\t\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"error\"\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"body1\"\n\t\t\t\t\t\t\t\t\t\t\t\tcenter\n\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tAn error occured.\n\t\t\t\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t\t\t\tStatus Code :{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t{this.state.load_error.code}\n\t\t\t\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t\t\t\t{this.state.load_error.msg}\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t</GridItem>\n\t\t\t\t\t\t\t\t\t</GridContainer>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<GridContainer className=\"p-0 m-0\">\n\t\t\t\t\t\t\t\t\t\t<GridItem className=\"p-0 m-0\" xs={12}>\n\t\t\t\t\t\t\t\t\t\t\t{Array.isArray(\n\t\t\t\t\t\t\t\t\t\t\t\tthis.state.records\n\t\t\t\t\t\t\t\t\t\t\t) &&\n\t\t\t\t\t\t\t\t\t\t\tthis.state.records.length > 0 ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<GridContainer className=\"p-0 m-0\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<GridItem xs={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Calendar\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.state\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.defination\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.icon\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.state\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.defination\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.label\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle_color={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.state\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.defination\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.color\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon_color={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.state\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.defination\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.color\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsubtitle=\"\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcalendars={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.state.calendars\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tview=\"month\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tschedules={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.state\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.records\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclasses.calendar\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClickEdit={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.handleEditItem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClickDelete={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.handleDeleteItemConfirm\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</GridItem>\n\t\t\t\t\t\t\t\t\t\t\t\t</GridContainer>\n\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t<GridContainer\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"p-0 m-0\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\t\t\t\t\t\t\t\t\talignItems=\"center\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talt=\"Empty list\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclasses.emptyImage\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={EmptyStateImage}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclasses.emptyText\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"grey\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"body2\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcenter\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tNo{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.state.defination\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.label\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? this.state\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.defination\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.label\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"Records\"}{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfound\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t\t\t</GridContainer>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</GridItem>\n\t\t\t\t\t\t\t\t\t</GridContainer>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</GridContainer>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</GridItem>\n\t\t\t\t)}\n\t\t\t</GridContainer>\n\t\t);\n\t}\n}\nCalendarView.propTypes = {\n\tclassName: PropTypes.string,\n\tclasses: PropTypes.object.isRequired,\n\tdefination: PropTypes.object.isRequired,\n\tservice: PropTypes.any.isRequired,\n\tcalendarProps: PropTypes.object,\n\tquery: PropTypes.object,\n\tcache_data: PropTypes.bool,\n\tload_data: PropTypes.bool,\n\tonLoadData: PropTypes.func,\n};\n\nCalendarView.defaultProps = {\n\tcalendarProps: {\n\t\theight: \"900px\",\n\t\tdefaultView: \"month\",\n\t\tdisableDblClick: true,\n\t\tdisableClick: true,\n\t\tisReadOnly: false,\n\t\tuseDetailPopup: true,\n\t\tuseCreationPopup: false,\n\t\tscheduleView: true,\n\t\ttaskView: false,\n\t},\n\tquery: { p: 1 },\n\tcache_data: true,\n\tload_data: true,\n};\n\nconst mapStateToProps = state => ({\n\tauth: state.auth,\n\tapp: state.app,\n});\n\nexport default withErrorHandler(\n\tcompose(\n\t\twithStyles(styles),\n\t\tconnect(mapStateToProps, { apiCallRequest, openDialog, closeDialog })\n\t)(CalendarView)\n);\n","/** @format */\n\nexport default theme => ({\n\troot: {\n\t\tpadding: \"0\",\n\t},\n});\n","/** @format */\n\nimport { Icon } from \"@material-ui/core\";\nimport Divider from \"@material-ui/core/Divider\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\n//\nimport EmptyStateImage from \"assets/img/empty-state-table.svg\";\nimport GridContainer from \"components/Grid/GridContainer\";\nimport GridItem from \"components/Grid/GridItem\";\nimport ProgressIndicator from \"components/ProgressIndicator\";\nimport Typography from \"components/Typography\";\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport compose from \"recompose/compose\";\nimport * as Actions from \"state/actions\";\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport { apiCallRequest, closeDialog, openDialog } from \"state/actions\";\n//\nimport { UtilitiesHelper } from \"hoc/Helpers\";\nimport { withErrorHandler } from \"hoc/ErrorHandler\";\nimport styles from \"./styles\";\n\nclass ListView extends React.Component {\n\t\n\tstate = {\n\t\tloading: true,\n\t\tload_error: false,\n\t\traw_records: [],\n\t\trecords: [],\n\t};\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tconst { defination } = props;\n\n\t\tthis.handleDeleteItemConfirm = this.handleDeleteItemConfirm.bind(this);\n\t\tthis.handleDeleteItem = this.handleDeleteItem.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tconst { cache, defination } = this.props;\n\t\tthis.mounted = true;\n\t\tthis.loadContext();\n\t\tthis.prepareData((Array.isArray(cache.data[defination.name])? cache.data[defination.name] : []));\n\t}\n\n\tgetSnapshotBeforeUpdate(prevProps) {\n\t\tthis.mounted = false;\n\t\tconst { cache, defination } = this.props;\n\t\treturn {\n\t\t\tcontextReloadRequired: !Object.areEqual(prevProps.defination, this.props.defination),\n\t\t\tdataReloadRequired: !Object.areEqual(prevProps.query,this.props.query),\n\t\t\t/*dataPreparationRequired: Array.isArray(cache.data[defination.name])? !cache.data[prevProps.defination.name].equals(prevProps.cache.data[defination.name]) : (Array.isArray(prevProps.cache.data[defination.name])? !prevProps.cache.data[prevProps.defination.name].equals(cache.data[defination.name]) : false),*/\n\t\t\tdataPreparationRequired: false,\n\t\t};\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState, snapshot) {\n\t\tif (snapshot.contextReloadRequired) {\n\t\t\tthis.loadContext();\n\t\t\tthis.prepareData();\n\t\t}\n\t\tif (snapshot.dataReloadRequired) {\n\t\t\tconst { query } = this.props;\n\t\t\tthis.setState(\n\t\t\t\t{ query: query ? { ...query, p: 1 } : { p: 1 } },\n\t\t\t\tthis.loadData\n\t\t\t);\n\t\t}\n\t\t\n\t}\n\n\n\thandleDeleteItemConfirm = item_id => event => {\n\t\tconst { dispatch } = this.props;\n\t\tlet that = this;\n\t\tdispatch(\n\t\t\tActions.openDialog({\n\t\t\t\ttitle: \"Confirm Delete\",\n\t\t\t\tbody:\n\t\t\t\t\t\"Are you sure you want delete entry? This action might be irreversible\",\n\t\t\t\tactions: {\n\t\t\t\t\tcancel: {\n\t\t\t\t\t\ttext: \"Cancel\",\n\t\t\t\t\t\tcolor: \"default\",\n\t\t\t\t\t\tonClick: () => dispatch(Actions.closeDialog()),\n\t\t\t\t\t},\n\t\t\t\t\tdelete: {\n\t\t\t\t\t\ttext: \"Delete\",\n\t\t\t\t\t\tcolor: \"error\",\n\t\t\t\t\t\tonClick: this.handleDeleteItem(item_id),\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t})\n\t\t);\n\t};\n\n\thandleDeleteItem = item_id => event => {\n\t\tconst { dispatch } = this.props;\n\n\t\tdispatch(\n\t\t\tActions.openDialog({\n\t\t\t\ttitle: \"Deleting safely\",\n\t\t\t\tbody: \"Please wait. Executing safe delete...\",\n\t\t\t\tactions: {\n\t\t\t\t\tclose: {\n\t\t\t\t\t\ttext: \"Close\",\n\t\t\t\t\t\tcolor: \"default\",\n\t\t\t\t\t\tonClick: () => dispatch(Actions.closeDialog()),\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t})\n\t\t);\n\t};\n\n\tloadContext() {\n\t\tconst { defination, service, query, cache } = this.props;\n\t\tif (defination) {\n\t\t\tthis.setState(\n\t\t\t\t{\n\t\t\t\t\tdefination: defination,\n\t\t\t\t\tservice: service,\n\t\t\t\t\tquery: query ? { ...query, p: 1 } : { p: 1 },\n\t\t\t\t\tloading: false,\n\t\t\t\t},\n\t\t\t\tthis.loadData\n\t\t\t);\n\t\t}\n\t}\n\n\tloadData() {\n\t\tconst { auth, cache, defination, apiCallRequest, cache_data, onLoadData, load_data } = this.props;\n\t\tif (defination ) {\n\t\t\tif (load_data) {\n\t\t\t\tapiCallRequest( defination.name,\n\t\t\t\t\t{\n\t\t\t\t\t\turi: defination.endpoint,\n\t\t\t\t\t\ttype: \"records\",\n\t\t\t\t\t\tparams: this.state.query,\n\t\t\t\t\t\tdata: {},\n\t\t\t\t\t\tcache: cache_data,\n\t\t\t\t\t}\n\t\t\t\t).then(data => {\n\t\t\t\t\tif (Function.isFunction(onLoadData)) {\n\t\t\t\t\t\tonLoadData(data, this.state.query);\n\t\t\t\t\t}\n\t\t\t\t\tthis.prepareData(data);\n\t\t\t\t}).catch(e => {\n\t\t\t\t\tthis.setState(state => ({\n\t\t\t\t\t\trecords: [],\n\t\t\t\t\t\tload_error: e,\n\t\t\t\t\t\tloading: false,\n\t\t\t\t\t}));\n\t\t\t\t});\n\t\t\t}\n\t\t\telse if (cache_data){\n\t\t\t\tlet data = Array.isArray(cache.data[defination.name])? cache.data[defination.name] : [];\n\t\t\t\tif (Function.isFunction(onLoadData)) {\n\t\t\t\t\tonLoadData(data, this.state.query);\n\t\t\t\t}\n\t\t\t\tthis.prepareData(data);\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tthis.setState(state => ({\n\t\t\t\trecords: [],\n\t\t\t\tload_error: { msg: \"No Context defination or provided\" },\n\t\t\t\tloading: false,\n\t\t\t}));\n\t\t}\n\t}\n\n\t\n\n\tprepareData(data=null) {\n\t\tconst { auth, cache, defination, entryItemProps } = this.props;\n\t\tlet target_data = Array.isArray(data)? data : (Array.isArray(cache.data[defination.name]) ? cache.data[defination.name] : []);\n\t\tlet columns = defination ? defination.scope.columns : {};\n\t\tlet resolved_data = [];\n\n\t\tif ( Function.isFunction( defination.views.listing.listview.resolveData ) ) {\n\t\t\tdefination.views.listing.listview.resolveData(target_data, auth.user, entryItemProps)\n\t\t\t\t.then(resolve => {\n\t\t\t\t\tthis.setState(state => ({\n\t\t\t\t\t\traw_records: data,\n\t\t\t\t\t\trecords: resolve,\n\t\t\t\t\t\tloading: false,\n\t\t\t\t\t}));\n\t\t\t\t})\n\t\t\t\t.catch(err => {\t\t\t\t\t\n\t\t\t\t\tthis.setState(state => ({ records: [], raw_records: [], loading: false }));\n\t\t\t\t});\n\t\t}\n\t}\n\n\tprepareForData() {\n\t\tconst { classes, defination, auth, dispatch } = this.props;\n\n\t\tlet columns = defination.scope.columns;\n\n\t\tthis.state.records = [];\n\t\tthis.state.loading = false;\n\t}\n\n\t\n\trender() {\n\t\tconst { classes, defination, service, onClickEntry } = this.props;\n\t\treturn (\n\t\t\t<GridContainer className={classes.root}>\n\t\t\t\t<GridItem className=\"p-0 m-0\" xs={12}>\n\t\t\t\t\t{this.state.loading ? (\n\t\t\t\t\t\t<GridContainer>\n\t\t\t\t\t\t\t\t<GridItem md={12} className={\"flex flex-row items-center relative p-0 px-4 my-4\"}>\n\t\t\t\t\t\t\t\t\t<Skeleton variant=\"circle\" width={40} height={40} />\n\t\t\t\t\t\t\t\t\t<div className=\"flex-grow mx-2 flex flex-col\">\n\t\t\t\t\t\t\t\t\t\t<Skeleton variant=\"text\" className=\"w-3/12\"/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</GridItem>\n\n\t\t\t\t\t\t\t\t<GridItem md={12} className={\"flex flex-row items-center relative p-0 px-4 my-4\"}>\n\t\t\t\t\t\t\t\t\t<Skeleton variant=\"circle\" width={40} height={40} />\n\t\t\t\t\t\t\t\t\t<div className=\"flex-grow mx-2 flex flex-col\">\n\t\t\t\t\t\t\t\t\t\t<Skeleton variant=\"text\" className=\"w-8/12\"/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</GridItem>\n\n\t\t\t\t\t\t\t\t<GridItem md={12} className={\"flex flex-row items-center relative p-0 px-4 my-4\"}>\n\t\t\t\t\t\t\t\t\t<Skeleton variant=\"circle\" width={40} height={40} />\n\t\t\t\t\t\t\t\t\t<div className=\"flex-grow mx-2 flex flex-col\">\n\t\t\t\t\t\t\t\t\t\t<Skeleton variant=\"text\" className=\"w-4/12\"/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</GridItem>\n\n\t\t\t\t\t\t\t\t<GridItem md={12} className={\"flex flex-row items-center relative p-0 px-4 my-4\"}>\n\t\t\t\t\t\t\t\t\t<Skeleton variant=\"circle\" width={40} height={40} />\n\t\t\t\t\t\t\t\t\t<div className=\"flex-grow mx-2 flex flex-col\">\n\t\t\t\t\t\t\t\t\t\t<Skeleton variant=\"text\" className=\"w-3/12\"/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</GridItem>\n\n\t\t\t\t\t\t\t\t<GridItem md={12} className={\"flex flex-row items-center relative p-0 px-4 my-4\"}>\n\t\t\t\t\t\t\t\t\t<Skeleton variant=\"circle\" width={40} height={40} />\n\t\t\t\t\t\t\t\t\t<div className=\"flex-grow mx-2 flex flex-col\">\n\t\t\t\t\t\t\t\t\t\t<Skeleton variant=\"text\" className=\"w-5/12\"/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</GridItem>\n\n\t\t\t\t\t\t\t\t<GridItem md={12} className={\"flex flex-row items-center relative p-0 px-4 my-4\"}>\n\t\t\t\t\t\t\t\t\t<Skeleton variant=\"circle\" width={40} height={40} />\n\t\t\t\t\t\t\t\t\t<div className=\"flex-grow mx-2 flex flex-col\">\n\t\t\t\t\t\t\t\t\t\t<Skeleton variant=\"text\" className=\"w-9/12\"/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</GridItem>\n\n\t\t\t\t\t\t\t\t<GridItem md={12} className={\"flex flex-row items-center relative p-0 px-4 my-4\"}>\n\t\t\t\t\t\t\t\t\t<Skeleton variant=\"circle\" width={40} height={40} />\n\t\t\t\t\t\t\t\t\t<div className=\"flex-grow mx-2 flex flex-col\">\n\t\t\t\t\t\t\t\t\t\t<Skeleton variant=\"text\" className=\"w-4/12\"/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</GridItem>\n\n\t\t\t\t\t\t\t\t<GridItem md={12} className={\"flex flex-row items-center relative p-0 px-4 my-4\"}>\n\t\t\t\t\t\t\t\t\t<Skeleton variant=\"circle\" width={40} height={40} />\n\t\t\t\t\t\t\t\t\t<div className=\"flex-grow mx-2 flex flex-col\">\n\t\t\t\t\t\t\t\t\t\t<Skeleton variant=\"text\" className=\"w-3/12\"/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</GridItem>\n\n\t\t\t\t\t\t\t\t<GridItem md={12} className={\"flex flex-row items-center relative p-0 px-4 my-4\"}>\n\t\t\t\t\t\t\t\t\t<Skeleton variant=\"circle\" width={40} height={40} />\n\t\t\t\t\t\t\t\t\t<div className=\"flex-grow mx-2 flex flex-col\">\n\t\t\t\t\t\t\t\t\t\t<Skeleton variant=\"text\" className=\"w-4/12\"/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</GridItem>\n\t\t\t\t\t\t\t</GridContainer>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<GridContainer className=\"p-0 m-0\">\n\t\t\t\t\t\t\t{this.state.load_error ? (\n\t\t\t\t\t\t\t\t<GridContainer>\n\t\t\t\t\t\t\t\t\t<GridItem xs={12}>\n\t\t\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"error\"\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"h1\"\n\t\t\t\t\t\t\t\t\t\t\tcenter\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Icon fontSize=\"large\">error</Icon>\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t</GridItem>\n\t\t\t\t\t\t\t\t\t<GridItem xs={12}>\n\t\t\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"error\"\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"body1\"\n\t\t\t\t\t\t\t\t\t\t\tclassName={\"w-full text-center\"}\n\t\t\t\t\t\t\t\t\t\t\tcenter\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tAn error occured.\n\t\t\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t\t\tStatus Code :{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t{this.state.load_error.code}\n\t\t\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t\t\t{this.state.load_error.msg}\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t</GridItem>\n\t\t\t\t\t\t\t\t</GridContainer>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<GridContainer className=\"p-0 m-0\">\n\t\t\t\t\t\t\t\t\t<GridItem className=\"p-0 m-0\" xs={12}>\n\t\t\t\t\t\t\t\t\t\t{Array.isArray(this.state.records) &&\n\t\t\t\t\t\t\t\t\t\tthis.state.records.length > 0 ? (\n\t\t\t\t\t\t\t\t\t\t\t<GridContainer className=\"p-0 m-0\">\n\t\t\t\t\t\t\t\t\t\t\t\t<GridItem xs={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<List\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={\"p-0 transparent-bg\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.state.records.map(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(entry, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdefination.name +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"-\" +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tindex\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListItem \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbutton \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\talignItems=\"flex-start\" \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={()=>{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (Function.isFunction(onClickEntry)) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClickEntry(this.state.raw_records[index], index);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.listItem}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{entry.avatar && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListItemAvatar>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tentry.avatar\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListItemAvatar>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{entry.icon && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tentry.icon\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tprimary={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tentry.title\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsecondary={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tentry.body\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Divider\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcomponent=\"li\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</List>\n\t\t\t\t\t\t\t\t\t\t\t\t</GridItem>\n\t\t\t\t\t\t\t\t\t\t\t</GridContainer>\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t<GridContainer\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"p-0 m-0\"\n\t\t\t\t\t\t\t\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\t\t\t\t\t\t\t\talignItems=\"center\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\t\talt=\"Empty list\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclasses.emptyImage\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={EmptyStateImage}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclasses.emptyText\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"grey\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"body2\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tcenter\n\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\tNo{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{defination.label\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? defination.label\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"Records\"}{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t\tfound\n\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t\t</GridContainer>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</GridItem>\n\t\t\t\t\t\t\t\t</GridContainer>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</GridContainer>\n\t\t\t\t\t)}\n\t\t\t\t</GridItem>\n\t\t\t</GridContainer>\n\t\t);\n\t}\n}\nListView.propTypes = {\n\tclassName: PropTypes.string,\n\tclasses: PropTypes.object.isRequired,\n\tdefination: PropTypes.object.isRequired,\n\tservice: PropTypes.any.isRequired,\n\tshow_actions: PropTypes.bool,\n\tquery: PropTypes.object,\n\tcache_data: PropTypes.bool,\n\tload_data: PropTypes.bool,\n\tonLoadData: PropTypes.func,\n\tonClickEntry: PropTypes.func,\n};\n\nListView.defaultProps = {\n\tshow_actions: true,\n\tshow_links: true,\n\tquery: { p: 1 },\n\tload_data: true,\n\tcache_data: true,\n};\n\nconst mapStateToProps = (state, ownProps) => {\n\tconst { defination } = ownProps;\n\treturn {\n\t\tauth: state.auth,\n\t\tcache: state.cache,\n\t\tapi: state.api,\n\t};\n};\nexport default compose(\n\twithStyles(styles),\n\tconnect(mapStateToProps, { apiCallRequest, openDialog, closeDialog }),\n\twithErrorHandler\n)(ListView);\n","/** @format */\n\nexport default theme => ({\n\troot: {\n\t\tpadding: \"0\",\n\t},\n\tlistItem: {\n\t\tbackground: \"transparent\",\n\t\ttransition: theme.transitions.create(\"background\", {\n\t\t\teasing: theme.transitions.easing.sharp,\n\t\t\tduration: 50,\n\t\t}),\n\t\t\"&:hover\": {\n\t\t\tbackground: theme.palette.action.hover,\n\t\t},\n\t},\n});\n","/** @format */\r\n\r\n//\r\nimport Chip from \"@material-ui/core/Chip\";\r\nimport Menu from \"@material-ui/core/Menu\";\r\nimport ClickAwayListener from \"@material-ui/core/ClickAwayListener\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport EmptyStateImage from \"assets/img/empty-state-table.svg\";\r\nimport Avatar from \"components/Avatar\";\r\nimport GridContainer from \"components/Grid/GridContainer\";\r\nimport GridItem from \"components/Grid/GridItem\";\r\nimport Typography from \"components/Typography\";\r\nimport Skeleton from \"@material-ui/lab/Skeleton\";\r\nimport { formats } from \"config/data\";\r\nimport MUIDataTable from \"mui-datatables\";\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport PropTypes from \"prop-types\";\r\nimport React, {useEffect, useState} from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport compose from \"recompose/compose\";\r\nimport { attachments as AttachmentsService } from \"services\";\r\nimport { apiCallRequest, closeDialog, openDialog } from \"state/actions\";\r\n//\r\nimport { FilesHelper, ServiceDataHelper, UtilitiesHelper } from \"hoc/Helpers\";\r\nimport { withErrorHandler } from \"hoc/ErrorHandler\";\r\nimport { withGlobals } from \"contexts/Globals\";\r\nimport styles from \"./styles\";\r\n\r\nclass TableView extends React.Component {\r\n\tstate = {\r\n\t\tloading: true,\r\n\t\tload_error: false,\r\n\t\tdefination: null,\r\n\t\tservice: null,\r\n\t\tquery: { p: 1 },\r\n\t\tdt_columns: [],\r\n\t\trecords: [],\r\n\t\traw_data: [],\r\n\t\traw_data_mutated: false,\r\n\t\tmouseX: null,\r\n\t\tmouseY: null,\r\n\t\tactionsView: \"contextMenu\",\r\n\r\n\t\tcontext: null,\r\n\t};\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tconst { defination, service, query, cache: { data: cachedData } } = props;\r\n\t\tthis.state.defination = defination;\r\n\t\tthis.state.service = service;\r\n\t\tthis.state.query = query ? { ...query, p: 1 } : { p: 1 };\r\n\t\tthis.state.records = Array.isArray(cachedData[defination.name])? cachedData[defination.name] : [];\r\n\t\tthis.mounted = false;\r\n\t\tthis.handleDeleteItemConfirm = this.handleDeleteItemConfirm.bind(this);\r\n\t\tthis.handleDeleteItem = this.handleDeleteItem.bind(this);\r\n\t\tthis.handleOnRowContextMenu = this.handleOnRowContextMenu.bind(this);\r\n\t\tthis.handleSocketsOnCreate = this.handleSocketsOnCreate.bind(this);\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst { cache, defination, sockets } = this.props;\r\n\t\tconsole.log(\"sockets\", sockets);\r\n\t\tif (sockets) {\r\n\t\t\tif (sockets.default) {\r\n\t\t\t\tsockets.default.on(\"create\", this.handleSocketsOnCreate);\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.mounted = true;\r\n\t\tthis.loadContext();\r\n\t\tthis.prepareData((Array.isArray(cache.data[defination.name])? cache.data[defination.name] : []));\r\n\t}\r\n\r\n\tgetSnapshotBeforeUpdate(prevProps) {\r\n\t\tthis.mounted = false;\r\n\t\tconst { cache, defination } = this.props;\r\n\t\treturn {\r\n\t\t\tcontextReloadRequired: !Object.areEqual(prevProps.defination, this.props.defination),\r\n\t\t\tdataReloadRequired: !Object.areEqual(prevProps.query,this.props.query),\r\n\t\t\t/*dataPreparationRequired: Array.isArray(cache.data[defination.name])? !cache.data[prevProps.defination.name].equals(prevProps.cache.data[defination.name]) : (Array.isArray(prevProps.cache.data[defination.name])? !prevProps.cache.data[prevProps.defination.name].equals(cache.data[defination.name]) : false),*/\r\n\t\t\tdataPreparationRequired: false,\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps, prevState, snapshot) {\r\n\t\tthis.mounted = true;\r\n\t\tif (snapshot.contextReloadRequired) {\r\n\t\t\tthis.loadContext();\r\n\t\t\tthis.prepareData();\r\n\t\t}\r\n\t\tif (snapshot.dataReloadRequired) {\r\n\t\t\tconst { query } = this.props;\r\n\t\t\tthis.setState(\r\n\t\t\t\t{ query: query ? { ...query, p: 1 } : { p: 1 } },\r\n\t\t\t\tthis.loadData\r\n\t\t\t);\r\n\t\t}\r\n\t\tif (this.state.raw_data_mutated) {\r\n\t\t\tthis.setState({ raw_data_mutated: false }, this.prepareData(this.state.raw_data));\r\n\t\t}\r\n\t}\r\n\tcomponentWillUnmount() {\r\n\t\tconst { sockets } = this.props;\r\n\t\tif (sockets) {\r\n\t\t\tif (sockets.default) {\r\n\t\t\t\tsockets.default.off(\"create\", this.handleSocketsOnCreate);\r\n\t\t\t}\r\n\t\t}\r\n    }\r\n\r\n\thandleSocketsOnCreate = (event) => {\r\n\t\tconst { defination, sockets } = this.props;\r\n\t\tconst { context, action } = event;\r\n\t\tconst { raw_data } = this.state;\r\n\t\tif (defination.model === context) {\r\n\t\t\tthis.setState(prevState => {\r\n\t\t\t\tconst { raw_data } = prevState;\r\n\t\t\t\tconsole.log(\"handleSocketsOnCreate context\", context);\r\n\t\t\t\tconsole.log(\"handleSocketsOnCreate action\", action);\r\n\t\t\t\tlet new_raw_data = Array.isArray(raw_data)? raw_data : [];\r\n\t\t\t\tnew_raw_data.unshift(action.result);\r\n\t\t\t\tconsole.log(\"handleSocketsOnCreate new_raw_data\", new_raw_data);\r\n\t\t\t\treturn {\r\n\t\t\t\t\traw_data: new_raw_data,\r\n\t\t\t\t\traw_data_mutated: true,\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t\t\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n\thandleDeleteItemConfirm = item_id => event => {\r\n\t\tconst { openDialog, closeDialog } = this.props;\r\n\t\tlet that = this;\r\n\t\topenDialog({\r\n\t\t\ttitle: \"Confirm Delete\",\r\n\t\t\tbody:\r\n\t\t\t\t\"Are you sure you want delete entry? This action might be irreversible\",\r\n\t\t\tactions: {\r\n\t\t\t\tcancel: {\r\n\t\t\t\t\ttext: \"Cancel\",\r\n\t\t\t\t\tcolor: \"default\",\r\n\t\t\t\t\tonClick: () => closeDialog(),\r\n\t\t\t\t},\r\n\t\t\t\tdelete: {\r\n\t\t\t\t\ttext: \"Delete\",\r\n\t\t\t\t\tcolor: \"error\",\r\n\t\t\t\t\tonClick: this.handleDeleteItem(item_id),\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t});\r\n\t};\r\n\r\n\thandleDeleteItem = item_id => event => {\r\n\t\tconst { openDialog, closeDialog } = this.props;\r\n\t\tcloseDialog();\r\n\t\tif (item_id._id) {\r\n\t\t\titem_id = item_id._id;\r\n\t\t}\r\n\t\tthis.state.service\r\n\t\t\t.delete(item_id)\r\n\t\t\t.then(res => {\r\n\t\t\t\tthis.setState(prevState => {\r\n\t\t\t\t\tlet new_records = prevState.records;\r\n\t\t\t\t\tif (Array.isArray(new_records)) {\r\n\t\t\t\t\t\tnew_records = new_records.filter((record)=>{\r\n\t\t\t\t\t\t\tif (record.entry) {\r\n\t\t\t\t\t\t\t\tif (record.entry._id === item_id ) {\r\n\t\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse if (record._id === item_id) {\r\n\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (!Array.isArray(new_records)) {\r\n\t\t\t\t\t\tnew_records = [];\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\trecords: new_records,\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}).catch(e => {\r\n\t\t\t\topenDialog({\r\n\t\t\t\t\ttitle: \"Delete failed\",\r\n\t\t\t\t\tbody: e.msg,\r\n\t\t\t\t\tactions: {},\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t};\r\n\r\n\thandleOnRowContextMenu = index => event => {\r\n\t\tevent.preventDefault();\r\n\t\tconst mouseX = event.clientX - 2;\r\n\t\tconst mouseY = event.clientY - 4;\r\n\r\n\t\tconsole.log(\"this.state.raw_data[index]\", this.state.raw_data[index]);\r\n\t\tthis.setState(prevState => ({\r\n\t\t\tmouseX: mouseX,\r\n\t\t\tmouseY: mouseY,\r\n\t\t\tcontext: prevState.raw_data[index],\r\n\t\t}));\r\n\t};\r\n\r\n\thandleOnRowContextMenuClose = event => {\r\n\t\tevent.preventDefault();\r\n\r\n\t\tthis.setState({\r\n\t\t\tmouseX: null,\r\n\t\t\tmouseY: null,\r\n\t\t});\r\n\t};\r\n\r\n\tloadContext() {\r\n\t\tconst { classes, defination, service, query, auth, actionsType } = this.props;\r\n\t\tif (defination) {\r\n\t\t\tlet columns = defination.scope.columns;\r\n\t\t\tlet dt_columns = [];\r\n\t\t\tif (!defination.access.restricted(auth.user)) {\r\n\t\t\t\tdt_columns.push({\r\n\t\t\t\t\tname: \"entry\",\r\n\t\t\t\t\tlabel: String.isString(defination.label)? defination.label.singularize() : (\"Action\"),\r\n\t\t\t\t\toptions: {\r\n\t\t\t\t\t\tfilter: false,\r\n\t\t\t\t\t\tsort: false,\r\n\t\t\t\t\t\t/*customBodyRenderLite: (dataIndex, rowIndex) => {\r\n\t\t\t\t\t\t\tconsole.log(\"dataIndex\", dataIndex);\r\n\t\t\t\t\t\t\tlet value = this.state.records[dataIndex].entry;\r\n\t\t\t\t\t\t\tif (actionsType === \"inline\") {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<GridContainer\r\n\t\t\t\t\t\t\t\t\t\tspacing={2}\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.data_actions_wrapper}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{Object.keys(defination.access.actions).map((action_name, action_index) =>\r\n\t\t\t\t\t\t\t\t\t\t\t!defination.access.actions[action_name].restricted(auth.user) && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"_\" +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\taction_name +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"_action\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{action_name === \"delete\" ? defination.access.actions[action_name].link.inline.listing(value,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"error_text\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.handleDeleteItemConfirm(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t  )\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: defination.access.actions[\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taction_name\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t  ].link.inline.listing(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t  )}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</GridContainer>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},*/\r\n\t\t\t\t\t\tcustomBodyRender: (value, tableMeta, updateValue) => {\r\n\t\t\t\t\t\t\tif (actionsType === \"inline\") {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<GridContainer\r\n\t\t\t\t\t\t\t\t\t\tspacing={2}\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.data_actions_wrapper}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{Object.keys(defination.access.actions).map((action_name, action_index) =>\r\n\t\t\t\t\t\t\t\t\t\t\t!defination.access.actions[action_name].restricted(auth.user) && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"_\" +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\taction_name +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"_action\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{action_name === \"delete\" ? defination.access.actions[action_name].link.inline.listing(value,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"error_text\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.handleDeleteItemConfirm(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t  )\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: defination.access.actions[\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taction_name\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t  ].link.inline.listing(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t  )}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</GridContainer>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\r\n\t\t\t\tfor (let [name, field] of Object.entries(columns)) {\r\n\t\t\t\t\tlet display_field = true;\r\n\t\t\t\t\tif (field.restricted && \"display\" in field.restricted) {\r\n\t\t\t\t\t\tif (typeof field.restricted.display === \"function\") {\r\n\t\t\t\t\t\t\tdisplay_field = !field.restricted.display(\r\n\t\t\t\t\t\t\t\tfalse,\r\n\t\t\t\t\t\t\t\tauth.user\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (display_field) {\r\n\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\tUtilitiesHelper.isOfType(\r\n\t\t\t\t\t\t\t\tthis.state.defination.views.listing.tableview\r\n\t\t\t\t\t\t\t\t\t.resolveData,\r\n\t\t\t\t\t\t\t\t\"function\"\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\tif (field.reference || field.possibilities) {\r\n\t\t\t\t\t\t\t\tdt_columns.push({\r\n\t\t\t\t\t\t\t\t\tname: name,\r\n\t\t\t\t\t\t\t\t\tlabel: field.label,\r\n\t\t\t\t\t\t\t\t\toptions: {\r\n\t\t\t\t\t\t\t\t\t\tfilter: field.possibilities\r\n\t\t\t\t\t\t\t\t\t\t\t? true\r\n\t\t\t\t\t\t\t\t\t\t\t: false,\r\n\t\t\t\t\t\t\t\t\t\tsort: true,\r\n\t\t\t\t\t\t\t\t\t\tcustomBodyRender: (\r\n\t\t\t\t\t\t\t\t\t\t\tvalue,\r\n\t\t\t\t\t\t\t\t\t\t\ttableMeta,\r\n\t\t\t\t\t\t\t\t\t\t\tupdateValue\r\n\t\t\t\t\t\t\t\t\t\t) => {\r\n\t\t\t\t\t\t\t\t\t\t\tif (Array.isArray(value)) {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<GridContainer spacing={2}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{value.map(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(entry, cursor) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={cursor}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{entry}{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</GridContainer>\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn value !== null &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue !== undefined\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t? value\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t: \"\";\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tdt_columns.push({\r\n\t\t\t\t\t\t\t\t\tname: name,\r\n\t\t\t\t\t\t\t\t\tlabel: field.label,\r\n\t\t\t\t\t\t\t\t\toptions: {\r\n\t\t\t\t\t\t\t\t\t\tfilter: field.possibilities\r\n\t\t\t\t\t\t\t\t\t\t\t? true\r\n\t\t\t\t\t\t\t\t\t\t\t: false,\r\n\t\t\t\t\t\t\t\t\t\tsort: true,\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\tfield.reference &&\r\n\t\t\t\t\t\t\t\tfield.input.type !== \"file\" && !field.isAttachment\r\n\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\tdt_columns.push({\r\n\t\t\t\t\t\t\t\t\tname: name,\r\n\t\t\t\t\t\t\t\t\tlabel: field.label,\r\n\t\t\t\t\t\t\t\t\toptions: {\r\n\t\t\t\t\t\t\t\t\t\tfilter: field.possibilities\r\n\t\t\t\t\t\t\t\t\t\t\t? true\r\n\t\t\t\t\t\t\t\t\t\t\t: false,\r\n\t\t\t\t\t\t\t\t\t\tsort: true,\r\n\t\t\t\t\t\t\t\t\t\tcustomBodyRender: (\r\n\t\t\t\t\t\t\t\t\t\t\tvalue,\r\n\t\t\t\t\t\t\t\t\t\t\ttableMeta,\r\n\t\t\t\t\t\t\t\t\t\t\tupdateValue\r\n\t\t\t\t\t\t\t\t\t\t) => {\r\n\t\t\t\t\t\t\t\t\t\t\tif (Array.isArray(value)) {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<GridContainer spacing={2}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{value.map(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(entry, cursor) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclasses.valueChip\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tentry.value\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tentry.resolve\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</GridContainer>\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn value !== null &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue !== undefined ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={value.resolve}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t} else if (\r\n\t\t\t\t\t\t\t\tfield.reference &&\r\n\t\t\t\t\t\t\t\t(field.input.type === \"file\" || field.isAttachment)\r\n\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\tdt_columns.push({\r\n\t\t\t\t\t\t\t\t\tname: name,\r\n\t\t\t\t\t\t\t\t\tlabel: field.label,\r\n\t\t\t\t\t\t\t\t\toptions: {\r\n\t\t\t\t\t\t\t\t\t\tfilter: field.possibilities\r\n\t\t\t\t\t\t\t\t\t\t\t? true\r\n\t\t\t\t\t\t\t\t\t\t\t: false,\r\n\t\t\t\t\t\t\t\t\t\tsort: true,\r\n\t\t\t\t\t\t\t\t\t\tcustomBodyRender: (\r\n\t\t\t\t\t\t\t\t\t\t\tvalue,\r\n\t\t\t\t\t\t\t\t\t\t\ttableMeta,\r\n\t\t\t\t\t\t\t\t\t\t\tupdateValue\r\n\t\t\t\t\t\t\t\t\t\t) => {\r\n\t\t\t\t\t\t\t\t\t\t\tif (Array.isArray(value)) {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<GridContainer spacing={2}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{value.map(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(entry, cursor) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclasses.valueChip\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tavatar={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Avatar\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"#cfd8dc\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttextColor=\"#000000\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tFilesHelper.fileType(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tentry.resolve\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) ===\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"image\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? AttachmentsService.getAttachmentFileUrl(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tentry.value\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  )\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: undefined\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{FilesHelper.fileIcon(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tentry.resolve\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Avatar>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tentry.resolve\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={e => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlet win = window.open(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tAttachmentsService.getAttachmentFileUrl(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tentry.value\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"_blank\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twin.focus();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"file-\" +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tentry.value\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</GridContainer>\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn value !== null &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue !== undefined ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tavatar={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Avatar\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"#cfd8dc\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttextColor=\"#000000\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tFilesHelper.fileType(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue.resolve\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) ===\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"image\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? AttachmentsService.getAttachmentFileUrl(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue.value\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  )\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: undefined\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{FilesHelper.fileIcon(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue.resolve\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Avatar>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={e => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlet win = window.open(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tAttachmentsService.getAttachmentFileUrl(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue.value\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"_blank\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twin.focus();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={value.resolve}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tdt_columns.push({\r\n\t\t\t\t\t\t\t\t\tname: name,\r\n\t\t\t\t\t\t\t\t\tlabel: field.label,\r\n\t\t\t\t\t\t\t\t\toptions: {\r\n\t\t\t\t\t\t\t\t\t\tfilter: field.possibilities\r\n\t\t\t\t\t\t\t\t\t\t\t? true\r\n\t\t\t\t\t\t\t\t\t\t\t: false,\r\n\t\t\t\t\t\t\t\t\t\tsort: true,\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t/*this.state.dt_columns = dt_columns;\r\n\t\t\tthis.state.records = [];\r\n\t\t\tthis.state.loading = false;*/\r\n\r\n\t\t\tthis.setState(\r\n\t\t\t\t{\r\n\t\t\t\t\tdefination: defination,\r\n\t\t\t\t\tservice: service,\r\n\t\t\t\t\tquery: query ? { ...query, p: 1 } : { p: 1 },\r\n\t\t\t\t\tdt_columns: dt_columns,\r\n\t\t\t\t\trecords: [],\r\n\t\t\t\t\tloading: false,\r\n\t\t\t\t},\r\n\t\t\t\tthis.loadData\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\tparseData(entry) {\r\n\t\tconst { defination, auth } = this.props;\r\n\t\tlet parsed_data = entry;\r\n\t\tlet columns = defination.scope.columns;\r\n\t\tparsed_data[\"entry\"] = entry;\r\n\t\tfor (let [field_name, field] of Object.entries(columns)) {\r\n\t\t\tif (field.input.type === \"date\") {\r\n\t\t\t\tif (entry[field_name]) {\r\n\t\t\t\t\tparsed_data[field_name] = new Date(\r\n\t\t\t\t\t\tentry[field_name]\r\n\t\t\t\t\t).format(formats.dateformats.date);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tparsed_data[field_name] = \"\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (field.input.type === \"datetime\" && entry[field_name]) {\r\n\t\t\t\tif (entry[field_name]) {\r\n\t\t\t\t\tparsed_data[field_name] = new Date(\r\n\t\t\t\t\t\tentry[field_name]\r\n\t\t\t\t\t).format(formats.dateformats.datetime);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tparsed_data[field_name] = \"\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (field.input.type === \"time\") {\r\n\t\t\t\tif (entry[field_name]) {\r\n\t\t\t\t\tparsed_data[field_name] = new Date(\r\n\t\t\t\t\t\tentry[field_name]\r\n\t\t\t\t\t).format(formats.dateformats.time);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tparsed_data[field_name] = \"\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (field.type === \"boolean\") {\r\n\t\t\t\tif (entry[field_name]) {\r\n\t\t\t\t\tparsed_data[field_name] = \"Yes\";\r\n\t\t\t\t} else {\r\n\t\t\t\t\tparsed_data[field_name] = \"No\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (JSON.isJSON(parsed_data[field_name]) && !field.reference) {\r\n\t\t\t\tparsed_data[field_name] = JSON.stringify(\r\n\t\t\t\t\tparsed_data[field_name]\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\tif (field.possibilities) {\r\n\t\t\t\tif (JSON.isJSON(field.possibilities)) {\r\n\t\t\t\t\tif (entry[field_name] in field.possibilities) {\r\n\t\t\t\t\t\tparsed_data[field_name] =\r\n\t\t\t\t\t\t\tfield.possibilities[entry[field_name]];\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (Function.isFunction(field.possibilities)) {\r\n\t\t\t\t\tlet possibilities_obj = field.possibilities(\r\n\t\t\t\t\t\tentry,\r\n\t\t\t\t\t\tauth.user\r\n\t\t\t\t\t);\r\n\t\t\t\t\tif (JSON.isJSON(possibilities_obj)) {\r\n\t\t\t\t\t\tif (entry[field_name] in possibilities_obj) {\r\n\t\t\t\t\t\t\tparsed_data[field_name] =\r\n\t\t\t\t\t\t\t\tpossibilities_obj[entry[field_name]];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn parsed_data;\r\n\t}\r\n\r\n\tloadData() {\r\n\t\tconst { auth, cache, defination, apiCallRequest, cache_data, onLoadData, load_data } = this.props;\r\n\t\tif (defination ) {\r\n\t\t\tif (load_data) {\r\n\t\t\t\tthis.setState({loading: true, load_error: false});\r\n\t\t\t\tapiCallRequest( defination.name,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\turi: defination.endpoint,\r\n\t\t\t\t\t\ttype: \"records\",\r\n\t\t\t\t\t\tparams: this.state.query,\r\n\t\t\t\t\t\tdata: {},\r\n\t\t\t\t\t\tcache: cache_data,\r\n\t\t\t\t\t}\r\n\t\t\t\t).then(data => {\r\n\t\t\t\t\tif (Function.isFunction(onLoadData)) {\r\n\t\t\t\t\t\tonLoadData(data, this.state.query);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.setState({loading: false});\r\n\t\t\t\t\tthis.prepareData(data);\r\n\t\t\t\t}).catch(e => {\r\n\t\t\t\t\tthis.setState(state => ({\r\n\t\t\t\t\t\trecords: [],\r\n\t\t\t\t\t\tload_error: e,\r\n\t\t\t\t\t\tloading: false,\r\n\t\t\t\t\t}));\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tlet data = Array.isArray(cache.data[defination.name])? cache.data[defination.name] : [];\r\n\t\t\t\tif (Function.isFunction(onLoadData)) {\r\n\t\t\t\t\tonLoadData(data, this.state.query);\r\n\t\t\t\t}\r\n\t\t\t\tthis.prepareData(data);\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.setState(state => ({\r\n\t\t\t\trecords: [],\r\n\t\t\t\tload_error: { msg: \"No Context defination or provided\" },\r\n\t\t\t\tloading: false,\r\n\t\t\t}));\r\n\t\t}\r\n\t}\r\n\r\n\tprepareData(data=null) {\r\n\t\tconst { auth, cache, defination } = this.props;\r\n\t\tlet target_data = Array.isArray(data)? data : (Array.isArray(cache.data[defination.name]) ? cache.data[defination.name] : []);\r\n\t\tlet columns = defination ? defination.scope.columns : {};\r\n\t\tlet resolved_data = [];\r\n\r\n\r\n\r\n\t\tif (Function.isFunction(defination.views.listing.tableview.resolveData)) {\r\n\t\t\tdefination.views.listing.tableview\r\n\t\t\t\t.resolveData(target_data, true)\r\n\t\t\t\t.then(resolve => {\r\n\t\t\t\t\tif (this.mounted) {\r\n\t\t\t\t\t\tthis.setState(state => ({\r\n\t\t\t\t\t\t\traw_data: target_data,\r\n\t\t\t\t\t\t\trecords: resolve,\r\n\t\t\t\t\t\t\tloading: false,\r\n\t\t\t\t\t\t}));\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.state.records = resolve;\r\n\t\t\t\t\t\tthis.state.loading = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch(e => {\r\n\t\t\t\t\tif (this.mounted) {\r\n\t\t\t\t\t\tthis.setState(state => ({\r\n\t\t\t\t\t\t\traw_data: [],\r\n\t\t\t\t\t\t\trecords: [],\r\n\t\t\t\t\t\t\tloading: false,\r\n\t\t\t\t\t\t}));\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.state.records = [];\r\n\t\t\t\t\t\tthis.state.loading = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t} else {\r\n\t\t\tresolved_data = ServiceDataHelper.resolveReferenceColumnsDisplays(\r\n\t\t\t\ttarget_data,\r\n\t\t\t\tcolumns,\r\n\t\t\t\tauth.user\r\n\t\t\t);\r\n\t\t\tlet that = this;\r\n\t\t\tlet all_records = resolved_data.map(entry => {\r\n\t\t\t\treturn that.parseData(entry);\r\n\t\t\t});\r\n\t\t\tthis.setState(state => ({ records: all_records }));\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes, defination, api, cache, actionsType } = this.props;\r\n\t\tconst table_options = {\r\n\t\t\tfilterType: \"dropdown\",\r\n\t\t\tfilter: true,\r\n\t\t\tdownloadOptions: {\r\n\t\t\t\tfilename:\r\n\t\t\t\t\t(defination ? defination.label : \"Records\") +\r\n\t\t\t\t\t\" - \" +\r\n\t\t\t\t\tnew Date().format(\"d M Y H:i:s A\") +\r\n\t\t\t\t\t\".csv\",\r\n\t\t\t\tseparator: \",\",\r\n\t\t\t},\r\n\t\t\tresizableColumns: false,\r\n\t\t\tselectableRows: \"none\",\r\n\t\t\tresponsive: \"scroll\",\r\n\t\t\tpagination: false,\r\n\t\t\trowHover: true,\r\n\t\t\t/*onCellClick: (colData, cellMeta) => {\r\n\t\t\t\tconsole.log(\"onCellClick colData\", colData);\r\n\t\t\t},\r\n\t\t\tsetRowProps: (row, dataIndex, rowIndex) => {\r\n\t\t\t\tconsole.log(\"setRowProps dataIndex\", dataIndex);\r\n\t\t\t\tlet rowProps = {};\r\n\t\t\t\tif (actionsType === \"context\") {\r\n\t\t\t\t\trowProps.onContextMenu = this.handleOnRowContextMenu(dataIndex);\r\n\t\t\t\t}\r\n\t\t\t\treturn rowProps;\r\n\t\t\t},*/\r\n\t\t\tcustomToolbarSelect: (selectedRows, displayData, setSelectedRows) => {\r\n\t\t\t\tconsole.log(\"customToolbarSelect selectedRows\", selectedRows);\r\n\t\t\t\tconsole.log(\"customToolbarSelect displayData\", displayData);\r\n\t\t\t}\r\n\t\t};\r\n\t\t/*if (actionsType === \"context\") {\r\n\t\t\ttable_options.customRowRender = (data, dataIndex, rowIndex) => {\r\n\t\t\t\t\t\tconsole.log(\"customRowRender data\", data);\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<TableRow key={\"row-\"+rowIndex} onContextMenu={ this.handleOnRowContextMenu(dataIndex) }>\r\n\t\t\t\t\t\t\t\t{data.map((value, index)=>(\r\n\t\t\t\t\t\t\t\t\t<TableCell \r\n\t\t\t\t\t\t\t\t\t\tkey={\"row-\"+rowIndex+\"-cell-\"+index}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{ value }\r\n\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t};\r\n\t\t}*/\r\n\t\treturn (\r\n\t\t\t<GridContainer className={classes.root}>\r\n\t\t\t\t<GridItem className=\"p-0 m-0\" xs={12}>\r\n\t\t\t\t\t{ this.state.loading && <GridContainer className={classes.full_height} justify=\"center\" alignItems=\"center\">\r\n\t\t\t\t\t\t\t\t<GridItem xs={12} className=\"flex relative flex-row\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"flex-grow\">\r\n\t\t\t\t\t\t\t\t\t\t<Skeleton variant=\"text\" width={150}/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"flex\">\r\n\t\t\t\t\t\t\t\t\t\t<Skeleton variant=\"circle\" width={32} height={32} className=\"float-right mx-2\"/>\r\n\t\t\t\t\t\t\t\t\t\t<Skeleton variant=\"circle\" width={32} height={32} className=\"float-right mx-2\"/>\r\n\t\t\t\t\t\t\t\t\t\t<Skeleton variant=\"circle\" width={32} height={32} className=\"float-right mx-2\"/>\r\n\t\t\t\t\t\t\t\t\t\t<Skeleton variant=\"circle\" width={32} height={32} className=\"float-right mx-2\"/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</GridItem>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<GridItem xs={12}>\r\n\t\t\t\t\t\t\t\t\t<Skeleton variant=\"rect\" width={\"100%\"} height={70} className=\"mt-2\"/>\r\n\t\t\t\t\t\t\t\t\t<Skeleton variant=\"rect\" width={\"100%\"} height={70} className=\"mt-2\"/>\r\n\t\t\t\t\t\t\t\t\t<Skeleton variant=\"rect\" width={\"100%\"} height={70} className=\"mt-2\"/>\r\n\t\t\t\t\t\t\t\t\t<Skeleton variant=\"rect\" width={\"100%\"} height={70} className=\"mt-2\"/>\r\n\t\t\t\t\t\t\t\t</GridItem>\r\n\t\t\t\t\t</GridContainer> }\r\n\r\n\t\t\t\t\t{(!this.state.loading && Array.isArray(this.state.records)) && <GridContainer className=\"p-0 m-0\">\r\n\t\t\t\t\t\t<GridContainer className=\"p-0 m-0\">\r\n\t\t\t\t\t\t\t<GridItem className=\"p-0 m-0\" xs={12}>\r\n\t\t\t\t\t\t\t\t{actionsType === \"context\" && <ClickAwayListener onContextMenu={this.handleOnRowContextMenuClose} onClickAway={this.handleOnRowContextMenuClose}>\r\n\t\t\t\t\t\t\t\t\t\t<Menu\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\topen={this.state.mouseY !== null}\r\n\t\t\t\t\t\t\t\t\t\t\tonClose={this.handleOnRowContextMenuClose}\r\n\t\t\t\t\t\t\t\t\t\t\tanchorReference=\"anchorPosition\"\r\n\t\t\t\t\t\t\t\t\t\t\tanchorPosition={ this.state.mouseY !== null && this.state.mouseX !== null? { top: this.state.mouseY, left: this.state.mouseX } : undefined }\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<MenuItem onClick={ this.handleOnRowContextMenuClose }>Copy</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t<MenuItem onClick={ this.handleOnRowContextMenuClose }>Print</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t<MenuItem onClick={ this.handleOnRowContextMenuClose }>Highlight</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t<MenuItem onClick={ this.handleOnRowContextMenuClose }>Email</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t</Menu>\r\n\t\t\t\t\t\t\t\t\t</ClickAwayListener>}\r\n\r\n\t\t\t\t\t\t\t\t{this.state.records.length > 0 ? (\r\n\t\t\t\t\t\t\t\t\t<MUIDataTable\r\n\t\t\t\t\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t\t\t\t\t(api.loading ? \"Loading \" : \"\") +\r\n\t\t\t\t\t\t\t\t\t\t\tdefination.label +\r\n\t\t\t\t\t\t\t\t\t\t\t(api.loading ? \"...\" : \"\")\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tdata={this.state.records}\r\n\t\t\t\t\t\t\t\t\t\tcolumns={this.state.dt_columns}\r\n\t\t\t\t\t\t\t\t\t\toptions={table_options}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<GridContainer\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"p-0 m-0\"\r\n\t\t\t\t\t\t\t\t\t\tjustify=\"center\"\r\n\t\t\t\t\t\t\t\t\t\talignItems=\"center\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\talt=\"Empty list\"\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.emptyImage}\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={EmptyStateImage}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.emptyText}\r\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"grey\"\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"body2\"\r\n\t\t\t\t\t\t\t\t\t\t\tcenter\r\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tNo{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t{defination.label\r\n\t\t\t\t\t\t\t\t\t\t\t\t? defination.label\r\n\t\t\t\t\t\t\t\t\t\t\t\t: \"Records\"}{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\tfound\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t</GridContainer>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</GridItem>\r\n\t\t\t\t\t\t</GridContainer>\r\n\t\t\t\t\t\t{(api ? api.busy && api.error : false) && (\r\n\t\t\t\t\t\t\t<GridContainer>\r\n\t\t\t\t\t\t\t\t<GridItem xs={12}>\r\n\t\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\tcolor=\"error\"\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"body2\"\r\n\t\t\t\t\t\t\t\t\t\tcenter\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{\"An error occured. \\n \" + api.error.msg +\" \\n Displaying cached data.\"}\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t</GridItem>\r\n\t\t\t\t\t\t\t</GridContainer>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</GridContainer> }\r\n\r\n\t\t\t\t</GridItem>\r\n\t\t\t</GridContainer>\r\n\t\t);\r\n\t}\r\n}\r\nTableView.propTypes = {\r\n\tclassName: PropTypes.string,\r\n\tclasses: PropTypes.object.isRequired,\r\n\tdefination: PropTypes.object.isRequired,\r\n\tservice: PropTypes.any.isRequired,\r\n\tshow_actions: PropTypes.bool,\r\n\tshow_links: PropTypes.bool,\r\n\tquery: PropTypes.object,\r\n\tcache_data: PropTypes.bool,\r\n\tload_data: PropTypes.bool,\r\n\tonLoadData: PropTypes.func,\r\n\t\r\n};\r\n\r\nTableView.defaultProps = {\r\n\tshow_actions: true,\r\n\tshow_links: true,\r\n\tquery: { p: 1 },\r\n\tcache_data: true,\r\n\tload_data: true,\r\n\tactionsType: \"inline\",\r\n};\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n\tauth: state.auth,\r\n\tcache: state.cache,\r\n\tapi:state.api,\r\n});\r\n\r\nexport default withErrorHandler(\r\n\tcompose(\r\n\t\twithStyles(styles),\r\n\t\twithGlobals,\r\n\t\tconnect(mapStateToProps, { openDialog, closeDialog, apiCallRequest })\r\n\t)(TableView)\r\n);\r\n","/** @format */\n\nexport default theme => ({\n\troot: {\n\t\tpadding: \"0\",\n\t},\n\tdata_actions_wrapper: {\n\t\tdisplay: \"inline-block\",\n\t\twhiteSpace: \"nowrap\",\n\t\t\"& > *\": {\n\t\t\tdisplay: \"inline-block\",\n\t\t\twhiteSpace: \"nowrap\",\n\t\t},\n\t},\n\tvalueChip: {\n\t\tmargin: theme.spacing(0.5),\n\t},\n\temptyImage: {\n\t\tmaxWidth: 200,\n\t\twidth: \"100%\",\n\t},\n\temptyText: {\n\t\tmarginTop: theme.spacing(3),\n\t},\n});\n","/** @format */\r\n\r\nimport Button from \"@material-ui/core/Button\";\r\nimport ButtonGroup from \"@material-ui/core/ButtonGroup\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\n//\r\nimport GridContainer from \"components/Grid/GridContainer\";\r\nimport GridItem from \"components/Grid/GridItem\";\r\nimport Typography from \"components/Typography\";\r\nimport PropTypes from \"prop-types\";\r\nimport React, {useEffect} from \"react\";\r\n//Redux imports\r\nimport { connect } from \"react-redux\";\r\nimport compose from \"recompose/compose\";\r\nimport Pagination from '@material-ui/lab/Pagination';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\nimport Accordion from '@material-ui/core/Accordion';\r\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\r\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\r\nimport AccordionActions from '@material-ui/core/AccordionActions';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FirstPageIcon from '@material-ui/icons/FirstPage';\r\nimport KeyboardArrowLeft from '@material-ui/icons/KeyboardArrowLeft';\r\nimport KeyboardArrowRight from '@material-ui/icons/KeyboardArrowRight';\r\nimport LastPageIcon from '@material-ui/icons/LastPage';\r\nimport { useTheme } from '@material-ui/core/styles';\r\nimport {\r\n\tTextInput\r\n} from \"components/FormInputs\";\r\nimport InputBase from '@material-ui/core/InputBase';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport ExpandLessIcon from '@material-ui/icons/ExpandLess';\r\nimport FilterListIcon from '@material-ui/icons/FilterList';\r\nimport CalendarView from \"./CalendarView\";\r\nimport GoogleMapView from \"./GoogleMapView\";\r\nimport GoogleMapOverview from \"views/widgets/Overview/GoogleMapOverview\";\r\nimport ListView from \"./ListView\";\r\nimport Chip from '@material-ui/core/Chip';\r\nimport ContextDataForm from \"views/forms/BaseForm\";\r\nimport { withErrorHandler } from \"hoc/ErrorHandler\";\r\n//\r\nimport styles from \"./styles\";\r\n//\r\nimport TableView from \"./TableView\";\r\n\r\nfunction TablePaginationActions(props) {\r\n\tconst theme = useTheme();\r\n\tconst { count, page, rowsPerPage, onChangePage } = props;\r\n\r\n\t\r\n\tconst handleFirstPageButtonClick = (event) => {\r\n\t\tonChangePage(event, 0);\r\n\t};\r\n\r\n\tconst handleBackButtonClick = (event) => {\r\n\t\tonChangePage(event, page - 1);\r\n\t};\r\n\r\n\tconst handleNextButtonClick = (event) => {\r\n\t\tonChangePage(event, page + 1);\r\n\t};\r\n\r\n\tconst handleLastPageButtonClick = (event) => {\r\n\t\tonChangePage(event, Math.max(0, Math.ceil(count / rowsPerPage) - 1));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={\"ml-2 flex-shrink-0\"}>\r\n\t\t\t<IconButton\r\n\t\t\t\tonClick={handleFirstPageButtonClick}\r\n\t\t\t\tdisabled={page === 0}\r\n\t\t\t\taria-label=\"first page\"\r\n\t\t\t>\r\n\t\t\t\t{theme.direction === 'rtl' ? <LastPageIcon /> : <FirstPageIcon />}\r\n\t\t\t</IconButton>\r\n\t\t\t<IconButton onClick={handleBackButtonClick} disabled={page === 0} aria-label=\"previous page\">\r\n\t\t\t\t{theme.direction === 'rtl' ? <KeyboardArrowRight /> : <KeyboardArrowLeft />}\r\n\t\t\t</IconButton>\r\n\t\t\t<IconButton\r\n\t\t\t\tonClick={handleNextButtonClick}\r\n\t\t\t\tdisabled={page >= Math.ceil(count / rowsPerPage) - 1}\r\n\t\t\t\taria-label=\"next page\"\r\n\t\t\t>\r\n\t\t\t\t{theme.direction === 'rtl' ? <KeyboardArrowLeft /> : <KeyboardArrowRight />}\r\n\t\t\t</IconButton>\r\n\t\t\t<IconButton\r\n\t\t\t\tonClick={handleLastPageButtonClick}\r\n\t\t\t\tdisabled={page >= Math.ceil(count / rowsPerPage) - 1}\r\n\t\t\t\taria-label=\"last page\"\r\n\t\t\t>\r\n\t\t\t\t{theme.direction === 'rtl' ? <FirstPageIcon /> : <LastPageIcon />}\r\n\t\t\t</IconButton>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nTablePaginationActions.propTypes = {\r\n\tcount: PropTypes.number.isRequired,\r\n\tonChangePage: PropTypes.func.isRequired,\r\n\tpage: PropTypes.number.isRequired,\r\n\trowsPerPage: PropTypes.number.isRequired,\r\n};\r\n\r\n\r\nclass ListingView extends React.Component {\r\n\tstate = {\r\n\t\tdefination: null,\r\n\t\tservice: null,\r\n\t\tview: \"tableview\",\r\n\t\tviews: {},\r\n\t\tshowViewOptions: true,\r\n\t\tshowAddBtn: true,\r\n\t\tsearchKeyword: \"\",\r\n\t\tquery: {},\r\n\t\tpages: 10,\r\n\t\tpage: 1,\r\n\t\tviewMenuAnchorEl: null,\r\n\t\tsortFields: [],\r\n\t\tfilterAccordionExpanded: false,\r\n\t\tfilterableFields: {},\r\n\t\tfilterContext: false,\r\n\t\tfilterMenuAnchor: null,\r\n\t\tfilters: {\r\n\t\t\tvalues: {},\r\n\t\t\tlabels: {},\r\n\t\t}\r\n\t};\r\n\tmounted = false;\r\n\tsearchkeywordRef = React.createRef();\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tconst { defination, service, query, cache, app } = props;\r\n\t\tthis.state.defination = defination;\r\n\t\tthis.state.service = service;\r\n\t\tthis.state.query = query ? { \r\n\t\t\t...query, \r\n\t\t\tp: 1, \r\n\t\t\tpagination: ('rpp' in query? query['rpp'] : ('pagination' in query? query['pagination'] : app.preferences.data.pagination)), \r\n\t\t\tpage: ('pg' in query? query['pg'] : ('page' in query? query['page'] : 1)), \r\n\t\t} : { \r\n\t\t\tp: 1, \r\n\t\t\tpagination: ('rpp' in query? query['rpp'] : ('pagination' in query? query['pagination'] : app.preferences.data.pagination)), \r\n\t\t\tpage: ('pg' in query? query['pg'] : ('page' in query? query['page'] : 1)), \r\n\t\t};\r\n\r\n\t\tlet filterableFields = {};\r\n\t\t\tlet filterContext = false;\r\n\t\t\tlet searchKeyword = \"\";\r\n\t\t\tObject.entries(defination.scope.columns).map(([column_name, column_props], cursor) => {\r\n\t\t\t\tif (![\"file\", \"dynamic\", \"textarea\", \"password\", \"wysiwyg\", \"map\", \"file\", \"slider\", \"multiselect\"].includes(column_props.input.type)) {\r\n\t\t\t\t\tfilterableFields[column_name] = column_props;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tif (JSON.isJSON(query)) {\r\n\t\t\t\tlet filterContextMatched = false;\r\n\t\t\t\tlet filterableColumns = Object.keys(filterableFields);\r\n\t\t\t\tObject.entries(query).map(([queryColumn, queryValue]) => {\r\n\t\t\t\t\tif (!filterContextMatched && filterableColumns.includes(queryColumn)) {\r\n\t\t\t\t\t\tfilterContext = queryColumn;\r\n\t\t\t\t\t\tsearchKeyword = queryValue;\r\n\t\t\t\t\t\tif (String.isString(queryValue)) {\r\n\t\t\t\t\t\t\tsearchKeyword = queryValue;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\tsearchKeyword = String(queryValue);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfilterContextMatched = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\r\n\t\t\t}\r\n\t\t\r\n\t\tif (!filterContext && (query.q || query.query)) {\r\n\t\t\tif (query.q) {\r\n\t\t\t\tthis.state.searchKeyword = query.q;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.state.searchKeyword = query.query;\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.state.searchKeyword = searchKeyword;\r\n\t\t\tthis.state.filterContext = filterContext;\r\n\t\t}\r\n\r\n\r\n\t\tthis.handleViewItemClick = this.handleViewItemClick.bind(this);\r\n\t\tthis.handleOnPageChanged = this.handleOnPageChanged.bind(this);\r\n\r\n\t\tthis.handleOnRecordsPerPageChanged = this.handleOnRecordsPerPageChanged.bind(this);\r\n\t}\r\n\r\n\t\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.mounted = true;\r\n\t\tthis.prepareForRender();\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tthis.mounted = false;\r\n\t}\r\n\r\n\tgetSnapshotBeforeUpdate(prevProps) {\r\n\t\tthis.mounted = false;\r\n\t\treturn {\r\n\t\t\tprepareForRenderRequired: !Object.areEqual(prevProps.query, this.props.query),\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps, prevState, snapshot) {\r\n\t\tthis.mounted = true;\r\n\t\tif (snapshot.prepareForRenderRequired) {\r\n\t\t\tthis.prepareForRender();\r\n\t\t}\r\n\t}\r\n\r\n\thandleViewItemClick = name => event => {\r\n\t\tif (this.mounted) {\r\n\t\t\tthis.setState({ view: name, viewMenuAnchorEl: null });\r\n\t\t} else {\r\n\t\t\tthis.state.view = name;\r\n\t\t\tthis.state.viewMenuAnchorEl = null;\r\n\t\t}\r\n\t};\r\n\r\n\thandleShowViewsMenu = event => {\r\n\t\tconst viewMenuAnchorEl = event.currentTarget;\r\n\t\tif (this.mounted) {\r\n\t\t\tthis.setState({ viewMenuAnchorEl: viewMenuAnchorEl });\r\n\t\t} else {\r\n\t\t\tthis.state.viewMenuAnchorEl = viewMenuAnchorEl;\r\n\t\t}\r\n\t};\r\n\r\n\thandleCloseViewsMenu = () => {\r\n\t\tif (this.mounted) {\r\n\t\t\tthis.setState({ viewMenuAnchorEl: null });\r\n\t\t} else {\r\n\t\t\tthis.state.viewMenuAnchorEl = null;\r\n\t\t}\r\n\t};\r\n\r\n\thandleOnPageChanged = (event, page) => {\r\n\t\tthis.setState(prevState => ({ \r\n\t\t\t\tpage: page+1,\r\n\t\t\t\tquery: {\r\n\t\t\t\t\t...prevState.query,\r\n\t\t\t\t\tpage: page+1\r\n\t\t\t\t},\r\n\t\t\t\tviewMenuAnchorEl: null\r\n\t\t\t}));\r\n\t};\r\n\r\n\thandleOnRecordsPerPageChanged = (event) => {\r\n\t\tconst pagination = Number.parseNumber(event.target.value, this.state.query.pagination);\r\n\t\tthis.setState(prevState => ({ \r\n\t\t\t\tpage: 1,\r\n\t\t\t\tquery: {\r\n\t\t\t\t\t...prevState.query,\r\n\t\t\t\t\tpagination: pagination\r\n\t\t\t\t}\r\n\t\t\t}));\r\n\t};\r\n\r\n\r\n\tasync prepareForRender() {\r\n\t\tconst { defination, service, query, view, showViewOptions, showAddBtn, app } = this.props;\r\n\t\tif (defination && service) {\r\n\t\t\tlet all_views = {\r\n\t\t\t\ttableview: \"Table View\",\r\n\t\t\t\tlistview: \"List View\",\r\n\t\t\t\tgooglemapview: \"Map View\",\r\n\t\t\t\tvectormapview: \"Vector Map View\",\r\n\t\t\t\tcalendarview: \"Calendar View\",\r\n\t\t\t};\r\n\t\t\tlet views = {};\r\n\t\t\tlet default_view = \"tableview\";\r\n\t\t\tif (defination.views.listing.default in all_views) {\r\n\t\t\t\tdefault_view = defination.views.listing.default;\r\n\t\t\t}\r\n\t\t\tfor (let [name, label] of Object.entries(all_views)) {\r\n\t\t\t\tif (name in defination.views.listing) {\r\n\t\t\t\t\tviews[name] = label;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tlet filterableFields = {};\r\n\t\t\tlet filterContext = false;\r\n\t\t\tlet searchKeyword = \"\";\r\n\t\t\tObject.entries(defination.scope.columns).map(([column_name, column_props], cursor) => {\r\n\t\t\t\tif (![\"file\", \"dynamic\", \"textarea\", \"password\", \"wysiwyg\", \"map\", \"file\", \"slider\", \"multiselect\"].includes(column_props.input.type)) {\r\n\t\t\t\t\tfilterableFields[column_name] = column_props;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tif (JSON.isJSON(query)) {\r\n\t\t\t\tlet filterContextMatched = false;\r\n\t\t\t\tlet filterableColumns = Object.keys(filterableFields);\r\n\t\t\t\tObject.entries(query).map(([queryColumn, queryValue]) => {\r\n\t\t\t\t\tif (!filterContextMatched && filterableColumns.includes(queryColumn)) {\r\n\t\t\t\t\t\tfilterContext = queryColumn;\r\n\t\t\t\t\t\tsearchKeyword = queryValue;\r\n\t\t\t\t\t\tif (String.isString(queryValue)) {\r\n\t\t\t\t\t\t\tsearchKeyword = queryValue;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\tsearchKeyword = String(queryValue);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfilterContextMatched = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\r\n\t\t\t}\r\n\t\t\tconsole.log(\"this.searchkeywordRef\", \"this.searchkeywordRef\")\r\n\t\t\tif (this.mounted) {\r\n\t\t\t\tthis.setState(state => ({\r\n\t\t\t\t\tdefination: defination,\r\n\t\t\t\t\tservice: service,\r\n\t\t\t\t\tquery: query ? { \r\n\t\t\t\t\t\t...query, \r\n\t\t\t\t\t\tp: 1,\r\n\t\t\t\t\t\tpagination: ('rpp' in query? query['rpp'] : ('pagination' in query? query['pagination'] : app.preferences.data.pagination)), \r\n\t\t\t\t\t\tpage: ('pg' in query? query['pg'] : ('page' in query? query['page'] : 1)), \r\n\t\t\t\t\t} : { \r\n\t\t\t\t\t\tp: 1,\r\n\t\t\t\t\t\tpagination: ('rpp' in query? query['rpp'] : ('pagination' in query? query['pagination'] : app.preferences.data.pagination)), \r\n\t\t\t\t\t\tpage: ('pg' in query? query['pg'] : ('page' in query? query['page'] : 1)), \r\n\t\t\t\t\t},\r\n\t\t\t\t\tviews: views,\r\n\t\t\t\t\tview: view ? view : default_view,\r\n\t\t\t\t\tshowViewOptions: showViewOptions,\r\n\t\t\t\t\tshowAddBtn: showAddBtn,\r\n\t\t\t\t\tfilterableFields: filterableFields,\r\n\t\t\t\t\tsearchKeyword: searchKeyword,\r\n\t\t\t\t\tfilterContext: filterContext,\r\n\r\n\t\t\t\t}));\r\n\t\t\t} else {\r\n\t\t\t\tthis.state = {\r\n\t\t\t\t\t...this.state,\r\n\t\t\t\t\tdefination: defination,\r\n\t\t\t\t\tservice: service,\r\n\t\t\t\t\tquery: query ? { \r\n\t\t\t\t\t\t...query, \r\n\t\t\t\t\t\tp: 1,\r\n\t\t\t\t\t\tpagination: ('rpp' in query? query['rpp'] : ('pagination' in query? query['pagination'] : app.preferences.data.pagination)), \r\n\t\t\t\t\t\tpage: ('pg' in query? query['pg'] : ('page' in query? query['page'] : 1)), \r\n\t\t\t\t\t} : { \r\n\t\t\t\t\t\tp: 1,\r\n\t\t\t\t\t\tpagination: ('rpp' in query? query['rpp'] : ('pagination' in query? query['pagination'] : app.preferences.data.pagination)), \r\n\t\t\t\t\t\tpage: ('pg' in query? query['pg'] : ('page' in query? query['page'] : 1)), \r\n\t\t\t\t\t},\r\n\t\t\t\t\tviews: views,\r\n\t\t\t\t\tview: view ? view : default_view,\r\n\t\t\t\t\tshowViewOptions: showViewOptions,\r\n\t\t\t\t\tshowAddBtn: showAddBtn,\r\n\t\t\t\t\tfilterableFields: filterableFields,\r\n\t\t\t\t\tsearchKeyword: searchKeyword,\r\n\t\t\t\t\tfilterContext: filterContext,\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes, auth, query, defination, service, cache, api, showPagination, showSorter, cache_data, onLoadData, load_data, onClickEntry, sorterFormLayoutType } = this.props;\r\n\t\tconst { view } = this.state;\r\n\t\treturn (\r\n\t\t\t<GridContainer className=\"p-0 m-0\">\r\n\t\t\t\t<GridContainer className=\"p-0 m-0\">\r\n\t\t\t\t\t{this.state.showViewOptions && (\r\n\t\t\t\t\t\t<GridItem sm={12} md={8}>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t{Object.entries(this.state.views).map(\r\n\t\t\t\t\t\t\t\t\t([name, label], index) => (\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tcolor={\"primary\"}\r\n\t\t\t\t\t\t\t\t\t\t\tvariant={name === view? \"contained\" : \"text\"}\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={(event) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(name);\r\n\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({ view: name, viewMenuAnchorEl: null });\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\tkey={\"btn-view-\"+name}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{label}\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</GridItem>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{this.state.showAddBtn &&\r\n\t\t\t\t\t\tdefination &&\r\n\t\t\t\t\t\t!defination.access.actions.create.restricted(\r\n\t\t\t\t\t\t\tauth.user\r\n\t\t\t\t\t\t) && (\r\n\t\t\t\t\t\t\t<GridItem\r\n\t\t\t\t\t\t\t\tsm={12}\r\n\t\t\t\t\t\t\t\tmd={this.state.showViewOptions ? 4 : 12}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{defination.access.actions.create.link.inline.default(\r\n\t\t\t\t\t\t\t\t\t{ className: \"float-right\" }\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</GridItem>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t</GridContainer>\r\n\r\n\t\t\t\t<GridContainer className=\"p-1 m-0\">\r\n\t\t\t\t\t{ (showSorter && view !== \"googlemapview\") && <GridItem xs={12} className=\"p-0 m-0 mb-2\" >\r\n\t\t\t\t\t\t<GridContainer className=\"p-0 m-0\">\r\n\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\t<GridItem xs={12} className={\"p-0\"}>\r\n\t\t\t\t\t\t\t\t<Accordion \r\n\t\t\t\t\t\t\t\t\texpanded={this.state.filterAccordionExpanded}\r\n\t\t\t\t\t\t\t\t\tclassName=\"p-0\"\r\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{/*<AccordionSummary\r\n\t\t\t\t\t\t\t\t\t\texpandIcon={this.state.filterAccordionExpanded? <ExpandLessIcon /> : <FilterListIcon />}\r\n\t\t\t\t\t\t\t\t\t\taria-controls=\"filter-panel1c-content\"\r\n\t\t\t\t\t\t\t\t\t\tid=\"filter-panel1c-header\"\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"flex m-0 p-0 flex-grow\"\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t>*/}\r\n\t\t\t\t\t\t\t\t\t<Paper \r\n\t\t\t\t\t\t\t\t\t\tcomponent=\"form\" \r\n\t\t\t\t\t\t\t\t\t\televation={0}\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.searchRoot} \r\n\t\t\t\t\t\t\t\t\t\tonSubmit={event => {\r\n\t\t\t\t\t\t\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\t\tthis.setState(prevState => ({\r\n\t\t\t\t\t\t\t\t\t\t\t\tquery: prevState.filterContext? {...prevState.query, [prevState.filterContext]: prevState.searchKeyword} : {...prevState.query, q: prevState.searchKeyword}\r\n\t\t\t\t\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(\"Search submit searchKeyword\", this.state.searchKeyword)\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{!this.state.filterContext && <IconButton \r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.filterIconButton} \r\n\t\t\t\t\t\t\t\t\t\t\taria-label=\"Filter\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={(event)=>{\r\n\t\t\t\t\t\t\t\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({filterMenuAnchor: event.currentTarget});\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<MenuIcon />\r\n\t\t\t\t\t\t\t\t\t\t</IconButton>}\r\n\t\t\t\t\t\t\t\t\t\t{(this.state.filterContext && this.state.filterableFields[this.state.filterContext])&& <Button  \r\n\t\t\t\t\t\t\t\t\t\t\taria-label=\"Filter\"\r\n\t\t\t\t\t\t\t\t\t\t\tsize={\"small\"}\r\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={(event)=>{\r\n\t\t\t\t\t\t\t\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({filterMenuAnchor: event.currentTarget});\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{Function.isFunction(this.state.filterableFields[this.state.filterContext].label)? this.state.filterContext.humanize() : this.state.filterableFields[this.state.filterContext].label}\r\n\t\t\t\t\t\t\t\t\t\t</Button>}\r\n\t\t\t\t\t\t\t\t\t\t<Menu\r\n\t\t\t\t\t\t\t\t\t        id=\"filter-fields-menu\"\r\n\t\t\t\t\t\t\t\t\t        anchorEl={this.state.filterMenuAnchor}\r\n\t\t\t\t\t\t\t\t\t        keepMounted\r\n\t\t\t\t\t\t\t\t\t        open={Boolean(this.state.filterMenuAnchor)}\r\n\t\t\t\t\t\t\t\t\t        onClose={() => this.setState({filterMenuAnchor: null})}\r\n\t\t\t\t\t\t\t\t\t    >\r\n\t\t\t\t\t\t\t\t\t    \t\r\n\r\n\t\t\t\t\t\t\t\t\t        {Object.entries(this.state.filterableFields).map(([filterableField, filterableFieldProps], cursor) => (\r\n\t\t\t\t\t\t\t\t\t        \t<MenuItem \r\n\t\t\t\t\t\t\t\t\t        \t\tonClick={()=> {\r\n\t\t\t\t\t\t\t\t\t        \t\t\tthis.setState({filterContext: (this.state.filterContext === filterableField? false : filterableField), filterMenuAnchor: null});\t\t\t\t\t\t\t\t\t        \t\t\t\r\n\t\t\t\t\t\t\t\t\t        \t\t}}\r\n\t\t\t\t\t\t\t\t\t        \t>\r\n\t\t\t\t\t\t\t\t\t        \t\t{Function.isFunction(filterableFieldProps.label)? filterableField.humanize() : filterableFieldProps.label}\r\n\t\t\t\t\t\t\t\t\t        \t</MenuItem>\r\n\t\t\t\t\t\t\t\t\t        ))}\r\n\t\t\t\t\t\t\t\t\t    </Menu>\r\n\t\t\t\t\t\t\t\t\t\t<TextInput\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.searchInput}\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Search...\"\r\n\t\t\t\t\t\t\t\t\t\t\tinputProps={{ 'aria-label': 'Search' }}\r\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue={this.state.searchKeyword}\r\n\t\t\t\t\t\t\t\t\t\t\tonFocus={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (!this.state.filterAccordionExpanded) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({ filterAccordionExpanded: true });\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={newKeyword => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tthis.setState(prevState=>{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlet newState = { searchKeyword: newKeyword };\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (prevState.query) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (prevState.query.q) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlet newQuery = JSON.fromJSON(prevState.query);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdelete newQuery[\"q\"];\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnewState.query = newQuery;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn newState;\r\n\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\tvariant={\"base\"}\r\n\t\t\t\t\t\t\t\t\t\t\tref={ref => (this.searchkeywordRef = ref)}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<IconButton \r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"submit\" className={classes.searchIconButton} aria-label=\"search\">\r\n\t\t\t\t\t\t\t\t\t\t\t<SearchIcon />\r\n\t\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t{/*</AccordionSummary>*/}\r\n\t\t\t\t\t\t\t\t\t<AccordionDetails className={\"p-0\"}>\r\n\t\t\t\t\t\t\t\t\t\t\t{ Object.keys(this.state.filters.values).length > 0 && <GridContainer className=\"m-0\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{Object.entries(this.state.filters.labels).map(([filter_name, filter_label], cursor) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Chip \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"mx-1 my-1 max-w-xs\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={(String.isString(defination.scope.columns[filter_name].label)? (defination.scope.columns[filter_name].label+\" : \") : \"\")+filter_label} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{maxWidth: 180}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={\"filter-chip-\"+cursor}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t</GridContainer>}\r\n\t\t\t\t\t\t\t\t\t</AccordionDetails>\r\n\t\t\t\t\t\t\t\t</Accordion>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</GridItem>\r\n\t\t\t\t\t\t</GridContainer>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</GridItem>}\r\n\t\t\t\t\t\r\n\t\t\t\t\t<GridItem xs={12} className=\"p-0 m-0\">\r\n\t\t\t\t\t\t{view == \"tableview\" && <TableView\r\n\t\t\t\t\t\t\t\tdefination={defination}\r\n\t\t\t\t\t\t\t\tservice={this.state.service}\r\n\t\t\t\t\t\t\t\tquery={this.state.query}\r\n\t\t\t\t\t\t\t\tcache_data={cache_data}\r\n\t\t\t\t\t\t\t\tload_data={load_data}\r\n\t\t\t\t\t\t\t\tonLoadData={onLoadData}\r\n\t\t\t\t\t\t\t\tonClickEntry={onClickEntry}\r\n\t\t\t\t\t\t/>}\r\n\r\n\t\t\t\t\t\t{view === \"googlemapview\" && (\r\n\t\t\t\t\t\t\t<GoogleMapOverview\r\n\t\t\t\t\t\t\t\tcontext={defination.name}\r\n\t\t\t\t\t\t\t\tservice={this.state.service}\r\n\t\t\t\t\t\t\t\tquery={this.state.query}\r\n\t\t\t\t\t\t\t\tcache_data={cache_data}\r\n\t\t\t\t\t\t\t\tload_data={load_data}\r\n\t\t\t\t\t\t\t\tonLoadData={onLoadData}\r\n\t\t\t\t\t\t\t\tonClickEntry={onClickEntry}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{view === \"calendarview\" && (\r\n\t\t\t\t\t\t\t<CalendarView\r\n\t\t\t\t\t\t\t\tdefination={defination}\r\n\t\t\t\t\t\t\t\tservice={this.state.service}\r\n\t\t\t\t\t\t\t\tquery={this.state.query}\r\n\t\t\t\t\t\t\t\tcache_data={cache_data}\r\n\t\t\t\t\t\t\t\tload_data={load_data}\r\n\t\t\t\t\t\t\t\tonLoadData={onLoadData}\r\n\t\t\t\t\t\t\t\tonClickEntry={onClickEntry}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t{view === \"listview\" && (\r\n\t\t\t\t\t\t\t<ListView\r\n\t\t\t\t\t\t\t\tdefination={defination}\r\n\t\t\t\t\t\t\t\tservice={this.state.service}\r\n\t\t\t\t\t\t\t\tquery={this.state.query}\r\n\t\t\t\t\t\t\t\tcache_data={cache_data}\r\n\t\t\t\t\t\t\t\tload_data={load_data}\r\n\t\t\t\t\t\t\t\tonLoadData={onLoadData}\r\n\t\t\t\t\t\t\t\tonClickEntry={onClickEntry}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</GridItem>\r\n\r\n\t\t\t\t</GridContainer>\r\n\r\n\t\t\t\t{ (showPagination && view != \"googlemapview\") && <GridContainer className=\"p-0 m-0 mb-4\">\r\n\t\t\t\t\t<GridItem xs={12} className=\"p-2 flex items-center justify-center\">\r\n\t\t\t\t\t\t<TablePagination \r\n\t\t\t\t\t\t\tcount={defination.name in cache.res? cache.res[defination.name].count : 1}\r\n\t\t\t\t\t\t\tpage={defination.name in cache.res? cache.res[defination.name].page-1 : this.state.page-1}\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\trowsPerPage={this.state.query.pagination}\r\n\t\t\t\t\t\t\tonChangePage={this.handleOnPageChanged}\r\n\t\t\t\t\t\t\tlabelRowsPerPage={\"Records per page\"}\r\n\t\t\t\t\t\t\trowsPerPageOptions={[5, 10, 25, 50, 100, { value: -1, label: 'All' }]}\r\n\t\t\t\t\t\t\tonChangeRowsPerPage={this.handleOnRecordsPerPageChanged}\r\n\t\t\t\t\t\t\tActionsComponent={TablePaginationActions}\r\n\t\t\t\t\t\t\tSelectProps={{\r\n\t\t\t\t\t\t\t\tlabel: \"Records per page\",\r\n\t\t\t\t\t\t\t\tvariant: \"outlined\",\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\t\t\ttoolbar: \"flex-col-reverse px-2\",\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</GridItem>\r\n\t\t\t\t</GridContainer> }\r\n\t\t\t</GridContainer>\r\n\t\t);\r\n\t}\r\n}\r\nListingView.propTypes = {\r\n\tclassName: PropTypes.string,\r\n\tclasses: PropTypes.object.isRequired,\r\n\tdefination: PropTypes.object.isRequired,\r\n\tservice: PropTypes.any.isRequired,\r\n\tview: PropTypes.string,\r\n\tquery: PropTypes.object,\r\n\tshowViewOptions: PropTypes.bool,\r\n\tshow_actions: PropTypes.bool,\r\n\tshow_links: PropTypes.bool,\r\n\tshowAddBtn: PropTypes.bool,\r\n\tshowSorter: PropTypes.bool,\r\n\tsorterFormLayoutType: PropTypes.string,\r\n\tshowPagination: PropTypes.bool,\r\n\tcache_data: PropTypes.bool,\r\n\tload_data: PropTypes.bool,\r\n\tonLoadData: PropTypes.func,\r\n\tonClickEntry: PropTypes.func,\r\n};\r\n\r\nListingView.defaultProps = {\r\n\tshow_actions: true,\r\n\tshow_links: true,\r\n\tshowViewOptions: true,\r\n\tshowAddBtn: true,\r\n\tshowPagination: true,\r\n\tshowSorter: true,\r\n\tsorterFormLayoutType: \"inline\",\r\n\tquery: {},\r\n\tload_data: true,\r\n\tcache_data: true,\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n\tauth: state.auth,\r\n\tcache: state.cache,\r\n\tapi: state.api,\r\n\tapp: state.app,\r\n});\r\n\r\nexport default compose(\r\n\twithStyles(styles),\r\n\tconnect(mapStateToProps, {}),\r\n\twithErrorHandler\r\n)(ListingView);\r\n","/** @format */\r\n\r\nimport { colors } from \"assets/jss/app-theme\";\r\n\r\nexport default theme => ({\r\n\troot: {\r\n\t\tpadding: theme.spacing(),\r\n\t\tbackgroundColor: theme.palette.background.paper,\r\n\t},\r\n\tcalendar: {\r\n\t\tborderRight: \"1px solid rgba(\" + colors.rgb.grey + \", 0.5) !important\",\r\n\t\tborderLeft: \"1px solid rgba(\" + colors.rgb.grey + \", 0.5) !important\",\r\n\t},\r\n\tactiveVieBtn: {\r\n\t\tbackground: colors.hex.primary,\r\n\t\tcolor: colors.hex.inverse,\r\n\t\tborder: \"1px solid\" + colors.hex.primary,\r\n\t},\r\n\tviewBtnGroup: {\r\n\t\tposition: \"absolute !important\",\r\n\t\tright: theme.spacing(),\r\n\t},\r\n\tsearchRoot: {\r\n\t\tpadding: '2px 4px',\r\n\t\tdisplay: 'flex',\r\n\t\talignItems: 'center',\r\n\t\twidth: \"100%\",\r\n\t\tmargin: 0,\r\n\t},\r\n\tsearchInput: {\r\n\t\tmarginLeft: theme.spacing(1),\r\n\t\tflex: 1,\r\n\t},\r\n\tsearchIconButton: {\r\n\t\tpadding: 10,\r\n\t},\r\n\tsearchDivider: {\r\n\t\theight: 28,\r\n\t\tmargin: 4,\r\n\t},\r\n});\r\n","/** @format */\r\n\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport classNames from \"classnames\";\r\nimport Menu from \"@material-ui/core/Menu\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\n\r\nimport SwipeableDrawer from '@material-ui/core/SwipeableDrawer';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Icon from '@mdi/react'\r\nimport { mdiMapMarkerMultiple, mdiMapMarkerMultipleOutline, mdiMapMarkerOff, mdiForwardburger, mdiTooltipAccount as clientPositionMarkerPath, mdiAccountCircleOutline, mdiFolderOutline } from '@mdi/js';\r\nimport MenuOpenIcon from '@material-ui/icons/MenuOpen';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport ImageIcon from '@material-ui/icons/Image';\r\nimport { colors } from \"assets/jss/app-theme\";\r\nimport Avatar from \"components/Avatar\";\r\nimport Card from \"components/Card\";\r\nimport CardActions from \"components/Card/CardActions\";\r\nimport CardContent from \"components/Card/CardContent\";\r\nimport CardHeader from \"components/Card/CardHeader\";\r\nimport Chip from \"@material-ui/core/Chip\";\r\nimport GridContainer from \"components/Grid/GridContainer\";\r\nimport GridItem from \"components/Grid/GridItem\";\r\nimport Typography from \"components/Typography\";\r\nimport BottomNavigation from '@material-ui/core/BottomNavigation';\r\nimport BottomNavigationAction from '@material-ui/core/BottomNavigationAction';\r\nimport { withTheme } from '@material-ui/core/styles';\r\nimport MapOutlinedIcon from '@material-ui/icons/MapOutlined';\r\nimport PeopleIcon from '@material-ui/icons/People';\r\nimport PersonOutlinedIcon from \"@material-ui/icons/PersonOutlined\";\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { apiCallRequest, closeDialog, openDialog } from \"state/actions\";\r\nimport {withGlobals} from \"contexts/Globals\";\r\nimport Pagination from '@material-ui/lab/Pagination';\r\nimport compose from \"recompose/compose\";\r\nimport GoogleMap from \"components/GoogleMap\";\r\nimport GoogleMapView from \"views/widgets/Listings/GoogleMapView\";\r\nimport Listings from \"views/widgets/Listings\";\r\nimport { SwitchInput } from \"components/FormInputs\";\r\nimport {withErrorHandler} from \"hoc/ErrorHandler\";\r\nimport client_user_female_icon from \"assets/img/maps/marker-person-female.png\";\r\nimport client_user_male_icon from \"assets/img/maps/marker-person-male.png\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./styles\";\r\n\r\n\r\nlet googleMap = false;\r\n\r\nlet commission_status_colors = {\r\n\tscheduled: \"#880e4f\",\r\n\tongoing: \"#e65100\",\r\n\tcomplete: \"#4caf50\",\r\n\tcancelled: \"#b71c1c\",\r\n};\r\n\r\nlet track_timetype_colors = {\r\n\tlive: \"#4caf50\",\r\n\tpast: \"#b71c1c\",\r\n};\r\n\r\nclass GoogleMapOverview extends React.Component {\r\n\tstate = {\r\n\t\tdefinations: {},\r\n\t\tservices: {},\r\n\t\tdefination: null,\r\n\t\tservice: null,\r\n\t\tdrawerOpen: true,\r\n\t\tshow_client_positions: true,\r\n\t\tclients_positions: {},\r\n\t\tcontext: \"commissions\",\r\n\t\tcontext_entry: null,\r\n\t\tdefaultZoom: 10,\r\n\t\tmulticontexts: true,\r\n\t\trendered_contexts: [],\r\n\t\tcontexts_props: {},\r\n\t\tzoom: 15,\r\n\t\tquery: {},\r\n\t\trecords: [],\r\n\t\tmarkers: [],\r\n\t\tcircles: [],\r\n\t\tpolylines: [],\r\n\t};\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tconst { device, cache, context, contexts, definations, app } = this.props;\r\n\t\tthis.elementRef = React.createRef();\r\n\t\tthis.prepareForView();\r\n\t\tthis.toggleDrawer = this.toggleDrawer.bind(this);\r\n\t\t\r\n\t\tthis.handleOnLoadMap = this.handleOnLoadMap.bind(this);\r\n\t\tthis.handleClientListItemClick = this.handleClientListItemClick.bind(this);\r\n\t\tthis.handleOnToggleShowClients = this.handleOnToggleShowClients.bind(this);\r\n\t\tthis.handleOnClientsPositionsLoaded = this.handleOnClientsPositionsLoaded.bind(this);\r\n\t\tthis.handleOnClientPositionAvailable = this.handleOnClientPositionAvailable.bind(this);\r\n\t\tthis.handleOnClientPositionUnavailable = this.handleOnClientPositionUnavailable.bind(this);\r\n\t\tthis.handleOnClientPositionChanged = this.handleOnClientPositionChanged.bind(this);\r\n\t\tthis.handleOnDrawerNavigationValueChange = this.handleOnDrawerNavigationValueChange.bind(this);\r\n\t\tthis.handleContextEntryClick = this.handleContextEntryClick.bind(this);\r\n\t\tthis.handleToggleContextRender = this.handleToggleContextRender.bind(this);\r\n\t\t\r\n\t\tthis.state = { \r\n\t\t\t...this.state, \r\n\t\t\t//context: Object.keys(this.state.definations)[0],\r\n\t\t\tcontext: context? context: this.state.context,\r\n\t\t\tdefaultZoom: app.preferences.data.defaultMapZoom,\r\n\t\t\tmulticontexts: Array.isArray(contexts)? contexts.length > 1 : false,\r\n\t\t\trendered_contexts: context? [context]: [],\r\n\t\t\tcontexts_props: context? {\r\n\t\t\t\t[context]: {\r\n\t\t\t\t\tquery: {page: 1, pagination: app.preferences.data.pagination, populate: 1},\r\n\t\t\t\t\telement: \"marker\",\r\n\t\t\t\t\trecords: [],\r\n\t\t\t\t}\r\n\t\t\t}: {},\r\n\t\t\tcontext_entries: Array.isArray(cache.data[this.state.defination.name])? cache.data[this.state.defination.name] : [],\r\n\t\t\t//drawerOpen: device.window_size.width >= 1280,\r\n\t\t\tdrawerOpen: false,\r\n\t\t};\r\n\t}\r\n\r\n\tisMounted() {\r\n\t\treturn this.elementRef.current != null;\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\t//throw new Error('This is a withErrorHandler test.');\r\n\r\n\r\n\t\t\r\n\t}\r\n\r\n\tprepareForView() {\r\n\t\tconst { auth, definations, services, app } = this.props;\r\n\t\tlet current_defination = null;\r\n\t\tlet current_service = null;\r\n\t\tlet possible_definations = {};\r\n\t\tlet possible_services = {};\r\n\t\tlet contexts_props = this.state.contexts_props;\r\n\t\tfor (let [name, defination] of Object.entries(definations)) {\r\n\t\t\tif (!defination.access.restricted(auth.user)) {\r\n\t\t\t\tif (defination.views.listing.googlemapview && Function.isFunction( defination.views.listing.googlemapview.resolveData )) {\r\n\t\t\t\t\tpossible_definations[name] = defination;\r\n\t\t\t\t\tpossible_services[name] = services[name];\r\n\t\t\t\t\tcontexts_props[name] = {\r\n\t\t\t\t\t\tquery: {page: 1, pagination: app.preferences.data.pagination, populate: 1},\r\n\t\t\t\t\t\telement: defination.views.listing.googlemapview.type,\r\n\t\t\t\t\t\telements: [],\r\n\t\t\t\t\t\tloaded: false,\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (current_defination === null) {\r\n\t\t\t\t\t\tcurrent_defination = defination;\r\n\t\t\t\t\t\tcurrent_service = services[name];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.state.contexts_props = contexts_props;\r\n\t\tthis.state.definations = possible_definations;\r\n\t\tthis.state.services = possible_services;\r\n\t\tthis.state.defination = current_defination;\r\n\t\tthis.state.service = current_service;\r\n\t\t\r\n\t\t\r\n\t}\r\n\r\n\t\r\n\r\n\ttoggleDrawer= (open) => (event) => {\r\n\t\tif (event && event.type === 'keydown' && (event.key === 'Tab' || event.key === 'Shift')) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (open !== this.state.drawerOpen) {\r\n\t\t\tthis.setState(state => ({ drawerOpen: open }));\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n\thandleOnToggleShowClients(event) {\r\n\t\tthis.setState(state => ({ show_client_positions: !state.show_client_positions }));\r\n\t}\r\n\r\n\thandleOnLoadMap(map, google) {\r\n\t\tgoogleMap = map;\r\n\t\t\r\n\t}\r\n\r\n\r\n\thandleOnClientsPositionsLoaded(clients_positions) {\r\n\t\tthis.setState(state => ({ clients_positions: clients_positions }));\r\n\t}\r\n\r\n\thandleOnClientPositionAvailable(clientId, client) {\r\n\t\tthis.setState(prevState => ({ clients_positions: {...prevState.clients_positions, [clientId]: client } }));\r\n\t\t\r\n\t}\r\n\r\n\thandleOnClientPositionUnavailable(socketId, client) {\t\t\r\n\t\tthis.setState(prevState => {\r\n\t\t\tlet newclientspositions = prevState.clients_positions;\r\n\t\t\t\r\n\t\t\tdelete newclientspositions[socketId];\r\n\r\n\t\t\treturn { clients_positions: newclientspositions }\r\n\t\t});\r\n\t}\r\n\r\n\thandleOnClientPositionChanged(socketId, client) {\r\n\t\t\tthis.setState(state => {\r\n\t\t\t\treturn { clients_positions: state.drawerOpen? {...state.clients_positions, [socketId]: client } : state.clients_positions }\r\n\t\t\t});\r\n\t\t\t\t\r\n\t}\r\n\r\n\r\n\t\r\n\r\n\thandleOnDrawerNavigationValueChange = (event, newValue) => {\r\n\t\tconst { definations, services, cache } = this.props;\r\n\t\t\r\n\t\tthis.setState(state => ({\r\n\t\t\tcontext : newValue,\r\n\t\t\tcontext_entry: null,\r\n\t\t\tcontext_entries: [\"commissions\", \"tracks\"].includes(newValue)? (Array.isArray(cache.data[newValue])? cache.data[newValue] : []) : [],\r\n\t\t\tdefination: [\"commissions\", \"tracks\"].includes(newValue)? definations[newValue] : state.defination,\r\n\t\t\tservice: [\"commissions\", \"tracks\"].includes(newValue)? services[newValue] : state.service,\r\n\t\t}));\r\n\t};\r\n\r\n\thandleClientListItemClick = (socketId, client) => event => {\r\n\t\tconsole.log(\"handleClientListItemClick client\", client, \"googleMap\", googleMap);\r\n\t\tif (googleMap) {\t\t\r\n\t\t\t\t\tgoogleMap.panTo({ lat: client.position.latitude, lng: client.position.longitude });\r\n\t\t\t\t\tgoogleMap.context.__SECRET_MAP_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.setZoom(15);\r\n\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t\r\n\t};\r\n\r\n\thandleToggleContextRender = (context, renderContext) => {\r\n\t\tconst { definations, cache, apiCallRequest, app } = this.props;\r\n\t\tthis.setState((prevState)=>{\r\n\t\t\tlet renderedContextIndex = prevState.rendered_contexts.indexOf(context);\r\n\t\t\treturn {\r\n\t\t\t\trendered_contexts: prevState.rendered_contexts.includes(context)? prevState.rendered_contexts.removeAtIndex(renderedContextIndex) : prevState.rendered_contexts.concat([context]),\r\n\t\t\t}\r\n\t\t}, async ()=>{\r\n\t\t\tif (definations[context] && renderContext) {\r\n\t\t\t\t\r\n\t\t\t\tapiCallRequest( definations[context].name, {\r\n\t\t\t\t\turi: definations[context].endpoint,\r\n\t\t\t\t\ttype: \"records\",\r\n\t\t\t\t\tparams: JSON.isJSON(this.state.contexts_props[context])? this.state.contexts_props[context].query : {page: 1, pagination: app.preferences.data.pagination, populate: 1},\r\n\t\t\t\t\tdata: {},\r\n\t\t\t\t\tcache: true,\r\n\t\t\t\t}).then(data => {\r\n\t\t\t\t\tif (definations[context] && Function.isFunction( definations[context].views.listing.googlemapview.resolveData ) && Array.isArray(data)) {\r\n\t\t\t\t\t\tdefinations[context].views.listing.googlemapview.resolveData(data, true).then(resolve => {\r\n\t\t\t\t\t\t\tif (this.isMounted()) {\r\n\t\t\t\t\t\t\t\tthis.setState(prevState => ({\r\n\t\t\t\t\t\t\t\t\tcontext_entry_type : definations[context].views.listing.googlemapview.type,\r\n\t\t\t\t\t\t\t\t\tcontext_entry: data.length> 0? 0 : undefined,\r\n\t\t\t\t\t\t\t\t\tcontexts_props: {\r\n\t\t\t\t\t\t\t\t\t...prevState.contexts_props, \r\n\t\t\t\t\t\t\t\t\t\t[context]: { \r\n\t\t\t\t\t\t\t\t\t\t\t...prevState.contexts_props[context], \r\n\t\t\t\t\t\t\t\t\t\t\telements: resolve,\r\n\t\t\t\t\t\t\t\t\t\t\telement: definations[context].views.listing.googlemapview.type,\r\n\t\t\t\t\t\t\t\t\t\t\tloaded: true,\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\tthis.state.context_entry_type = definations[context].views.listing.googlemapview.type;\r\n\t\t\t\t\t\t\t\tthis.state.context_entry = data.length> 0? 0 : undefined;\r\n\t\t\t\t\t\t\t\tthis.state.contexts_props = {\r\n\t\t\t\t\t\t\t\t\t...this.state.contexts_props, \r\n\t\t\t\t\t\t\t\t\t\t[context]: { \r\n\t\t\t\t\t\t\t\t\t\t\t...this.state.contexts_props[context], \r\n\t\t\t\t\t\t\t\t\t\t\telements: resolve,\r\n\t\t\t\t\t\t\t\t\t\t\telement: definations[context].views.listing.googlemapview.type,\r\n\t\t\t\t\t\t\t\t\t\t\tloaded: true,\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t}).catch(e => {\r\n\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\telse if (definations[context]) {\r\n\t\t\t\tif (this.isMounted()) {\r\n\t\t\t\t\t\t\t\tthis.setState(prevState => ({ \r\n\t\t\t\t\t\t\t\t\tcontext_entry_type : undefined,\r\n\t\t\t\t\t\t\t\t\tcontext_entry: undefined,\r\n\t\t\t\t\t\t\t\t\tcontexts_props: {\r\n\t\t\t\t\t\t\t\t\t...prevState.contexts_props, \r\n\t\t\t\t\t\t\t\t\t\t[context]: { \r\n\t\t\t\t\t\t\t\t\t\t\t...prevState.contexts_props[context], \r\n\t\t\t\t\t\t\t\t\t\t\telements: [],\r\n\t\t\t\t\t\t\t\t\t\t\telement: definations[context].views.listing.googlemapview.type,\r\n\t\t\t\t\t\t\t\t\t\t\tloaded: false,\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\tthis.state.context_entry_type = undefined;\r\n\t\t\t\t\t\t\t\tthis.state.context_entry = undefined;\r\n\t\t\t\t\t\t\t\tthis.state.contexts_props = {\r\n\t\t\t\t\t\t\t\t\t...this.state.contexts_props, \r\n\t\t\t\t\t\t\t\t\t\t[context]: { \r\n\t\t\t\t\t\t\t\t\t\t\t...this.state.contexts_props[context], \r\n\t\t\t\t\t\t\t\t\t\t\telements: [],\r\n\t\t\t\t\t\t\t\t\t\t\telement: definations[context].views.listing.googlemapview.type,\r\n\t\t\t\t\t\t\t\t\t\t\tloaded: false,\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t});\r\n\t\t\t\t\t\t\r\n\t\t\t\r\n\t\t\r\n\t};\r\n\r\n\thandleContextEntryClick = (entry, index) => {\r\n\t\t//console.log(\"handleContextEntryClick index\", index);\r\n\r\n\t\tthis.setState({ context_entry: index });\r\n\t\t/*if (googleMap) {\r\n\t\t\tif (this.state.context === \"commissions\") {\r\n\t\t\t\tgoogleMap.panTo(entry.focus_center);\r\n\t\t\t}\r\n\t\t\tif (this.state.context === \"tracks\") {\r\n\t\t\t\tif (entry.positions) {\r\n\t\t\t\t\tif (Array.isArray(entry.positions)) {\r\n\t\t\t\t\t\tif (JSON.isJSON(entry.positions[0])) {\r\n\t\t\t\t\t\t\tgoogleMap.panTo({ lat: entry.positions[0].latitude, lng: entry.positions[0].longitude });\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\t\t\t\t\t\t\t\r\n\t\t\t}\t\t\t\t\r\n\t\t}*/\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { theme, classes, showAll, device, sockets, definations, services, contexts, actions } = this.props;\r\n\t\tconst { context, clients_positions, show_client_positions, rendered_contexts, contexts_props } = this.state;\r\n\t\tlet circles = [];\r\n\t\tlet markers = [];\r\n\t\tlet polylines = [];\r\n\t\t//console.log(\"rendered_contexts\", rendered_contexts);\r\n\t\trendered_contexts.map(rendered_context => {\r\n\t\t\tif (definations[rendered_context] && rendered_context in contexts_props ) {\r\n\r\n\t\t\t\tif (contexts_props[rendered_context].element === \"marker\" && Array.isArray(contexts_props[rendered_context].elements)) {\r\n\t\t\t\t\tmarkers = markers.concat(contexts_props[rendered_context].elements);\r\n\t\t\t\t}\r\n\t\t\t\telse if (contexts_props[rendered_context].element === \"circle\" && Array.isArray(contexts_props[rendered_context].elements)) {\r\n\t\t\t\t\tcircles = circles.concat(contexts_props[rendered_context].elements);\r\n\t\t\t\t}\r\n\t\t\t\telse if (contexts_props[rendered_context].element === \"polyline\" && Array.isArray(contexts_props[rendered_context].elements)) {\r\n\t\t\t\t\tpolylines = polylines.concat(contexts_props[rendered_context].elements);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t//console.log(\"circles\", circles);\r\n\t\t\r\n\r\n\t\treturn (\r\n\t\t\t<Card elevation={0} outlineColor={theme.palette.text.primary} style={{backgroundColor: theme.palette.background.paper }}  ref={this.elementRef}>\r\n\t\t\t\t<CardHeader\r\n\t\t\t\t\tavatar={\r\n\t\t\t\t\t\t<Avatar style={{backgroundColor: \"rgba(0,0,0,0.05)\", color:theme.palette.text.primary}}>\r\n\t\t\t\t\t\t\t<MapOutlinedIcon />\r\n\t\t\t\t\t\t</Avatar>\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttitle={this.props.context? (definations[this.props.context]? (definations[this.props.context].label+\" Map\"): \"Map\") : \"Map Overview\"}\r\n\t\t\t\t\tsubheader=\"Click on any context marker, route or polyline in the map for more infomation on the context \"\r\n\t\t\t\t\taction={\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t{/*<IconButton\r\n\t\t\t\t\t\t\t\taria-label=\"Clients Locations Button\"\r\n\t\t\t\t\t\t\t\tclassName={\"mx-1 inverse-text translucent \"}\r\n\t\t\t\t\t\t\t\tonClick={this.handleOnToggleShowClients}\r\n\t\t\t\t\t\t\t\tstyle={{backgroundColor: \"rgba(0,0,0,0.05)\"}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Icon \r\n\t\t\t\t\t\t\t\t\tpath={show_client_positions? mdiMapMarkerMultiple : mdiMapMarkerMultipleOutline}\r\n\t\t\t\t\t\t\t\t\ttitle=\"Clients Locations\"\r\n\t\t\t\t\t\t\t\t\tsize={0.8}   \r\n\t\t\t\t\t\t\t\t\tcolor={theme.palette.text.primary}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</IconButton>*/}\r\n\r\n\t\t\t\t\t\t\t{Array.isArray(actions) && actions.map(({onClick, icon, ...rest}, cursor)=> (\r\n\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\taria-label=\"Action\"\r\n\t\t\t\t\t\t\t\t\tclassName={\"mx-1 inverse-text translucent \"}\r\n\t\t\t\t\t\t\t\t\tonClick={onClick}\r\n\t\t\t\t\t\t\t\t\tstyle={{backgroundColor: \"rgba(0,0,0,0.05)\"}}\r\n\t\t\t\t\t\t\t\t\tkey={\"action-button-\"+cursor}\r\n\t\t\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{icon}\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t))}\r\n\r\n\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\taria-label=\"menu\"\r\n\t\t\t\t\t\t\t\tcolor={\"inherit\"}\r\n\t\t\t\t\t\t\t\tclassName={\"mx-1 inverse-text \"}\r\n\t\t\t\t\t\t\t\tonClick={this.toggleDrawer(!this.state.drawerOpen)}\r\n\t\t\t\t\t\t\t\tstyle={{backgroundColor: \"rgba(0,0,0,0.05)\"}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Icon \r\n\t\t\t\t\t\t\t\t\tpath={mdiForwardburger}\r\n\t\t\t\t\t\t\t\t\ttitle=\"Map Overview Drawer Menu\"\r\n\t\t\t\t\t\t\t\t\trotate={this.state.drawerOpen? 0 : 180}\t    \r\n\t\t\t\t\t\t\t\t\tsize={0.8}\r\n\t\t\t\t\t\t\t\t\tcolor={theme.palette.text.primary}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t/>\r\n\t\t\t\t<CardContent className=\"p-0 m-0 overflow-x-hidden\">\r\n\t\t\t\t\t<GridContainer className=\"p-0 m-0\">\r\n\t\t\t\t\t\t<GridItem xs={12} className={classes.wrapper}>\r\n\t\t\t\t\t\t\t<div className={classNames(classes.content, { [classes.contentDrawerMargin]: device.window_size.width >= 1280,  [classes.contentShift]: this.state.drawerOpen && device.window_size.width >= 1280})} style={{minHeight: device.window_size.height, backgroundColor: theme.palette.background.paper }}>\r\n\t\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\t\t<GoogleMap\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tmapHeight={device.window_size.height}\r\n\t\t\t\t\t\t\t\t\tshowClientsPositions={rendered_contexts.includes(\"clients_positions\")}\r\n\t\t\t\t\t\t\t\t\tshowCurrentPosition={true}\r\n\t\t\t\t\t\t\t\t\tonLoadClientsPositions={this.handleOnClientsPositionsLoaded}\r\n\t\t\t\t\t\t\t\t\tonClientPositionAvailable={this.handleOnClientPositionAvailable}\r\n\t\t\t\t\t\t\t\t\tonClientPositionUnavailable={this.handleOnClientPositionUnavailable}\r\n\t\t\t\t\t\t\t\t\tonClientPositionChanged={this.handleOnClientPositionChanged}\r\n\t\t\t\t\t\t\t\t\tselectedEntry={this.state.context_entry} \r\n\t\t\t\t\t\t\t\t\tselectedEntryType={this.state.context_entry_type? this.state.context_entry_type : \"clients_position\"}\r\n\t\t\t\t\t\t\t\t\tdefaultZoom={this.state.defaultZoom}\r\n\t\t\t\t\t\t\t\t\tzoom={this.state.zoom}\r\n\t\t\t\t\t\t\t\t\tonMapLoad={this.handleOnLoadMap}\r\n\t\t\t\t\t\t\t\t\tpolylines={polylines}\r\n\t\t\t\t\t\t\t\t\tmarkers={markers}\r\n\t\t\t\t\t\t\t\t\tcircles={circles}\t\t\t\t\t\t\t\t\t  \r\n\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<SwipeableDrawer\r\n\t\t\t\t\t\t\t\tclassName={classes.drawer}\r\n\t\t\t\t\t\t\t\tvariant={device.window_size.width >= 1280? \"persistent\" : \"temporary\" }\r\n\t\t\t\t\t\t\t\tanchor=\"right\"\r\n\t\t\t\t\t\t\t\topen={this.state.drawerOpen}\r\n\t\t\t\t\t\t\t\tonClose={this.toggleDrawer(false)}\r\n            \t\t\t\t\tonOpen={this.toggleDrawer(true)}\r\n\t\t\t\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\t\t\t\tpaper: device.window_size.width >= 1280? classes.drawerPaper : classes.temporaryDrawerPaper,\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{this.state.multicontexts && <BottomNavigation\r\n\t\t\t\t\t\t\t\t\tvalue={context}\r\n\t\t\t\t\t\t\t\t\tonChange={this.handleOnDrawerNavigationValueChange}\r\n\t\t\t\t\t\t\t\t\tshowLabels\r\n\t\t\t\t\t\t\t\t\tclassName={\"w-full\"}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<BottomNavigationAction \r\n\t\t\t\t\t\t\t\t\t\tvalue=\"clients_positions\"\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"Users\" \r\n\t\t\t\t\t\t\t\t\t\ticon={\r\n\t\t\t\t\t\t\t\t\t\t\t<Icon \r\n\t\t\t\t\t\t\t\t\t\t\t\tpath={mdiAccountCircleOutline}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttitle=\"Clients Postions Users\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tsize={1}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t} \r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t{Object.entries(this.state.definations).map(([name, defination], index) => (\r\n\t\t\t\t\t\t\t\t\t\t<BottomNavigationAction \r\n\t\t\t\t\t\t\t\t\t\t\tvalue={name}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={defination.label} \r\n\t\t\t\t\t\t\t\t\t\t\ticon={defination.icon} \r\n\t\t\t\t\t\t\t\t\t\t\tkey={\"googlemapview-btn-\"+name+\"-option\"}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</BottomNavigation>}\r\n\r\n\t\t\t\t\t\t\t\t{(context === \"clients_positions\" && Object.size(clients_positions) === 0) && <GridContainer>\r\n\t\t\t\t\t\t\t\t\t<GridItem xs={12} className=\"flex items-center justify-center p-2\">\r\n\t\t\t\t\t\t\t\t\t\t<Icon \r\n\t\t\t\t\t\t\t\t\t\t\tpath={mdiFolderOutline}\r\n\t\t\t\t\t\t\t\t\t\t\ttitle=\"No Records available yet.\"\r\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"#CCCCCC\"\r\n\t\t\t\t\t\t\t\t\t\t\tsize={5}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</GridItem>\r\n\r\n\t\t\t\t\t\t\t\t\t<GridItem xs={12} className=\"flex items-center justify-center p-2\">\r\n\t\t\t\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t\t\tNo Records available yet.\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t</GridItem>\r\n\t\t\t\t\t\t\t\t</GridContainer>}\r\n\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t{context === \"clients_positions\" && <List className={classes.root}>\r\n\t\t\t\t\t\t\t\t\t\t{Object.entries(clients_positions).map(([socketId, client], index) => {\r\n\t\t\t\t\t\t\t\t\t\t\tlet show_entry = true;\r\n\t\t\t\t\t\t\t\t\t\t\tif (index > 0) {\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (client.user._id === clients_positions[(Object.keys(clients_positions)[(index-1)])].user._id) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tshow_entry = false;\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\t\t\t\t\t\t/*if (googleMap) {\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tgoogleMap.panTo({ lat: client.position.latitude, lng: client.position.longitude });\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tgoogleMap.context.__SECRET_MAP_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.setZoom(15);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}*/\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tif (client.user && show_entry) {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ListItem className={\"cursor-pointer hover:bg-gray-400\"} onClick={this.handleClientListItemClick(socketId, client)} key={\"client-\"+socketId}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListItemAvatar>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Avatar src={(String.isString(client.user.gender)? (client.user.gender.trim().toLowerCase()===\"female\"? client_user_female_icon : client_user_male_icon) : client_user_male_icon)} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListItemAvatar>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListItemText primary={ client.user.first_name+\" \"+client.user.last_name } secondary={String.isString(client.user.role)? client.user.role.humanize() : \"\"} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t</List>}\r\n\r\n\t\t\t\t\t\t\t\t\t{context === \"commissions\" && <Listings \r\n\t\t\t\t\t\t\t\t\t\tdefination={definations.commissions} \r\n\t\t\t\t\t\t\t\t\t\tservice={services.commissions}\r\n\t\t\t\t\t\t\t\t\t\tquery={{}}\r\n\t\t\t\t\t\t\t\t\t\tshowViewOptions={false}\r\n\t\t\t\t\t\t\t\t\t\tshowAddBtn={false}\r\n\t\t\t\t\t\t\t\t\t\tshowSorter={true}\r\n\t\t\t\t\t\t\t\t\t\tsorterFormLayoutType={\"normal\"}\r\n\t\t\t\t\t\t\t\t\t\tview={\"listview\"}\r\n\t\t\t\t\t\t\t\t\t\tonLoadData={(loadedData, query)=>{\r\n\t\t\t\t\t\t\t\t\t\t\tif (definations[context] && Function.isFunction( definations[context].views.listing.googlemapview.resolveData ) && Array.isArray(loadedData)) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tdefinations[context].views.listing.googlemapview.resolveData(loadedData, true).then(resolve => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setState(prevState => ({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontexts_props: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...prevState.contexts_props,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t[context]: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...prevState.contexts_props[context],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tquery: query,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\telements: resolve,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tloaded: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trecords: loadedData,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t}).catch(err => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setState(prevState => ({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontexts_props: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...prevState.contexts_props,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t[context]: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...prevState.contexts_props[context],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\telements: [],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tloaded: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trecords: loadedData,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tonClickEntry={this.handleContextEntryClick}\r\n\t\t\t\t\t\t\t\t\t/>}\r\n\r\n\t\t\t\t\t\t\t\t\t{context === \"tracks\" && <Listings \r\n\t\t\t\t\t\t\t\t\t\tdefination={definations.tracks} \r\n\t\t\t\t\t\t\t\t\t\tservice={services.tracks}\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tshowViewOptions={false}\r\n\t\t\t\t\t\t\t\t\t\tshowAddBtn={false}\r\n\t\t\t\t\t\t\t\t\t\tshowSorter={true}\r\n\t\t\t\t\t\t\t\t\t\tshowPagination={true}\r\n\t\t\t\t\t\t\t\t\t\tsorterFormLayoutType={\"normal\"}\r\n\t\t\t\t\t\t\t\t\t\tview={\"listview\"}\r\n\t\t\t\t\t\t\t\t\t\tonLoadData={(loadedData, query)=>{\r\n\t\t\t\t\t\t\t\t\t\t\tif (definations[context] && Function.isFunction( definations[context].views.listing.googlemapview.resolveData ) && Array.isArray(loadedData)) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tdefinations[context].views.listing.googlemapview.resolveData(loadedData, true).then(resolve => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setState(prevState => ({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontexts_props: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...prevState.contexts_props,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t[context]: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...prevState.contexts_props[context],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tquery: query,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\telements: resolve,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tloaded: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trecords: loadedData,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t}).catch(err => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setState(prevState => ({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontexts_props: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...prevState.contexts_props,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t[context]: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...prevState.contexts_props[context],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tquery: query,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\telements: [],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tloaded: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trecords: loadedData,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tonClickEntry={this.handleContextEntryClick}\r\n\t\t\t\t\t\t\t\t\t/>}\r\n\r\n\t\t\t\t\t\t\t</SwipeableDrawer>\r\n\t\t\t\t\t\t</GridItem>\r\n\t\t\t\t\t</GridContainer>\r\n\t\t\t\t</CardContent>\r\n\t\t\t\t<CardActions>\r\n\t\t\t\t\t<GridContainer className=\"p-0 m-0\">\r\n\t\t\t\t\t\t{Array.isArray(contexts) && contexts.map((context_entry_name, cursor) => (\r\n\t\t\t\t\t\t\t<GridItem xs={12} md={Math.round((12 / contexts.length))} className={\"flex items-center justify-center\"} key={\"context_entry_switch-\"+cursor}>\r\n\t\t\t\t\t\t\t\t\t<SwitchInput \r\n\t\t\t\t\t\t\t\t\t\tlabel={context_entry_name === \"clients_positions\"? \"Users\" : (definations[context_entry_name]? definations[context_entry_name].label : context_entry_name) }\r\n\t\t\t\t\t\t\t\t\t\tvalue={this.state.rendered_contexts.includes(context_entry_name)}\r\n\t\t\t\t\t\t\t\t\t\tonChange={(new_value)=>{\r\n\t\t\t\t\t\t\t\t\t\t\tthis.handleToggleContextRender(context_entry_name, new_value);\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</GridItem>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t<GridItem xs={12}>\r\n\t\t\t\t\t\t\t<Typography variant=\"body2\">\r\n\t\t\t\t\t\t\t\t{this.props.context? (definations[this.props.context]? (definations[this.props.context].label+\" Map from a glance\"): \"Map from a glance\") : \"Map from a glance\"}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</GridItem>\r\n\t\t\t\t\t</GridContainer>\r\n\t\t\t\t</CardActions>\r\n\t\t\t</Card>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nGoogleMapOverview.propTypes = {\r\n\tclassName: PropTypes.string,\r\n\tclasses: PropTypes.object,\r\n\tcontexts: PropTypes.array,\r\n\tcontext: PropTypes.string.isRequired,\r\n\tactions: PropTypes.array,\r\n};\r\n\r\nGoogleMapOverview.defaultProps = {\r\n\tcontexts: [\"clients_positions\", \"commissions\", \"tracks\"],\r\n\tcontext: \"clients_positions\",\r\n\tactions: [],\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n\tapp: state.app,\r\n\tauth: state.auth,\r\n\tcache: state.cache,\r\n\tdevice: state.device,\r\n});\r\n\r\nexport default withGlobals(compose(\r\n\twithStyles(styles),\r\n\tconnect(mapStateToProps, {apiCallRequest, closeDialog, openDialog}),\r\n\twithTheme,\r\n\twithErrorHandler\r\n)(GoogleMapOverview));\r\n","/** @format */\n\n\nexport default theme => ({\n\troot: {\n\t\tpadding: \"0\",\n\t},\n\twrapper: {\n\t\tdisplay: 'flex',\n\t\tmargin: 0,\n\t\tpadding: 0,\n\t},\n\tdrawer: {\n\t\twidth: theme.appDrawer.width,\n\t\tflexShrink: 0,\n\t},\n  \tdrawerPaper: {\n\t\twidth: theme.appDrawer.width,\n\t\tposition: \"absolute\",\n\t\tzIndex: theme.zIndex.appBar/2,\n\t\tbackgroundColor: theme.palette.background.paper,\n  \t},\n  \ttemporaryDrawerPaper: {\n\t\twidth: theme.appDrawer.width,\n\t\tbackground: theme.palette.background.default,\n  \t},\n  \tcontent: {\n\t\tflexGrow: 1,\n\t\tpadding: 0,\n\t\ttransition: theme.transitions.create('margin', {\n\t\t\teasing: theme.transitions.easing.sharp,\n\t\t\tduration: theme.transitions.duration.leavingScreen,\n\t\t}),\n\t},\n\n\tcontentDrawerMargin: {\n\t\tmarginRight: -theme.appDrawer.width,\n\t},\n\n\tcontentShift: {\n\t\ttransition: theme.transitions.create('margin', {\n\t\t\teasing: theme.transitions.easing.easeOut,\n\t\t\tduration: theme.transitions.duration.enteringScreen,\n\t\t}),\n\t\tmarginRight: 0,\n\t},\n});\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport { fade, withStyles } from '@material-ui/core/styles';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      display: 'block',\n      // Create a \"on paper\" color with sufficient contrast retaining the color\n      backgroundColor: fade(theme.palette.text.primary, theme.palette.type === 'light' ? 0.11 : 0.13),\n      height: '1.2em'\n    },\n\n    /* Styles applied to the root element if `variant=\"text\"`. */\n    text: {\n      marginTop: 0,\n      marginBottom: 0,\n      height: 'auto',\n      transformOrigin: '0 60%',\n      transform: 'scale(1, 0.60)',\n      borderRadius: theme.shape.borderRadius,\n      '&:empty:before': {\n        content: '\"\\\\00a0\"'\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"rect\"`. */\n    rect: {},\n\n    /* Styles applied to the root element if `variant=\"circle\"`. */\n    circle: {\n      borderRadius: '50%'\n    },\n\n    /* Styles applied to the root element if `animation=\"pulse\"`. */\n    pulse: {\n      animation: '$pulse 1.5s ease-in-out 0.5s infinite'\n    },\n    '@keyframes pulse': {\n      '0%': {\n        opacity: 1\n      },\n      '50%': {\n        opacity: 0.4\n      },\n      '100%': {\n        opacity: 1\n      }\n    },\n\n    /* Styles applied to the root element if `animation=\"wave\"`. */\n    wave: {\n      position: 'relative',\n      overflow: 'hidden',\n      '&::after': {\n        animation: '$wave 1.6s linear 0.5s infinite',\n        background: \"linear-gradient(90deg, transparent, \".concat(theme.palette.action.hover, \", transparent)\"),\n        content: '\"\"',\n        position: 'absolute',\n        transform: 'translateX(-100%)',\n        // Avoid flash during server-side hydration\n        bottom: 0,\n        left: 0,\n        right: 0,\n        top: 0\n      }\n    },\n    '@keyframes wave': {\n      '0%': {\n        transform: 'translateX(-100%)'\n      },\n      '60%': {\n        // +0.5s of delay between each loop\n        transform: 'translateX(100%)'\n      },\n      '100%': {\n        transform: 'translateX(100%)'\n      }\n    },\n\n    /* Styles applied when the component is passed children. */\n    withChildren: {\n      '& > *': {\n        visibility: 'hidden'\n      }\n    },\n\n    /* Styles applied when the component is passed children and no width. */\n    fitContent: {\n      maxWidth: 'fit-content'\n    },\n\n    /* Styles applied when the component is passed children and no height. */\n    heightAuto: {\n      height: 'auto'\n    }\n  };\n};\nvar Skeleton = /*#__PURE__*/React.forwardRef(function Skeleton(props, ref) {\n  var _props$animation = props.animation,\n      animation = _props$animation === void 0 ? 'pulse' : _props$animation,\n      classes = props.classes,\n      className = props.className,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'span' : _props$component,\n      height = props.height,\n      _props$variant = props.variant,\n      variant = _props$variant === void 0 ? 'text' : _props$variant,\n      width = props.width,\n      other = _objectWithoutProperties(props, [\"animation\", \"classes\", \"className\", \"component\", \"height\", \"variant\", \"width\"]);\n\n  var hasChildren = Boolean(other.children);\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    ref: ref,\n    className: clsx(classes.root, classes[variant], className, hasChildren && [classes.withChildren, !width && classes.fitContent, !height && classes.heightAuto], animation !== false && classes[animation])\n  }, other, {\n    style: _extends({\n      width: width,\n      height: height\n    }, other.style)\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? Skeleton.propTypes = {\n  /**\n   * The animation.\n   * If `false` the animation effect is disabled.\n   */\n  animation: PropTypes.oneOf(['pulse', 'wave', false]),\n\n  /**\n   * Optional children to infer width and height from.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .elementType,\n\n  /**\n   * Height of the skeleton.\n   * Useful when you don't want to adapt the skeleton to a text element but for instance a card.\n   */\n  height: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n\n  /**\n   * The type of content that will be rendered.\n   */\n  variant: PropTypes.oneOf(['text', 'rect', 'circle']),\n\n  /**\n   * Width of the skeleton.\n   * Useful when the skeleton is inside an inline element with no width of its own.\n   */\n  width: PropTypes.oneOfType([PropTypes.number, PropTypes.string])\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiSkeleton'\n})(Skeleton);","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M4.47 21h15.06c1.54 0 2.5-1.67 1.73-3L13.73 4.99c-.77-1.33-2.69-1.33-3.46 0L2.74 18c-.77 1.33.19 3 1.73 3zM12 14c-.55 0-1-.45-1-1v-2c0-.55.45-1 1-1s1 .45 1 1v2c0 .55-.45 1-1 1zm1 4h-2v-2h2v2z\"\n}), 'WarningRounded');\n\nexports.default = _default;","/** @format */\n\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport WarningRoundedIcon from \"@material-ui/icons/WarningRounded\";\nimport { colors } from \"assets/jss/app-theme\";\nimport Button from \"components/Button\";\n//\nimport GridContainer from \"components/Grid/GridContainer\";\nimport GridItem from \"components/Grid/GridItem\";\nimport Typography from \"components/Typography\";\nimport * as definations from \"definations\";\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\n//Redux imports\nimport { connect } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport compose from \"recompose/compose\";\nimport * as services from \"services\";\n//\n//\nimport { appendNavHistory } from \"state/actions/ui/nav\";\nimport { withErrorHandler } from \"hoc/ErrorHandler\";\n//\nimport styles from \"views/pages/styles\";\n//Context Views Imports\nimport Listings from \"views/widgets/Listings\";\n\n\n\nclass Page extends React.Component {\n\tdefination = null;\n\tservice = null;\n\tstate = {\n\t\tquery: {},\n\t};\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tconst { componentProps } = props;\n\t\tthis.context = componentProps.context;\n\t\tthis.defination = definations[componentProps.context];\n\t\tthis.service = services[componentProps.context];\n\t\tlet urlQuery = (window.location.search.match(new RegExp(\"([^?=&]+)(=([^&]*))?\", \"g\")) || []).reduce(function(result, each, n, every) {\n\t\t\tlet [key, value] = decodeURI(each).split(\"=\");\n\t\t\tresult[key] = value;\n\t\t\treturn result;\n\t\t}, {});\n\n\t\tconsole.log(\"window.location.search\", decodeURI(window.location.search));\n\t\tconsole.log(\"urlQuery\", urlQuery);\n\n\t\tthis.state.query = {...this.state.query, ...urlQuery}\n\t}\n\n\t\n\n\tcomponentDidMount() {\n\t\tconst { auth, location, appendNavHistory } = this.props;\n\t\tif (appendNavHistory && location) {\n\t\t\tappendNavHistory({\n\t\t\t\tname: this.defination.name,\n\t\t\t\turi: location.pathname,\n\t\t\t\ttitle:\n\t\t\t\t\ttypeof this.defination.label === \"function\"\n\t\t\t\t\t\t? this.defination.label(auth.user)\n\t\t\t\t\t\t: this.defination.label,\n\t\t\t\tview: null,\n\t\t\t\tstate: this.state,\n\t\t\t\tcolor: this.defination.color\n\t\t\t\t\t? this.defination.color\n\t\t\t\t\t: colors.hex.primary,\n\t\t\t\tscrollTop: 0,\n\t\t\t});\n\t\t}\n\t}\n\n\trender() {\n\t\tconst { classes, auth } = this.props;\n\t\treturn (\n\t\t\t<GridContainer className={classes.root}>\n\t\t\t\t<GridItem xs={12}>\n\t\t\t\t\t{this.defination.access.restricted(auth.user) && (\n\t\t\t\t\t\t<GridContainer\n\t\t\t\t\t\t\tclassName={classes.fullPageHeight}\n\t\t\t\t\t\t\tdirection=\"column\"\n\t\t\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\t\t\talignItems=\"center\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<GridItem xs={12}>\n\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\tcolor=\"error\"\n\t\t\t\t\t\t\t\t\tvariant=\"h1\"\n\t\t\t\t\t\t\t\t\tcenter\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<WarningRoundedIcon\n\t\t\t\t\t\t\t\t\t\tclassName={classes.errorIcon}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</GridItem>\n\t\t\t\t\t\t\t<GridItem xs={12}>\n\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\tcolor=\"grey\"\n\t\t\t\t\t\t\t\t\tvariant=\"h3\"\n\t\t\t\t\t\t\t\t\tcenter\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tAccess Denied!\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</GridItem>\n\n\t\t\t\t\t\t\t<GridItem xs={12}>\n\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\tcolor=\"default\"\n\t\t\t\t\t\t\t\t\tvariant=\"body1\"\n\t\t\t\t\t\t\t\t\tcenter\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tSorry! Access to this resource has been\n\t\t\t\t\t\t\t\t\tdenied since you lack required priviledges.{\" \"}\n\t\t\t\t\t\t\t\t\t<br /> Please contact the system\n\t\t\t\t\t\t\t\t\tadministrator for further details.\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</GridItem>\n\n\t\t\t\t\t\t\t<GridItem xs={12}>\n\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\tcolor=\"error\"\n\t\t\t\t\t\t\t\t\tvariant=\"body1\"\n\t\t\t\t\t\t\t\t\tcenter\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\tto={\"home\".toUriWithDashboardPrefix()}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{\" \"}\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"text\"\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"default\"\n\t\t\t\t\t\t\t\t\t\t\tsimple\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{\" \"}\n\t\t\t\t\t\t\t\t\t\t\tHome{\" \"}\n\t\t\t\t\t\t\t\t\t\t</Button>{\" \"}\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</GridItem>\n\t\t\t\t\t\t</GridContainer>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{!this.defination.access.restricted(auth.user) && (\n\t\t\t\t\t\t<Listings\n\t\t\t\t\t\t\tdefination={this.defination}\n\t\t\t\t\t\t\tservice={this.service}\n\t\t\t\t\t\t\tquery={this.state.query}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</GridItem>\n\t\t\t</GridContainer>\n\t\t);\n\t}\n}\n\nPage.propTypes = {\n\tclasses: PropTypes.object.isRequired,\n};\n\nconst mapStateToProps = state => ({\n\tauth: state.auth,\n});\n\nexport default withErrorHandler(\n\tcompose(\n\t\twithStyles(styles),\n\t\tconnect(mapStateToProps, { appendNavHistory })\n\t)(Page)\n);\n"],"sourceRoot":""}