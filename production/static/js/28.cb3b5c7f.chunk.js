(this.webpackJsonpdashboard=this.webpackJsonpdashboard||[]).push([[28],{1444:function(e,t,a){"use strict";var r=a(14),n=a(26),o=a(18),l=a(17),i=a(0),c=a.n(i),s=a(19),u=Object(s.a)(c.a.createElement("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person"),d=Object(s.a)(c.a.createElement("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H4V8l8 5 8-5v10zm-8-7L4 6h16l-8 5z"}),"MailOutline"),m=Object(s.a)(c.a.createElement("path",{d:"M20.01 15.38c-1.23 0-2.42-.2-3.53-.56-.35-.12-.74-.03-1.01.24l-1.57 1.97c-2.83-1.35-5.48-3.9-6.89-6.83l1.95-1.66c.27-.28.35-.67.24-1.02-.37-1.11-.56-2.3-.56-3.53 0-.54-.45-.99-.99-.99H4.19C3.65 3 3 3.24 3 3.99 3 13.28 10.73 21 20.01 21c.71 0 .99-.63.99-1.18v-3.45c0-.54-.45-.99-.99-.99z"}),"Call"),p=a(433),f=a(22),b=a(16),h=a(436),g=a(92),v=a(35),x=a(63),j=a.n(x),E=a(42),O=a(50),_=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(n.a)(a,[{key:"render",value:function(){var e=this.props.auth;return c.a.createElement(f.a,null,c.a.createElement(b.a,{xs:12},c.a.createElement("div",{className:"max-w-4xl flex items-center h-auto flex-wrap mx-auto my-32 lg:my-0"},c.a.createElement(p.a,{className:"w-full lg:w-3/5 rounded-lg lg:rounded-l-lg lg:rounded-r-none  mx-6 lg:mx-0"},c.a.createElement("div",{className:"p-4 md:p-12 text-center lg:text-left"},c.a.createElement(h.a,{src:E.attachments.getAttachmentFileUrl(e.user.avatar),className:"block lg:hidden rounded-full mx-auto -mt-16 h-48 w-48 bg-cover bg-center"}),c.a.createElement("h1",{className:"text-3xl pt-8 lg:pt-0"},e.user.first_name+" "+e.user.last_name),c.a.createElement("p",{className:"text-sm"},c.a.createElement(g.a,{color:"online"===e.user.presence?"#00796b":"away"===e.user.presence?"#b88d00":"#5C5C5C",text:e.user.presence})),c.a.createElement("div",{className:"mx-auto lg:mx-0 w-4/5 pt-3 border-b-2 border-grey-500 opacity-25"}),c.a.createElement("p",{className:"flex items-center justify-center lg:justify-start"},c.a.createElement(u,{className:"mr-4"})," ",e.user.role),c.a.createElement("p",{className:"flex items-center justify-center lg:justify-start"},c.a.createElement(d,{className:"mr-4"})," ",e.user.email_address),c.a.createElement("p",{className:"flex items-center justify-center lg:justify-start"},c.a.createElement(m,{className:"mr-4"})," ",e.user.phone_number))),c.a.createElement(h.a,{src:E.attachments.getAttachmentFileUrl(e.user.avatar),className:"rounded-none lg:rounded-lg shadow-xl hidden lg:w-2/5 lg:block",style:{height:"50vh"}}))))}}]),a}(i.Component);t.a=Object(O.a)(j()(Object(v.b)((function(e){return{auth:e.auth}}),{}))(_))},1940:function(e,t,a){"use strict";a.r(t);var r=a(14),n=a(26),o=a(18),l=a(17),i=a(13),c=a(3),s=a(22),u=a(16),d=a(0),m=a.n(d),p=a(35),f=a(63),b=a.n(f),h=a(438),g=a(50),v=a(437),x=a(27),j=a(428),E=a(6),O=a(29),_=a.n(O),y=a(24),N=a(212),w=function(e){var t,a=e.classes,r=e.className,n=e.outlined,o=e.squared,l=e.children,i=Object(y.a)(e,["classes","className","outlined","squared","children"]),c=_()((t={},Object(E.a)(t,a.root,!0),Object(E.a)(t,a.squared,o),Object(E.a)(t,a.outlined,n),t),r);return m.a.createElement(N.a,Object.assign({},i,{className:c}),l)};w.defaultProps={squared:!1,outlined:!0,elevation:0};var P=Object(i.a)((function(e){return{root:{borderRadius:"4px"},squared:{borderRadius:0},outlined:{border:"1px solid ".concat(e.palette.border)}}}))(w),S=Object(i.a)((function(){return{root:{display:"flex",flexDirection:"column",minWidth:"100%",minHeight:"100% !important"},fullHeight:{minHeight:"100% !important"}}}))((function(e){var t,a=e.classes,r=e.className,n=e.outlined,o=e.squared,l=e.fullHeight,i=e.children,c=_()(a.root,(t={},Object(E.a)(t,a.fullHeight,l),Object(E.a)(t,r,r),t));return m.a.createElement(P,{className:c,elevation:0,outlined:n,squared:o},i)})),F=Object(i.a)((function(e){return{root:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3),paddingTop:e.spacing(2),paddingBottom:e.spacing(2),flexGrow:1},noPadding:{padding:0}}}))((function(e){var t,a=e.classes,r=e.className,n=e.children,o=e.noPadding,l=_()((t={},Object(E.a)(t,a.root,!0),Object(E.a)(t,a.noPadding,o),t),r);return m.a.createElement("div",{className:l},n)})),k=Object(i.a)((function(e){return{root:{alignItems:"center",borderBottom:"1px solid ".concat(e.palette.border),borderTopLeftRadius:"2px",borderTopRightRadius:"2px",display:"flex",height:"64px",justifyContent:"space-between",paddingLeft:e.spacing(3),paddingRight:e.spacing(3),background:"rgba("+c.b.rgb.default+", 0.05)",position:"relative"},noDivider:{borderBottom:"none"},noPadding:{padding:0}}}))((function(e){var t,a=e.classes,r=e.className,n=e.noDivider,o=e.noPadding,l=e.children,i=_()((t={},Object(E.a)(t,a.root,!0),Object(E.a)(t,a.noDivider,n),Object(E.a)(t,a.noPadding,o),t),r);return m.a.createElement(s.a,{className:i},l)})),C=a(77),L=a(43),R=a.n(L),T=a(7),V=a.n(T),D=a(45),H=function(e){var t=e.classes,a=(e.className,e.icon),r=e.title,n=e.subtitle,o=(e.description,e.color),l=e.icon_color,i=e.title_color,c=e.subtitle_color;return m.a.createElement(s.a,{className:t.portletLabelContainer,style:o?{color:o}:{}},a&&m.a.createElement(C.a,{className:t.labelIcon,variant:"h3",style:l?{color:l}:{}}," ",a," "),r&&m.a.createElement(C.a,{className:t.labelTitle,variant:"h5",style:i?{color:i}:{}}," ",r," "),n&&m.a.createElement(C.a,{className:t.subtitle,variant:"subtitle2",style:c?{color:c}:{}},n))};H.defaultProps={classes:V.a.object.isRequired,color:c.b.hex.default,title_color:c.b.hex.default,subtitle_color:c.b.hex.grey,icon_color:c.b.hex.default,description_color:c.b.hex.default};var M=Object(D.a)(R()((function(e){return{portletLabelContainer:{position:"relative",padding:"0",marging:"0",display:"flex",alignItems:"center"},labelIcon:{position:"relative !important",windth:"auto !important",fontSize:"1.3rem",marginRight:"1.3rem"},labelTitle:{fontWeight:600,marginLeft:"0.3rem",width:"auto"},subtitle:{fontWeight:500,marginLeft:"1rem"},description:{marginLeft:"1rem"}}}))(H)),q=a(21),z=a(453),B=a(99),U=a(147),W=a(1371),A=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(e){var n;Object(r.a)(this,a),(n=t.call(this,e)).state={excludedFields:[],initialValues:{}};var o=e.auth,l=o.user;return n.state.user_id=o.user._id,n.state.excludedFields=["email_address","password","login_attempts","last_login_attempt","role","provider","provider_account_id","avatar","status","account_verified","account_verifacation_code","account_verifacation_mode","password_reset_code","password_reset_code_expiration","preferences","documents"],n.state.formValues=l,n.handleProfileFormSubmit=n.handleProfileFormSubmit.bind(Object(x.a)(n)),n}return Object(n.a)(a,[{key:"componentDidMount",value:function(){var e=this;B.a.profile({}).then((function(t){if(!t.err){for(var a=t.body.data,r=0;r<e.state.excludedFields.length;r++)delete a[e.state.excludedFields[r]];e.setState((function(e){return{formValues:a}}))}})).catch((function(e){console.log(e)}))}},{key:"handleProfileFormSubmit",value:function(e,t){var a=this.props.updateCurrentUser;return B.a.update_profile(e).then((function(e){return a(e.body.data),!0})).catch((function(e){throw e}))}},{key:"render",value:function(){var e=this.props.classes;return m.a.createElement(S,{className:e.root},m.a.createElement(k,null,m.a.createElement(M,{subtitle:"The information can be edited",title:"Profile"})),m.a.createElement(F,null,Object.keys(this.state.formValues).length>0?m.a.createElement(W.a,{defination:z.a,onSubmit:this.handleProfileFormSubmit,record:this.state.user_id,initialValues:this.state.formValues,form:"user_profile_form",fields:this.state.excludedFields,exclude:!0,submit_btn_text:"Update Profile",onSubmitSuccessMessage:"Profile updated",show_discard:!1,show_title:!1}):m.a.createElement(s.a,null,m.a.createElement(j.a,{color:"secondary"}),m.a.createElement(q.a,null,"Loading Profile "))))}}]),a}(d.Component),I=Object(g.a)(b()(Object(i.a)((function(e){return{root:{},field:{margin:e.spacing(3)},textField:{width:"420px",maxWidth:"100%",marginRight:e.spacing(3)},portletFooter:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3),paddingTop:e.spacing(2),paddingBottom:e.spacing(2)}}})),Object(p.b)((function(e){return{auth:e.auth}}),{updateCurrentUser:U.f}))(A)),G=a(1257),J=Object(i.a)((function(e){return{root:{paddingBottom:e.spacing(),paddingTop:e.spacing(),paddingLeft:e.spacing(2),paddingRight:e.spacing(2),borderTop:"1px solid ".concat(e.palette.border),borderBottomLeftRadius:"2px",borderBottomRightRadius:"2px"},noDivider:{borderTop:"none"}}}))((function(e){var t,a=e.classes,r=e.className,n=e.noDivider,o=e.children,l=_()((t={},Object(E.a)(t,a.root,!0),Object(E.a)(t,a.noDivider,n),t),r);return m.a.createElement("div",{className:l},o)})),K=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(e){var n;Object(r.a)(this,a),(n=t.call(this,e)).state={avatar:!1,includedFields:["avatar","documents"],formValues:null};var o=e.auth;return o.user.avatar&&(n.state.formValues={avatar:o.user.avatar,documents:o.user.douments}),n.state.user_id=o.user._id,n.handleProfileFormSubmit=n.handleProfileFormSubmit.bind(Object(x.a)(n)),n}return Object(n.a)(a,[{key:"componentDidMount",value:function(){var e=this;B.a.profile({}).then((function(t){if(!t.err){var a=t.body.data;a.avatar&&e.setState((function(e){return{formValues:{avatar:a.avatar,documents:a.documents}}}))}})).catch((function(e){console.log(e)}))}},{key:"handleProfileFormSubmit",value:function(e,t){var a=this.props.updateCurrentUser;return B.a.update_profile(e).then((function(e){return a(e.body.data),!0})).catch((function(e){throw e}))}},{key:"render",value:function(){var e=this.props,t=e.classes,a=(e.auth,t.root);return m.a.createElement(S,{className:a},m.a.createElement(F,null,m.a.createElement("div",{className:t.progressWrapper},m.a.createElement(C.a,{variant:"body1"},"Profile Completeness: 70%"),m.a.createElement(G.a,{value:70,variant:"determinate"})),m.a.createElement(s.a,null,m.a.createElement(u.a,{xs:12},m.a.createElement(W.a,{defination:z.a,onSubmit:this.handleProfileFormSubmit,record:this.state.user_id,initialValues:this.state.formValues,form:"user_avatar_form",fields:this.state.includedFields,submit_btn_text:"Update Profile",show_discard:!1,show_title:!1,onSubmitSuccessMessage:"Profile changes saved"})))),m.a.createElement(J,null))}}]),a}(d.Component),Q=Object(g.a)(b()(Object(i.a)((function(e){return{root:{},details:{display:"flex"},info:{},locationText:{marginTop:e.spacing(),color:e.palette.text.secondary},dateText:{color:e.palette.text.secondary},avatar:{marginLeft:"auto",height:"110px",width:"110px",flexShrink:0,flexGrow:0},iconAvatar:{marginLeft:"auto",height:"110px",width:"110px",flexShrink:0,flexGrow:0,fontSize:"10rem",backgroundColor:"rgba("+c.b.rgb.default+", 0.1)",color:c.b.hex.accent},progressWrapper:{marginTop:e.spacing(2)},uploadButton:{marginRight:e.spacing(2)}}})),Object(p.b)((function(e){return{auth:e.auth}}),{updateCurrentUser:U.f}))(K)),X=a(1444),Y=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(n.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.location,a=e.appendNavHistory;a&&t&&a({name:"account",uri:t.pathname,title:"My Account",view:null,color:c.b.hex.primary,scrollTop:0})}},{key:"render",value:function(){var e=this.props.classes;return m.a.createElement(s.a,{className:e.root},m.a.createElement(s.a,null,m.a.createElement(u.a,{xs:12},m.a.createElement(X.a,null))),m.a.createElement(s.a,null,m.a.createElement(u.a,{xs:12},m.a.createElement(Q,null))),m.a.createElement(s.a,null,m.a.createElement(u.a,{xs:12},m.a.createElement(I,null))))}}]),a}(d.Component);t.default=Object(g.a)(b()(Object(i.a)(v.a),Object(p.b)((function(e){return{auth:e.auth}}),{appendNavHistory:h.a}))(Y))}}]);
//# sourceMappingURL=28.cb3b5c7f.chunk.js.map