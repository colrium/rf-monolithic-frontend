(this.webpackJsonpdashboard=this.webpackJsonpdashboard||[]).push([[19],{1365:function(e,a,t){e.exports=t.p+"static/media/logo-chevron.cc0777ae.svg"},1416:function(e,a,t){"use strict";var n=t(47);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var r=n(t(0)),l=(0,n(t(61)).default)(r.default.createElement("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBack");a.default=l},1480:function(e,a,t){"use strict";var n=t(23),r=t(12),l=t(14),s=t(26),c=t(27),i=t(18),m=t(17),o=t(1250),d=t(1303),u=t(1365),h=t.n(u),v=t(25),p=t(59),f=t(22),N=t(16),E=t(437),b=t(20),g=t(0),O=t.n(g),x=t(35),w=t(40),S=t(11),y=t(50),j=function(e){Object(i.a)(t,e);var a=Object(m.a)(t);function t(e){var n;Object(l.a)(this,t),(n=a.call(this,e)).state={item:{},options:{},options_cost:0,selected_image:null,loading:!1,canAddToCart:!1,variantsError:!1},n.handleOnItemAdd=function(e){var a=n.props,t=a.onItemAdd,r=(a.addToCart,n.state),l=r.item,s=r.options,c=r.options_cost;Function.isFunction(t)&&t({item:l,options:s,options_cost:c})},n.handleOnVariantsChange=function(e){return function(e){var a={};if(JSON.isJSON(e))for(var t=0,l=Object.entries(e);t<l.length;t++){var s=Object(r.a)(l[t],2),c=s[0],i=s[1];a[c]=i}n.calculateOptionsPrice(a),n.canAddToCart(a),n.setState({options:a})}},n.handleOnImageSelect=function(e){return function(a){n.setState({selected_image:e})}};var s=n.props,i=s.item,m=s.options,o=s.loading;return n.state.item=i,n.state.loading=!!o,n.state.options=JSON.isJSON(m)?m:{},n.state.selected_image=JSON.isJSON(i)&&i.featured_image?w.attachments.getAttachmentFileUrl(i.featured_image):null,n.handleOnItemAdd=n.handleOnItemAdd.bind(Object(c.a)(n)),n.handleOnImageSelect=n.handleOnImageSelect.bind(Object(c.a)(n)),n.handleOnVariantsChange=n.handleOnVariantsChange.bind(Object(c.a)(n)),n}return Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.state,a=e.item;e.options,e.loading;JSON.isJSON(a)&&(this.calculateOptionsPrice(),this.canAddToCart())}},{key:"getSnapshotBeforeUpdate",value:function(e){return this.mounted=!1,Object.areEqual(e,this.props)?{applyChanges:!1}:{applyChanges:!0}}},{key:"componentDidUpdate",value:function(e,a,t){if(t.applyChanges){var n=JSON.updateJSON(this.state,this.props);console.log("newState",n),this.setState(n),this.calculateOptionsPrice(),this.canAddToCart()}}},{key:"calculateOptionsPrice",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=this.state.item;if(JSON.isJSON(a)){var t=a.variants,r=a.cost;JSON.isJSON(e)||(e=this.state.options);var l=0;if(JSON.isJSON(t))for(var s=0,c=Object.values(t);s<c.length;s++){var i=c[s],m=i.name,o=Object(n.a)(i,["name"]);if(e[m])if("amount"==o.cost_effect_type)l+=Number.parseNumber(o.cost_effect,0);else if("percentage"==o.cost_effect_type){var d=Number.parseNumber(r,0)*Number.parseNumber(o.cost_effect,0)/100;l+=d}}this.setState({options_cost:l})}}},{key:"canAddToCart",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=this.state.item;if(JSON.isJSON(a)){var t=a.variants;JSON.isJSON(e)||(e=this.state.options);var n=!0,l=!1;if(JSON.isJSON(t))for(var s=0,c=Object.entries(t);s<c.length;s++){var i=Object(r.a)(c[s],2),m=(i[0],i[1]);if(m.required&&(!(m.name in e)||!e[m.name])){n=!1,l=m.label+" is required ";break}}this.setState({canAddToCart:n,variantsError:l})}}},{key:"render",value:function(){var e=this,a=this.state,t=a.item,n=a.options_cost;return a.loading?O.a.createElement(f.a,{className:"p-0 m-0"},O.a.createElement(f.a,null,O.a.createElement(N.a,{xs:12,md:4,className:"p-0 m-0"},O.a.createElement(f.a,{className:"p-0 m-0"},O.a.createElement(N.a,{xs:12},O.a.createElement(d.a,{variant:"rect",width:"90%",height:28})),O.a.createElement(N.a,{xs:12},O.a.createElement(d.a,{variant:"rect",width:"30%",height:37})),O.a.createElement(N.a,{xs:12},O.a.createElement(d.a,{variant:"text",className:"mb-1",width:"80%"}),O.a.createElement(d.a,{variant:"text",className:"mb-1",width:"80%"}),O.a.createElement(d.a,{variant:"text",className:"mb-1",width:"70%"}),O.a.createElement(d.a,{variant:"text",className:"mb-1",width:"30%"})),O.a.createElement(N.a,{xs:12,className:"flex"},O.a.createElement(d.a,{variant:"rect",className:"m-1 w-16 h-8 rounded-full"}),O.a.createElement(d.a,{variant:"rect",className:"m-1 w-16 h-8 rounded-full"}),O.a.createElement(d.a,{variant:"rect",className:"m-1 w-16 h-8 rounded-full"})))),O.a.createElement(N.a,{xs:12,md:8,className:"p-0 m-0"},O.a.createElement(f.a,{className:"p-0 m-0 flex flex-col"},O.a.createElement(d.a,{variant:"rect",className:"w-full",height:400}),O.a.createElement("div",{className:"p-2 w-full flex"},O.a.createElement(d.a,{variant:"rect",className:"sm:w-1/4 md:w-16 mx-1",width:74,height:64}),O.a.createElement(d.a,{variant:"rect",className:"sm:w-1/4 md:w-16 mx-1",width:74,height:64}),O.a.createElement(d.a,{variant:"rect",className:"sm:w-1/4 md:w-16 mx-1",width:74,height:64}))))),O.a.createElement(f.a,null,O.a.createElement(N.a,{xs:12,className:"px-0 m-0"},O.a.createElement(d.a,{variant:"rect",className:"w-24 rounded",height:34})))):O.a.createElement(f.a,{className:"p-0 m-0"},O.a.createElement(N.a,{xs:12,md:4,className:"p-0 m-0"},O.a.createElement(f.a,{className:"p-0 m-0"},O.a.createElement(N.a,{xs:12},O.a.createElement(b.a,{variant:"h3",gutterBottom:!0},t.name)),t.cost>0&&JSON.isJSON(t.currency)&&O.a.createElement(N.a,{xs:12},O.a.createElement("span",{className:"text-2xl text-gray-500"},t.currency.html_symbol),O.a.createElement("span",{className:"text-3xl text-gray-900"},(t.cost>0?t.cost:0)+n)),O.a.createElement(N.a,{xs:12},O.a.createElement("span",{className:"text-gray-500 mr-2"},"Variants price:"),O.a.createElement("span",{className:"text-gray-900"},(JSON.isJSON(t.currency)&&t.currency.html_symbol?t.currency.html_symbol:"")+" "+n)),O.a.createElement(N.a,{xs:12},O.a.createElement(b.a,{variant:"body1",gutterBottom:!0},t.description)),O.a.createElement(N.a,{xs:12},"service"===t.item_type&&O.a.createElement(o.a,{className:"m-1",size:"small",label:"Service"}),"product"===t.item_type&&O.a.createElement(o.a,{className:"m-1",size:"small",label:"Product"}),t.available&&O.a.createElement(o.a,{className:"m-1",size:"small",label:"Available"}),t.taxable&&O.a.createElement(o.a,{className:"m-1",size:"small",label:"Taxable"}),t.discountable&&O.a.createElement(o.a,{className:"mx-1",size:"small",label:"Discountable"}),Array.isArray(t.categories)&&O.a.createElement("div",null," ",t.categories.map((function(e,a){return O.a.createElement(o.a,{label:e,className:"m-1",size:"small",key:"category-"+a})}))," "),Array.isArray(t.tags)&&O.a.createElement("div",null," ",t.tags.map((function(e,a){return O.a.createElement(o.a,{label:e,className:"m-1",size:"small",key:"tag-"+a})}))," ")))),O.a.createElement(N.a,{xs:12,md:8,className:"p-0 m-0"},O.a.createElement(f.a,{className:"p-0 m-0 flex flex-col"},O.a.createElement("div",{className:"p-2 w-full flex-grow"},O.a.createElement(E.a,{className:"w-full h-auto",src:this.state.selected_image?this.state.selected_image:h.a})),O.a.createElement("div",{className:"p-2 w-full flex"},t.featured_image&&O.a.createElement(E.a,{className:"sm:w-1/4 md:w-16 mx-1 cursor-pointer hover:opacity-50",src:w.attachments.getAttachmentFileUrl(t.featured_image),onClick:this.handleOnImageSelect(w.attachments.getAttachmentFileUrl(t.featured_image))}),t.images.map((function(a,t){return O.a.createElement(E.a,{className:"sm:w-1/4 md:w-16 mx-1 cursor-pointer hover:opacity-50",src:w.attachments.getAttachmentFileUrl(a),onClick:e.handleOnImageSelect(w.attachments.getAttachmentFileUrl(a)),key:"item-image-"+t})}))))),O.a.createElement(f.a,{className:"px-0 m-0"},JSON.isJSON(t.variants)&&JSON.isJSON(t.variants)&&O.a.createElement(N.a,{xs:12,className:"px-0 m-0"},O.a.createElement(p.d,{label:"Variants",mode:"generation",name:"variants",blueprint:t.variants,value:this.state.options,onChange:this.handleOnVariantsChange("variants"),variant:"outlined",error:this.state.variantsError,validate:!0})),O.a.createElement(N.a,{xs:12,className:"px-0 m-0"},O.a.createElement(v.a,{color:"primary",onClick:this.handleOnItemAdd,disabled:!this.state.canAddToCart}," ","Add to Cart"," "))))}}]),t}(O.a.Component);a.a=Object(y.a)(Object(x.b)((function(e){return{auth:e.auth,cart:e.ecommerce.cart}}),{addToCart:S.fb})(j))},1948:function(e,a,t){"use strict";t.r(a);var n=t(23),r=t(14),l=t(26),s=t(18),c=t(17),i=t(3),m=t(22),o=t(16),d=t(0),u=t.n(d),h=t(50),v=t(27),p=t(109),f=t(1416),N=t.n(f),E=t(35),b=t(11),g=t(1480),O=t(6),x=t(2),w=t(1303),S=t(1365),y=t.n(S),j=t(25),_=t(437),k=t(40),J=function(e){Object(s.a)(t,e);var a=Object(c.a)(t);function t(e){var n;Object(r.a)(this,t),(n=a.call(this,e)).state={retailitems:[],loading:!0,load_err:!1},n.handleOnItemSelect=function(e){return function(a){var t=n.props.onItemSelect;Function.isFunction(t)&&t(e,a)}};var l=n.props.params;return n.state.params={p:1},JSON.isJSON(l)&&(n.state.params=Object(x.a)(Object(x.a)({},l),{},{p:1})),n.handleOnItemSelect=n.handleOnItemSelect.bind(Object(v.a)(n)),n}return Object(l.a)(t,[{key:"componentDidMount",value:function(){this.loadItems()}},{key:"componentDidUpdate",value:function(e,a,t){var n=this,r=this.props.params,l={p:1};JSON.isJSON(r)&&(l=Object(x.a)(Object(x.a)({},r),{},{p:1}),Object.areEqual(this.state.params,l)||this.setState({params:r},(function(){n.loadItems()})))}},{key:"loadItems",value:function(){var e=this,a=this.state.params;this.setState((function(e){return{loading:!0,load_err:null}})),k.retailitems.getRecords(a).then((function(a){e.setState((function(e){return{retailitems:a.body.data,loading:!1,load_err:null}}))})).catch((function(a){e.setState((function(e){return{retailitems:[],loading:!1,load_err:a}}))}))}},{key:"render",value:function(){var e=this;return u.a.createElement(m.a,{className:"p-0 m-0"},this.state.loading&&u.a.createElement(m.a,{className:"flex-10"},u.a.createElement(o.a,{xs:12,md:4,lg:3},u.a.createElement("div",{className:"bg-white shadow-xl rounded-lg flex flex-col overflow-hidden"},u.a.createElement(w.a,{variant:"rect",width:"100%",height:224}),u.a.createElement(w.a,{variant:"text",width:"95%",className:"mt-2 mx-auto"}),u.a.createElement(w.a,{variant:"rect",width:"30%",height:50,className:"mt-2 ml-4"}),u.a.createElement(w.a,{variant:"text",width:"95%",className:"mt-2 mx-auto"}),u.a.createElement(w.a,{variant:"text",width:"95%",className:"mt-6 mx-auto"}),u.a.createElement(w.a,{variant:"rect",width:"80%",height:34,className:"mt-8 mb-6 mx-auto rounded"}))),u.a.createElement(o.a,{xs:12,md:4,lg:3},u.a.createElement("div",{className:"bg-white shadow-xl rounded-lg flex flex-col overflow-hidden"},u.a.createElement(w.a,{variant:"rect",width:"100%",height:224}),u.a.createElement(w.a,{variant:"text",width:"95%",className:"mt-2 mx-auto"}),u.a.createElement(w.a,{variant:"rect",width:"30%",height:50,className:"mt-2 ml-4"}),u.a.createElement(w.a,{variant:"text",width:"95%",className:"mt-2 mx-auto"}),u.a.createElement(w.a,{variant:"text",width:"95%",className:"mt-6 mx-auto"}),u.a.createElement(w.a,{variant:"rect",width:"80%",height:34,className:"mt-8 mb-6 mx-auto rounded"}))),u.a.createElement(o.a,{xs:12,md:4,lg:3},u.a.createElement("div",{className:"bg-white shadow-xl rounded-lg flex flex-col overflow-hidden"},u.a.createElement(w.a,{variant:"rect",width:"100%",height:224}),u.a.createElement(w.a,{variant:"text",width:"95%",className:"mt-2 mx-auto"}),u.a.createElement(w.a,{variant:"rect",width:"30%",height:50,className:"mt-2 ml-4"}),u.a.createElement(w.a,{variant:"text",width:"95%",className:"mt-2 mx-auto"}),u.a.createElement(w.a,{variant:"text",width:"95%",className:"mt-6 mx-auto"}),u.a.createElement(w.a,{variant:"rect",width:"80%",height:34,className:"mt-8 mb-6 mx-auto rounded"})))),!this.state.loading&&Array.isArray(this.state.retailitems)&&u.a.createElement(m.a,{className:"p-4 m-0"},this.state.retailitems.map((function(a,t){var n;return a.available&&u.a.createElement(o.a,(n={xs:12},Object(O.a)(n,"xs",12),Object(O.a)(n,"md",4),Object(O.a)(n,"lg",3),Object(O.a)(n,"className","flex flex-col"),Object(O.a)(n,"key",a._id),n),u.a.createElement("div",{className:"bg-white shadow-xl rounded-lg overflow-hidden"},u.a.createElement("div",{className:"bg-cover bg-center h-56 p-0"},u.a.createElement(_.a,{className:"w-full h-full",src:a.featured_image?k.attachments.getAttachmentFileUrl(a.featured_image):y.a})),u.a.createElement("div",{className:"p-4"},u.a.createElement("p",{className:"uppercase truncate tracking-wide text-sm  text-gray-900"},a.name),a.cost>0&&JSON.isJSON(a.currency)&&u.a.createElement("p",{className:"text-3xl text-gray-900 my-4"},a.currency.html_symbol+" "+a.cost),u.a.createElement("p",{className:"truncate tracking-wide text-sm  text-gray-500"},a.description?a.description:"No description available")),u.a.createElement("div",{className:"flex p-4 border-t border-gray-300 text-gray-700"},u.a.createElement("div",{className:"flex-1 inline-flex items-center"},u.a.createElement("p",{className:" text-gray-900 font-bold"},"Type")),u.a.createElement("div",{className:"flex-1 inline-flex items-left"},u.a.createElement("p",{className:"capitalize"},a.item_type))),u.a.createElement("div",{className:"px-4 pt-3 pb-4 border-t border-gray-300 bg-gray-100"},u.a.createElement(j.a,{className:"w-full",color:"primary",onClick:e.handleOnItemSelect(a)},"View"))))}))))}}]),t}(u.a.Component),C=Object(h.a)(J),A=function(e){Object(s.a)(t,e);var a=Object(c.a)(t);function t(e){var n;Object(r.a)(this,t),(n=a.call(this,e)).state={view:"gridview",prev_view:"gridview",items:[],context:null,params:{}},n.handleOnItemSelect=function(e,a){n.props.onContextChange;n.setState((function(a){return{view:"itemview",context:e,prev_view:a.view}}))},n.handleOnItemAdd=function(e){var a=n.props.addToCart;Function.isFunction(a)&&a(e),n.setState((function(e){return{view:e.prev_view,prev_view:e.view,context:{}}}))},n.handleOnBackClick=function(e){n.setState((function(e){return{view:e.prev_view,prev_view:e.view}}))};var l=e.context,s=e.view;return l&&(n.state.context=l),s&&(n.state.view=s),n.handleOnItemSelect=n.handleOnItemSelect.bind(Object(v.a)(n)),n.handleOnItemAdd=n.handleOnItemAdd.bind(Object(v.a)(n)),n.handleOnBackClick=n.handleOnBackClick.bind(Object(v.a)(n)),n}return Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(e,a,t){var n=this.props,r=n.context,l=n.view;Object.areEqual(this.state.context,r)&&Object.areEqual(this.state.view,l)||this.setState({view:l,context:r})}},{key:"render",value:function(){return u.a.createElement(m.a,{className:"p-0 m-0"},u.a.createElement(m.a,{className:"p-0 m-0"},!["gridview"].includes(this.state.view)&&u.a.createElement(o.a,{xs:6,className:"float-left"},u.a.createElement(p.a,{"aria-label":"back",onClick:this.handleOnBackClick},u.a.createElement(N.a,{fontSize:"inherit"})))),u.a.createElement(m.a,{className:"p-0 m-0"},"gridview"===this.state.view&&u.a.createElement(C,{onItemSelect:this.handleOnItemSelect,params:this.state.params}),"itemview"===this.state.view&&u.a.createElement(g.a,{onItemAdd:this.handleOnItemAdd,item:this.state.context})))}}]),t}(u.a.Component),I=Object(h.a)(Object(E.b)((function(e){return{auth:e.auth,order_progress:e.ecommerce.order_progress}}),{addToCart:b.fb,removeFromCart:b.ub,closeDialog:b.pb,openDialog:b.sb})(A)),F=function(e){Object(s.a)(t,e);var a=Object(c.a)(t);function t(e){return Object(r.a)(this,t),a.call(this,e)}return Object(l.a)(t,[{key:"componentDidMount",value:function(){document.title=i.a.title("Catalog")}},{key:"render",value:function(){var e=this.props;e.classes,Object(n.a)(e,["classes"]);return u.a.createElement(m.a,{style:{minHeight:"90vh"},className:"relative"},u.a.createElement(o.a,{xs:12,sm:12,md:10,className:"m-auto"},u.a.createElement(I,{className:"w-full"})))}}]),t}(u.a.Component);a.default=Object(h.a)(F)}}]);
//# sourceMappingURL=19.55837a33.chunk.js.map