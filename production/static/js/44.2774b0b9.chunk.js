(this.webpackJsonpdashboard=this.webpackJsonpdashboard||[]).push([[44],{1908:function(e,t,a){"use strict";a.r(t);var n=a(6),i=a(2),r=a(24),c=a(12),o=a(14),s=a(26),l=a(18),u=a(17),p=a(13),d=a(3),y=a(29),m=a.n(y),g=(a(36),a(41),a(433)),b=a(687),f=a(434),h=a(435),O=a(22),v=a(16),j=(a(1487),a(21)),N=a(72),S=a(0),q=a.n(S),J=a(35),x=a(601),E=a(63),k=a.n(E),w=a(11),z=a(50),_=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;Object(o.a)(this,a),(n=t.call(this,e)).state={counts:{},aggregates:{}};var i=n.props;i.contexts,i.definations,i.cache;return n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.contexts,n=t.definations;Object.entries(a).map((function(t){var a=Object(c.a)(t,2),i=a[0],o=a[1],s=(o.title,o.type),l=(o.icon,o.description,o.query),u=o.value;Object(r.a)(o,["title","type","icon","description","query","value"]);n[i]&&["count","aggregates"].includes(s)&&!u&&e.loadData(i,s,JSON.isJSON(l)?l:{})}))}},{key:"loadData",value:function(e,t,a){var n=this.props,i=n.definations,r=n.apiCallRequest,c=i[e];c&&r(c.name+("records"!==t?"_"+t:""),{uri:c.endpoint,type:t,params:JSON.isJSON(a)?a:{},data:{},cache:!0})}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.className,o=(e.auth,e.definations),s=e.cache,l=e.contexts,u=e.theme,p=e.wrapperSize,d=m()(t.root,a),y={count:0,aggregates:{}},N={};return JSON.isJSON(l)&&Object.entries(l).map((function(e){var t=Object(c.a)(e,2),a=t[0],n=t[1],l=n.title,u=n.type,p=n.icon,d=n.description,m=n.query,g=n.value,b=Object(r.a)(n,["title","type","icon","description","query","value"]);o[a]&&(JSON.isJSON(s.data)&&!g?a+"_"+u in s.data?N[a]=Object(i.a)(Object(i.a)({},b),{},{type:u,title:l||o[a].label,description:d||("count"==u?"Total ":"")+o[a].label,icon:p||o[a].icon,query:JSON.isJSON(m)?m:{},value:s.data[a+"_"+u]}):N[a]=Object(i.a)(Object(i.a)({},b),{},{type:u,title:l||o[a].label,description:d||("count"==u?"Total ":"")+o[a].label,icon:p||o[a].icon,query:JSON.isJSON(m)?m:{},value:y[u]}):N[a]=g?Object(i.a)(Object(i.a)({},b),{},{type:u,title:l||o[a].label,description:d||("count"==u?"Total ":"")+o[a].label,icon:p||o[a].icon,query:JSON.isJSON(m)?m:{},value:g}):Object(i.a)(Object(i.a)({},b),{},{type:u,title:l||o[a].label,description:d||("count"==u?"Total ":"")+o[a].label,icon:p||o[a].icon,query:JSON.isJSON(m)?m:{},value:y[u]}))})),q.a.createElement(O.a,Object(n.a)({className:"p-0 m-0"},"className",d),Object.entries(N).map((function(e,t){var a=Object(c.a)(e,2),n=a[0],i=a[1],o=i.title,s=i.type,l=(i.icon,i.description),d=i.size,y=(i.query,i.value),m=i.resolveValue,N=i.view;Object(r.a)(i,["title","type","icon","description","size","query","value","resolveValue","view"]);return q.a.createElement(v.a,{xs:12,md:d||(p>=8?3:6),key:n+"-numbers"},q.a.createElement(g.a,{elevation:1,style:{backgroundColor:u.palette.background.paper}},q.a.createElement(h.a,{title:q.a.createElement(j.a,{variant:"h5",style:{color:u.palette.text.disabled,fontWeight:"500"}},Function.isFunction(o)?o(y):o)}),q.a.createElement(f.a,{className:"p-0 m-0"},q.a.createElement(O.a,{className:"p-0 m-0"},q.a.createElement(v.a,{xs:12,className:"flex items-center justify-center"},"count"===s&&q.a.createElement(j.a,{variant:"h1",style:{color:u.palette.accent.main,fontWeight:"700",fontSize:"3rem"}}," ",y," "),"aggregates"===s&&!N&&Function.isFunction(m)&&q.a.createElement(j.a,{variant:"h1",style:{color:u.palette.accent.main,fontWeight:"700",fontSize:"3rem"}}," ",m(y)," ")))),q.a.createElement(b.a,null,q.a.createElement(j.a,{variant:"body2",style:{color:u.palette.text.default}},Function.isFunction(l)?l(y):l))))})))}}]),a}(S.Component);_.defaultProps={showGraphs:!0,wrapperSize:12,contexts:{surveys:{type:"count",query:{}},commissions:{type:"count",query:{}},responses:{type:"count",query:{}},queries:{type:"count",query:{}},tracks:{type:"count",query:{}},applications:{type:"count",query:{}},users:{type:"aggregates",query:{group:"gender",role:"collector"},title:function(e){var t="";return Array.isArray(e)&&e.map((function(e){e._id&&(t=t+(t.length>0?" / ":"")+e._id.humanize())})),t},description:function(e){var t="";return Array.isArray(e)&&e.map((function(e){e._id&&(t=t+(t.length>0?" / ":"")+e._id.humanize())})),"Total "+t},resolveValue:function(e){var t="";return Array.isArray(e)&&e.map((function(e){e._id&&e.count&&(t=t+(t.length>0?" / ":"")+e.count)})),t}}}};t.default=Object(N.c)(k()(Object(p.a)((function(e){return{root:{padding:"0"},content:{alignItems:"center",display:"flex",padding:e.spacing()},title:{color:e.palette.text.secondary,fontWeight:700,padding:e.spacing(2)},value:{marginTop:e.spacing(),padding:e.spacing(2)},iconWrapper:{alignItems:"center",borderRadius:"50%",display:"inline-flex",height:"4rem",justifyContent:"center",marginLeft:"auto",width:"4rem","&:hover":{background:"rgba("+d.b.rgb.default+", 0.3)"}},icon:{color:d.b.hex.inverse,fontSize:"2rem",height:"2rem",width:"2rem"},footer:{marginTop:e.spacing(),display:"flex",alignItems:"center",padding:e.spacing()},difference:{alignItems:"center",color:d.b.hex.error,display:"inline-flex",fontWeight:700},caption:{marginLeft:e.spacing()}}})),Object(J.b)((function(e){return{auth:e.auth,cache:e.cache}}),{apiCallRequest:w.gb}),x.a,N.c,z.a)(_))}}]);
//# sourceMappingURL=44.2774b0b9.chunk.js.map