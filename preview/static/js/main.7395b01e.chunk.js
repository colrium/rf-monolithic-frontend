(this.webpackJsonpdashboard=this.webpackJsonpdashboard||[]).push([[0],{103:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i}));var a={dateformats:{date:"d M Y",time:"h:i:s A",datetime:"d M Y h:i:s A",month:"F",year:"Y",week:"W"}},i={currency:{name:"Kenyan shilling",symbol:"KES"},regions_type:"county",regions:[{name:"Baringo",capital:"Kabarnet",code:30,sub_counties:["Baringo central","Baringo north","Baringo south","Eldama ravine","Mogotio","Tiaty"]},{name:"Bomet",capital:"Bomet",code:36,sub_counties:["Bomet central","Bomet east","Chepalungu","Konoin","Sotik"]},{name:"Bungoma",capital:"Bungoma",code:39,sub_counties:["Bumula","Kabuchai","Kanduyi","Kimilil","Mt Elgon","Sirisia","Tongaren","Webuye east","Webuye west"]},{name:"Busia",capital:"Busia",code:40,sub_counties:["Budalangi","Butula","Funyula","Nambele","Teso North","Teso South"]},{name:"Elgeyo-Marakwet",capital:"Iten",code:28,sub_counties:["Keiyo north","Keiyo south","Marakwet east","Marakwet west"]},{name:"Embu",capital:"Embu",code:14,sub_counties:["Manyatta","Mbeere north","Mbeere south","Runyenjes"]},{name:"Garissa",capital:"Garissa",code:7,sub_counties:["Daadab","Fafi","Garissa","Hulugho","Ijara","Lagdera balambala"]},{name:"Homa Bay",capital:"Homa Bay",code:43,sub_counties:["Homabay town","Kabondo","Karachwonyo","Kasipul","Mbita","Ndhiwa","Rangwe","Suba"]},{name:"Isiolo",capital:"Isiolo",code:11,sub_counties:["Central","Garba tula","Kina","Merit","Oldonyiro","Sericho"]},{name:"Kajiado",code:34,sub_counties:["Isinya.","Kajiado Central.","Kajiado North.","Loitokitok.","Mashuuru."]},{name:"Kakamega",capital:"Kakamega",code:37,sub_counties:["Butere","Kakamega central","Kakamega east","Kakamega north","Kakamega south","Khwisero","Lugari","Lukuyani","Lurambi","Matete","Mumias","Mutungu","Navakholo"]},{name:"Kericho",capital:"Kericho",code:35,sub_counties:["Ainamoi","Belgut","Bureti","Kipkelion east","Kipkelion west","Soin sigowet"]},{name:"Kiambu",capital:"Kiambu",code:22,sub_counties:["Gatundu north","Gatundu south","Githunguri","Juja","Kabete","Kiambaa","Kiambu","Kikuyu","Limuru","Ruiru","Thika town","lari"]},{name:"Kilifi",capital:"Kilifi",code:3,sub_counties:["Genzw","Kaloleni","Kilifi north","Kilifi south","Magarini","Malindi","Rabai"]},{name:"Kirinyaga",capital:"Kerugoya/Kutus",code:20,sub_counties:["Kirinyaga central","Kirinyaga east","Kirinyaga west","Mwea east","Mwea west"]},{name:"Kisii",capital:"Kisii",code:45,sub_counties:[]},{name:"Kisumu",capital:"Kisumu",code:42,sub_counties:["Kisumu central","Kisumu east ","Kisumu west","Mohoroni","Nyakach","Nyando","Seme"]},{name:"Kitui",capital:"Kitui",code:15,sub_counties:["Ikutha","Katulani","Kisasi","Kitui central","Kitui west ","Lower yatta","Matiyani","Migwani","Mutitu","Mutomo","Muumonikyusu","Mwingi central","Mwingi east","Nzambani","Tseikuru"]},{name:"Kwale",capital:"Kwale",code:2,sub_counties:["Kinango","Lungalunga","Msambweni","Mutuga"]},{name:"Laikipia",capital:"Rumuruti",code:31,sub_counties:["Laikipia central","Laikipia east","Laikipia north","Laikipia west ","Nyahururu"]},{name:"Lamu",capital:"Lamu",code:5,sub_counties:["Lamu East","Lamu West"]},{name:"Machakos",capital:"Machakos",code:16,sub_counties:["Kathiani","Machakos town","Masinga","Matungulu","Mavoko","Mwala","Yatta"]},{name:"Makueni",capital:"Wote",code:17,sub_counties:["Kaiti","Kibwei west","Kibwezi east","Kilome","Makueni","Mbooni"]},{name:"Mandera",capital:"Mandera",code:9,sub_counties:["Banissa","Lafey","Mandera East","Mandera North","Mandera South","Mandera West"]},{name:"Marsabit",capital:"Marsabit",code:10,sub_counties:["Laisamis","Moyale","North hor","Saku"]},{name:"Meru",capital:"Meru",code:12,sub_counties:["Buuri","Igembe central","Igembe north","Igembe south","Imenti central","Imenti north","Imenti south","Tigania east","Tigania west"]},{name:"Migori",capital:"Migori",code:44,sub_counties:["Awendo","Kuria east","Kuria west","Mabera","Ntimaru","Rongo","Suna east","Suna west","Uriri"]},{name:"Mombasa",capital:"Mombasa City",code:1,sub_counties:["Changamwe","Jomvu","Kisauni","Likoni","Mvita","Nyali"]},{name:"Murang'a",capital:"Murang'a",code:21,sub_counties:["Gatanga","Kahuro","Kandara","Kangema","Kigumo","Kiharu","Mathioya","Murang\u2019a south"]},{name:"Nairobi",capital:"Nairobi City",code:47,sub_counties:["Dagoretti North Sub County","Dagoretti South Sub County ","Embakasi Central Sub Count","Embakasi East Sub County","Embakasi North Sub County ","Embakasi South Sub County","Embakasi West Sub County","Kamukunji Sub County","Kasarani Sub County ","Kibra Sub County ","Lang'ata Sub County ","Makadara Sub County","Mathare Sub County ","Roysambu Sub County ","Ruaraka Sub County ","Starehe Sub County ","Westlands Sub County "]},{name:"Nakuru",capital:"Nakuru",code:32,sub_counties:["Bahati","Gilgil","Kuresoi north","Kuresoi south","Molo","Naivasha","Nakuru town east","Nakuru town west","Njoro","Rongai","Subukia"]},{name:"Nandi",capital:"Kapsabet",code:29,sub_counties:["Aldai","Chesumei","Emgwen","Mosop","Namdi hills","Tindiret"]},{name:"Narok",capital:"Narok",code:33,sub_counties:["Narok east","Narok north","Narok south","Narok west","Transmara east","Transmara west"]},{name:"Nyamira",capital:"Nyamira",code:46,sub_counties:["Borabu","Manga","Masaba north","Nyamira north","Nyamira south"]},{name:"Nyandarua",capital:"Ol Kalou",code:18,sub_counties:["Kinangop","Kipipiri","Ndaragwa","Ol Kalou","Ol joro orok"]},{name:"Nyeri",capital:"Nyeri",code:19,sub_counties:["Kieni east","Kieni west","Mathira east","Mathira west","Mkurweni","Nyeri town","Othaya","Tetu"]},{name:"Samburu",capital:"Maralal",code:25,sub_counties:["Samburu east","Samburu north","Samburu west"]},{name:"Siaya",capital:"Siaya",code:41,sub_counties:["Alego usonga","Bondo","Gem","Rarieda","Ugenya","Unguja"]},{name:"Taita-Taveta",capital:"Voi",code:6,sub_counties:["Mwatate","Taveta","Voi","Wundanyi"]},{name:"Tana River",capital:"Hola",code:4,sub_counties:["Bura","Galole","Garsen"]},{name:"Tharaka-Nithi",capital:"Chuka",code:13,sub_counties:["Chuka","Igambangobe","Maara","Muthambi","Tharak north","Tharaka south"]},{name:"Trans-Nzoia",capital:"Kitale",code:26,sub_counties:["Cherangany","Endebess","Kiminini","Kwanza","Saboti"]},{name:"Turkana",capital:"Lodwar",code:23,sub_counties:["Loima","Turkana central","Turkana east","Turkana north","Turkana south"]},{name:"Uasin Gishu",capital:"Eldoret",code:27,sub_counties:["Ainabkoi","Kapseret","Kesses","Moiben","Soy","Turbo"]},{name:"Vihiga",capital:"Vihiga",code:38,sub_counties:["Emuhaya","Hamisi","Luanda","Sabatia","vihiga"]},{name:"Wajir",capital:"Wajir",code:8,sub_counties:["Eldas","Tarbaj","Wajir East","Wajir North","Wajir South","Wajir West"]},{name:"West Pokot",capital:"Kapenguria",code:24,sub_counties:["Central Pokot","North Pokot","Pokot South","West Pokot"]}]}},107:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return d})),n.d(t,"a",(function(){return p}));var a=n(1),i=n.n(a),r=n(184),o=n.n(r),s=n(43),l=function(e,t){return function(n,a){var i=e.props,r=e.state,o=n!=i||a!=r;if(o&&r==a&&i!=n){var l=[];for(var c in n){var u=n[c]!=i[c];u&&("ignore"==t[c]?u=!1:"shallow_deep"==t[c]?u=!Object(s.l)(n[c],i[c],!0):"shallow"==t[c]?u=!Object(s.l)(n[c],i[c]):"function"==typeof t[c]&&(u=t[c](n[c],i[c],a))),u&&l.push(c)}l.length||(o=!1)}return o}},c=function(e){return function(t,n){return!Object(s.l)(e.props,t)||!Object(s.l)(e.state,n)}},u=function(){var e=i.a.version.split(".").map(parseInt.bind(null,10));return e[0]>=16&&e[1]>=3},d=function(e){u?e.UNSAFE_componentWillReceiveProps=function(t){e.onPropsChanged(t)}:e.componentWillReceiveProps=function(t){e.onPropsChanged(t)}},p=function(e,t,n){return o()(e,(function(e){return function(){for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return n(e.apply(void 0,[t].concat(i)))}}))}},1082:function(e,t,n){"use strict";(function(e){var a=n(2),i=n(30),r=n(11),o=n(12),s=n(31),l=n(19),c=n(20),u=n(1),d=n(18),p=n(52),b=n(307),f=n(62),j=n(259),m=n.n(j),h=n(288),v=n(107),g=n(0),O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(n){Object(l.a)(d,n);var u=Object(c.a)(d);function d(e){var n;return Object(r.a)(this,d),(n=u.call(this,e))._getEventTarget=function(e,t){return e&&e.__mocked_window||document.body||window},n.onDragStart=function(e,t,a){var i=t.closest(".query-builder");document.body.classList.add("qb-dragging"),i.classList.add("qb-dragging");var r,o=i.closest(".query-builder-container")||i,s=(o=n._getScrollParent(o)||document.body).scrollTop,l=(n._getDraggableNodeEl(i),n._getPlaceholderNodeEl(i),i.querySelectorAll(".group--children")),c=l.length?l[0]:null;c&&(r=window.getComputedStyle(c,null).getPropertyValue("padding-left"),r=parseInt(r));var u={id:e,x:t.offsetLeft,y:t.offsetTop,w:t.offsetWidth,h:t.offsetHeight,itemInfo:n.tree.items[e],paddingLeft:r},d={id:e,x:t.offsetLeft,y:t.offsetTop,scrollTop:s,clientX:a.clientX,clientY:a.clientY,itemInfo:m()(n.tree.items[e]),treeEl:i,treeElContainer:o},p={clientX:a.clientX,clientY:a.clientY},b=n._getEventTarget(a,d);n.eventTarget=b,b.addEventListener("mousemove",n.onDrag),b.addEventListener("mouseup",n.onDragEnd),n.props.setDragStart(d,u,p)},n.onDrag=function(e){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=Object.assign({},n.props.dragging),r=n.props.dragStart,o=i.paddingLeft,s=r.treeElContainer,l=s.scrollTop;if(i.itemInfo=n.tree.items[i.id],i.itemInfo){var c={clientX:e.clientX,clientY:e.clientY},u={clientX:r.clientX,clientY:r.clientY};if(e.__mock_dom){var d=r.treeEl,p=n._getDraggableNodeEl(d),b=n._getPlaceholderNodeEl(d);e.__mock_dom({treeEl:d,dragEl:p,plhEl:b})}if(!r.plX){var f=r.treeEl,j=n._getPlaceholderNodeEl(f);j&&(r.plX=j.getBoundingClientRect().left+window.scrollX,r.plY=j.getBoundingClientRect().top+window.scrollY)}var m=r.x,h=r.y,v=r.clientX,g=r.clientY,O=r.scrollTop,x={x:m+(e.clientX-v),y:h+(e.clientY-g)+(l-O)};i.x=x.x,i.y=x.y,i.paddingLeft=o,i.mousePos=c,i.startMousePos=u,n.props.setDragProgress(c,i);var y=!!a&&n.handleDrag(i,e,t);y||e.preventDefault&&e.preventDefault()}},n.onDragEnd=function(){var e=n.props.dragStart.treeEl;n.props.setDragEnd(),e.classList.remove("qb-dragging"),document.body.classList.remove("qb-dragging"),n._cacheEls={};var t=n.eventTarget||n._getEventTarget();t.removeEventListener("mousemove",n.onDrag),t.removeEventListener("mouseup",n.onDragEnd)},Object(v.d)(Object(s.a)(n)),n.onPropsChanged(e),n}return Object(o.a)(d,[{key:"onPropsChanged",value:function(e){this.tree=Object(p.e)(e.tree)}},{key:"shouldComponentUpdate",value:function(e,t){var n=this.props,a=this.state,i=Object(v.c)(this)(e,t);if(i&&a==t&&n!=e){var r=[];for(var o in e){e[o]!=n[o]&&"dragging"!=o&&"mousePos"!=o&&r.push(o)}r.length||(i=!1)}return i}},{key:"componentDidUpdate",value:function(e,t){var n=this.props.dragging,a=this.props.dragStart;if(a&&a.id&&(n.itemInfo=this.tree.items[n.id],n.itemInfo&&(n.itemInfo.index!=a.itemInfo.index||n.itemInfo.parent!=a.itemInfo.parent))){var i=a.treeEl,r=a.treeElContainer,o=this._getPlaceholderNodeEl(i,!0);if(o){var s=o.getBoundingClientRect().left+window.scrollX,l=o.getBoundingClientRect().top+window.scrollY,c=a.plX,u=a.plY,d=r.scrollTop;a.plX=s,a.plY=l,a.itemInfo=m()(n.itemInfo),a.y=o.offsetTop,a.x=o.offsetLeft,a.clientY+=l-u,a.clientX+=s-c,r!=document.body&&(a.scrollTop=d),this.onDrag(this.props.mousePos,!1)}}}},{key:"_getNodeElById",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==t)return null;this._cacheEls||(this._cacheEls={});var a=this._cacheEls[t];return a&&document.contains(a)&&!n||(a=e.querySelector('.group-or-rule-container[data-id="'+t+'"]'),this._cacheEls[t]=a),a}},{key:"_getDraggableNodeEl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._cacheEls||(this._cacheEls={});var n=this._cacheEls.draggable;if(n&&document.contains(n)&&!t)return n;var a=e.getElementsByClassName("qb-draggable");return n=a.length?a[0]:null,this._cacheEls.draggable=n,n}},{key:"_getPlaceholderNodeEl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._cacheEls||(this._cacheEls={});var n=this._cacheEls.placeholder;if(n&&document.contains(n)&&!t)return n;var a=e.getElementsByClassName("qb-placeholder");return n=a.length?a[0]:null,this._cacheEls.placeholder=n,n}},{key:"_isScrollable",value:function(e){var t=window.getComputedStyle(e)["overflow-y"];return("scroll"===t||"auto"===t)&&e.scrollHeight>e.offsetHeight}},{key:"_getScrollParent",value:function(e){return null==e?null:e===document.body||this._isScrollable(e)?e:this._getScrollParent(e.parentNode)}},{key:"handleDrag",value:function(e,t,n){var a,r,o,s,l=this,c=e.itemInfo,u=e.paddingLeft,d=null,p=this.props.dragStart.treeEl,b=e.id,j=this._getDraggableNodeEl(p),m=this._getPlaceholderNodeEl(p);if(j&&m){if(a=j.getBoundingClientRect(),!(r=m.getBoundingClientRect()).width)return;var h={hrz:0,vrt:0};a.top<r.top?h.vrt=-1:a.bottom>r.bottom&&(h.vrt=1),a.left>r.left?h.hrz=1:a.left<r.left&&(h.hrz=-1);var v,g={x:(s=p.getBoundingClientRect()).left+(s.right-s.left)/2,y:h.vrt>=0?a.bottom:a.top};if(t.__mocked_hov_container)v=t.__mocked_hov_container;else{var O=document.elementFromPoint(g.x,g.y-1);v=O?O.closest(".group-or-rule-container"):null}if(v){var x=v.classList.contains("group-container"),y=v.getAttribute("data-id"),w=v,k=!1,N=!1;if(w){var _=(o=w.getBoundingClientRect()).bottom-o.top,S=this.tree.items[y],C=null,A=null,F=null,P=null;if(0==h.vrt)F=c,(A=m)&&(C=A.getBoundingClientRect());else if(x){if(h.vrt>0){var D=v.getElementsByClassName("group--header"),E=D.length?D[0]:null;if(E){var T=E.getBoundingClientRect(),q=T.bottom-T.top;a.bottom-T.top>3*q/4&&S.top>e.itemInfo.top&&(F=S,C=T,A=E,N=!0)}}else if(h.vrt<0){if(S.lev>=c.lev)o.bottom-a.top>=2&&S.top<e.itemInfo.top&&(F=S,C=o,A=w,k=!0)}(h.vrt<0?o.bottom-a.top>_-5:a.bottom-o.top>_-5)&&(N||k||(F=S,C=o,A=w),P=S)}else{(h.vrt<0?o.bottom-a.top>_/2:a.bottom-o.top>_/2)&&(F=S,C=o,A=w)}var M=F&&F.id==b;if(C){var I=a.left-s.left,R=(C.left,s.left,Math.max(0,Math.round(I/u))),L=[],z=[];M||(x&&(k?L.push([f.e,F,F.lev+1]):N&&L.push([f.g,F,F.lev+1]),P&&(h.vrt>0?z.push([f.d,P,P.lev]):h.vrt<0&&z.push([f.f,P,P.lev]))),k||N||(h.vrt<0?L.push([f.f,F,F.lev]):h.vrt>0&&L.push([f.d,F,F.lev])));var V=null,W=(L=L.filter((function(e){var t=e[0],n=e[1];if((t==f.f||t==f.d)&&null==n.parent)return!1;if(n.collapsed&&(t==f.e||t==f.g))return!1;var a=n.id==c.id;if(!a)for(var i=n;i.parent;)if((i=l.tree.items[i.parent]).id==c.id){a=!0;break}return!a})).map((function(e){var t=e[0],n=e[1],a=null;return(a=t==f.e||t==f.g?n:l.tree.items[n.parent])&&null==a.parent&&(a=null),e[3]=a,e}))).filter((function(e){return l.canMove(c,e[1],e[0],e[3],n)}));0==W.length&&z.length>0&&(W=z.filter((function(e){return l.canMove(c,e[1],e[0],e[3],n)})));var J=W.map((function(e){return e[2]})),B=c.lev,U=J.concat(B),G=null;-1!=U.indexOf(R)?G=R:R>Math.max.apply(Math,Object(i.a)(U))?G=Math.max.apply(Math,Object(i.a)(U)):R<Math.min.apply(Math,Object(i.a)(U))&&(G=Math.min.apply(Math,Object(i.a)(U))),V=W.find((function(e){return e[2]==G})),M||V||!W.length||(V=W[0]),d=V}}}else;}return!!d&&(this.move(c,d[1],d[0],d[3]),!0)}},{key:"canMove",value:function(e,t,n,a,i){if(!e||!t)return!1;if(e.id===t.id)return!1;var r=this.props.config.settings.canRegroup,o=this.props.config.settings.maxNesting,s=a?a.lev:0,l=n==f.g||n==f.e,c=e.parent!=t.parent,u=l||c,d="rule_group"==e.parentType||"rule_group"==t.type||"rule_group"==t.parentType,p=t.isLocked||e.isLocked||a&&a.isLocked;if(o&&s+1>o)return!1;if(u&&(!r||d||p))return!1;var b=!0;return i&&(b=i(e.node.toJS(),t.node.toJS(),n,a?a.node.toJS():null)),b}},{key:"move",value:function(e,t,n,a){this.props.actions.moveItem(e.path,t.path,n)}},{key:"render",value:function(){return Object(g.jsx)(e,Object(a.a)(Object(a.a)({},this.props),{},{onDragStart:this.onDragStart}))}}]),d}(u.Component)};t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=Object(d.b)((function(e){return{dragging:e.dragging,dragStart:e.dragStart,mousePos:e.mousePos}}),{setDragStart:h.a.setDragStart,setDragProgress:h.a.setDragProgress,setDragEnd:h.a.setDragEnd},null,{context:b.a})(O(e,t));return n.displayName="ConnectedSortableContainer",n}}).call(this,n(461))},117:function(e,t,n){"use strict";var a=n(413);n.d(t,"b",(function(){return a.a})),n.d(t,"c",(function(){return a.b})),n.d(t,"d",(function(){return a.c})),n.d(t,"e",(function(){return a.d}));var i=n(136);n.d(t,"a",(function(){return i.a}))},1179:function(e,t,n){},13:function(e,t,n){"use strict";var a=n(2),i=n(15),r=n(124),o=n(1),s=n.n(o),l=n(0),c=["children"],u=s.a.forwardRef((function(e,t){var n=e.children,o=Object(i.a)(e,c);return Object(l.jsx)(r.a,Object(a.a)(Object(a.a)({container:!0,ref:t},o),{},{children:n}))}));t.a=s.a.memo(u)},131:function(e,t,n){"use strict";n.d(t,"a",(function(){return M})),n.d(t,"b",(function(){return I})),n.d(t,"c",(function(){return R}));var a=n(1),i=n.n(a),r=Object(a.createContext)(void 0),o=n(0);var s=n(5),l=n.n(s),c=n(10),u=n(2),d=n(6),p=n(15),b=n(18),f=n(1921),j=n(1922),m=n(27),h=n(598),v=n(163),g=n(179),O=n(21),x=n(342),y=n(55),w=n(17),k=n(1920),N=function(e){var t=e.children,n=Object(b.c)(),i=(Object(b.d)((function(e){var t;return Object(u.a)({},null===(t=e.app)||void 0===t?void 0:t.preferences)})),Object(b.d)((function(e){var t;return Object(u.a)({},null===(t=e.app)||void 0===t?void 0:t.settings)})),Object(b.d)((function(e){return e.auth}))),r=i.user,o=i.isAuthenticated,s=Object(a.useRef)(Object(h.a)(m.q)),p=Object(a.useRef)(Object(g.d)(s.current)),f=Object(a.useRef)(Object(v.g)(s.current)),j=Object(a.useRef)(Object(x.a)()),N=(Object(k.a)({name:"notification"}),Object(w.p)({token:null,tokens:[]})),_=Object(d.a)(N,3),S=_[0],C=_[1],A=_[2],F=function(){var e=Object(c.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.c)(Object(g.b)(Object(g.a)(p.current,t),n));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),P=function(){var e=Object(c.a)(l.a.mark((function e(t,n,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.e)(Object(g.b)(Object(g.a)(p.current,t),n),Object(u.a)({},a));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),D=function(){return new Promise((function(e,t){Object(x.b)(j.current,{vapidKey:m.r}).then((function(n){n?e(n):t("Permission")})).catch((function(e){t(e)}))}))},E=Object(a.useCallback)(function(){var e=Object(c.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(String.isEmpty(t)||String.isEmpty(n)){e.next=6;break}return e.next=3,F("users",t).then(function(){var e=Object(c.a)(l.a.mark((function e(a){var i,r,o,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=[],r=!1,a&&(o=a.data())?Array.isArray(o.tokens)&&(s=!1,o.tokens.map((function(e){e!==n||s?i.push(e):s=!0})),r=s):r=!1,r&&P("users",t,{tokens:i}),e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){var a=[],i=!1;return Array.isArray(null===r||void 0===r?void 0:r.tokens)&&(a=null===r||void 0===r?void 0:r.tokens.filter((function(e){return e!==n||i||(i=!0),e!==n}))),i&&P("users",t,{tokens:a}),a}));case 3:return e.abrupt("return",e.sent);case 6:return e.abrupt("return",[]);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[]),T=Object(a.useCallback)(function(){var e=Object(c.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(String.isEmpty(t)||String.isEmpty(n)){e.next=6;break}return e.next=3,F("users",t).then(function(){var e=Object(c.a)(l.a.mark((function e(a){var i,o,s,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=[n],o=!0,a&&(s=a.data())?Array.isArray(null===s||void 0===s?void 0:s.tokens)&&(c=!1,s.tokens.map((function(e){e!==n||c?i.push(e):c=!0})),o=!c):o=!0,o&&P("users",t,Object(u.a)(Object(u.a)({},r),{},{tokens:i})).catch((function(e){return console.error("registerClientToken putFirestoreDoc error",e)})),e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.error("registerClientToken getFirestoreDoc error",e),[]}));case 3:return e.abrupt("return",e.sent);case 6:return e.abrupt("return",[]);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[o,r]),q=Object(a.useCallback)(function(){var e=Object(c.a)(l.a.mark((function e(t){var n,a,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(String.isEmpty(t)){e.next=12;break}return n=[],e.next=4,D().catch((function(e){return console.error("Get Firebase Token error",e),null}));case 4:if(a=e.sent,String.isEmpty(a)){e.next=9;break}return e.next=8,T(t,a).catch((function(e){return console.error("Ensure Firebase Token in Firestore error",e),[]}));case 8:n=e.sent;case 9:C({token:a,tokens:n}),e.next=16;break;case 12:return e.next=14,D().catch((function(e){return console.error("Get Firebase Token error",e),null}));case 14:i=e.sent,C({token:i});case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),M=Object(a.useCallback)(function(){var e=Object(c.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("onFirebaseMessageHandler payload",t),o&&("new-message"!==(a=t.data).event_name&&"message-sent"!==a.event_name||n(Object(O.ob)(a._id,!0)));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[o]),I=Object(a.useCallback)((function(e){var t=Object(u.a)({},e.detail).profile;JSON.isJSON(t)&&!JSON.isEmpty(t)&&q(t._id)}),[]),R=Object(a.useCallback)((function(e){var t=Object(u.a)({},e.detail).profile,n=A().token;!JSON.isJSON(t)||JSON.isEmpty(t)||String.isEmpty(n)||E(t._id,n)}),[]);Object(a.useCallback)((function(e){o&&db.collection("cities").where("state","==","CA").onSnapshot((function(e){e.docChanges().forEach((function(e){"added"===e.type&&console.log("New city: ",e.doc.data()),"modified"===e.type&&console.log("Modified city: ",e.doc.data()),"removed"===e.type&&console.log("Removed city: ",e.doc.data())}))}))}),[o]);return Object(w.c)((function(){o&&q(null===r||void 0===r?void 0:r._id);var e=Object(x.c)(j.current,M),t=y.a.on("login",I),n=y.a.on("logout",R);return function(){t.remove(),n.remove(),e()}})),t(Object(u.a)(Object(u.a)({},S),{},{app:s.current,firestore:p.current,messaging:j.current,auth:f.current,getFirestoreDoc:F,putFirestoreDoc:P,config:m.q,webPushCertificate:m.r}))},_=i.a.memo(N),S=n(1010),C=n(35),A=n(87),F=n(117),P=function(e){var t=e.children,n=Object(b.c)(),i=(Object(b.d)((function(e){var t;return Object(u.a)({},null===(t=e.app)||void 0===t?void 0:t.preferences)})),Object(b.d)((function(e){var t;return Object(u.a)({},null===(t=e.app)||void 0===t?void 0:t.settings)})),Object(b.d)((function(e){return e.auth}))),r=i.user,o=i.isAuthenticated,s=Object(a.useCallback)((function(e){var t=e.presence;o&&!JSON.isEmpty(r)&&n(Object(O.Jb)(Object(u.a)(Object(u.a)({},r),{},{presence:t})))}),[r,o]),d=Object(a.useCallback)((function(e){var t;!o||JSON.isEmpty(r)||(null===(t=e.user)||void 0===t?void 0:t._id)!==r._id&&e.user!==r._id||n(Object(O.Jb)(Object(u.a)(Object(u.a)({},r),{},{presence:e.presence})))}),[r,o]),p=Object(a.useCallback)(function(){var e=Object(c.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o&&!JSON.isEmpty(r)&&(n={uuid:t.message,state:"read",reads:[t.user]},Object(F.e)(n));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[r,o]),f=Object(a.useCallback)(function(){var e=Object(c.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o&&!JSON.isEmpty(r)&&(n={uuid:t.message,state:"received",receipts:[t.user]},Object(F.e)(n));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[r,o]),j=Object(a.useCallback)(function(){var e=Object(c.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o&&!JSON.isEmpty(r)&&(n={uuid:t.message,state:"deleted-for-all",deletions:[t.user]},Object(F.e)(n));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[r,o]),m=Object(a.useCallback)(function(){var e=Object(c.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o&&!JSON.isEmpty(r)&&(n={uuid:t.message,state:"deleted-for-user",deletions:[t.user]},Object(F.e)(n));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[r,o]),h=Object(a.useCallback)(function(){var e=Object(c.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o&&!JSON.isEmpty(r)&&Object(F.e)(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[r,o]),v=Object(a.useCallback)(function(){var e=Object(c.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o&&!JSON.isEmpty(r)&&(Object(F.c)(t),n(Object(O.Bb)(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[r,o]),g=Object(a.useCallback)(function(){var e=Object(c.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o&&!JSON.isEmpty(r)&&(Object(F.e)(t,!0),A.a.emit("mark-message-as-received",{message:t._id||t.uuid}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[r,o]),x=(Object(a.useCallback)(function(){var e=Object(c.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o&&!JSON.isEmpty(r)&&Object(F.c)(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[r,o]),Object(a.useCallback)(function(){var e=Object(c.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o&&!JSON.isEmpty(r)&&Object(F.d)(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[r,o])),k=Object(a.useCallback)((function(){A.a.on("settings",(function(e){n(Object(O.Ub)(e))})),o&&!JSON.isEmpty(r)&&(A.a.on("presence-changed",s),A.a.on("user-changed-presence",d),A.a.on("message-marked-as-read",p),A.a.on("message-marked-as-received",f),A.a.on("message-deleted-for-all",j),A.a.on("message-deleted-for-user",m),A.a.on("message-sent",h),A.a.on("new-message",g),A.a.on("preferences",(function(e){n(Object(O.Sb)(e))})),A.a.on("inbox",x),A.a.on("new-conversation",v),A.a.on("authorized",(function(e){e.user;var t=C.a.getAccessToken();A.a.auth={token:t.access_token}})),A.a.on("unauthorized",(function(e){Object(S.a)(e);var t=C.a.getAccessToken();A.a.emit("authorization",{token:t.access_token})})),A.a.on("authorization-failed",(function(e){console.log("authorization-failed data",e)})),A.a.on("create-conversation-error",(function(e){var t=Object(u.a)({},e).data;JSON.isEmpty(t)||v(t),console.error("create-conversation-error data",t)})),A.a.connected?(A.a.emit("get-preferences",{}),A.a.emit("get-inbox",{})):A.a.on("connect",(function(){A.a.emit("get-preferences",{}),A.a.emit("get-inbox",{})}))),A.a.connected?A.a.emit("get-settings"):A.a.on("connect",(function(){A.a.emit("get-settings")}))}),[o,r]),N=Object(a.useCallback)(function(){var e=Object(c.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o&&!JSON.isEmpty(r)){n=null;try{JSON.isJSON(t)&&(String.isEmpty(t.uuid)||(t.uuid=String.uuid()),t.state="pending",n=depopulate(t),String.isEmpty(n)?"_id":"uuid",n=F.a.messages.put(n))}catch(error){console.error("Mark Message As Read error",error)}}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[r,o]),_=Object(a.useCallback)(function(){var e=Object(c.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o&&!JSON.isEmpty(r)&&(n=(null===t||void 0===t?void 0:t.uuid)||(null===t||void 0===t?void 0:t._id)||t,A.a.connected?A.a.emit("delete-message-for-user",{message:n}):A.a.on("connect",(function(){A.a.emit("delete-message-for-user",{message:n})})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[r,o]),P=Object(a.useCallback)(function(){var e=Object(c.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o&&!JSON.isEmpty(r)&&(n=(null===t||void 0===t?void 0:t.uuid)||(null===t||void 0===t?void 0:t._id)||t,A.a.connected?A.a.emit("delete-message-for-all",{message:n}):A.a.on("connect",(function(){A.a.emit("delete-message-for-all",{message:n})})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[r,o]);return Object(w.c)((function(){k();var e=y.a.on("send-message",N),t=y.a.on("delete-message-for-user",_),n=y.a.on("delete-message-for-all",P),a=y.a.on("login",k),i=y.a.on("logout",(function(e){return A.a.off()}));return function(){e.remove(),t.remove(),n.remove(),a.remove(),i.remove()}})),t(A.a)},D=i.a.memo(P),E=n(32),T=["children","notificationType"],q=function(e){var t=e.children,n=(e.notificationType,Object(p.a)(e,T)),i=Object(f.a)(m.f),s=Object(d.a)(i,3),h=s[0],v=s[1],g=s[2],x=Object(f.a)("".concat(m.f,"_type")),k=Object(d.a)(x,3),N=k[0],S=k[1],A=k[2],F=Object(f.a)("".concat(m.f,"_refresh_token")),P=Object(d.a)(F,3),q=P[0],M=P[1],I=P[2],R=Object(b.c)(),L=Object(b.d)((function(e){var t;return Object(u.a)({},null===(t=e.app)||void 0===t?void 0:t.preferences)})),z=Object(b.d)((function(e){var t;return Object(u.a)({},null===(t=e.app)||void 0===t?void 0:t.settings)})),V=Object(b.d)((function(e){return e.auth})),W=V.user,J=V.isAuthenticated,B=Object(j.a)(),U=Object(a.useCallback)((function(e){var t=e||{},n=t.access_token,a=t.token_type,i=t.refresh_token;"redux"===m.e?R(Object(O.Vb)(e||{})):(v(n),S(a),M(i))}),[]),G=Object(a.useCallback)((function(e){"redux"===m.e&&R(Object(O.Vb)({})),g(),A(),I()}),[]),H=Object(a.useCallback)((function(e){var t=Object(u.a)({},e.detail),n=t.profile,a=t.token;U(a),JSON.isJSON(n)&&R(Object(O.Jb)(n)),R(Object(O.Gb)(!0)),y.a.emit("notification",{severity:"success",title:"Login successfull!",content:"Welcome back ".concat(n.first_name||""," ").concat(n.last_name||"","!")})}),[]),K=Object(a.useCallback)((function(){R(Object(O.Gb)(!1)),R(Object(O.Jb)(null)),R(Object(O.jb)())}),[]),Y=Object(a.useCallback)(function(){var e=Object(c.a)(l.a.mark((function e(t,n){var a,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1,!String.isString(t)||String.isEmpty(t)||!J){e.next=10;break}if(a=t.toLowerCase().variablelize("-"),n===L[a]){e.next=8;break}return i={name:t,slug:a,value:n,user:null===W||void 0===W?void 0:W._id},e.next=7,C.a.post("/preferences",i,{params:{create:1,placement:"slug"}});case 7:return e.abrupt("return",e.sent);case 8:e.next=11;break;case 10:throw{msg:"missing name"};case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[L,J,W]),Q=Object(a.useCallback)(function(){var e=Object(c.a)(l.a.mark((function e(t,n){var a,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1,!String.isString(t)||String.isEmpty(t)||!J){e.next=10;break}if(a=t.toLowerCase().variablelize("-"),n===z[a]){e.next=8;break}return i={name:t,slug:a,value:n},e.next=7,C.a.put("/settings/".concat(a),i,{params:{create:1,placement:"slug"}});case 7:return e.abrupt("return",e.sent);case 8:e.next=11;break;case 10:throw{msg:"missing name"};case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[z,J]),Z=Object(a.useCallback)((function(){!J||String.isEmpty(h)||String.isEmpty(N)||C.a.setAccessToken({access_token:h,token_type:N,refresh_token:q});var e=y.a.on("access-token-set",(function(e){return U(e.detail)})),t=y.a.on("access-token-unset",G),n=y.a.on("login",H),a=y.a.on("logout",K);return function(){e.remove(),t.remove(),n.remove(),a.remove()}}),[J]),X=Object(a.useCallback)((function(){var e=y.a.on("change-preferences",(function(e){if(JSON.isJSON(e.detail)){var t=Object.entries(e.detail).reduce((function(e,t){var n=Object(d.a)(t,2),a=n[0],i=n[1];return e[a]=i,Y(a,i).catch((function(e){console.error("updatePreferences err",e)})),e}),{}),n=JSON.deepMerge(L,t);R(Object(O.Sb)(n))}}));return function(){e.remove()}}),[]),$=Object(a.useCallback)((function(){var e=y.a.on("change-settings",(function(e){if(JSON.isJSON(e.detail)){var t=Object.entries(e.detail).reduce((function(e,t){var n=Object(d.a)(t,2),a=n[0],i=n[1];return e[a]=i,Q(a,i).catch((function(e){console.error("updatePreferences err",e)})),e}),{}),n=JSON.deepMerge(z,t);R(Object(O.Ub)(n))}}));return function(){e.remove()}}),[z]);return Object(w.c)((function(){var e=Z(),t=X(),n=$();return function(){e(),t(),n()}})),Object(w.c)((function(){})),Object(o.jsx)(_,{children:function(e){return Object(o.jsx)(D,{children:function(a){return Object(o.jsx)(r.Provider,Object(u.a)(Object(u.a)({value:{SocketIO:a,Api:C.a,network:B,Firebase:e,definations:E}},n),{},{children:t}))}})}})},M=i.a.memo(q,(function(e,t){return!0}));function I(){var e=Object(a.useContext)(r);if(!e)throw new Error("useNetworkServices should be used within NetworkServicesProvider. \n Make sure you are rendering a NetworkServicesProvider at the top of your component hierarchy");return e}var R=function(e){return function(e){return i.a.memo((function(t){var n=I();return Object(o.jsx)(e,Object(u.a)(Object(u.a)({},t),{},{networkServices:n}))}))}(e)}},1310:function(e,t){},132:function(e,t,n){"use strict";var a=0;t.a=function(){var e=((new Date).getTime().toString(16)+"FF").substr(0,11);return"ssssssss-xxxx-4xxx-yxxx-x".replace(/[xys]/g,(function(e){var t="s"===e?Math.floor(16*Math.random()):15&a++;return("x"===e?t:3&t|8).toString(16)}))+e}},136:function(e,t,n){"use strict";var a=n(11),i=n(19),r=n(20),o=n(737),s=(n(32),n(55),new(function(e){Object(i.a)(n,e);var t=Object(r.a)(n);function n(){var e;Object(a.a)(this,n),(e=t.call(this,"rf-cache-db")).version(1).stores({conversations:"++id,_id,uuid,type,recipients,group_admins,group_name,archives,deletions,status,owner,participants,state,started_by,created_on,last_used",messages:"++id,_id,uuid,type,archives,deletions,reads,receipts,attachments,is_reply,reply_for,conversation,conversation_uuid,status,sender,content,state,timestamp,created_on",contacts:"++id,_id,uuid,first_name,last_name,icon,avatar,email_address,role,gender,rating,staff_id,presence,course",client_positions:"&id,user,latitude,longitude"});try{e.open()}catch(error){console.log("RealfieldDB open error",error)}return e}return n}(o.default)));t.a=s},138:function(e,t,n){"use strict";n.d(t,"b",(function(){return O})),n.d(t,"a",(function(){return S})),n.d(t,"c",(function(){return F})),n.d(t,"q",(function(){return P})),n.d(t,"p",(function(){return D})),n.d(t,"h",(function(){return q})),n.d(t,"r",(function(){return M})),n.d(t,"g",(function(){return I})),n.d(t,"j",(function(){return z})),n.d(t,"m",(function(){return V})),n.d(t,"k",(function(){return W})),n.d(t,"n",(function(){return J})),n.d(t,"i",(function(){return B})),n.d(t,"f",(function(){return U})),n.d(t,"d",(function(){return G})),n.d(t,"e",(function(){return H})),n.d(t,"s",(function(){return Y})),n.d(t,"o",(function(){return Q})),n.d(t,"t",(function(){return Z})),n.d(t,"l",(function(){return X}));var a=n(2),i=n(11),r=n(12),o=n(31),s=n(19),l=n(20),c=n(1),u=n(33),d=n(59),p=n(43),b=n(107),f=n(304),j=n.n(f),m=n(181),h=n.n(m),v=n(259),g=n.n(v),O=function(e){Object(s.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(i.a)(this,n),a=t.call(this,e),Object(b.d)(Object(o.a)(a)),a.onPropsChanged(e),a}return Object(r.a)(n,[{key:"onPropsChanged",value:function(e){var t=this.props,n=!this.items||["config","field","operator","isFuncArg","placeholder"].map((function(n){return e[n]!==t[n]})).filter((function(e){return e})).length>0,a=!this.meta||["config","field","operator","value","parentField"].map((function(n){return e[n]!==t[n]})).filter((function(e){return e})).length>0;n&&(this.items=this.getItems(e)),a&&(this.meta=this.getMeta(e))}},{key:"getItems",value:function(e){var t=e.config,n=e.field,a=e.operator,i=e.parentField,r=e.isFuncArg,o=t.settings.canCompareFieldWithField,s=t.settings.fieldSeparator,l="string"==typeof i?i.split(s):i,c=i?Object(u.getFieldConfig)(t,i):null,d=i?c&&c.subfields:t.fields,p=this.filterFields(t,d,n,i,l,a,o,r);return this.buildOptions(l,t,p,l)}},{key:"getMeta",value:function(e){var t=e.config,n=e.field,a=(e.operator,e.value),i=e.placeholder,r=e.isFuncArg,o=e.parentField,s=t.settings,l=s.fieldPlaceholder,c=s.fieldSeparatorDisplay,p=a,b=!!a,f=Object(u.getFieldConfig)(t,n).widgets.field,j=f&&f.widgetProps||{},m=b?null:r&&i||j.valuePlaceholder||l,h=b?Object(u.getFieldConfig)(t,p):null,v=h||{},g=Object(d.c)(p,t),O=Object(d.c)(p,t,!0),x=this.getFieldLabel(h,p,t),y=Object(d.d)(p,t),w=y?y.join(c):null;return(w==x||o)&&(w=null),{placeholder:m,selectedKey:p,selectedKeys:g,selectedPath:O,selectedLabel:x,selectedOpts:v,selectedAltLabel:v.label2,selectedFullLabel:w}}},{key:"filterFields",value:function(e,t,n,a,i,r,o,s){t=g()(t);var l,c=e.settings.fieldSeparator,p=Object(u.getFieldConfig)(e,n),b=Object(d.l)(e,n,r,"value");if(b){var f=e.widgets[b].type;l=f}else l=p.type;return function t(a,i){for(var d in a){var b=a[d].subfields,f=(i||[]).concat(d),j=f.join(c),m=Object(u.getFieldConfig)(e,j);if(m)if("!struct"==m.type||"!group"==m.type)0==t(b,f)&&delete a[d];else{var v=m.type==l&&(!!s||j!=n),g=o||e.settings.canCompareFieldWithField;g&&(v=v&&g(n,p,j,m,r)),v||delete a[d]}else delete a[d]}return h()(a).length}(t,i||[]),t}},{key:"buildOptions",value:function(e,t,n){var a=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(!n)return null;var o=t.settings,s=o.fieldSeparator,l=o.fieldSeparatorDisplay,c=i?i.join(s)+s:"";return h()(n).map((function(o){var s=n[o],u=a.getFieldLabel(s,o,t),p=Object(d.d)(o,t).join(l);(p==u||e)&&(p=null);var b=s.label2,f=s.tooltip,j=(i||[]).concat(o);if(!s.hideForCompare)return"!struct"==s.type||"!group"==s.type?{key:o,path:c+o,label:u,fullLabel:p,altLabel:b,tooltip:f,items:a.buildOptions(e,t,s.subfields,j,u)}:{key:o,path:c+o,label:u,fullLabel:p,altLabel:b,tooltip:f,grouplabel:r}})).filter((function(e){return!!e}))}},{key:"getFieldLabel",value:function(e,t,n){if(!t)return null;var a=n.settings.fieldSeparator,i=n.settings.maxLabelsLength,r=Array.isArray(t)?t:t.split(a),o=e.label||j()(r);return o=Object(p.o)(o,i)}},{key:"render",value:function(){var e=this.props,t=e.config,n=e.customProps,i=e.setValue,r=e.readonly,o=e.id,s=e.groupId;return(0,t.settings.renderField)(Object(a.a)({config:t,customProps:n,setField:i,readonly:r,items:this.items,id:o,groupId:s},this.meta))}}]),n}(c.PureComponent),x=n(30),y=function(e){Object(s.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(i.a)(this,n),a=t.call(this,e),Object(b.d)(Object(o.a)(a)),a.onPropsChanged(e),a}return Object(r.a)(n,[{key:"onPropsChanged",value:function(e){var t=this.props,n=!this.items||["config","field","operator"].map((function(n){return e[n]!==t[n]})).filter((function(e){return e})).length>0;(!this.meta||["config","field","value"].map((function(n){return e[n]!==t[n]})).filter((function(e){return e})).length>0)&&(this.meta=this.getMeta(e)),n&&(this.items=this.getItems(e))}},{key:"getItems",value:function(e){var t=e.config,n=e.field,a=e.operator,i=e.parentFuncs,r=t.settings.canUseFuncForField,o=this.filterFuncs(t,t.funcs,n,a,r,i);return this.buildOptions(t,o)}},{key:"getMeta",value:function(e){var t=e.config,n=e.field,a=e.value,i=t.settings,r=i.funcPlaceholder,o=i.fieldSeparatorDisplay,s=a,l=!!a,c=Object(u.getFieldConfig)(t,n).widgets.field,p=(c&&c.widgetProps,l?null:r),b=l?Object(u.getFuncConfig)(t,s):null,f=b||{},j=Object(d.c)(s,t),m=Object(d.c)(s,t,!0),h=this.getFuncLabel(b,s,t),v=Object(d.g)(s,t),g=v?v.join(o):null;return g==h&&(g=null),{placeholder:p,selectedKey:s,selectedKeys:j,selectedPath:m,selectedLabel:h,selectedOpts:f,selectedFullLabel:g}}},{key:"filterFuncs",value:function(e,t,n,a,i,r){t=g()(t);var o,s=e.settings.fieldSeparator,l=Object(u.getFieldConfig)(e,n),c=Object(d.l)(e,n,a,"value");if(c){var p=e.widgets[c].type;o=p}else o=l.type;return function t(c,d){for(var p in c){var b=c[p].subfields,f=(d||[]).concat(p),j=f.join(s),m=Object(u.getFuncConfig)(e,j);if("!struct"==m.type)0==t(b,f)&&delete c[p];else{var v=m.returnType==o;l.funcs&&(v=v&&l.funcs.includes(j)),i&&(v=v&&i(n,l,j,m,a)),r&&r.includes(j)&&(v=!1),v||delete c[p]}}return h()(c).length}(t,[]),t}},{key:"buildOptions",value:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(!t)return null;var r=e.settings,o=r.fieldSeparator,s=r.fieldSeparatorDisplay,l=a?a.join(o)+o:"";return h()(t).map((function(r){var o=t[r],c=n.getFuncLabel(o,r,e),u=Object(d.g)(r,e).join(s);u==c&&(u=null);var p=o.tooltip,b=(a||[]).concat(r);return"!struct"==o.type?{key:r,path:l+r,label:c,fullLabel:u,tooltip:p,items:n.buildOptions(e,o.subfields,b,c)}:{key:r,path:l+r,label:c,fullLabel:u,tooltip:p,grouplabel:i}}))}},{key:"getFuncLabel",value:function(e,t,n){if(!t)return null;var a=n.settings.fieldSeparator,i=n.settings.maxLabelsLength,r=Array.isArray(t)?t:t.split(a),o=e.label||j()(r);return o=Object(p.o)(o,i)}},{key:"render",value:function(){var e=this.props,t=e.config,n=e.customProps,i=e.setValue,r=e.readonly,o=e.id,s=e.groupId;return(0,t.settings.renderFunc)(Object(a.a)({config:t,customProps:n,readonly:r,setField:i,items:this.items,id:o,groupId:s},this.meta))}}]),n}(c.PureComponent),w=n(436),k=n(86),N=n(215),_=n(0),S=function(e){Object(s.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).setFunc=function(e){r.props.setValue(Object(N.d)(r.props.value,e,r.props.config))},r.setArgValue=function(e,t){var n=r.props.config,a=r.meta.funcDefinition.args[e];r.props.setValue(Object(N.b)(r.props.value,e,t,a,n))},r.setArgValueSrc=function(e,t){var n=r.props.config,a=r.meta.funcDefinition.args[e];r.props.setValue(Object(N.c)(r.props.value,e,t,a,n))},r.renderFuncSelect=function(){var e=r.props,t=e.config,n=e.field,i=e.operator,o=e.customProps,s=e.value,l=e.readonly,c=e.parentFuncs,u=e.id,d=e.groupId,p={value:s?s.get("func"):null,setValue:r.setFunc,config:t,field:n,operator:i,customProps:o,readonly:l,parentFuncs:c,id:u,groupId:d},b=t.settings,f=b.showLabels,j=b.funcLabel,m=f?Object(_.jsx)("label",{className:"rule--label",children:j}):null;return Object(_.jsxs)(k.a,{className:"rule--func",children:[m,Object(_.jsx)(y,Object(a.a)({},p))]},"func")},r.renderArgLabel=function(e,t){var n=t.valueSources,a=t.type,i=t.showPrefix,o=t.label,s=r.props.config,l=n&&1==n.length&&"const"==n[0];return!s.settings.showLabels&&("boolean"==a||l)&&i?Object(_.jsx)(k.a,{className:"rule--func--arg-label",children:o||e}):null},r.renderArgLabelSep=function(e,t){var n=t.valueSources,a=t.type,i=t.showPrefix,o=r.props.config,s=n&&1==n.length&&"const"==n[0];return!o.settings.showLabels&&("boolean"==a||s)&&i?Object(_.jsx)(k.a,{className:"rule--func--arg-label-sep",children:":"}):null},r.renderArgVal=function(e,t,n){var i=r.props,o=i.config,s=i.field,l=(i.operator,i.value),c=i.readonly,u=i.parentFuncs,d=i.id,p=i.groupId,b=l?l.getIn(["args",t]):null,f=b?b.get("value"):void 0,j=1==n.valueSources.length?n.valueSources[0]:void 0,m={config:o,fieldFunc:e,fieldArg:t,leftField:s,operator:null,value:f,valueSrc:b?b.get("valueSrc")||j||"value":j,setValue:r.setArgValue,setValueSrc:r.setArgValueSrc,funcKey:e,argKey:t,argDefinition:n,readonly:c,parentFuncs:u,id:d,groupId:p};return Object(_.jsx)(k.a,{className:"rule--func--arg-value",children:Object(_.jsx)(C,Object(a.a)({},m))})},r.renderArgSep=function(e,t,n,a){var i=a.renderSeps;return n?Object(_.jsx)(k.a,{className:"rule--func--arg-sep",children:i?i[n-1]:", "}):null},r.renderBracketBefore=function(e){var t=e.renderBrackets;return Object(_.jsx)(k.a,{className:"rule--func--bracket-before",children:t?t[0]:"("},"before_args")},r.renderBracketAfter=function(e){var t=e.renderBrackets;return Object(_.jsx)(k.a,{className:"rule--func--bracket-after",children:t?t[1]:")"},"after_args")},r.renderFuncArgs=function(){var e=r.meta,t=e.funcDefinition,n=e.funcKey;if(!n)return null;var a=t.args;return a?Object(_.jsxs)(_.Fragment,{children:[r.renderBracketBefore(t),Object(_.jsx)(k.a,{className:"rule--func--args",children:Object.keys(a).map((function(e,i){return Object(_.jsxs)(k.a,{className:"rule--func--arg",children:[r.renderArgSep(e,a[e],i,t),r.renderArgLabel(e,a[e]),r.renderArgLabelSep(e,a[e]),r.renderArgVal(n,e,a[e])]},"arg-".concat(e,"-").concat(i))}))},"args"),r.renderBracketAfter(t)]}):null},Object(b.d)(Object(o.a)(r)),r.onPropsChanged(e),r}return Object(r.a)(n,[{key:"onPropsChanged",value:function(e){var t=this.props;(!this.meta||["config","field","operator","value"].map((function(n){return e[n]!==t[n]})).filter((function(e){return e})).length>0)&&(this.meta=this.getMeta(e))}},{key:"getMeta",value:function(e){var t=e.config,n=(e.field,e.operator,e.value),a=n?n.get("func"):null;return{funcDefinition:a?Object(u.getFuncConfig)(t,a):null,funcKey:a}}},{key:"render",value:function(){return Object(_.jsxs)(k.a,{className:"rule--func--wrapper",children:[this.renderFuncSelect(),this.renderFuncArgs()]})}}]),n}(c.PureComponent),C=function(e){Object(s.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).setValue=function(t,n,a){var i=e.props;(0,i.setValue)(i.argKey,n)},e.setValueSrc=function(t,n,a){var i=e.props;(0,i.setValueSrc)(i.argKey,n)},e}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props,t=e.funcKey,n=e.parentFuncs;return Object(_.jsx)(w.a,Object(a.a)(Object(a.a)({},this.props),{},{setValue:this.setValue,setValueSrc:this.setValueSrc,isFuncArg:!0,parentFuncs:[].concat(Object(x.a)(n||[]),[t])}))}}]),n}(c.PureComponent),A=n(132),F=function(e){var t=e.value,n=e.setValue,i=(e.config,e.labelYes),r=e.labelNo,o=e.readonly,s=e.customProps,l=void 0===s?{}:s,c=l.radioYes||{},u=l.radioNo||{},d=function(e){return n("true"==e.target.value)},p=Object(A.a)(),b=Object(A.a)();return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("input",Object(a.a)({type:"radio",id:p,value:!0,checked:!!t,disabled:o,onChange:d},c),p),Object(_.jsx)("label",{style:{display:"inline"},htmlFor:p,children:i},p+"label"),Object(_.jsx)("input",Object(a.a)({type:"radio",id:b,value:!1,checked:!t,disabled:o,onChange:d},u),b),Object(_.jsx)("label",{style:{display:"inline"},htmlFor:b,children:r},b+"label")]})},P=function(e){var t=e.value,n=e.setValue,i=(e.config,e.readonly),r=e.placeholder,o=e.maxLength,s=e.customProps,l=t||"";return Object(_.jsx)("input",Object(a.a)({type:"text",value:l,placeholder:r,disabled:i,onChange:function(e){var t=e.target.value;""===t&&(t=void 0),n(t)},maxLength:o},s))},D=function(e){var t=e.value,n=e.setValue,i=(e.config,e.readonly),r=e.placeholder,o=e.maxLength,s=(e.maxRows,e.fullWidth),l=e.customProps,c=t||"";return Object(_.jsx)("textarea",Object(a.a)({value:c,placeholder:r,disabled:i,onChange:function(e){var t=e.target.value;""===t&&(t=void 0),n(t)},maxLength:o,style:{width:s?"100%":void 0}},l))},E=n(116),T=n.n(E),q=function(e){var t=e.value,n=e.setValue,i=(e.config,e.valueFormat,e.readonly),r=e.customProps;return Object(_.jsx)("input",Object(a.a)({type:"date",value:t||"",disabled:i,onChange:function(e){var t=e.target.value;""==t&&(t=void 0),n(t)}},r))},M=function(e){var t=e.value,n=e.setValue,i=(e.config,e.valueFormat,e.use12Hours,e.readonly),r=e.customProps;return Object(_.jsx)("input",Object(a.a)({type:"time",value:t||"",disabled:i,onChange:function(e){var t=e.target.value;""==t&&(t=void 0),n(t)}},r))},I=function(e){var t=e.value,n=e.setValue,i=(e.config,e.valueFormat),r=(e.use12Hours,e.readonly),o=e.customProps,s=t;return s=t?T()(t).format("YYYY-MM-DDTHH:mm"):"",Object(_.jsx)("input",Object(a.a)({type:"datetime-local",value:s,disabled:r,onChange:function(e){var t=e.target.value;t=""==t?void 0:T()(new Date(t)).format(i),n(t)}},o))},R=n(112),L=n.n(R),z=function(e){var t=e.listValues,n=e.value,i=e.setValue,r=(e.allowCustomValues,e.readonly),o=e.customProps;return Object(_.jsx)("select",Object(a.a)(Object(a.a)({multiple:!0,onChange:function(e){return i(function(e){for(var t=[],n=e.options,a=0;a<n.length;a++){var i=n[a];i.selected&&t.push(i.value)}return t.length||(t=void 0),t}(e.target))},value:n,disabled:r},L()(o,["showSearch","input","showCheckboxes"])),{},{children:Object(p.j)(t,(function(e){var t=e.title,n=e.value;return Object(_.jsx)("option",{value:n,children:t},n)}))}))},V=function(e){var t=e.listValues,n=e.value,i=e.setValue,r=(e.allowCustomValues,e.readonly),o=e.customProps,s=null!=n;return Object(_.jsxs)("select",Object(a.a)(Object(a.a)({onChange:function(e){return i(e.target.value)},value:s?n:"",disabled:r},L()(o,["showSearch","input"])),{},{children:[!s&&Object(_.jsx)("option",{disabled:!0,value:""}),Object(p.j)(t,(function(e){var t=e.title,n=e.value;return Object(_.jsx)("option",{value:n,children:t},n)}))]}))},W=function(e){var t=e.value,n=e.setValue,i=(e.config,e.readonly),r=e.min,o=e.max,s=e.step,l=e.placeholder,c=e.customProps,u=void 0==t?"":t;return Object(_.jsx)("input",Object(a.a)({type:"number",value:u,placeholder:l,disabled:i,min:r,max:o,step:s,onChange:function(e){var t=e.target.value;t=""===t||null===t?void 0:Number(t),n(t)}},c))},J=function(e){var t=e.value,n=e.setValue,i=(e.config,e.readonly),r=e.min,o=e.max,s=e.step,l=e.placeholder,c=e.customProps,u=void 0===c?{}:c,d=u.input||{},p=u.slider||u,b=function(e){var t=e.target.value;t=""===t||null===t?void 0:Number(t),n(t)},f=void 0==t?"":t;return[Object(_.jsx)("input",Object(a.a)({type:"number",value:f,placeholder:l,disabled:i,min:r,max:o,step:s,onChange:b},d),"number"),Object(_.jsx)("input",Object(a.a)({type:"range",value:f,disabled:i,min:r,max:o,step:s,onChange:b},p),"range")]},B=function(e){var t=e.items,n=e.setField,a=e.selectedKey,i=e.readonly,r=null!=a;return Object(_.jsxs)("select",{onChange:function(e){return n(e.target.value)},value:r?a:"",disabled:i,children:[!r&&Object(_.jsx)("option",{disabled:!0,value:""}),function e(t){return t.map((function(t){var n=t.items,a=t.path,i=t.label,r=t.disabled;return n?Object(_.jsx)("optgroup",{disabled:r,label:i,children:e(n)},a):Object(_.jsx)("option",{disabled:r,value:a,children:i},a)}))}(t)]})},U=function(e){var t=e.id,n=e.not,a=e.setNot,i=e.conjunctionOptions,r=e.setConjunction,o=e.disabled,s=e.readonly,l=e.config,c=e.showNot,u=e.notLabel,d=Object.keys(i).length,p=o,b=l.settings.forceShowConj||d>1&&!p,f=function(e){return r(e.target.value)},j=function(e){return a(e.target.checked)};return[c&&function(){var e="not";return[Object(_.jsx)("input",{type:"checkbox",id:t+e,checked:n,disabled:s,onChange:j},t+e),Object(_.jsx)("label",{htmlFor:t+e,children:u||"NOT"},t+e+"label")]}(),b&&Object.keys(i).map((function(e){var t=i[e],n=t.id,a=t.name,l=t.label,c=t.checked,u=r.isDummyFn?"__dummy":"";return!s&&!o||c?[Object(_.jsx)("input",{type:"radio",id:n+u,name:a+u,checked:c,disabled:s||o,value:e,onChange:f},n+u),Object(_.jsx)("label",{htmlFor:n+u,children:l},n+u+"label")]:null}))]},G=function(e){var t=e.type,n=e.label,a=e.onClick,i=e.readonly,r=(e.config,n||{addRuleGroup:"+",addRuleGroupExt:"+",delGroup:"x",delRuleGroup:"x",delRule:"x"}[t]);return Object(_.jsx)("button",{onClick:a,type:"button",disabled:i,children:r})},H=function(e){var t=e.children;e.config;return Object(_.jsx)(_.Fragment,{children:t})},K=n(6),Y=function(e){e.config;var t=e.valueSources,n=e.valueSrc,a=(e.title,e.setValueSrc),i=e.readonly;return Object(_.jsx)("select",{onChange:function(e){return a(e.target.value)},value:n,disabled:i,children:function(e){return e.map((function(e){var t=Object(K.a)(e,2),n=t[0],a=t[1];return Object(_.jsx)("option",{value:n,children:a.label},n)}))}(t)})},Q=function(e){var t=e.value,n=e.setValue,a=e.label,i=e.id,r=(e.config,e.type);return[Object(_.jsx)("input",{type:"checkbox",id:i+r,checked:!!t,onChange:function(e){return n(e.target.checked)}},i+r),Object(_.jsx)("label",{htmlFor:i+r,children:a},i+r+"label")]},Z=function(e){var t=e.onOk,n=(e.okText,e.cancelText,e.title);confirm(n)&&t()},X=function(e){e.config;return e.children}},1427:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=1427},152:function(e,t,n){"use strict";var a=n(2),i=n(15),r=n(11),o=n(12),s=n(19),l=n(20),c=n(1),u=n.n(c),d=n(1817),p=n(2030),b=n(1807),f=n(0);function j(e){var t=e.size?e.size:243.333,n=e.thickness?e.thickness:t/44,a=[(t+=4*n)/2.1,t/10.84,t/2.1,t/2.1,t/2.1],i=[t/1.35,t/1.15,t/7.47,t/2.01,t/1.35],r=[t/1.9,t/1.1,t/1.9,t/1.9,t/1.9],o=[t/7.47,t/1.15,t/1.35,t/2.01,t/7.47];return Object(f.jsxs)("svg",{version:"1.1",viewBox:"0 0 "+t+" "+t,width:t,height:t,children:[Object(f.jsx)(b.a.circle,{cx:a[0],cy:i[0],r:n,fill:"rgb(0,170,100)",stroke:"rgb(0,170,100)",animate:{cx:[null].concat(a),cy:[null].concat(i)},transition:{loop:1/0,ease:"linear",duration:1}}),Object(f.jsx)(b.a.circle,{cx:r[0],cy:o[0],r:n,fill:"rgb(124,197,213)",stroke:"rgb(124,197,213)",animate:{cx:[null].concat(r),cy:[null].concat(o)},transition:{loop:1/0,ease:[.35,.11,.52,.79],duration:1}})]})}var m=["className","type","progress","buffer","max","variant","color"],h=function(e){Object(s.a)(n,e);var t=Object(l.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.type,r=e.progress,o=(e.buffer,e.max),s=e.variant,l=e.color,c=Object(i.a)(e,m),u=r/o*100;return Object(f.jsxs)("div",{className:"p-2 m-0 h-auto w-auto"+(t?" "+t:""),children:["circular"===n&&Object(f.jsx)(d.a,Object(a.a)({className:"m-auto",color:l,variant:s,value:u},c)),"linear"===n&&Object(f.jsx)(p.a,Object(a.a)({className:"m-auto",color:l,variant:s,value:u},c)),"logo"===n&&Object(f.jsx)(j,Object(a.a)({className:"m-auto",color:l,variant:s,value:u},c))]})}}]),n}(u.a.Component);h.defaultProps={type:"circular",progress:1,buffer:1,max:100,variant:"indeterminate",color:"secondary"};t.a=h},17:function(e,t,n){"use strict";n.d(t,"o",(function(){return o})),n.d(t,"k",(function(){return O})),n.d(t,"c",(function(){return v})),n.d(t,"d",(function(){return h})),n.d(t,"p",(function(){return f})),n.d(t,"n",(function(){return w})),n.d(t,"r",(function(){return k})),n.d(t,"m",(function(){return q})),n.d(t,"f",(function(){return z})),n.d(t,"g",(function(){return V})),n.d(t,"l",(function(){return at})),n.d(t,"j",(function(){return it})),n.d(t,"q",(function(){return rt})),n.d(t,"b",(function(){return st})),n.d(t,"a",(function(){return At})),n.d(t,"e",(function(){return j})),n.d(t,"i",(function(){return Pt})),n.d(t,"h",(function(){return Tt}));var a=n(6),i=n(1),r=n.n(i);function o(e){var t=Object(i.useState)(e?"loading":"idle"),n=Object(a.a)(t,2),r=n[0],o=n[1];return Object(i.useEffect)((function(){if(e){var t=document.querySelector('script[src="'.concat(e,'"]'));if(t)o(t.getAttribute("data-status")||"idle");else{(t=document.createElement("script")).src=e,t.async=!0,t.setAttribute("data-status","loading"),document.body.appendChild(t);var n=function(e){t&&t.setAttribute("data-status","load"===e.type?"ready":"error")};t.addEventListener("load",n),t.addEventListener("error",n)}var a=function(e){o("load"===e.type?"ready":"error")};return t.addEventListener("load",a),t.addEventListener("error",a),function(){t&&(t.removeEventListener("load",a),t.removeEventListener("error",a))}}o("idle")}),[e]),r}var s=n(2),l=n(5),c=n.n(l),u=n(10),d=n(15),p=n(587),b=n(1779),f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(b.a)(),n=Object(i.useRef)(Object(s.a)({},e)),a=Object(i.useRef)(!1),r=Object(i.useRef)({});Object(i.useRef)({});Object(i.useEffect)((function(){return a.current=!0,function(){return a.current=!1}}),[]);var o=Object(i.useCallback)((function(){return n.current}),[]),l=Object(i.useCallback)((function(){return r.current}),[]),c=Object(i.useCallback)((function(e,i){if(e){var o=JSON.fromJSON(n.current);JSON.isJSON(e)?(Object.assign(n.current,o,e),Object.areEqual(o,n.current)||(r.current=o,a.current&&t(),Function.isFunction(i)&&i(n.current))):Function.isFunction(e)&&Promise.all([e(o)]).then((function(e){Array.isArray(e)&&(JSON.isJSON(e[0])&&Object.assign(n.current,o,e[0]),Object.areEqual(o,n.current)||(r.current=o,a.current&&t(),Function.isFunction(i)&&i(n.current)))})).catch((function(e){return console.error("useSetState error",e)}))}}),[]);return[n.current,c,o,l]},j=function(e){var t=Object(i.useRef)(null);return Object(i.useEffect)((function(){e&&(Function.isFunction(e)?e(t.current):e.current=t.current)})),t};function m(e){var t=Object(i.useRef)(e),n=Object(i.useRef)(0);return Object.areEqual(e,t.current)||(t.current=e,n.current+=1),Object(i.useMemo)((function(){return t.current}),[n.current])}var h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Object(i.useRef)(!0);Object(i.useEffect)((function(){if(!n.current)return e();n.current&&(n.current=!1)}),[m(t)])},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=Object(i.useRef)(!1);return Object(i.useEffect)((function(){t.current=!0;var n=null;return Function.isFunction(e)&&(n=e()),function(){t.current=!1,Function.isFunction(n)&&n()}}),[]),t.current},g=["src","fallback","placeholder","ref","cache"],O=function(e){var t=Object(s.a)({},e),n=t.src,r=t.fallback,o=void 0===r?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAQAAAAnOwc2AAAAD0lEQVR42mNkwAIYh7IgAAVVAAuInjI5AAAAAElFTkSuQmCC":r,l=t.placeholder,b=t.ref,m=(t.cache,Object(d.a)(t,g)),O=j(b),x=Object(i.useRef)(new Image),y=Object(i.useRef)(null),w=Object(p.a)(),k=f({loading:!0,src:null,error:null,loaded:!1}),N=Object(a.a)(k,3),_=N[0],S=N[1],C=N[2],A=function(){var e=Object(u.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(String.isString(t)&&String.containsUrl(t)&&caches)){e.next=10;break}if(y.current){e.next=7;break}return e.next=4,caches.open("lazy-loaded-images").then(function(){var e=Object(u.a)(c.a.mark((function e(n){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.match(t);case 2:if((a=e.sent)&&a.ok){e.next=9;break}if(a){e.next=8;break}return e.next=7,n.add(t);case 7:a=e.sent;case 8:throw t;case 9:return e.t0=URL,e.next=12,a.clone().blob();case 12:return e.t1=e.sent,y.current=e.t0.createObjectURL.call(e.t0,e.t1),console.log("objectUrlRef.current",y.current),e.abrupt("return",y.current);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:return e.abrupt("return",e.sent);case 7:return e.abrupt("return",y.current);case 8:e.next=11;break;case 10:throw t;case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=Object(i.useCallback)((function(e){x.current.onload=null,S({loading:!1,error:null,loaded:!0})}),[o,l]),P=Object(i.useCallback)((function(e){x.current.onerror=null,w&&!String.isEmpty(x.current.src)&&(S({loading:!1,error:e}),x.current.src=o||l)}),[o,l]),D=Object(i.useCallback)((function(e){S({loading:!0,error:null}),x.current.onload=F,x.current.onerror=P,A(e).then((function(e){S({loading:!1,error:null,src:e}),x.current.src=e})).catch((function(t){console.log("loadImage error",t),S({loading:!1,error:t,src:o||l}),x.current.src=e}))}),[o,l]);return v((function(){var e=void 0,t=C();return"IntersectionObserver"in window&&O&&O.current instanceof Element?(e=new IntersectionObserver((function(t){t.forEach((function(t){t.isIntersecting&&(D(n),e.unobserve(t.target))}))}),m)).observe(O.current):D(t.src),function(){!0,x.current.onerror=null,x.current.onload=null,e&&O.current instanceof Element&&e.unobserve(O.current)}})),h((function(){C().error&&S({fallback:o,src:o})}),[o]),h((function(){S((function(e){return{placeholder:l,src:e.error?l:e.src}}))}),[l]),h((function(){y.current=!1,D(n)}),[n]),[_.src||l||o,Object(s.a)(Object(s.a)({},_),{},{ref:O,fallback:o,placeholder:l})]},x=n(27);n(1262);function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{add:function(t,n){var a=e.findIndex((function(e){return e.id===t})),i=e.slice();return a>-1?i.splice(a,1,{id:t,data:n}):i.push({id:t,data:n}),y(i)},remove:function(t){return y(e.filter((function(e){return e.id!==t})))},removeAll:function(){return y()},entries:e}}var w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=Object(i.useState)(y(e)),n=Object(a.a)(t,2),r=n[0].entries,o=n[1],s=Object(i.useCallback)((function(e,t){o((function(n){return n.add(e,t)}))}),[o]),l=Object(i.useCallback)((function(e){o((function(t){return t.remove(e)}))}),[o]),c=Object(i.useCallback)((function(){o((function(e){return e.removeAll()}))}),[o]);return Object(i.useMemo)((function(){return{add:s,remove:l,removeAll:c,entries:r}}),[s,l,c,r])},k=function(e){Object(i.useEffect)((function(){return e}),[])},N=(n(980),n(981),n(99),n(984),n(985),n(986),n(987),n(988),n(989),n(990),n(982),n(983),n(992),n(841),n(842),n(993),n(994),n(991),n(995),n(996),n(18)),_=n(4),S=function(e){var t=new window.google.maps.Geocoder;return new Promise((function(n,a){t.geocode(e,(function(t,i){"OK"!==i&&a(i),!e.address&&e.componentRestrictions&&(console.error("\ud83d\udca1 use-places-autocomplete: Please provide an address when using getGeocode() with the componentRestrictions."),n(t)),n(t)}))}))},C=function(e){return new Promise((function(t,n){try{var a=e.geometry.location,i=a.lat,r=a.lng;t({lat:i(),lng:r()})}catch(error){n(error)}}))},A=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise((function(n,a){try{var i=null;e.address_components.forEach((function(e){var n=e.long_name,a=e.short_name;e.types.includes("postal_code")&&(i=t?a:n)})),n(i)}catch(error){a(error)}}))},F="\ud83d\udca1 use-places-autocomplete: Please provide a place Id when using getDetails() either as a string or as part of an Autocomplete Prediction.",P=function(e){var t=new window.google.maps.places.PlacesService(document.createElement("div"));return e.placeId?new Promise((function(n,a){t.getDetails(e,(function(e,t){"OK"!==t&&a(t),n(e)}))})):(console.error(F),Promise.reject(F))},D=function(e){var t=Object(i.useRef)(e);return t.current=e,t},E={coordinates:"location",bounds:"address",address:"address",formatted_address:"address",place_id:"placeId",street_number:"address",route:"address",neighborhood:"address",political:"address",locality:"address",administrative_area_level_1:"address",administrative_area_level_2:"address",administrative_area_level_3:"address",administrative_area_level_4:"address",administrative_area_level_5:"address",country:"address",postal_code:"address"},T="\ud83d\udca1 use-places-autocomplete: Google Maps Places API library must be loaded. See: https://github.com/wellyshen/use-places-autocomplete#load-the-library",q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.requestOptions,n=e.debounce,r=void 0===n?200:n,o=e.cache,l=void 0===o?86400:o,d=e.googleMaps,p=e.callbackName,b=e.defaultValue,j=void 0===b?"":b,m=e.initOnMount,h=void 0===m||m,g=e.type,O=void 0===g?"coordinates":g,x=e.label,y=void 0===x?"administrative_area_level_1":x,w=e.short_name,N=void 0!==w&&w,F=e.cacheName,q=void 0===F?"upa":F,M=f({ready:!1,keyword:"",value:j,label:E[O]?E[O]:"formatted_address",suggestions:{loading:!1,status:"",data:[]}}),I=Object(a.a)(M,2),R=I[0],L=I[1],z=Object(i.useRef)(null),V=D(t),W=D(d),J=Object(i.useRef)(),B=Object(i.useRef)(null),U=Object(i.useCallback)((function(){var e;if(!z.current){var t=window.google,n=W.current,a=(null===n||void 0===n?void 0:n.places)||(null===t||void 0===t||null===(e=t.maps)||void 0===e?void 0:e.places);a?(z.current=new a.AutocompleteService,j&&ee(j),L({ready:!0})):console.error(T)}}),[]),G=Object(i.useCallback)((function(){L({suggestions:{loading:!1,status:"",data:[]}})}),[]),H=Object(i.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"suggestions",n={};try{n=JSON.parse(sessionStorage.getItem(q)||"{}")}catch(error){return[]}var a=!1;if(n=Object.keys(n).reduce((function(e,t){return n[t].maxAge-Date.now()>=0?e[t]=n[t]:a||(a=!0),e}),{}),a)try{sessionStorage.setItem(q,JSON.stringify(n))}catch(error){}return n[e]&&n[e][t]||[]}),[l,q]),K=Object(i.useCallback)(function(){var e=Object(u.a)(c.a.mark((function e(t,n){var a,i,r,o=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=o.length>2&&void 0!==o[2]?o[2]:"suggestions",r={};try{r=JSON.parse(sessionStorage.getItem(q)||"{}")}catch(error){}r[t]=Object(s.a)(Object(s.a)({},r[t]),{},(a={},Object(_.a)(a,i,n||[]),Object(_.a)(a,"maxAge",Date.now()+1e3*l),a));try{sessionStorage.setItem(q,JSON.stringify(r))}catch(error){}case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[l,q]),Y=Object(i.useCallback)((function(e){return new Promise((function(t,n){var a=[];z.current?z.current.getQueryPredictions(Object(s.a)(Object(s.a)({},V.current),{},{input:e}),(function(i,r){"OK"===r?t(a=i||[]):(console.error("Fetch Suggestions for keyword '"+e+"' failed with status:",r),n(r))})):t(a)}))}),[z.current,V.current,O]),Q=Object(i.useCallback)((function(e){var t=[];return["street_number","route","neighborhood","political","locality","administrative_area_level_1","administrative_area_level_2","administrative_area_level_3","administrative_area_level_4","administrative_area_level_5","country","postal_code"].includes(O)&&(e=e.filter((function(e){var t;return null===e||void 0===e||null===(t=e.types)||void 0===t?void 0:t.includes(O)}))),e.map((function(e){t.push(Object(s.a)(Object(s.a)({},e),{},{label:e.description,value:e}))})),t}),[O]),Z=Object(i.useCallback)((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Promise((function(i,r){t&&e||r("Geocode was not successful. Param is missing"),n||r("Geocode was not successful. Result type is missing"),J.current||r("Geocode was not successful. Geocoder is Missing"),J.current.geocode(Object(s.a)(Object(s.a)({},a),{},Object(_.a)({},E[e],t)),(function(e,a){if("OK"==a){var o=void 0;if(Array.isArray(t))o=[],Array.isArray(e)&&e.map((function(t){if("address_components"===n)o.push(t.address_components);else if("coordinates"===n)o.push({lat:e[0].geometry.location.lat(),lng:e[0].geometry.location.lng()});else if("viewport"===n)o.push(t.geometry.viewport);else if("bounds"===n)o.push(t.geometry.bounds);else if("place_id"===n)o.push(t.place_id);else if(["street_number","route","neighborhood","political","locality","administrative_area_level_1","administrative_area_level_2","administrative_area_level_3","administrative_area_level_4","administrative_area_level_5","country","postal_code"].includes(n)){for(var a="",i=t.address_components,r=N?"short_name":"long_name",s=0;s<i.length;s++)Array.isArray(i[s].types)&&i[s].types.includes(n)&&(a=a+(a.length>0?" ":"")+i[s][r]);o.push(a)}else o.push(t.formatted_address)}));else if(Array.isArray(e)&&e.length>0)if("address_components"===n)o=e[0].address_components;else if("coordinates"===n)o={lat:e[0].geometry.location.lat(),lng:e[0].geometry.location.lng()};else if("bounds"===n)o=e[0].geometry.bounds;else if("viewport"===n)o=e[0].geometry.viewport;else if("place_id"===n)o=e[0].place_id;else if(["street_number","route","neighborhood","political","locality","administrative_area_level_1","administrative_area_level_2","administrative_area_level_3","administrative_area_level_4","administrative_area_level_5","country","postal_code"].includes(n)){for(var s="",l=e[0].address_components,c=N?"short_name":"long_name",u=0;u<l.length;u++)Array.isArray(l[u].types)&&l[u].types.includes(n)&&(s=s+(s.length>0?" ":"")+l[u][c]);o=s}else o=e[0].formatted_address;i(o)}else r("Geocode was not successful."+a)}))}))}),[J.current]),X=Object(i.useCallback)(Function.debounce((function(e){if(e){L({suggestions:{data:[],status:"",loading:!0}});var t=[];l&&(t=H(e,"suggestions")).length>0?L({suggestions:{loading:!1,status:"OK",data:Q(t)}}):(B.current&&clearTimeout(B.current),Y(e).then((function(t){L({suggestions:{loading:!1,status:"OK",data:Q(t)}}),B.current=setTimeout((function(){return K(e,t,"suggestions")}),5e3)})).catch((function(e){return L({suggestions:{loading:!1,status:"OK",data:[]}})})))}else G()}),r),[r,G]),$=Object(i.useCallback)((function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];L({keyword:e}),t&&e&&e.length>=3&&X(e)}),[X]),ee=Object(i.useCallback)((function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e;Array.isArray(e)||("coordinates"===O&&JSON.isJSON(e)&&("lat"in e||"latitude"in e)&&("lng"in e||"longitude"in e)&&(n={lat:e.lat?e.lat:e.latitude,lng:e.lng?e.lng:e.longitude}),n&&t?(L({value:n,loading:!0}),Z(O,n,y||"formatted_address").then((function(e){String.isString(e)&&(L({keyword:e,loading:!1}),$(e))})).catch((function(e){L({value:n,keyword:e,loading:!1})}))):L({value:n,loading:!1}))}),[O,y]),te=Object(i.useCallback)((function(e){var t=e;Array.isArray(e)||(t?"address"!==E[O]?(L({keyword:e.description||e.label,loading:!1}),Z("formatted_address",e.description||e.label,O).then((function(t){L({keyword:e.description||e.label,value:t})})).catch((function(e){L({keyword:e,loading:!1})}))):L({keyword:e.description||e.label,value:e.description||e.label,loading:!1}):L({value:null,keyword:"",loading:!1}))}),[r,O,y]);return v((function(){if(!h)return function(){return null};var e=window.google;!J.current&&(null===e||void 0===e?void 0:e.maps)&&(J.current=new window.google.maps.Geocoder),W.current||(null===e||void 0===e?void 0:e.maps)||!p?U():window[p]=U})),k((function(){window[p]&&delete window[p]})),Object(s.a)(Object(s.a)({},R),{},{setKeyword:$,clearSuggestions:G,setValue:ee,selectSuggestion:te,parseValueToType:Z,init:U,getGeocode:S,getLatLng:C,getZipCode:A,getDetails:P})},M=["coords"],I=["latitude","longitude"];function R(e){return new Promise((function(t,n){navigator.geolocation?navigator.geolocation.getCurrentPosition((function(e){var n=e.coords,a=Object(d.a)(e,M),i=n.latitude,r=n.longitude,o=Object(d.a)(n,I);t(Object(s.a)(Object(s.a)({lat:i,lng:r},o),a))}),(function(e){n(e.message)}),e):n("Geolocation is not supported for this Browser/OS.")}))}var L={enableHighAccuracy:!1,maximumAge:0,timeout:Number.POSITIVE_INFINITY,when:!0},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=Object(i.useState)(null),n=Object(a.a)(t,2),r=n[0],o=n[1],s=e.when,l=e.enableHighAccuracy,d=e.timeout,p=e.maximumAge;return Object(i.useEffect)((function(){function e(){return(e=Object(u.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R({enableHighAccuracy:l,maximumAge:p,timeout:d,when:s});case 3:t=e.sent,o(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),o(null);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}s&&function(){e.apply(this,arguments)}()}),[s,l,d,p]),r},V=function(){var e=6378137,t=function e(t){var n;return"Point"==t.type?n=[t.coordinates]:"LineString"==t.type||"MultiPoint"==t.type?n=t.coordinates:"Polygon"==t.type||"MultiLineString"==t.type?n=t.coordinates.reduce((function(e,t){return e.concat(t)}),[]):"MultiPolygon"==t.type?n=t.coordinates.reduce((function(e,t){return e.concat(t.reduce((function(e,t){return e.concat(t)}),[]))}),[]):"Feature"==t.type?n=e(t.geometry):"GeometryCollection"==t.type?n=t.geometries.reduce((function(t,n){return t.concat(e(n))}),[]):"FeatureCollection"==t.type&&(n=t.features.reduce((function(t,n){return t.concat(e(n))}),[])),n},n=function(e){var n,a;if(e.hasOwnProperty("type"))return n=t(e),a=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],n.reduce((function(e,t){return[Math.min(t[0],e[0]),Math.min(t[1],e[1]),Math.max(t[0],e[2]),Math.max(t[1],e[3])]}),a)},i=function(t){var n,a,i,o,s,l,c,u=0,d=t.length;if(d>2){for(c=0;c<d;c++)c===d-2?(o=d-2,s=d-1,l=0):c===d-1?(o=d-1,s=0,l=1):(o=c,s=c+1,l=c+2),n=t[o],a=t[s],i=t[l],u+=(r(i[0])-r(n[0]))*Math.sin(r(a[1]));u=u*e*e/2}return u},r=function(e){return e*Math.PI/180};function o(e){var t=0;if(e&&e.length>0){t+=Math.abs(i(e[0]));for(var n=1;n<e.length;n++)t-=Math.abs(i(e[n]))}return t}return{getBoundingBox:n,getCoordinatesDump:t,getAdminLevelName:function(e){var t=e.properties.admin_level;return e.properties.name||e.properties["admin_level_"+t]},getCenterCoordinates:function(e){if(e.hasOwnProperty("type")){var t=n(e),i=Object(a.a)(t,4),r=i[0],o=i[1],s=i[2];return{lat:(i[3]+o)/2,lng:(r+s)/2}}},geometryArea:function e(t){var n=0;switch(t.type){case"Polygon":return o(t.coordinates);case"MultiPolygon":for(var a=0;a<t.coordinates.length;a++)n+=o(t.coordinates[a]);return n;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(var i=0;i<t.geometries.length;i++)n+=e(t.geometries[i]);return n;case"FeatureCollection":for(var r=0;r<t.features.length;r++)n+=e(t.features[r]);return n;case"Feature":return n+=e(t.geometry)}}}},W=(n(1907),n(11)),J=n(12),B=n(19),U=n(20),G=(i.PureComponent,n(144)),H=n(1809),K=n(1952),Y=n(21),Q=["as","errors","name","message","render"],Z=function(e){var t=e.as,n=e.errors,a=e.name,r=e.message,o=e.render,s=Object(d.a)(e,Q),l=Object(G.d)(),c=Object(G.b)(n||l.formState.errors,a);if(!c)return null;var u=c.message,p=c.types,b=Object.assign({},s,{children:u||r});return i.isValidElement(t)?i.cloneElement(t,b):o?o({message:u||r,messages:p}):i.createElement(t||i.Fragment,b)},X=n(2031),$=n(2032),ee=n(1780),te=n(0),ne=["name","control","defaultValue","rules","shouldUnregister","component","render","helperText","onChange","disabled","formControlProps"],ae=["onChange"],ie=r.a.forwardRef((function(e,t){var n=e.name,a=e.control,r=e.defaultValue,o=e.rules,l=e.shouldUnregister,c=e.component,u=e.render,p=e.helperText,b=e.onChange,f=e.disabled,j=e.formControlProps,m=Object(d.a)(e,ne),h=Object(i.useCallback)((function(e){if(Function.isFunction(u))return u(e);var n=e.field,a=n.onChange,i=Object(d.a)(n,ae),r=e.fieldState,o=(r.isTouched,r.invalid),l=(r.isDirty,r.error),h=e.formState.isSubmitting;return Object(te.jsxs)(X.a,Object(s.a)(Object(s.a)({component:"fieldset",className:"w-full"},j),{},{children:[Object(te.jsx)(c,Object(s.a)(Object(s.a)({},i),{},{onChange:b||a,ref:t,disabled:f||h,error:o},m)),Object(te.jsxs)(ee.a,{className:"w-full",children:[!!(null===l||void 0===l?void 0:l.message)&&Object(te.jsx)($.a,{error:!0,children:null===l||void 0===l?void 0:l.message}),!!p&&Object(te.jsx)($.a,{error:!1,children:p})]})]}))}),[u,m]);return Object(te.jsx)(G.a,{name:n,control:a,defaultValue:r,rules:o,shouldUnregister:l,render:h})})),re=r.a.memo(ie),oe=n(1820),se=n(2037),le=n(1817),ce=n(656),ue=n(1916),de=n(1917),pe=["name","control","defaultValue","value","rules","shouldUnregister","helperText","onChange","onFocus","onBlur","disabled","render","type","inputRef","multiline","rows","maxRows","minRows","InputProps","sx","debounce","variant"],be=["onChange","onFocus","onBlur","value","ref"],fe=r.a.forwardRef((function(e,t){var n=e.name,r=e.control,o=e.defaultValue,l=(e.value,e.rules),c=e.shouldUnregister,u=(e.helperText,e.onChange),p=e.onFocus,b=e.onBlur,j=e.disabled,m=(e.render,e.type,e.inputRef,e.multiline),h=e.rows,v=e.maxRows,g=e.minRows,O=(e.InputProps,e.sx),x=(e.debounce,e.variant),y=Object(d.a)(e,pe),w=f({showPassword:!1}),k=Object(a.a)(w,3),N=k[0],_=k[1],S=(k[2],r._formState),C=Object(i.useCallback)((function(e){return function(t){Function.isFunction(e)&&e(t)}}),[u]),A=Object(i.useCallback)((function(e){return function(t){Function.isFunction(e)&&e(t),Function.isFunction(p)&&p(t)}}),[p]),F=Object(i.useCallback)((function(e){return function(t){Function.isFunction(e)&&e(t),Function.isFunction(b)&&b(t)}}),[b]),P=Object(i.useCallback)((function(n){var a;if(Function.isFunction(e.render))return e.render(n);var i=n.field,r=i.onChange,o=i.onFocus,l=i.onBlur,c=i.value,u=i.ref,p=Object(d.a)(i,be),b=n.fieldState,f=b.isTouched,w=(b.invalid,b.isDirty,b.error);return Object(te.jsx)(oe.a,Object(s.a)(Object(s.a)({},p),{},{type:N.showPassword?"text":e.type,value:c,onChange:C(r),onFocus:A(o),onBlur:F(l),disabled:j||S.isSubmitting,error:f&&!!(null===w||void 0===w?void 0:w.message),InputProps:Object(s.a)(Object(s.a)({},e.InputProps),{},{endAdornment:("password"===e.type||e.loading||e.InputProps&&e.InputProps.endAdornment)&&((null===(a=e.InputProps)||void 0===a?void 0:a.endAdornment)?Object(te.jsxs)("div",{className:"flex flex-row",children:[Object(te.jsxs)(se.a,{position:"end",children:[e.loading&&Object(te.jsx)(le.a,{size:"1rem",color:"inherit"}),"password"===e.type&&Object(te.jsx)(ce.a,{"aria-label":"Toggle password visibility",color:"inherit",onClick:function(t){_((function(t){return{showPassword:"password"===e.type&&!t.showPassword}}))},children:N.showPassword?Object(te.jsx)(ue.a,{fontSize:"small"}):Object(te.jsx)(de.a,{fontSize:"small"})})]}),e.InputProps&&e.InputProps.endAdornment]}):Object(te.jsxs)(se.a,{position:"end",children:[e.loading&&Object(te.jsx)(le.a,{size:"1rem",color:"inherit"}),"password"===e.type&&Object(te.jsx)(ce.a,{"aria-label":"Toggle password visibility",color:"inherit",onClick:function(){return _((function(t){return{showPassword:"password"===e.type&&!t.showPassword}}))},children:N.showPassword?Object(te.jsx)(ue.a,{fontSize:"small"}):Object(te.jsx)(de.a,{fontSize:"small"})})]}))}),helperText:Object(te.jsxs)(ee.a,{className:"w-full",children:[f&&!!(null===w||void 0===w?void 0:w.message)&&Object(te.jsx)($.a,{component:"div",error:!0,children:null===w||void 0===w?void 0:w.message}),!!e.helperText&&Object(te.jsx)($.a,{component:"div",error:!1,children:e.helperText})]}),sx:Object(s.a)({"& .MuiFormHelperText-root":{marginLeft:"2px !important",marginRight:"2px !important"}},O),inputRef:e.inputRef||u,ref:t,fullWidth:!0,variant:x,multiline:m,rows:h,maxRows:v,minRows:g},y))}),[e,N]);return Object(te.jsx)(G.a,{name:n,control:r,defaultValue:o,rules:l,shouldUnregister:c,render:function(e){return P(e)}})})),je=r.a.memo(fe),me=n(495),he=["name","control","defaultValue","rules","shouldUnregister","helperText","onChange","onFocus","onBlur","disabled","render"],ve=["onChange","onFocus","onBlur","value"],ge=r.a.forwardRef((function(e,t){var n=e.name,a=e.control,r=e.defaultValue,o=e.rules,l=e.shouldUnregister,c=(e.helperText,e.onChange),u=e.onFocus,p=e.onBlur,b=e.disabled,f=e.render,j=Object(d.a)(e,he),m=Object(i.useCallback)((function(e){return function(t){Function.isFunction(e)&&e(t),Function.isFunction(c)&&c(t)}}),[c]),h=Object(i.useCallback)((function(e){return function(t){Function.isFunction(e)&&e(t),Function.isFunction(u)&&u(t)}}),[u]),v=Object(i.useCallback)((function(e){return function(t){Function.isFunction(e)&&e(t),Function.isFunction(p)&&p(t)}}),[p]),g=Object(i.useCallback)((function(n){if(Function.isFunction(f))return f(n);var a=n.field,i=a.onChange,r=a.onFocus,o=a.onBlur,l=a.value,c=Object(d.a)(a,ve),u=n.fieldState,p=u.isTouched,g=(u.invalid,u.isDirty,u.error),O=n.formState.isSubmitting;return Object(te.jsx)(me.a,Object(s.a)(Object(s.a)({},c),{},{defaultValue:l,onChange:m(i),onFocus:h(r),onBlur:v(o),disabled:b||O,error:p&&!!(null===g||void 0===g?void 0:g.message),helperText:Object(te.jsxs)(ee.a,{className:"w-full",children:[p&&!!(null===g||void 0===g?void 0:g.message)&&Object(te.jsx)($.a,{component:"div",error:!0,children:null===g||void 0===g?void 0:g.message}),!!e.helperText&&Object(te.jsx)($.a,{component:"div",error:!1,children:e.helperText})]}),ref:t},j))}),[f,j]);return Object(te.jsx)(G.a,{name:n,control:a,defaultValue:r||[],rules:o,shouldUnregister:l,render:g})})),Oe=r.a.memo(ge),xe=n(30),ye=n(2012),we=n(1927),ke=n(2045),Ne=n(1911),_e=["name","control","defaultValue","rules","label","shouldUnregister","onChange","disabled","render","formControlProps","formLabelProps","radioProps","options"],Se=["onChange","required","label"],Ce=function(e){var t=e.name,n=e.control,r=e.defaultValue,o=e.rules,l=e.label,c=e.shouldUnregister,u=e.onChange,p=e.disabled,b=e.render,j=e.formControlProps,m=e.formLabelProps,g=e.radioProps,O=e.options,x=void 0===O?{}:O,y=Object(d.a)(e,_e),w=f({options:new Map,loading:!1}),k=Object(a.a)(w,2),N=k[0],_=k[1],S=n._formState,C=Object(i.useCallback)((function(e){var t=new Map;return JSON.isJSON(e)?Object.entries(e).map((function(e){var n=Object(a.a)(e,2),i=n[0],r=n[1];t.set(i,r)})):Array.isArray(e)&&e.map((function(e){var n=(null===e||void 0===e?void 0:e.value)||(null===e||void 0===e?void 0:e.key)||(null===e||void 0===e?void 0:e.id)||(null===e||void 0===e?void 0:e._id)||e;t.set(n,e)})),t}),[]);v((function(){if(JSON.isJSON(x)||Array.isArray(x)){var e=C(x);_({options:e})}else Function.isFunction(x)&&Promise.all([x()]).then((function(e){var t=C(e[0]);_({options:t})}))})),h((function(){if(JSON.isJSON(x)||Array.isArray(x)){var e=C(x);_({options:e})}else Function.isFunction(x)&&Promise.all([x()]).then((function(e){var t=C(e[0]);_({options:t})}))}),[x]);var A=Object(i.useCallback)((function(e){return function(t){Function.isFunction(e)&&e(t),Function.isFunction(u)&&u(t)}}),[u]),F=Object(i.useCallback)((function(e){if(Function.isFunction(b))return b(e);var n=e.field,a=n.onChange,r=n.required,o=(n.label,Object(d.a)(n,Se)),c=e.fieldState;c.isTouched,c.invalid,c.isDirty,c.error,e.formState.isSubmitting;return Object(te.jsxs)(X.a,Object(s.a)(Object(s.a)({component:"fieldset"},j),{},{children:[Object(te.jsx)(Ne.a,Object(s.a)(Object(s.a)({component:"legend",required:r},m),{},{children:l})),Object(te.jsx)(we.a,Object(s.a)(Object(s.a)(Object(s.a)({onChange:A(a)},y),{},{disabled:p||S.isSubmitting},o),{},{children:Object(xe.a)(N.options.keys()).map((function(e,n){return JSON.isJSON(N.options.get(e))?Object(i.createElement)(ke.a,Object(s.a)(Object(s.a)({value:e,control:Object(te.jsx)(ye.a,Object(s.a)({},g))},N.options.get(e)),{},{key:"radio-group-".concat(t,"-").concat(n)})):Object(te.jsx)(ke.a,{value:e,control:Object(te.jsx)(ye.a,Object(s.a)({},g)),label:N.options.get(e)},"radio-group-".concat(t,"-").concat(n))}))}))]}))}),[b,y]);return Object(te.jsx)(G.a,{name:t,control:n,defaultValue:r,rules:o,shouldUnregister:c,render:F})},Ae=r.a.memo(Ce),Fe=n(2016),Pe=n(1824),De=["name","control","defaultValue","value","rules","shouldUnregister","onChange","disabled","color","label","title","render","helperText"],Ee=["onChange","value","ref"],Te=r.a.forwardRef((function(e,t){var n=e.name,a=e.control,r=e.defaultValue,o=(e.value,e.rules),l=e.shouldUnregister,c=e.onChange,u=e.disabled,p=e.color,b=e.label,f=e.title,j=e.render,m=e.helperText,h=Object(d.a)(e,De),v=a._formState,g=Object(i.useCallback)((function(e){return function(t){Function.isFunction(e)&&e(t.target.checked),Function.isFunction(c)&&c(t)}}),[c]),O=Object(i.useCallback)((function(e){if(Function.isFunction(j))return j(e);var n=e.field,a=n.onChange,i=n.value,r=n.ref,o=Object(d.a)(n,Ee),l=e.fieldState,c=(l.isTouched,l.invalid),O=(l.isDirty,l.error);return Object(te.jsxs)(X.a,{component:"fieldset",variant:"standard",children:[!!f&&Object(te.jsx)(Ne.a,{component:"legend",children:f}),Object(te.jsx)(Pe.a,{children:Object(te.jsx)(ke.a,{control:Object(te.jsx)(Fe.a,Object(s.a)(Object(s.a)({},o),{},{checked:!!i,onChange:g(a),disabled:u||v.isSubmitting,color:c?"error":p||"primary",ref:t||r},h)),label:b})}),Object(te.jsxs)(ee.a,{className:"w-full",children:[!!(null===O||void 0===O?void 0:O.message)&&Object(te.jsx)($.a,{component:"div",error:!0,children:null===O||void 0===O?void 0:O.message}),!!m&&Object(te.jsx)($.a,{component:"div",error:!1,children:m})]})]})}),[j]);return Object(te.jsx)(G.a,{name:n,control:a,defaultValue:r,rules:o,shouldUnregister:l,render:O})})),qe=r.a.memo(Te),Me=n(2034),Ie=n(2046),Re=n(2015),Le=["name","control","defaultValue","rules","shouldUnregister","onChange","disabled","render","formControlProps","inputLabelProps","menuItemProps","label","variant","options"],ze=["onChange","required","ref"],Ve=r.a.forwardRef((function(e,t){var n=e.name,r=e.control,o=e.defaultValue,l=e.rules,c=e.shouldUnregister,u=e.onChange,p=e.disabled,b=e.render,f=e.formControlProps,j=e.inputLabelProps,m=e.menuItemProps,h=e.label,v=e.variant,g=e.options,O=void 0===g?{}:g,x=Object(d.a)(e,Le),y=r._formState,w=Object(i.useCallback)((function(e){return function(t){Function.isFunction(e)&&e(t),Function.isFunction(u)&&u(t)}}),[u]),k=Object(i.useCallback)((function(e){if(Function.isFunction(b))return b(e);var r=e.field,o=r.onChange,l=r.required,c=r.ref,u=Object(d.a)(r,ze),g=e.fieldState;g.isTouched,g.invalid,g.isDirty,g.error,e.formState.isSubmitting;return Object(te.jsxs)(X.a,Object(s.a)(Object(s.a)({component:"fieldset",variant:v,fullWidth:!0},f),{},{children:[Object(te.jsxs)(Me.a,Object(s.a)(Object(s.a)({required:l},j),{},{id:"select-input-".concat(n,"-label"),children:[" ",h]})),Object(te.jsxs)(Re.a,Object(s.a)(Object(s.a)(Object(s.a)({label:h,id:"select-input-".concat(n),labelId:"select-input-".concat(n,"-label"),onChange:w(o),disabled:p||y.isSubmitting,ref:t||c},x),u),{},{children:[Object(te.jsx)(Ie.a,{value:"",children:Object(te.jsx)("em",{children:"None"})}),JSON.isJSON(O)&&Object.entries(O).map((function(e,t){var r=Object(a.a)(e,2),o=r[0],l=r[1];return JSON.isJSON(l),Object(i.createElement)(Ie.a,Object(s.a)(Object(s.a)({},m),{},{value:o,key:"select-option-".concat(n,"-").concat(t)}),l)}))]}))]}))}),[b,x]);return Object(te.jsx)(G.a,{name:n,control:r,defaultValue:o,rules:l,shouldUnregister:c,render:k})})),We=r.a.memo(Ve),Je=n(370),Be=["name","control","defaultValue","value","rules","shouldUnregister","onChange","disabled","render","helperText","sx"],Ue=["onChange"],Ge=r.a.forwardRef((function(e,t){var n=e.name,a=e.control,r=e.defaultValue,o=(e.value,e.rules),l=e.shouldUnregister,c=e.onChange,u=e.disabled,p=e.render,b=e.helperText,f=e.sx,j=Object(d.a)(e,Be),m=a._formState,h=Object(i.useCallback)((function(e){return function(t){Function.isFunction(e)&&e(t),Function.isFunction(c)&&c(t)}}),[c]),v=Object(i.useCallback)((function(e){if(Function.isFunction(p))return p(e);var n=e.field,a=n.onChange,i=Object(d.a)(n,Ue),r=e.fieldState,o=r.isTouched,l=(r.invalid,r.isDirty,r.error);return Object(te.jsx)(Je.a,Object(s.a)(Object(s.a)(Object(s.a)({onChange:h(a),disabled:u||m.isSubmitting,error:o&&!!(null===l||void 0===l?void 0:l.message),helperText:Object(te.jsxs)(ee.a,{className:"w-full",children:[o&&!!(null===l||void 0===l?void 0:l.message)&&Object(te.jsx)($.a,{component:"div",error:!0,children:null===l||void 0===l?void 0:l.message}),!!b&&Object(te.jsx)($.a,{component:"div",error:!1,children:b})]}),sx:Object(s.a)({"& .MuiFormHelperText-root":{marginLeft:"2px !important",marginRight:"2px !important"}},f)},j),i),{},{ref:t}))}),[p]);return Object(te.jsx)(G.a,{name:n,control:a,defaultValue:r,rules:o,shouldUnregister:l,render:v})})),He=r.a.memo(Ge),Ke=n(635),Ye=["name","control","defaultValue","rules","shouldUnregister","helperText","onChange","onFocus","onBlur","disabled","render"],Qe=["onChange","onFocus","onBlur","value"],Ze=r.a.forwardRef((function(e,t){var n=e.name,a=e.control,r=e.defaultValue,o=e.rules,l=e.shouldUnregister,c=e.helperText,u=e.onChange,p=e.onFocus,b=e.onBlur,f=e.disabled,j=e.render,m=Object(d.a)(e,Ye),h=Object(i.useCallback)((function(e){return function(t){Function.isFunction(e)&&e(t),Function.isFunction(u)&&u(t)}}),[u]),v=Object(i.useCallback)((function(e){return function(t){Function.isFunction(e)&&e(t),Function.isFunction(p)&&p(t)}}),[p]),g=Object(i.useCallback)((function(e){return function(t){Function.isFunction(e)&&e(t),Function.isFunction(b)&&b(t)}}),[b]),O=Object(i.useCallback)((function(e){if(Function.isFunction(j))return j(e);var n=e.field,a=n.onChange,i=n.onFocus,r=n.onBlur,o=n.value,l=Object(d.a)(n,Qe),u=e.fieldState,p=(u.isTouched,u.invalid),b=(u.isDirty,u.error),O=e.formState.isSubmitting;return Object(te.jsx)(Ke.a,Object(s.a)(Object(s.a)({},l),{},{defaultValue:o,onChange:h(a),onFocus:v(i),onBlur:g(r),disabled:f||O,error:p,helperText:(null===b||void 0===b?void 0:b.message)||c,ref:t},m))}),[j,m]);return Object(te.jsx)(G.a,{name:n,control:a,defaultValue:r||[],rules:o,shouldUnregister:l,render:O})})),Xe=r.a.memo(Ze),$e=n(55),et=["name","mode","reValidateMode","criteriaMode","resolver","context","shouldFocusError","shouldUnregister","shouldUseNativeValidation","delayError","defaultValues","onSubmit","onSubmitError","watch","exclude","validate","volatile","persistOnChange"],tt=["control","handleSubmit","watch","setValue","getValues","trigger","reset","resetField","formState"],nt={name:"default",mode:"all",reValidateMode:"onChange",resolver:void 0,context:void 0,criteriaMode:"firstError",shouldFocusError:!0,shouldUnregister:!1,shouldUseNativeValidation:!1,delayError:void 0,defaultValues:{},watch:!0,volatile:!1,exclude:[],include:[]},at=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt,t=Object(s.a)(Object(s.a)({},nt),e),n=t.name,a=t.mode,r=t.reValidateMode,o=t.criteriaMode,l=t.resolver,p=t.context,b=t.shouldFocusError,f=t.shouldUnregister,j=t.shouldUseNativeValidation,m=t.delayError,h=t.defaultValues,g=t.onSubmit,O=t.onSubmitError,x=(t.watch,t.exclude,t.validate,t.volatile),y=(t.persistOnChange,Object(d.a)(t,et)),w=Object(N.c)(),_=Object(N.d)((function(e){return Object(s.a)(Object(s.a)({},e),{},{forms:(null===e||void 0===e?void 0:e.forms)||{}})})),S=_.forms,C=Object(i.useMemo)((function(){var e;return null===(e=S[n])||void 0===e?void 0:e.values}),[S]),A=Object(K.a)(C),F=(Object(K.a)(null),Object(G.c)(Object(s.a)({mode:a||"onSubmit",reValidateMode:r||"onChange",defaultValues:C||h||{},resolver:l,context:p,criteriaMode:o,shouldFocusError:b,shouldUnregister:f,shouldUseNativeValidation:j,delayError:m},y))),P=F.control,D=F.handleSubmit,E=F.watch,T=F.setValue,q=F.getValues,M=F.trigger,I=F.reset,R=F.resetField,L=F.formState,z=Object(d.a)(F,tt),V=L.errors,W=Object(i.useCallback)(function(){var e=Object(u.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=JSON.merge(q(),Object(s.a)({},t)),x||w(Object(Y.Mb)(n,{values:a,persist_timestamp:new Date}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[x,n]),J=Object(i.useCallback)((function(){S[n]||x||$e.a.emit("form-changed",{name:n,values:q()})}),[]),B=Object(i.useCallback)(Function.debounce(function(){var e=Object(u.a)(c.a.mark((function e(t){var n,i=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"change"!==(i.length>1&&void 0!==i[1]?i[1]:"change")||"onChange"!==a&&"onChange"!==r||(n=(t||{}).change,M(null===n||void 0===n?void 0:n.field));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),550),[a,r]),U=Object(i.useCallback)((function(e,t){var a=t.name,i=(t.values,t.type),r=JSON.getDeepPropertyValue(a,A.current),o=JSON.getDeepPropertyValue(a,e),s=JSON.setDeepPropertyValue(a,o,A.current);A.current=s,$e.a.emit("form-changed",{name:n,values:s,change:{field:a,prevValue:r},type:i})}),[]);v((function(){J();var e=E(U),t=$e.a.on("form-changed",(function(e){var t=e.detail;B(t,t.type),W(t.values)}));return function(){e.unsubscribe(),t.remove()}})),k((function(){W(q())}));var Q=Object(i.useCallback)((function(){I(Object(s.a)({},h),{keepErrors:!1,keepDirty:!1,keepIsSubmitted:!1,keepTouched:!1,keepIsValid:!0,keepSubmitCount:!1})}),[]),X=Object(i.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;Function.isFunction(null===e||void 0===e?void 0:e.preventDefault)&&e.preventDefault();var t=Function.isFunction(g)?g:function(e,t){return console.warn("onSubmit ",e,t)},n=Function.isFunction(O)?O:function(e,t){return console.error("onSubmitError ",e,t)};D(t,n)()}),[g,O]),$=Object(i.useCallback)(Object(i.forwardRef)((function(e,t){return Object(te.jsx)(re,Object(s.a)({control:P,ref:t},e))})),[P]),ee=Object(i.useCallback)((function(){return Object(i.forwardRef)((function(e,t){return Object(te.jsx)(Z,Object(s.a)({errors:V,ref:t,render:function(e){var t=e.message;return Object(te.jsx)(H.a,{severity:"error",children:t})}},e))}))}),[V]),ne=Object(i.useCallback)(Object(i.forwardRef)((function(e,t){return Object(te.jsx)(je,Object(s.a)(Object(s.a)({control:P},e),{},{ref:t}))})),[P,V]),ae=Object(i.useCallback)(Object(i.forwardRef)((function(e,t){return Object(te.jsx)(Ae,Object(s.a)({control:P,ref:t},e))})),[P]),ie=Object(i.useCallback)(Object(i.forwardRef)((function(e,t){return Object(te.jsx)(We,Object(s.a)({control:P,ref:t},e))})),[P]),oe=Object(i.useCallback)(Object(i.forwardRef)((function(e,t){return Object(te.jsx)(qe,Object(s.a)({control:P,ref:t},e))})),[P]),se=Object(i.useCallback)(Object(i.forwardRef)((function(e,t){return Object(te.jsx)(He,Object(s.a)({control:P,ref:t},e))})),[P]),le=Object(i.useCallback)(Object(i.forwardRef)((function(e,t){return Object(te.jsx)(Oe,Object(s.a)({control:P,ref:t},e))})),[P]),ce=Object(i.useCallback)(Object(i.forwardRef)((function(e,t){return Object(te.jsx)(Xe,Object(s.a)({control:P,ref:t},e))})),[P]);return Object(s.a)({submit:X,ErrorMessage:ee,Field:$,TextField:ne,RadioGroup:ae,Select:ie,Autocomplete:se,FilePicker:le,WysiwygEditor:ce,Checkbox:oe,Controller:G.a,values:q(),persistedValues:C,resetValues:Q,reset:I,control:P,handleSubmit:D,watch:E,setValue:T,getValues:q,trigger:M,formState:L,resetField:R},z)};var it=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t||{},r=n.threshold,o=void 0===r?0:r,s=n.root,l=void 0===s?null:s,c=n.rootMargin,u=void 0===c?"0%":c,d=n.freezeOnceVisible,p=void 0!==d&&d,b=Object(i.useState)(),f=Object(a.a)(b,2),j=f[0],m=f[1],h=(null===j||void 0===j?void 0:j.isIntersecting)&&p,v=function(e){var t=Object(a.a)(e,1)[0];m(t)};return Object(i.useEffect)((function(){var t=null===e||void 0===e?void 0:e.current;if(!!window.IntersectionObserver&&!h&&t){var n=new IntersectionObserver(v,{threshold:o,root:l,rootMargin:u});return n.observe(t),function(){return n.disconnect()}}}),[e,JSON.stringify(o),l,u,h]),j},rt=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.useBrowser,s=void 0===o||o,l=r.threshold,c=void 0===l?0:l,u=r.root,d=void 0===u?null:u,p=r.rootMargin,b=void 0===p?"0%":p,f=r.freezeOnceVisible,j=void 0!==f&&f,m=Object(i.useRef)(!1),h=it(e,{threshold:c,root:d,rootMargin:b,freezeOnceVisible:j});"undefined"!==typeof document.hidden?(t="hidden",n="visibilitychange"):"undefined"!==typeof document.msHidden?(t="msHidden",n="msvisibilitychange"):"undefined"!==typeof document.webkitHidden&&(t="webkitHidden",n="webkitvisibilitychange");var v=Object(i.useState)(!1),g=Object(a.a)(v,2),O=g[0],x=g[1],y=Object(i.useState)(!0),w=Object(a.a)(y,2),k=w[0],N=w[1],_=Object(i.useCallback)((function(){m.current&&s&&N(!document[t])}),[s]);return Object(i.useEffect)((function(){return m.current=!0,"undefined"===typeof document.addEventListener||void 0===t?function(){m.current=!1}:(document.addEventListener(n,_,!1),function(){document.removeEventListener(n,_,!1),m.current=!1})}),[]),Object(i.useEffect)((function(){m.current&&x(!!(null===h||void 0===h?void 0:h.isIntersecting))}),[h]),O&&k};function ot(e){var t=Object(i.useRef)(Object(xe.a)(e)),n=Object(i.useRef)(0);return Object.areEqual(e)||(t.current=e,n.current+=1),Object(i.useMemo)((function(){return n.current}),[n.current])}var st=function(e,t){return Object(i.useMemo)((function(){return e(t)}),[ot(t)])},lt=(n(576),n(577),n(913),n(1954)),ct=n(1955),ut=n(74),dt=n(255),pt=n.n(dt),bt=n(13),ft=n(7),jt=n(784),mt=n(190),ht=n(2029),vt=n(24),gt=n(35),Ot=n(1795),xt=n(349),yt=n(2018),wt=["user","position"],kt=["set","setAll","get","remove","reset"],Nt=["marker"],_t=["id","user","latitude","longitude","heading","accuracy","altitude"],St=["id"];"undefined"!==typeof google&&(google.maps.Marker.prototype.animateTo=function(e,t){var n={duration:1e3,easing:"linear",complete:null,pan:null};for(var a in t=t||{},n)t[a]=t[a]||n[a];if(null===t.pan||"center"===t.pan||"inbounds"===t.pan){window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,window.cancelAnimationFrame=window.cancelAnimationFrame||window.mozCancelAnimationFrame,this.AT_startPosition_lat=this.getPosition().lat(),this.AT_startPosition_lng=this.getPosition().lng();var i=e.lat(),r=e.lng(),o=new google.maps.LatLng(e.lat(),e.lng());if("center"===t.pan&&this.map.setCenter(o),"inbounds"===t.pan&&!this.map.getBounds().contains(o)){var s=this.map.getBounds();s.extend(o),this.map.fitBounds(s)}Math.abs(r-this.AT_startPosition_lng)>180&&(r>this.AT_startPosition_lng?r-=360:r+=360);window.cancelAnimationFrame?window.cancelAnimationFrame(this.AT_animationHandler):clearTimeout(this.AT_animationHandler),function n(a,o){var s=((new Date).getTime()-o)/t.duration,l=s;if(s<1){var c=new google.maps.LatLng(a.AT_startPosition_lat+(i-a.AT_startPosition_lat)*l,a.AT_startPosition_lng+(r-a.AT_startPosition_lng)*l);a.setPosition(c),window.requestAnimationFrame?a.AT_animationHandler=window.requestAnimationFrame((function(){n(a,o)})):a.AT_animationHandler=setTimeout((function(){n(a,o)}),17)}else a.setPosition(e),"function"===typeof t.complete&&t.complete()}(this,(new Date).getTime())}});var Ct=function(e){var t=e.user;e.position,Object(d.a)(e,wt);return Object(te.jsx)(ht.a,{theme:vt.e,children:Object(te.jsxs)(bt.a,{style:{maxWidth:300},children:[Object(te.jsxs)(ft.a,{xs:12,className:"flex flex-row items-center",children:[(null===t||void 0===t?void 0:t.avatar)?Object(te.jsx)(jt.a,{className:"bg-transparent mr-4",alt:null===t||void 0===t?void 0:t.first_name,src:gt.a.getAttachmentFileUrl(null===t||void 0===t?void 0:t.avatar)}):Object(te.jsxs)(jt.a,{className:"bg-transparent  mr-4",children:[Object(te.jsx)(Ot.a,{})," "]}),Object(te.jsx)(mt.a,{variant:"h5",children:null===t||void 0===t?void 0:t.first_name})]}),Object(te.jsxs)(ft.a,{xs:12,className:"flex flex-row items-center",children:[Object(te.jsx)(mt.a,{className:"mx-2 font-bold",variant:"body1",children:"Gender:"}),Object(te.jsx)(mt.a,{variant:"body1",children:(null===t||void 0===t?void 0:t.gender)?null===t||void 0===t?void 0:t.gender:"Unspecified"})]}),Object(te.jsxs)(ft.a,{xs:12,className:"flex flex-row items-center",children:[Object(te.jsx)(mt.a,{className:"mx-2 font-bold",variant:"body1",children:"Course of Study:"}),Object(te.jsx)(mt.a,{variant:"body1",children:(null===t||void 0===t?void 0:t.course)?null===t||void 0===t?void 0:t.course:"Unspecified"})]}),Object(te.jsxs)(ft.a,{xs:12,className:"flex flex-row items-center",children:[Object(te.jsx)(mt.a,{className:"mx-2 font-bold",variant:"body1",children:"Tasks Completed:"}),Object(te.jsx)(mt.a,{variant:"body1",children:(null===t||void 0===t?void 0:t.noof_completed_tasks)?null===t||void 0===t?void 0:t.noof_completed_tasks:"0"})]}),Object(te.jsxs)(ft.a,{xs:12,className:"flex flex-row items-center",children:[Object(te.jsx)(mt.a,{className:"mx-2 font-bold",variant:"body1",children:"Uncompleted Tasks:"}),Object(te.jsx)(mt.a,{variant:"body1",children:(null===t||void 0===t?void 0:t.noof_uncompleted_tasks)?null===t||void 0===t?void 0:t.noof_uncompleted_tasks:"0"})]}),Object(te.jsxs)(ft.a,{xs:12,className:"flex flex-col",children:[Object(te.jsx)(mt.a,{className:"mx-2 font-bold",variant:"body1",children:"Rating"}),Object(te.jsx)(yt.a,{name:"read-only",value:(null===t||void 0===t?void 0:t.rating)?null===t||void 0===t?void 0:t.rating:4,readOnly:!0})]}),Object(te.jsx)(ft.a,{xs:12,className:"flex flex-row items-center justify-center",children:Object(te.jsx)(xt.a,{href:("/messaging/conversations?with="+(null===t||void 0===t?void 0:t.email_address)).toUriWithDashboardPrefix(),style:{background:"#8C189B",color:"#FFFFFF"},children:"Message Me"})})]})})},At=function(e){var t=Object(s.a)({},e),n=t.markers,r=void 0===n||n,o=(t.infowindows,t.animations,t.filter),l=void 0===o?{}:o,c=Object(ut.c)().SocketIO,u=Object(lt.a)({}),p=Object(a.a)(u,2),b=p[0],j=p[1],m=j.set,g=j.setAll,O=j.get,x=j.remove,y=j.reset,w=Object(d.a)(j,kt),k=Object(i.useRef)([]),N=Object(i.useRef)(null),S=Object(i.useRef)(!1),C=Object(ct.a)(),A=f({}),F=Object(a.a)(A,3),P=F[0],D=F[1],E=F[2],T=Object(i.useCallback)((function(e){c.emit("client-position-changed",Object(s.a)({},e))}),[c]),q=Object(i.useCallback)((function(e){var t=E()[e],n=t.marker,a=Object(d.a)(t,Nt);if(N.current,n&&!k.current.includes(e)){var i=new google.maps.InfoWindow({content:pt.a.renderToStaticMarkup(Object(te.jsx)(Ct,Object(s.a)({},a)))});i.open(N.current,n),k.current.push(e),google.maps.event.addListener(i,"closeclick",(function(){var t=k.current.indexOf(e);k.current=k.current.remove(t),Array.isArray(k.current)||(k.current=[])}))}}),[]),M=(Object(i.useCallback)((function(e){return function(){S.current||(S.current=!0)}}),[]),Object(i.useCallback)((function(e){var t=Object(s.a)({},e),n=t.id,a=t.user,i=t.latitude,r=t.longitude,o=(t.heading,t.accuracy,t.altitude,Object(d.a)(t,_t));if(n&&a){var l=E()[n],c=JSON.isEmpty(l)?"".concat((null===a||void 0===a?void 0:a.first_name)?null===a||void 0===a?void 0:a.first_name.replaceAll(" ","").humanize():""," ").concat((null===a||void 0===a?void 0:a.last_name)?null===a||void 0===a?void 0:a.last_name.replaceAll(" ","").humanize():""):l.title,u=JSON.isEmpty(l)?"".concat((null===a||void 0===a?void 0:a.role)?(null===a||void 0===a?void 0:a.role.humanize())+":":""," ").concat((null===a||void 0===a?void 0:a.presence)?null===a||void 0===a?void 0:a.presence.humanize():""):l.subTitle,p="".concat("","/img/avatars/").concat((null===a||void 0===a?void 0:a.icon)||"default",".png"),b=JSON.isEmpty(l)?new google.maps.Marker({map:N.current,position:{lat:i,lng:r},title:c,icon:{url:p,scaledSize:new google.maps.Size(30,30)}}):l.marker;(null===l||void 0===l?void 0:l.marker)?b.animateTo(new google.maps.LatLng(i,r)):google.maps.event.addListener(b,"click",(function(){q(n)})),D(Object(_.a)({},n,Object(s.a)(Object(s.a)({},l),{},{user:a,latitude:i,longitude:r,title:c,marker:b,icon:p,subTitle:u},o)))}}),[r])),I=Object(i.useCallback)((function(e){console.log("handleOnClientPositions clientPositions",e),Array.isArray(e)&&e.map((function(e){return M(e)}))}),[r,N]),R=Object(i.useCallback)((function(e){var t=Object(s.a)({},e);t.id,Object(d.a)(t,St)}),[r,N]),L=Object(i.useCallback)((function(e){c.emit("get-client-positions",Object(s.a)({},l))}),[l]),z=Object(i.useCallback)((function(e){var t,n,a=e.user,i=e.presence,r=O(a);(null===r||void 0===r||null===(t=r.user)||void 0===t?void 0:t.presence)&&(null===r||void 0===r||null===(n=r.user)||void 0===n?void 0:n.presence)!==i&&m(a,Object(s.a)(Object(s.a)({},r),{},{user:Object(s.a)(Object(s.a)({},a),{},{presence:i})}))}),[]),V=Object(i.useCallback)((function(){S.current||(S.current=!0)}),[]);v((function(){var e=setInterval((function(){T({longitude:36.746521+.001*Math.random(),latitude:.001*Math.random()-1.164471})}),5e3);return c.on("clients-positions",I),c.on("new-client-position",M),c.on("client-position-changed",M),c.on("client-position-unavailable",R),c.on("user-changed-presence",z),c.on("client-position-acknowledged",V),c.connected&&(c.emit("get-client-positions",Object(s.a)({},l)),C.loading||T(C)),c.on("connect",L),function(){clearInterval(e),c.off("clients-positions",I),c.off("new-client-position",M),c.off("client-position-changed",M),c.off("client-position-unavailable",R)}}));var W=Object(i.useCallback)((function(e){N.current=e,Object.entries(E()).forEach((function(t){var n,i=Object(a.a)(t,2);i[0];null===(n=i[1].marker)||void 0===n||n.setMap(e)}))}),[b]),J=Object(i.useCallback)((function(e){T(e)}),[]);return h((function(){C.loading||T(C)}),[C]),[P,Object(s.a)({get:O,set:m,setAll:g,remove:x,reset:y,setGoogleMap:W,setGeoLocation:J},w)]},Ft="__googleOneTapScript__";function Pt(e){var t,n=e.onError,a=e.disabled,r=e.onSuccess,l=e.googleAccountConfigs,c=e.disableCancelOnUnmount,u=void 0!==c&&c,d=o("https://accounts.google.com/gsi/client"),p=l.callback?l.callback:function(e){return function(e){var t=e.data,n=e.onError,a=e.onSuccess;(null===t||void 0===t?void 0:t.credential)&&fetch("".concat("https://oauth2.googleapis.com/tokeninfo?id_token=").concat(t.credential)).then((function(e){if(200===(null===e||void 0===e?void 0:e.status)&&(null===e||void 0===e?void 0:e.json))return e.json();throw n&&n(),new Error("Something went wrong")})).then((function(e){a&&a(e)})).catch((function(e){throw n&&n(e),e}))}({data:e,onError:n,onSuccess:r})};return Object(i.useEffect)((function(){var e,t;if(!(null===(e=window)||void 0===e?void 0:e[Ft])&&window.google&&"ready"===d&&(window.google.accounts.id.initialize(Object(s.a)(Object(s.a)({},l),{},{callback:p})),window[Ft]=!0),(null===(t=window)||void 0===t?void 0:t[Ft])&&"ready"===d&&!a)return window.google.accounts.id.prompt(),function(){u||window.google.accounts.id.cancel()}}),[d,null===(t=window)||void 0===t?void 0:t[Ft],a]),null}var Dt=[],Et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=Object(i.useState)(),n=Object(a.a)(t,2),r=n[0],o=n[1];return Object(i.useEffect)((function(){if(window.google)o(window.google);else{var t="https://maps.googleapis.com/maps/api/js?key="+(e||x.w)+"&libraries=geometry,drawing,places",n=Dt.find((function(e){return e.src===t})),a=function(){o(window.google)};if(!n){var i=document.createElement("script");return i.src=t,i.async=!0,i.defer=!0,i.addEventListener("load",a),document.head.appendChild(i),Dt.push(i),function(){i.removeEventListener("load",a),i.remove(),Dt.splice(Dt.findIndex((function(e){return e.src===t})),1)}}n.addEventListener("load",a)}}),[e]),r},Tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e||{},r=n.onMapLoad,o=Et(t||x.w),s=Object(i.useRef)(null),l=f({map:null,initialized:!1}),c=Object(a.a)(l,2);c[0],c[1];return Object(i.useEffect)((function(){if(o&&(null===s||void 0===s?void 0:s.current)){var t=new o.maps.Map(s.current,e);Function.isFunction(r)&&o.maps.event.addListenerOnce(t,"idle",(function(){r(t)}))}}),[o,s]),s}},1757:function(e,t,n){},1761:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n.n(a),r=n(88),o=n.n(r),s=n(18),l=n(2),c=n(305),u=n(6),d=n(135),p=n.n(d),b=n(582),f=n.n(b),j=n(27),m=n(1762).v4;function h(e){var t={};try{t=JSON.parse(JSON.stringify(e))}catch(n){t={}}return t}p.a.mixin(f.a),String.isString=function(e){return void 0!==e&&null!==e&&e.constructor===String},String.capitalize=function(e){return e.trim().toLowerCase().split(" ").map((function(e){return e.length>1?e[0].toUpperCase()+e.substring(1):e.toUpperCase()})).join(" ")},String.prototype.capitalize=function(){return this.trim().toLowerCase().replaceAll("\t","").split(" ").map((function(e){return e.length>1?e[0].toUpperCase()+e.substring(1):e.toUpperCase()})).join(" ")},String.prototype.replaceAll=function(e,t){return this.replace(new RegExp(e,"g"),t)},String.toDate=function(e){try{var t=Date.parse(e);return new Date(t)}catch(n){return null}return null},String.uid=function(e,t,n){var a=[],i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=i.length;t?r=(i="0123456789").length:n&&(r=(i="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789").length);for(var o=0;o<e;++o)a.push(i[Number.getRandomInt(0,r-1)]);return a.join("")},String.uuid=m,String.containsUrl=function(e){return!!String.isString(e)&&(new RegExp("([a-zA-Z0-9]+://)?([a-zA-Z0-9_]+:[a-zA-Z0-9_]+@)?([a-zA-Z0-9.-]+\\.[A-Za-z]{2,4})(:[0-9]+)?(/.*)?").test(e)&&!/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i.test(e))},String.highlightContainedUrls=function(e){if(String.isString(e)){var t=e.match(new RegExp("([a-zA-Z0-9]+://)?([a-zA-Z0-9_]+:[a-zA-Z0-9_])?([a-zA-Z0-9.-]+\\.[A-Za-z]{2,4})(:[0-9]+)?(/.*)?"));console.log("highlightContainedUrls containedUrls",t)}},String.getContainedUrl=function(e){var t=e.match(new RegExp("([a-zA-Z0-9]+://)?([a-zA-Z0-9_]+:[a-zA-Z0-9_])?([a-zA-Z0-9.-]+\\.[A-Za-z]{2,4})(:[0-9]+)?(/.*)?"));return Array.isArray(t)||(t=[]),t},String.prototype.truncate=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"...",n=this;return n.length>e?n.substring(0,e)+t:n},String.prototype.shorten=String.prototype.truncate,String.prototype.toUriWithDashboardPrefix=function(){var e=this,t=j.k.startsWith("/")?j.k:"/"+j.k;return t+=j.k.endsWith("/")?j.k.substring(0,j.k.length-2):"",t+=e.startsWith("/")?e:"/"+e},String.prototype.toUriWithLandingPagePrefix=function(){var e=this,t=j.C.startsWith("/")?j.C:"/"+j.C;return t+=j.C.endsWith("/")?j.C.substring(0,j.C.length-2):"",t+=e.startsWith("/")?e:"/"+e},String.prototype.toUriApiPrefix=function(){var e=this,t=j.g.api,n=t;return n+=t.endsWith("/")?t.substring(0,t.length-2):"",n+=e.startsWith("/")?e:"/"+e},String.prototype.singularize=function(){return p.a.singularize(this)},String.prototype.translate=function(){var e=this;return"en"?e:""},String.prototype.pluralize=function(){return p.a.pluralize(this)},String.prototype.variablelize=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"_",t=this;return(t=(t=(t=(t=t.replaceAll(/([A-Z])/g," $1")).trim()).replaceAll(/\s\s+/g," ")).replaceAll(" ",e)).toLowerCase()},String.prototype.humanize=function(){return this.replace(/([A-Z])/g," $1").trim().replace(/^[\s_]+|[\s_]+$/g,"").replace(/[_\s]+/g," ").replace(/^[a-z]/,(function(e){return e.toUpperCase()}))},String.prototype.hasHTML=function(){return/<([A-Za-z][A-Za-z0-9]*)\b[^>]*>(.*?)<\/\1>/.test(this)},String.isUrl=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return!!String.isString(e)&&(t?/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)/gi.test(e):/[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)?/gi.test(e))},String.isEmpty=function(e){return!String.isString(e)||!(e.trim().length>0)},Boolean.isBoolean=function(e){return void 0!==e&&null!==e&&e.constructor===Boolean},Function.isFunction=function(e){return void 0!==e&&null!==e&&(e.constructor===Function||"function"===typeof e)},Function.sleep=function(e){var t=Date.now(),n=null;do{n=Date.now()}while(n-t<e)},Function.throttle,Function.throttle=function(e,t,n){var a,i,r,o=null,s=0;n||(n={leading:!1,trailing:!0});var l=function(){s=!1===n.leading?0:Date.now(),o=null,r=e.apply(a,i),o||(a=i=null)};return function(){var c=Date.now();s||!1!==n.leading||(s=c);var u=t-(c-s);return a=this,i=arguments,u<=0||u>t?(o&&(clearTimeout(o),o=null),s=c,r=e.apply(a,i),o||(a=i=null)):o||!1===n.trailing||(o=setTimeout(l,u)),r}},Function.debounce=d.debounce,Function.createThrottle=function(e){if("number"!==typeof e)throw new TypeError("`createThrottle` expects a valid Number");var t=0,n=[];function a(i){return new Promise((function(r,o){!function s(){if(t<e){a.current=++t;var l=Function.isFunction(i)?i():i;Promise.all([l]).then((function(e){r(e[0])})).catch((function(e){o(e)})).finally((function(){a.current=--t,n.length>0&&n.shift()()}))}else n.push(s)}()}))}return a.current=t,a.queue=n,a},Number.isNumber,Number.isNumber=function(e){return void 0!==e&&null!==e&&(e.constructor===Number&&NaN!==e)},Error.isError,Error.isError=function(e){return void 0!==e&&null!==e&&e instanceof Error},RegExp.isRegExp,RegExp.isRegExp=function(e){return void 0!==e&&null!==e&&e.constructor===RegExp},Number.isFloat,Number.isFloat=function(e){return void 0!==e&&null!==e&&NaN!==e&&/[-+]?(?:\d*\.\d+\.?\d*)(?:[eE][-+]?\d+)?/gim.test(e)},Number.isInt,Number.isInt=function(e){return void 0!==e&&null!==e&&NaN!==e&&/^[-+]?(\d*)?\d+$/gim.test(e)},Number.parseNumber,Number.parseNumber=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Number.isFloat(e)?parseFloat(e):Number.isInt(e)?parseInt(e):t},Number.getRandomInt=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},Array.prototype.remove,Array.prototype.remove=function(e,t){var n=this.slice((t||e)+1||this.length);return this.length=e<0?this.length+e:e,this.push.apply(this,n),this},Array.isEmpty=function(e){return!Array.isArray(e)||0===e.length},Array.prototype.shuffle=function(){var e,t,n=this.length;if(0==n)return this;for(;--n;)e=Math.floor(Math.random()*(n+1)),t=this[n],this[n]=this[e],this[e]=t;return this},Array.prototype.removeAtIndex=function(e){return this.splice(e,1),this},Array.prototype.removeItem=function(){for(var e,t=arguments,n=t.length,a=this;n&&this.length;)for(e=t[--n];-1!==this.indexOf(e);)a=a.filter((function(t){return t!==e}));return a},Array.prototype.unique=function(){var e={boolean:{},number:{},string:{}},t=[];return this.filter((function(n){var a=typeof n;return a in e?!e[a].hasOwnProperty(n)&&(e[a][n]=!0):!(t.indexOf(n)>=0)&&t.push(n)}))},Array.prototype.mode=function(){var e=this;return e.sort((function(t,n){return e.filter((function(e){return e===t})).length-e.filter((function(e){return e===n})).length})).pop()},Array.prototype.chunks=function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=this,i=[];for(e=0,t=a.length;e<t;e+=n)i.push(a.slice(e,e+n));return i},Array.prototype.toCSV=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:String.uid(25),t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this;e=e.endsWith(".csv")?e:e+".csv";for(var a=function(e){var a="";if(JSON.isJSON(e))if(!t&&JSON.isJSON(n[0])){var i=Object.keys(n[0]),r={};i.map((function(t){r[t]=e[t]})),e=Object.values(r)}else e=Object.values(e);for(var o=0;o<e.length;o++){var s=null===e[o]||void 0===e[o]?"":JSON.stringify(e[o]);e[o]instanceof Date?s=e[o].toLocaleString():e[o]instanceof Object&&(s=JSON.stringify(e[o]));var l=s;l.search(/(,|\n)/g)>=0&&(l='"'+l+'"'),o>0&&(a+=","),a+=l}return a+"\n"},i="",r=0;r<n.length;r++)i+=a(n[r]);var o=new Blob([i],{type:"text/csv;charset=utf-8;"});if(navigator.msSaveBlob)navigator.msSaveBlob(o,e);else{var s=document.createElement("a");if(void 0!==s.download){var l=URL.createObjectURL(o);s.setAttribute("href",l),s.setAttribute("download",e),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s)}}},Array.prototype.equals=function(e){if(!e)return!1;if(this.length!=e.length)return!1;for(var t=0,n=this.length;t<n;t++)if(this[t]instanceof Array&&e[t]instanceof Array){if(!this[t].equals(e[t]))return!1}else if(this[t]!=e[t])return!1;return!0},Object.defineProperty(Array.prototype,"equals",{enumerable:!1}),Object.size=function(e){var t,n=0;for(t in e)e.hasOwnProperty(t)&&n++;return n},Object.difference=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a={differences:[],missing_from_first:[],missing_from_second:[]};if(JSON.isJSON(e)&&JSON.isJSON(t))return p.a.reduce(e,(function(a,i,r){if(t.hasOwnProperty(r)){if(p.a.isEqual(i,t[r]))return a;if(typeof e[r]!=typeof{}||typeof t[r]!=typeof{})return a.differences.push(r),a;var o=Object.difference(e[r],t[r]);return a.differences=a.differences.concat(p.a.map(o.differences,(function(e){return r+"."+e}))),n&&(a.missing_from_second=a.missing_from_second.concat(p.a.map(o.missing_from_second,(function(e){return r+"."+e}))),a.missing_from_first=a.missing_from_first.concat(p.a.map(o.missing_from_first,(function(e){return r+"."+e})))),a}return n&&a.missing_from_second.push(r),a}),a),p.a.reduce(t,(function(t,a,i){return JSON.isJSON(e)?(e.hasOwnProperty(i)||n&&t.missing_from_first.push(i),t):t}),a),n?a:a.differences;if(JSON.isJSON(e)&&!JSON.isJSON(t)){var i=Object.keys(e);return a.differences=i,a.missing_from_second=i,n?a:a.differences}if(!JSON.isJSON(e)&&JSON.isJSON(t)){var r=Object.keys(t);return a.differences=r,a.missing_from_first=r,n?a:a.differences}return n?a:a.differences},Object.areEqual=d.isEqual,Object.isFunctionalComponent=function(e){return Function.isFunction(e)&&!(e.prototype&&e.prototype.render)},Object.isReactComponent=function(e){return e.prototype&&e.prototype.render||Object.isFunctionalComponent(e)},Object.isObject=function(e){return!!e&&"object"===typeof e},Object.toJSON=h,JSON.fromJSON=h,JSON.parseJSON=h,JSON.isJSON=function(e){return void 0!==e&&null!==e&&e.constructor==={}.constructor},JSON.areEqual=d.isEqual,JSON.isEqual=d.isEqual,JSON.prettyStringify=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=0;n<t;n++)" ";var a="";return"object"===typeof e&&(a=JSON.stringify(e)),a},JSON.readable=function(e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\n",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"\t",a="";if(JSON.isJSON(e)){a=a+"Object("+t+" "+n;for(var i=0,r=Object.entries(e);i<r.length;i++){var o=Object(u.a)(r[i],2),s=o[0],l=o[1];if(a=a+" "+t+" "+n+" "+s.humanize()+" = ",JSON.isJSON(l))a+=JSON.readable(l);else if(Array.isArray(l)){a+="Array(";for(var c=l.length>0?l.length-1:0,d=0;d<=c;d++)a=JSON.isJSON(l[d])?a+JSON.readable(l[d])+(d<c?", ":""):a+new String(l)+(d<c?", ":"");a+=")"}else Boolean.isBoolean(l)?a+=l?"Yes":"No":a+=new String(l);a+=t}a=a+t+")"}return a},JSON.indexOf,JSON.positionOfKey=function(e,t){var n=-1;JSON.isJSON(e)&&(n=Object.keys(e).indexOf(t));return n},JSON.keyOf=function(e,t){var n=null;if(JSON.isJSON(e)){var a=Object.values(e).indexOf(t);n=-1!==a?Object.keys(e)[a]:null}return n},JSON.moveKey,JSON.moveKey=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a={};if(JSON.isJSON(e)){a={};var i=Object.keys(e),r=i.indexOf(t);if(-1!==r)if(r===n)a=e;else{var o=i.splice(r,1)[0];i.splice(n,0,o),a={};for(var s=0;s<i.length;s++)a[i[s]]=e[i[s]]}else a=e}return a};var v=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return n.length?JSON.isJSON(e)?p.a.merge.apply(p.a,[e].concat(n)):{}:e};JSON.merge=v,JSON.deepMerge=v,JSON.updateJSON=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={};if(JSON.isJSON(e)&&JSON.isJSON(t)){n=JSON.fromJSON(e);for(var a=0,i=Object.entries(e);a<i.length;a++){var r=Object(u.a)(i[a],2),o=r[0];r[1];o in t&&(n[o]=t[o])}}return n},JSON.removeProperty=function(e,t){var n={};return JSON.isJSON(e)&&delete(n=JSON.fromJSON(e))[t],n},JSON.isEmpty=function(e){return!JSON.isJSON(e)||!(Object.keys(e).length>0)},JSON.getDeepPropertyValue=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a=void 0;if(String.isString(e)&&!String.isEmpty(e)&&!JSON.isEmpty(t))for(var i=e.trim().split("."),r=t,o=i.length-1,s=0;s<=o;s++)if(s<o){r=r[i[s]];var l=i.slice(s+1).join(".");JSON.isJSON(r)||(r={}),a=JSON.getDeepPropertyValue(l,r)}else a=r[i[s]]||n;return a},JSON.setDeepPropertyValue=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=JSON.fromJSON(n);if(!String.isEmpty(e)){var i=e.trim().split("."),r=Object(c.a)(i),o=r[0],s=r.slice(1);JSON.isJSON(a)||(a={}),s.length>0?(JSON.isJSON(a[o])||(a[o]={}),a[o]=JSON.setDeepPropertyValue(s.join("."),t,a[o])):a[o]=t}return a},JSON.get&&console.warn("Overrinding existing property JSON.get"),JSON.get=d.get,Date.prototype.format=function(e){for(var t="",n=Date.replaceChars,a=0;a<e.length;a++){var i=e.charAt(a);a-1>=0&&"\\"==e.charAt(a-1)?t+=i:n[i]?t+=n[i].call(this):"\\"!=i&&(t+=i)}return t},Date.format=function(e,t){var n=e;try{n=new Date(e).format(t)}catch(error){console.error("Date.format error",error)}return n},Date.replaceChars={shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longMonths:["January","February","March","April","May","June","July","August","September","October","November","December"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longDays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],d:function(){return(this.getDate()<10?"0":"")+this.getDate()},D:function(){return Date.replaceChars.shortDays[this.getDay()]},j:function(){return this.getDate()},l:function(){return Date.replaceChars.longDays[this.getDay()]},N:function(){return this.getDay()+1},S:function(){return this.getDate()%10==1&&11!=this.getDate()?"st":this.getDate()%10==2&&12!=this.getDate()?"nd":this.getDate()%10==3&&13!=this.getDate()?"rd":"th"},w:function(){return this.getDay()},z:function(){var e=new Date(this.getFullYear(),0,1);return Math.ceil((this-e)/864e5)},W:function(){var e=new Date(this.getFullYear(),0,1);return Math.ceil(((this-e)/864e5+e.getDay()+1)/7)},F:function(){return Date.replaceChars.longMonths[this.getMonth()]},m:function(){return(this.getMonth()<9?"0":"")+(this.getMonth()+1)},M:function(){return Date.replaceChars.shortMonths[this.getMonth()]},MMM:function(){return Date.replaceChars.shortMonths[this.getMonth()]},n:function(){return this.getMonth()+1},t:function(){var e=new Date;return new Date(e.getFullYear(),e.getMonth(),0).getDate()},L:function(){var e=this.getFullYear();return e%400==0||e%100!=0&&e%4==0},o:function(){var e=new Date(this.valueOf());return e.setDate(e.getDate()-(this.getDay()+6)%7+3),e.getFullYear()},Y:function(){return this.getFullYear()},yyyy:function(){return this.getFullYear()},y:function(){return(""+this.getFullYear()).substr(2)},a:function(){return this.getHours()<12?"am":"pm"},A:function(){return this.getHours()<12?"AM":"PM"},B:function(){return Math.floor(1e3*((this.getUTCHours()+1)%24+this.getUTCMinutes()/60+this.getUTCSeconds()/3600)/24)},g:function(){return this.getHours()%12||12},G:function(){return this.getHours()},h:function(){return((this.getHours()%12||12)<10?"0":"")+(this.getHours()%12||12)},H:function(){return(this.getHours()<10?"0":"")+this.getHours()},i:function(){return(this.getMinutes()<10?"0":"")+this.getMinutes()},s:function(){return(this.getSeconds()<10?"0":"")+this.getSeconds()},u:function(){var e=this.getMilliseconds();return(e<10?"00":e<100?"0":"")+e},e:function(){return"Not Yet Supported"},I:function(){for(var e=null,t=0;t<12;++t){var n=new Date(this.getFullYear(),t,1).getTimezoneOffset();if(null===e)e=n;else{if(n<e){e=n;break}if(n>e)break}}return this.getTimezoneOffset()==e|0},O:function(){return(-this.getTimezoneOffset()<0?"-":"+")+(Math.abs(this.getTimezoneOffset()/60)<10?"0":"")+Math.abs(this.getTimezoneOffset()/60)+"00"},P:function(){return(-this.getTimezoneOffset()<0?"-":"+")+(Math.abs(this.getTimezoneOffset()/60)<10?"0":"")+Math.abs(this.getTimezoneOffset()/60)+":00"},T:function(){var e=this.getMonth();this.setMonth(0);var t=this.toTimeString().replace(/^.+ \(?([^\)]+)\)?$/,"$1");return this.setMonth(e),t},Z:function(){return 60*-this.getTimezoneOffset()},c:function(){return this.format("Y-m-d\\TH:i:sP")},r:function(){return this.toString()},U:function(){return this.getTime()/1e3},since:function(){var e=this.getTime(),t=performance.now()-e;t/=1e3;var n,a=Math.round(t);return n=a,n=Number(n),{days:Math.floor(n/86400),hrs:Math.floor(n%86400/3600),mins:Math.floor(n%3600/60),secs:Math.floor(n%60)}}},Date.prototype.addDays=function(e){return this.setDate(this.getDate()+e),this},Date.prototype.addHours=function(e){return this.setTime(this.getTime()+36e5*e),this},Date.prototype.addMinutes=function(e){return this.setTime(this.getTime()+6e4*e),this},Date.prototype.addSeconds=function(e){return this.setTime(this.getTime()+1e3*e),this},Date.prototype.addMilliSeconds=function(e){return this.setTime(this.getTime()+e),this},Date.prototype.minusDays=function(e){return this.setDate(this.getDate()-e),this},Date.prototype.minusHours=function(e){return this.setTime(this.getTime()-36e5*e),this},Date.prototype.minusMinutes=function(e){return this.setTime(this.getTime()-6e4*e),this},Date.prototype.minusSeconds=function(e){return this.setTime(this.getTime()-1e3*e),this},Date.prototype.minusMilliSeconds=function(e){return this.setTime(this.getTime()-e),this},Date.difference=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date;e=Date.parseFrom(e),t=Date.parseFrom(t);var n={value:0,years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0,milliseconds:0,type:"future",description:""};if(Date.isDate(e)&&Date.isDate(t)){var a=1e3,i=60*a,r=60*i,o=24*r,s=7*o,l=30*o,c=t.getTime()-e.getTime();c<0&&(n.type="past"),c=c<0?0-c:c;var u=Math.floor(c/3154e7),d=c-3154e7*u,p=Math.floor(c/2628e6)%12,b=d-2628e6*p,f=Math.floor(b/s),j=b-f*s,m=Math.floor(j/o),h=j-m*o,v=Math.floor(h/r),g=h-v*r,O=Math.floor(g/r),x=g-O*i,y=Math.floor(x/a),w=x-y*a,k=w;k=c-y*a;n.value=t.getTime()-e.getTime(),n.years=u,n.months=p,n.weeks=f,n.days=m,n.hours=v,n.minutes=O,n.seconds=y,n.milliseconds=k,n.same_hour=c<=r,n.same_day=c<=o&&e.getDay()==t.getDay(),n.same_month=c<=l&&e.getMonth()==t.getMonth()}return n},Date.prototype.difference=function(e){return Date.difference(this,e)},Date.isDate=function(e){return e&&"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e)},Date.timeago=function(e,t){var n,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=Object(l.a)({past:" ago",future:" from now"},a),r={second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,year:31536e6},o=Math.round,s=i.ago,c=function(e,n){return void 0===t?n+" "+e+(n>1?"s":"")+s:n+e.substring(0,1)},u=Date.now()-new Date(e).getTime();for(var d in u<0&&(u*=-1,s=i.future),r){if(o(u)<r[d])return c(n||"m",o(u/(r[n]||1)));n=d}return c(d,o(u/r[d]))},Date.parseFrom=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=t;if(e){Date.isDate(e)&&(n=e);try{var a=Date.parse(e);n=new Date(a)}catch(i){console.error("Date.parseFrom error",i)}}return n},Date.prose=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=new Date,a=null;if(e){Date.isDate(e)&&(n=e);try{var i=Date.parse(e);n=new Date(i);var r=Date.difference(n);a=r.years>0||r.months>0||r.weeks>0?"".concat(Date.format(n,"F d, Y")).concat(t?Date.format(n," h:i a"):""):r.days>1?"".concat(Date.format(n,"l")).concat(t?Date.format(n," h:i a"):""):1===r.days||n.format("Y M d")!==(new Date).format("Y M d")?"Yesterday".concat(t?Date.format(n," h:i a"):""):"Today".concat(t?Date.format(n," h:i a"):"")}catch(o){console.error("Date.prose error",o)}}return a},Event.isEvent=function(e){var t=!1;return(t=0==Object.prototype.toString.call(e).split("").reverse().join("").indexOf("]tnevE"))||(t=0==e.constructor.toString().split("").reverse().join("").indexOf("]tnevE")),t};n(1179);var g=n(41),O=n(5),x=n.n(O),y=n(10),w=n(45),k=n(11),N=n(12),_=n(19),S=n(20),C=n(21),A=n(24),F=function(e){Object(_.a)(n,e);var t=Object(S.a)(n);function n(e){var a;Object(k.a)(this,n);var i=(a=t.call(this,e)).props,r=i.app;i.auth;return a.state={loading:!0,isLatestVersion:!1,latestVersion:r.version,refreshCacheAndReload:function(){try{var e,t,n,a;Function.isFunction(null===(e=localStorage)||void 0===e?void 0:e.clear)&&localStorage.clear(),Function.isFunction(null===(t=caches)||void 0===t?void 0:t.keys)&&caches.keys().then((function(e){var t,n=Object(w.a)(e);try{for(n.s();!(t=n.n()).done;){var a=t.value;caches.delete(a)}}catch(i){n.e(i)}finally{n.f()}})),Function.isFunction(null===(n=window)||void 0===n||null===(a=n.location)||void 0===a?void 0:a.reload)&&window.location.reload(!0)}catch(i){console.error("Error clearing cached data: ",i)}}},a}return Object(N.a)(n,[{key:"getCacheVersion",value:function(){var e=Object(y.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.app,a=(t.auth,t.setVersion);t.setInitialized;fetch("/meta.json",{cache:"reload"}).then(function(){var e=Object(y.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json().then((function(e){return e})).catch((function(e){return{version:"0.0.0"}}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(t){var i=n&&n.version?n.version:"0.0.0",r=t.version;"0.0.0"===i?(a(r),e.setState({loading:!1,isLatestVersion:!1,latestVersion:r})):i!==r?(e.setState({loading:!1,isLatestVersion:!1,latestVersion:r}),a(r)):e.setState({loading:!1,isLatestVersion:!0,latestVersion:r})})).catch((function(t){e.setState({loading:!1,isLatestVersion:!0})}))}},{key:"render",value:function(){var e=this.state,t=e.loading,n=e.isLatestVersion,a=e.refreshCacheAndReload,i=e.latestVersion;return this.props.children({loading:t,isLatestVersion:n,refreshCacheAndReload:a,latestVersion:i})}}]),n}(i.a.Component),P=(Object(s.b)((function(e){return{app:e.app,auth:e.auth}}),{setVersion:C.Wb,setInitialized:C.Nb})(F),n(778)),D=n(2029),E=n(74),T=n(15),q=n(1116),M=n(786),I=n(152),R=n(0),L=["open","progressIndicatorProps"];Object(s.b)((function(e){return{nav:e.nav}}),{})((function(e){var t=e.open,n=e.progressIndicatorProps,a=Object(T.a)(e,L);return Object(R.jsx)(q.a,Object(l.a)(Object(l.a)({open:t},a),{},{"aria-labelledby":"progress-dialog",children:Object(R.jsx)(M.a,{children:Object(R.jsx)(I.a,Object(l.a)({type:"circular",size:24,thickness:3},n))})}))}));for(var z=n(114),V=n(431),W=n(748),J=n(420),B=n(419),U=n(1982),G=n(76),H=n.n(G),K=({".outlined":{border:"1px solid "+("default"in A.b.hex?A.b.hex.default:"#000000")+" !important"},".raised":{boxShadow:"0 2px 2px 0 rgba("+("default"in A.b.rgb?A.b.rgb.default:"0, 0, 0")+", 0.14), 0 3px 1px -2px rgba("+("default"in A.b.rgb?A.b.rgb.default:"0, 0, 0")+", 0.2), 0 1px 5px 0 rgba("+("default"in A.b.rgb?A.b.rgb.default:"0, 0, 0")+", 0.12) !important"},".hoverraise":{transition:"box-shadow 0.2s cubic-bezier(0.4, 0, 1, 1), background-color 0.2s cubic-bezier(0.4, 0, 0.2, 1) !important","&:hover,&:focus":{boxShadow:"0 14px 26px -12px rgba("+("default"in A.b.rgb?A.b.rgb.default:"0, 0, 0")+", 0.42), 0 4px 23px 0px rgba("+("default"in A.b.rgb?A.b.rgb.default:"0, 0, 0")+", 0.12), 0 8px 10px -5px rgba("+("default"in A.b.rgb?A.b.rgb.default:"0, 0, 0")+", 0.2) !important"}}}),Y=0;Y<A.b.names.length;Y++){var Q=A.b.names[Y];if("inherit"!==Q&&void 0!==A.b.hex[Q]&&void 0!==A.b.rgb[Q]){var Z="."+Q,X=Z+"_text",$=Z+"-text",ee=Z+"_gradient",te=Z+"_outlined";K[Z]={backgroundColor:A.b.hex[Q]+" !important",color:"inverse"==Q||"transparent"==Q?A.b.hex.default:"white"==Q?H()("#000000").lighten(.2).hex():A.b.hex.inverse,"&.raised":{boxShadow:(Q in A.d?A.d.md[Q]:"0 2px 2px 0 rgba("+A.b.rgb[Q]+", 0.14), 0 3px 1px -2px rgba("+A.b.rgb[Q]+", 0.2), 0 1px 5px 0 rgba("+A.b.rgb[Q]+", 0.12)")+" !important"},"&.hoverraise":{transition:"box-shadow 0.2s cubic-bezier(0.4, 0, 1, 1), background-color 0.2s cubic-bezier(0.4, 0, 0.2, 1) !important","&:hover,&:focus":{boxShadow:(Q in A.d?A.d.md[Q]:"0 14px 26px -12px rgba("+A.b.rgb[Q]+", 0.42), 0 4px 23px 0px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba("+A.b.rgb[Q]+", 0.2)")+" !important"}},"&.outlined":{background:"transparent !important",borderColor:A.b.hex[Q]+" !important"}},K[X]={color:A.b.hex[Q]+" !important"},K[$]={color:A.b.hex[Q]+" !important"},K[ee]={background:(Q in A.c?A.c[Q]:"linear-gradient(60deg, "+A.b.hex[Q]+", "+H()(A.b.hex[Q]).darken(.5).hex()+")")+" !important",color:"inverse"==Q||"transparent"==Q?A.b.hex.default:"white"==Q?H()("#000000").lighten(.2).hex():A.b.hex.inverse,"&.raised":{boxShadow:(Q in A.d?A.d.md[Q]:"0 2px 2px 0 rgba("+A.b.rgb[Q]+", 0.14), 0 3px 1px -2px rgba("+A.b.rgb[Q]+", 0.2), 0 1px 5px 0 rgba("+A.b.rgb[Q]+", 0.12)")+" !important"},"&.hoverraise":{transition:"box-shadow 0.2s cubic-bezier(0.4, 0, 1, 1), background-color 0.2s cubic-bezier(0.4, 0, 0.2, 1) !important","&:hover,&:focus":{boxShadow:(Q in A.d?A.d.md[Q]:"0 14px 26px -12px rgba("+A.b.rgb[Q]+", 0.42), 0 4px 23px 0px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba("+A.b.rgb[Q]+", 0.2)")+" !important"}},"&.outlined":{background:"transparent !important",borderImage:(Q in A.c?A.c[Q]:"linear-gradient(60deg, "+A.b.hex[Q]+", "+H()(A.b.hex[Q]).darken(.5).hex()+")")+" !important",borderImageSlice:"1 !important"}},K[te]={borderColor:A.b.hex[Q]+" !important"}}}var ne={"MuiPaper-elevation":{boxShadow:"inherit"},MuiAvatar:{colorDefault:{background:"rgba("+A.b.rgb.default+", 0.5)"}}},ae=Object(l.a)(Object(l.a)({body:{background:A.b.hex.inverse,color:"inherit"},"input:-internal-autofill-selected":{background:"transparent"},button:{"&:focus":{outline:"none !important"}},a:{color:"inherit",textDecoration:"none","&:hover":{textDecoration:"none",color:"inherit"}},".material-icons":{fontFamily:"Material Icons",fontWeight:"normal",fontStyle:"normal",fontSize:24,display:"inline-block",lineHeight:1,textTransform:"none",letterSpacing:"normal",wordWrap:"normal",whiteSpace:"nowrap",direction:"ltr",WebkitFontSmoothing:"antialiased",textRendering:"optimizeLegibility",MozOsxFontSmoothing:"grayscale",fontFeatureSettings:"liga"},".avenir":{fontFamily:"Avenir",fontWeight:"normal",fontStyle:"normal"},".right":{right:0},".left":{left:0},".left_align":{textAlign:"left !important"},".right_align":{textAlign:"right !important"},".center_align":{textAlign:"center !important"},".ps__thumb-x, .ps__thumb-y":{backgroundColor:"".concat(A.b.hex.secondary," !important")},".ps .ps__rail-x:hover, .ps .ps__rail-y:hover, .ps .ps__rail-x:focus, .ps .ps__rail-y:focus, .ps .ps__rail-x.ps--clicking, .ps .ps__rail-y.ps--clicking":{backgroundColor:"transparent !important",opacity:"1 !important"},".h-screen-1/4":{height:"25vh !important"},".h-screen-1/5":{height:"20vh !important"},".h-screen-2/4":{height:"50vh !important"},".h-screen-2/5":{height:"40vh !important"},".h-screen-3/4":{height:"75vh !important"},".min-w-half":{minWidth:"50%  !important"},".break-flex-column":{flexBasis:"100%",width:0},".group-or-rule-container":{flexGrow:1},".rule--field":{display:"flex",alignItems:"center",flexGrow:.3},".rule--operator":{display:"flex",alignItems:"center"},".rule--body":{display:"flex","& .rule--value":{flexGrow:"1",display:"flex",justifyContent:"space-around","& .rule--widget":{display:"flex",flexGrow:"1",flexDirection:"row",alignContent:"center",alignItems:"center","& .widget--widget":{flexGrow:"1"}}}},".group":{background:"rgba(".concat(A.b.rgb.grey,", 0.1) !important"),border:"1px solid rgba(".concat(A.b.rgb.grey,", 0.1) !important")},".bottom-to-top-fading-dark-bg":{background:"linear-gradient(to top, rgba(0,0,0,0.9) 0%, rgba(0,0,0,0.5) 70%, rgba(0,0,0,0) 100%) !important"},".bottom-to-top-fading-bg":{background:"linear-gradient(to top, rgba(255,255,255,0.9) 0%, rgba(255,255,255,0.5) 90%, rgba(255,255,255,0) 100%) !important"},".blur-bg-sm":{backdropFilter:"blur(7px) !important",backgroundColor:"rgba("+A.b.rgb.inverse+", 0.72) !important"},".blur-bg-lg":{backdropFilter:"blur(7px) !important",backgroundColor:"rgba("+A.b.rgb.inverse+", 0.32) !important"}},ne),K),ie=n(17),re=n(91),oe=n(97),se=n(237),le=n(657),ce=n(131),ue=(n(743),n(4)),de=n(30),pe=n(243),be=n(1814),fe=n(1816),je=n(656),me=n(323),he=n.n(me),ve=n(1055),ge=n.n(ve),Oe=n(1780),xe=n(213),ye=i.a.forwardRef((function(e,t){var n=e.className,a=Object(ie.e)(t),i=Object(s.c)(),r=Object(s.d)((function(e){return Object(l.a)({},e.lightbox)})),o=r.src,c=r.alt,u=r.next,d=r.prev;return Object(R.jsx)(be.a,{className:"w-screen h-screen p-2 flex flex-col items-center justify-center ".concat(n||""),sx:{zIndex:function(e){return e.zIndex.drawer+10}},open:!String.isEmpty(o),onClose:function(){return i(Object(C.Ob)(null))},closeAfterTransition:!0,BackdropComponent:fe.a,BackdropProps:{timeout:500},children:Object(R.jsxs)(Oe.a,{direction:"row",spacing:1,className:"w-full h-full p-2 flex flex-row items-center justify-center",children:[!String.isEmpty(d)&&Object(R.jsx)(je.a,{"aria-label":"Previous",title:"Previous",color:"accent",sx:{backgroundColor:function(e){return e.palette.background.paper}},onClick:function(){return i(Object(C.Ob)(d))},children:Object(R.jsx)(he.a,{})}),Object(R.jsx)(xe.a,{lightbox:!1,ref:a,title:c,src:o,alt:c,className:"h-auto w-auto m-auto max-h-full max-w-full ",style:{contain:"paint"}}),!String.isEmpty(u)&&Object(R.jsx)(je.a,{"aria-label":"Previous",title:"Next",color:"accent",sx:{backgroundColor:function(e){return e.palette.background.paper}},onClick:function(){return i(Object(C.Ob)(u))},children:Object(R.jsx)(ge.a,{})})]})})})),we=n(425),ke=n.n(we),Ne=function(e){e.className;var t=e.showIntercom;Object(ie.a)();return Object(R.jsxs)("footer",{className:"",children:[Object(R.jsx)(ye,{}),t&&Object(R.jsx)(ke.a,Object(l.a)({appID:j.A.app.id},j.A.app.user))]})};Ne.defaultProps={showIntercom:!1};var _e=Ne,Se=n(2036),Ce=n(2047),Ae=n(2038),Fe=n(1980),Pe=n(2044),De=n(1918),Ee=n(66),Te=n.n(Ee),qe=n(199),Me=n(48),Ie=n.n(Me),Re=n(232),Le=n(67),ze=i.a.forwardRef((function(e,t){return Object(R.jsx)(g.c,Object(l.a)({ref:t},e))})),Ve=function(e){Object(_.a)(n,e);var t=Object(S.a)(n);function n(e){var a;return Object(k.a)(this,n),(a=t.call(this,e)).state={userPresenceMenuAnchorEl:null,userPresenceMenuOpen:!1},a}return Object(N.a)(n,[{key:"applyItemsRestrictions",value:function(){var e=this.props,t=e.auth,n=e.items,a=[];return n.map((function(e,n){var i,r;if(e.section){var o=[];e.links.map((function(e,n){var a,i;e.restricted?(Array.isArray(e.restricted)&&e.restricted.includes(null===(a=t.user)||void 0===a?void 0:a.role)||e.restricted===(null===(i=t.user)||void 0===i?void 0:i.role)||Le.d.isOfType(e.restricted,"function")&&!e.restricted(t.user))&&o.push(e):o.push(e)})),e.links=o}e.restricted?(Array.isArray(e.restricted)&&e.restricted.includes(null===(i=t.user)||void 0===i?void 0:i.role)||e.restricted===(null===(r=t.user)||void 0===r?void 0:r.role)||Le.d.isOfType(e.restricted,"function")&&!e.restricted(t.user))&&a.push(e):a.push(e)})),a}},{key:"render",value:function(){var e=this.props,t=e.className,n=(e.items,e.auth,e.onClickNavLink);e.onToggleSidebar,e.open;return Object(R.jsx)(le.a,{className:"".concat(t||"","  flex flex-col h-full "),sx:{width:se.b},component:"nav",children:Object(R.jsx)(qe.a,{className:"overflow-x-hidden overflow-y-scroll",children:Object(R.jsx)(Se.a,{component:"div",disablePadding:!0,className:"px-0 pb-12",children:this.applyItemsRestrictions().map((function(e,t){return e.section?Object(R.jsx)("div",{children:Object(R.jsx)(Se.a,{component:"div",disablePadding:!0,subheader:Object(R.jsx)(Ce.a,{sx:{color:function(e){return e.palette.text.contrastDark}},disableSticky:!0,children:e.text}),children:e.links.map((function(a,i){return Object(R.jsxs)(Ae.a,{className:"pointer transition-all hover:bg-black hover:bg-opacity-5",sx:{color:function(e){return e.palette.text.contrast}},component:ze,to:a.route,onClick:function(e){Function.isFunction(n)&&n(a)},children:[!!a.icon&&Object(R.jsx)(Fe.a,{className:Te()(Object(ue.a)({"text-current":!0},a.color?a.color+"_text":"",!!a.color)),color:"inherit",children:"string"===typeof a.icon?Object(R.jsx)(Pe.a,{children:a.icon}):a.icon}),!!a.text&&Object(R.jsx)(De.a,{primaryTypographyProps:{className:Te()(Object(ue.a)({"text-current":!0},(null===e||void 0===e?void 0:e.color)+"_text",!!(null===e||void 0===e?void 0:e.color)))},primary:a.text})]},"drawer_item_"+t+"_"+i)}))})},"drawer_section_"+t):Object(R.jsxs)(Ae.a,{sx:{color:function(e){return e.palette.text.contrast}},className:"pointer transition-all hover:bg-black hover:bg-opacity-5",component:ze,onClick:function(t){Function.isFunction(n)&&n(e)},to:e.route,children:[e.icon?Object(R.jsx)(Fe.a,{className:Te()(Object(ue.a)({"text-current":!0},(null===e||void 0===e?void 0:e.color)+"_text",!!(null===e||void 0===e?void 0:e.color))),color:"inherit",children:"string"===typeof e.icon?Object(R.jsx)(Pe.a,{children:e.icon}):e.icon}):"",e.text?Object(R.jsx)(De.a,{primaryTypographyProps:{className:Te()(Object(ue.a)({"text-current":!0},(null===e||void 0===e?void 0:e.color)+"_text",!!(null===e||void 0===e?void 0:e.color)))},primary:e.text}):""]},"drawer_item_"+t)}))})})})}}]),n}(a.Component),We=Ie()(Object(s.b)((function(e){return{auth:e.auth}}),{logout:Re.b}),ce.c)(Ve),Je=n(31),Be=n(2048),Ue=n(2049),Ge=n(1813),He=n(2035),Ke=n(744),Ye=n.n(Ke),Qe=n(412),Ze=n.n(Qe),Xe=(n(578),n(26)),$e=n(32),et=n(254),tt=n.n(et),nt=n(178),at=n(1107),it=n(2046),rt=n(1784),ot=n(1798),st=n(78),lt=n(35),ct=n(1795),ut=n(136),dt=n(616),pt=n.n(dt),bt=n(204),ft=function(){var e=Object(s.d)((function(e){return e.auth})),t=Object(bt.useLiveQuery)((function(){return ut.a.messages.filter((function(t){var n,a="sent"===t.state&&t.sender!==(null===(n=e.user)||void 0===n?void 0:n._id);return a&&Array.isArray(t.reads)&&-1!==t.reads.indexOf(e.user)&&(a=!1),a})).count()}),[e],0);return Object(R.jsx)(g.b,{className:"cursor-pointer md:mx-2",to:"/messaging/conversations".toUriWithDashboardPrefix(),children:Object(R.jsx)(je.a,{color:"inherit",children:Object(R.jsx)(Ge.a,{invisible:0===t,badgeContent:t,color:"primary",children:Object(R.jsx)(pt.a,{})})})})},jt=i.a.memo(ft),mt=n(349),ht=n(1981),vt=n(1968),gt=n(177),Ot=function(e){Object(_.a)(n,e);var t=Object(S.a)(n);function n(e){var a;Object(k.a)(this,n),(a=t.call(this,e)).contexts={contextless:{icon:Object(R.jsx)(ht.a,{}),color:A.b.hex.default}};for(var i=0,r=Object.entries($e);i<r.length;i++){var o=Object(u.a)(r[i],2),s=o[0],l=o[1];a.contexts[Le.d.singularize(s).toLowerCase()]={icon:l.icon?l.icon:Object(R.jsx)(ht.a,{}),color:l.color?l.color:A.b.hex.default}}return a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,a=t.notifications,r=t.onSelect,o={low:"#03a9f4",medium:"#ff9800",high:"#ff0000"};return Object(R.jsx)("div",{className:n,children:a.length>0?Object(R.jsxs)(le.a,{children:[Object(R.jsxs)("div",{className:"",children:[Object(R.jsx)(Xe.a,{variant:"h6",children:"User Notifications"}),Object(R.jsxs)(Xe.a,{className:"",variant:"body2",children:[a.length," new notifications"]})]}),Object(R.jsxs)("div",{className:"",children:[Object(R.jsx)(Se.a,{component:"div",children:a.map((function(t){return Object(R.jsx)(g.b,{to:$e.notifications.access.actions.view.uri(t._id),children:Object(R.jsxs)(Ae.a,{className:"",component:"div",onClick:r,children:[Object(R.jsx)(Fe.a,{className:"",style:{color:t.context&&t.context.toLowerCase()in e.contexts?e.contexts[t.context.toLowerCase()].color:e.contexts.contextless.color},children:t.context&&t.context.toLowerCase()in e.contexts?e.contexts[t.context.toLowerCase()].icon:e.contexts.contextless.icon}),Object(R.jsx)(De.a,{primary:Object(R.jsx)(i.a.Fragment,{children:Object(R.jsx)(gt.a,{variant:"dot",color:t.priority.toLowerCase()in o?o[t.priority.toLowerCase()]:"#9e9e9e",text:t.title,text_color:t.read?A.b.hex.grey:A.b.hex.default})}),secondary:Object(R.jsxs)(Xe.a,{color:t.read?"grey":"default",variant:"body2",component:"span",children:[" ",t.body," "]})})]})},t._id)}))}),Object(R.jsx)("div",{className:"",children:Object(R.jsx)(mt.a,{component:g.b,to:"/notifications",variant:"text",color:"primary",children:"All Notifications"})})]})]}):Object(R.jsxs)("div",{className:"",children:[Object(R.jsx)("div",{className:"",children:Object(R.jsx)(vt.a,{className:""})}),Object(R.jsx)(Xe.a,{color:"grey",variant:"body2",children:"No new notifications yet"})]})})}}]),n}(a.Component);Ot.defaultProps={notifications:[],onSelect:function(){}};var xt=Ot,yt=["theme","className","title","isSidebarOpen","onToggleSidebar","dashboard","nav","communication","auth","sx"],wt=function(e){Object(_.a)(n,e);var t=Object(S.a)(n);function n(e){var a;Object(k.a)(this,n),(a=t.call(this,e)).signal=!0,a.ignoreConnectionState=!1,a.searchRef=i.a.createRef(),a.state={drawerWidth:se.b,prominent:!0,notifications:[],notificationsLimit:5,notificationsCount:0,notificationsEl:null,load_error:!1,loading:!1,connectionSnackBarIgnore:!1,connectionSnackBarOpened:!1,serverConnected:!1,connectionSnackBarOpen:!1,connectionSnackBarColor:"success",connectionSnackBarMessage:"Connection Restored",notificationSnackBarOpen:!1,notificationSnackBarMessage:"New notification",userPresenceMenuOpen:!1,userPresenceMenuAnchorEl:null},a.onOpenUserPresenceMenu=function(e){var t=e.currentTarget;a.setState({userPresenceMenuAnchorEl:t,userPresenceMenuOpen:!0})},a.onCloseUserPresenceMenu=function(){a.setState({userPresenceMenuAnchorEl:null,userPresenceMenuOpen:!1})},a.onChangeUserPresenceMenu=function(e){return function(t){var n,i=a.props,r=i.auth,o=i.networkServices.SocketIO,s=i.setCurrentUser;r.isAuthenticated&&(s(Object(l.a)(Object(l.a)({},r.user),{},{presence:e})),o.emit("change-user-presence",{id:null===(n=r.user)||void 0===n?void 0:n._id,presence:e}));a.setState({userPresenceMenuAnchorEl:null,userPresenceMenuOpen:!1})}},a.handleShowNotifications=function(e){a.props.auth;a.setState({notificationsEl:e.currentTarget},(function(){a.state.notificationsCount>0&&lt.a.get("/notifications/mark/all/read").then((function(e){a.setState({notificationsCount:0})})).catch((function(e){a.setState({notificationsCount:0})}))}))},a.mounted=!1;var r=a.props;r.auth,r.setCurrentUser;return a.onCloseConnectionSnackbar=a.onCloseConnectionSnackbar.bind(Object(Je.a)(a)),a.onCloseNotificationSnackbar=a.onCloseNotificationSnackbar.bind(Object(Je.a)(a)),a.handleCloseNotifications=a.handleCloseNotifications.bind(Object(Je.a)(a)),a.handleSignOut=a.handleSignOut.bind(Object(Je.a)(a)),a.onOpenUserPresenceMenu=a.onOpenUserPresenceMenu.bind(Object(Je.a)(a)),a.onCloseUserPresenceMenu=a.onCloseUserPresenceMenu.bind(Object(Je.a)(a)),a.onChangeUserPresenceMenu=a.onChangeUserPresenceMenu.bind(Object(Je.a)(a)),a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){this.props.dashboard;this.signal=!0,this.mounted=!0,this.initSocketActionsListener()}},{key:"componentWillUnmount",value:function(){this.signal=!1,this.mounted=!1,this.ignoreConnectionState=!0}},{key:"getSnapshotBeforeUpdate",value:function(e,t){return this.mounted=!1,null}},{key:"componentDidUpdate",value:function(e,t,n){this.mounted=!0}},{key:"initSocketActionsListener",value:function(){var e=this,t=this.props,n=t.networkServices.SocketIO,a=t.auth;t.setCurrentUser;this.setState({serverConnected:n.connected}),n.on("connect",(function(){e.setState({connectionSnackBarOpen:!1,serverConnected:!0,connectionSnackBarColor:"success",connectionSnackBarMessage:"Connection Restored"})})),n.on("disconnect",(function(){e.ignoreConnectionState||e.setState({connectionSnackBarOpened:!1,serverConnected:!1,connectionSnackBarOpen:!1,connectionSnackBarColor:"error",connectionSnackBarMessage:"Connection Lost"})})),n.on("reconnect_failed",(function(t){t>=10&&!e.ignoreConnectionState&&e.setState({connectionSnackBarOpened:!1,connectionSnackBarOpen:!1,serverConnected:!1,connectionSnackBarColor:"error",connectionSnackBarMessage:"Connection Lost"})})),n.on("new_notification",(function(t){var n;a.isAuthenticated&&"_id"in a.user&&(t.notify!==(null===(n=a.user)||void 0===n?void 0:n._id)||t.read||e.setState((function(e){return{notifications:Array.isArray(e.notifications)?e.notifications.unshift(t):[t],notificationSnackBarOpen:!0,notificationSnackBarMessage:t.body}})))})),n.on("update",(function(t){var n,i=t.context,r=t.action;"notification"===i.toLowerCase()&&(r.effects.notify===(null===(n=a.user)||void 0===n?void 0:n._id)&&e.setState((function(e){return{notifications:Array.isArray(e.notifications)?e.notifications.unshift(r.effects):[r.effects],notificationSnackBarOpen:!0,notificationSnackBarMessage:r.effects.body}})))}))}},{key:"parseData",value:function(e){var t=this.props.auth,n=e,a=$e.notifications.scope.columns;n.data_actions=e._id;for(var i=0,r=Object.entries(a);i<r.length;i++){var o=Object(u.a)(r[i],2),s=o[0],l=o[1];l.possibilities&&("object"===typeof l.possibilities?e[s]in l.possibilities&&(n[s]=l.possibilities[e[s]]):"function"===typeof l.possibilities&&e[s]in l.possibilities(e,t.user)&&(n[s]=l.possibilities(e,t.user)[e[s]]))}return n}},{key:"getNotifications",value:function(){var e=this,t=this.props.auth,n=this.state.notificationsLimit;lt.a.getContextRequests("/notifications").getRecordsCount({read:"0"}).then((function(t){e.mounted?e.setState((function(e){return{notificationsCount:t.body.data.count,load_error:!1,loading:!1}})):(e.state.notificationsCount=t.body.data.count,e.state.load_error=!1,e.state.loading=!1)})).catch((function(t){e.mounted?e.setState((function(e){return{load_error:t,loading:!1}})):(e.state.load_error=t,e.state.loading=!1)})),lt.a.getContextRequests("/notifications").getRecords({p:1,pagination:n,desc:"date_created"}).then((function(n){var a=n.body.data,i=Le.c.resolveReferenceColumnsDisplays(a,$e.notifications.columns,t.user),r=e,o=i.map((function(e){return r.parseData(e)}));e.mounted?e.setState((function(e){return{notifications:o,load_error:!1,loading:!1}})):(e.state.notifications=o,e.state.load_error=!1,e.state.loading=!1)})).catch((function(t){e.mounted?e.setState((function(e){return{load_error:t,loading:!1}})):(e.state.load_error=t,e.state.loading=!1)}))}},{key:"handleSignOut",value:function(){lt.a.logout()}},{key:"handleCloseNotifications",value:function(){this.setState({notificationsEl:null})}},{key:"onCloseConnectionSnackbar",value:function(){this.setState({connectionSnackBarOpen:!1})}},{key:"onCloseNotificationSnackbar",value:function(){this.setState({notificationSnackBarOpen:!1})}},{key:"render",value:function(){var e,t,n,a,i,r,o,s,l,c,u,d,p,b=this.props,f=b.theme,j=b.className,m=(b.title,b.isSidebarOpen),h=b.onToggleSidebar,v=(b.dashboard,b.nav),O=(b.communication.messaging,b.auth),x=b.sx,y=(Object(T.a)(b,yt),this.state),w=y.notifications,k=y.notificationsCount,N=y.notificationsEl,_=Boolean(N);v.entries;return Object(R.jsxs)(le.a,{className:j,sx:x,children:[Object(R.jsx)(Be.a,{sx:{borderBottom:function(e){return"1px solid ".concat(e.palette.divider)},backgroundColor:function(e){return e.palette.background.paper},zIndex:function(e){return e.zIndex.appBar},flexGrow:1},children:Object(R.jsxs)(Ue.a,{className:Te()({flex:!0,relative:!0,"px-2":!0}),sx:{height:function(e){return e.spacing(8)},transition:"height 100ms",width:"100%",transitionTimingFunction:"cubic-bezier(0.1, 0.7, 1.0, 0.1)",zIndex:1300,color:function(e){return e.palette.text.primary}},children:[Object(R.jsx)(je.a,{onClick:h,variant:"text",sx:{alignSelf:"center",marginLeft:"4px",marginRight:function(e){return e.spacing()},color:function(e){return e.palette.text.primary},"&:hover":{color:function(e){return e.palette.primary.main+" !important"}}},children:m?Object(R.jsx)(Ye.a,{}):Object(R.jsx)(Ze.a,{})}),Object(R.jsx)(g.b,{className:"inline-block text-left w-auto cursor-pointer",to:"/home".toUriWithDashboardPrefix(),children:Object(R.jsx)("img",{alt:A.a.name+" logo cursor-pointer",className:"cursor-pointer h-6",src:A.a.logo})}),Object(R.jsxs)("div",{className:"flex flex-grow justify-start flex-row-reverse items-center px-4",children:[O.isAuthenticated&&Object(R.jsx)(Ge.a,{variant:"dot",badgeContent:" ",anchorOrigin:{vertical:"bottom",horizontal:"right"},classes:{dot:this.state.serverConnected?"online"===(null===(e=O.user)||void 0===e?void 0:e.presence)?"bg-green-700":"away"===(null===(t=O.user)||void 0===t?void 0:t.presence)?"bg-yellow-700":"bg-gray-700":"bg-red-700"},children:Object(R.jsx)(je.a,{onClick:this.onOpenUserPresenceMenu,size:"small",sx:{ml:2},title:this.state.serverConnected?O.user.presence.humanize():"No Connection",children:(null===(n=O.user)||void 0===n?void 0:n.avatar)?Object(R.jsx)(st.a,{alt:null===(a=O.user)||void 0===a?void 0:a.first_name,className:"text-sm ".concat(this.state.serverConnected?"online"===(null===(i=O.user)||void 0===i?void 0:i.presence)?"bg-green-700":"away"==O.user.presence?"bg-yellow-700":"bg-gray-700":"bg-red-700"),src:lt.a.getAttachmentFileUrl(null===(r=O.user)||void 0===r?void 0:r.avatar),sx:{width:32,height:32}}):Object(R.jsx)(st.a,{sx:{color:f.palette.text.primary,background:f.palette.action.selected,width:32,height:32},children:Object(R.jsx)(ct.a,{})})})}),Object(R.jsx)(jt,{}),Object(R.jsxs)(at.a,{id:"user-presence-menu",anchorEl:this.state.userPresenceMenuAnchorEl,open:this.state.userPresenceMenuOpen,onClose:this.onCloseUserPresenceMenu,TransitionComponent:rt.a,classes:{list:"pt-0"},children:[Object(R.jsx)(it.a,{classes:{root:"opacity-100 inverse-text "+(this.state.serverConnected?"online"===(null===(o=O.user)||void 0===o?void 0:o.presence)?"bg-green-700":"away"==(null===(s=O.user)||void 0===s?void 0:s.presence)?"bg-yellow-700":"bg-gray-700":"bg-red-700")},disabled:!0,children:Object(R.jsx)(Xe.a,{color:"inherit",variant:"subtitle1",children:(null===(l=O.user)||void 0===l?void 0:l.first_name)+" "+(null===(c=O.user)||void 0===c?void 0:c.last_name)})}),Object(R.jsx)(it.a,{onClick:this.onChangeUserPresenceMenu(O.user&&"online"===(null===(u=O.user)||void 0===u?void 0:u.presence)?"away":"online"),disabled:!this.state.serverConnected,children:O.user&&"online"===(null===(d=O.user)||void 0===d?void 0:d.presence)?"Set to away":"Set to online"}),["online","away"].includes(null===(p=O.user)||void 0===p?void 0:p.presence)&&Object(R.jsx)(it.a,{onClick:this.onChangeUserPresenceMenu("offline"),disabled:!this.state.serverConnected,children:"Set to offline"}),Object(R.jsxs)(it.a,{children:[Object(R.jsx)(g.b,{to:"/account".toUriWithDashboardPrefix(),children:"My account"})," "]}),Object(R.jsx)(it.a,{onClick:this.handleSignOut,children:"Logout"})]}),Object(R.jsx)(je.a,{className:"md:mx-2",onClick:this.handleShowNotifications,children:Object(R.jsx)(Ge.a,{badgeContent:k,color:"secondary",variant:"dot",children:Object(R.jsx)(tt.a,{path:nt.c,title:"Notification Icon",size:1,color:f.palette.text.primary})})})]})]})}),Object(R.jsx)(He.a,{anchorEl:N,anchorOrigin:{vertical:"bottom",horizontal:"center"},onClose:this.handleCloseNotifications,open:_,transformOrigin:{vertical:"top",horizontal:"center"},children:Object(R.jsx)(xt,{notifications:w,onSelect:this.handleCloseNotifications})})]})}}]),n}(a.Component);wt.defaultProps={onToggleSidebar:function(){}};var kt=Ie()(ot.a,ce.c,Object(s.b)((function(e){return{auth:e.auth,nav:e.nav,dashboard:e.dashboard,cache:e.cache,communication:e.communication}}),{logout:C.tb,setCurrentUser:C.Jb}))(wt),Nt=n(13),_t=n(7),St=n(501),Ct=n.n(St),At=n(1122),Ft=n(1826),Pt=n(1117),Dt=n(61),Et=i.a.memo((function(e){var t=Object(s.c)(),n=Object(s.d)((function(e){return e.dialog.state})),a=Object(s.d)((function(e){return e.dialog.options})),i=a.title,r=a.body;a.actions;return String.isString(i)&&(i=i.hasHTML()?Ct()(i):i),String.isString(r)&&(r=r.hasHTML()?Ct()(r):r),Object(R.jsxs)(q.a,{open:n,onClose:function(e){return t(C.lb())},"aria-labelledby":"action-dialog-title",children:[i?Object(R.jsx)(Pt.a,{id:"action-dialog-title",variant:"h4",children:i}):Object(R.jsx)(Pt.a,{id:"action-dialog-title",variant:"h4",children:"Heads up!"}),r?Object(R.jsx)(M.a,{children:Object(R.jsx)(Ft.a,{id:"action-dialog-content",children:r})}):"",a.actions?Object(R.jsx)(At.a,{children:Object.keys(a.actions).map((function(e){return Object(R.jsx)(Dt.a,{onClick:a.actions[e].onClick?a.actions[e].onClick:function(){return t(C.lb())},color:a.actions[e].color?a.actions[e].color:"primary",children:a.actions[e].text?a.actions[e].text:e},"action-dialog-action-"+e)}))}):""]})})),Tt=n(190),qt=n(1983),Mt=n(93),It=i.a.forwardRef((function(e,t){return Object(R.jsx)(qt.a,Object(l.a)({direction:"up",ref:t},e))}));var Rt=Ie()(Object(s.b)((function(e){return{auth:e.auth,cache:e.cache,device:e.device,communication:e.communication}}),{apiCallRequest:C.hb,setEmailingCache:C.Lb,clearEmailingCache:C.kb}),ot.a)((function(e){var t=e.communication.emailing,n=t.popup_open,r=t.recipient_address,o=(t.recipient_name,t.cc),s=t.bcc,l=t.subject,c=t.content,d=t.context,p=t.record,b=(e.apiCallRequest,e.setEmailingCache),f=e.clearEmailingCache,j=Object(E.c)().Api,m=Object(E.d)().queueNotification,h=Object(a.useState)(r),v=Object(u.a)(h,2),g=v[0],O=v[1],x=Object(a.useState)(o),y=Object(u.a)(x,2),w=y[0],k=y[1],N=Object(a.useState)(s),_=Object(u.a)(N,2),S=_[0],C=_[1],A=Object(a.useState)(l),F=Object(u.a)(A,2),P=F[0],D=F[1],T=Object(a.useState)(c),I=Object(u.a)(T,2),L=I[0],z=I[1],V=Object(a.useState)(d),W=Object(u.a)(V,2),J=W[0],B=W[1],U=Object(a.useState)(p),G=Object(u.a)(U,2),H=G[0],K=G[1],Y=Object(a.useState)(!1),Q=Object(u.a)(Y,2),Z=Q[0],X=Q[1],$=Object(a.useState)(!1),ee=Object(u.a)($,2),te=(ee[0],ee[1]),ne=Object(a.useState)(!1),ae=Object(u.a)(ne,2),ie=(ae[0],ae[1]),re=Object(a.useState)(!1),oe=Object(u.a)(re,2),se=(oe[0],oe[1]),le=Object(a.useState)(!String.isEmpty(o)),ce=Object(u.a)(le,2),ue=ce[0],de=ce[1],pe=Object(a.useState)(!String.isEmpty(s)),be=Object(u.a)(pe,2),fe=be[0],je=be[1],me=Object(a.useCallback)((function(){te(!0),se(!1),ie(!1),j.post("/emails",{folder:"outbox",subject:P,recipient_address:g,cc:w,bcc:S,content:L,context:J,record:H,attachments:null},{params:{p:"1"}}).then((function(e){e.body.data;f(),b("popup_open",!1),te(!1),m({severity:"success",title:"Email sent",content:"Email sent to ".concat(g)})})).catch((function(e){te(!1),m({severity:"error",title:"Something went wrong",content:"Error sending email to ".concat(g)})}))}),[P,g,w,S,L,J,H,p,P]),he=function(){f(),b("popup_open",!1)},ve=i.a.useRef(null);return Object(a.useEffect)((function(){if(n){var e=ve.current;null!==e&&e.focus()}}),[n]),Object(a.useEffect)((function(){X(!String.isEmpty(g)&&!String.isEmpty(P)&&!String.isEmpty(L))}),[g,P,L]),Object(a.useEffect)((function(){O(r)}),[r]),Object(a.useEffect)((function(){k(o)}),[o]),Object(a.useEffect)((function(){C(s)}),[s]),Object(a.useEffect)((function(){D(l)}),[l]),Object(a.useEffect)((function(){z(c)}),[c]),Object(a.useEffect)((function(){B(d)}),[d]),Object(a.useEffect)((function(){K(p)}),[p]),Object(a.useEffect)((function(){return function(){b("recipient_address",g),b("subject",P),b("content",L),b("context",J),b("cc",w),b("bcc",S),b("context",J),b("record",H)}}),[]),Object(R.jsxs)(q.a,{open:n,onClose:function(e){return b("popup_open",!1)},TransitionComponent:It,scroll:"paper",fullScreen:!0,children:[Object(R.jsx)(Pt.a,{id:"compose-mail-dialog-title",children:Object(R.jsxs)("div",{className:"w-full flex flex-row items-center",children:[Object(R.jsx)(Tt.a,{variant:"subtitle1",className:"flex-grow",children:" Compose Mail "}),Object(R.jsx)(mt.a,{onClick:function(){he()},color:"warning",children:"Discard Draft"})]})}),Object(R.jsx)(M.a,{dividers:!0,className:"flex flex-col",children:Object(R.jsx)(qe.a,{className:"overflow-y-scroll overflow-x-hidden top-0 flex-grow p-4",children:Object(R.jsx)(Ft.a,{id:"compose-mail-scroll-dialog-description",ref:ve,tabIndex:-1,children:Object(R.jsxs)(Nt.a,{id:"compose-email-dialog-body",children:[Object(R.jsx)(_t.a,{xs:12,children:Object(R.jsx)(Mt.n,{variant:"outlined",defaultValue:P,onChange:function(e){D(e)},label:"Subject:",inputProps:{onKeyDown:function(e){if("Enter"===e.key){e.preventDefault();var t=e.target.value;t=String.isString(t)?t.trim():"",D(t),e.target.blur()}}},required:!0,validate:!0,fullWidth:!0})}),Object(R.jsx)(_t.a,{xs:12,children:Object(R.jsx)(Mt.n,{variant:"outlined",defaultValue:g,onChange:function(e){O(e)},placeholder:"Enter Recipient Email Address",label:"To:",inputProps:{onKeyDown:function(e){if("Enter"===e.key){e.preventDefault();var t=e.target.value;t=String.isString(t)?t.trim():"",O(t),e.target.blur()}}},required:!0,validate:!0,fullWidth:!0})}),ue&&Object(R.jsx)(_t.a,{xs:12,children:Object(R.jsx)(Mt.n,{variant:"outlined",defaultValue:w,onChange:function(e){k(e)},placeholder:"CC Email Address",label:"CC:",inputProps:{onKeyDown:function(e){if("Enter"===e.key){e.preventDefault();var t=e.target.value;t=String.isString(t)?t.trim():"",k(t),e.target.blur()}}},fullWidth:!0})}),!ue&&Object(R.jsx)(_t.a,{xs:12,className:"flex flex-row-reverse",children:Object(R.jsx)(mt.a,{onClick:function(){return de(!0)},color:"secondary",children:"Add CC"})}),fe&&Object(R.jsx)(_t.a,{xs:12,children:Object(R.jsx)(Mt.n,{variant:"outlined",defaultValue:S,onChange:function(e){C(e)},placeholder:"BCC Email Address",label:"BCC:",inputProps:{onKeyDown:function(e){if("Enter"===e.key){e.preventDefault();var t=e.target.value;t=String.isString(t)?t.trim():"",C(t),e.target.blur()}}},fullWidth:!0})}),!fe&&ue&&Object(R.jsx)(_t.a,{xs:12,className:"flex flex-row-reverse",children:Object(R.jsx)(mt.a,{onClick:function(){return je(!0)},color:"secondary",children:"Add BCC"})}),Object(R.jsx)(_t.a,{xs:12,children:Object(R.jsx)(Mt.n,{variant:"outlined",defaultValue:L,onChange:function(e){z(e)},placeholder:"Enter Email Message here ...",multiline:!0,rows:20,label:"Message",required:!0,validate:!0,fullWidth:!0})})]})})})}),Object(R.jsxs)(At.a,{children:[Object(R.jsx)(mt.a,{onClick:function(){he()},color:"warning",children:"Discard Draft"}),Object(R.jsx)(mt.a,{onClick:function(){return me()},color:"primary",disabled:!Z,children:"Send"})]})]})})),Lt=function(e){var t=e.sidebar_items,n=e.children,a=(Object(E.c)().SocketIO,Object(s.d)((function(e){return e.nav}))),i=Object(s.d)((function(e){return e.dashboard})),r=(Object(s.d)((function(e){return e.auth})),Object(de.a)(a.entries),Object(oe.a)()),o=Object(U.a)(r.breakpoints.up("md")),l=Object(ie.p)({drawerOpen:o}),c=Object(u.a)(l,2),d=c[0],p=c[1];return Object(R.jsxs)(le.a,{sx:{backgroundColor:r.palette.background.default,color:r.palette.text.primary},className:"p-0 relative min-h-screen",children:[i.appbar_displayed&&Object(R.jsx)(kt,{component:"header",isSidebarOpen:d.drawerOpen,onToggleSidebar:function(){return p((function(e){return{drawerOpen:!e.drawerOpen}}))},className:"fixed left-0 right-0",sx:{zIndex:o?r.zIndex.drawer+1:r.zIndex.drawer-1}}),i.drawer_displayed&&Object(R.jsx)(pe.a,{anchor:"rtl"==i.layout_direction?"right":"left",sx:Object(ue.a)({flexShrink:0},"& .MuiDrawer-paper",{width:se.b,boxSizing:"border-box",backgroundColor:r.palette.primary.main,paddingTop:o?r.spacing(10):r.spacing(2),borderWidth:0,overflowX:"hidden"}),onClose:function(){return p({drawerOpen:!1})},open:d.drawerOpen,variant:o?"persistent":"temporary",children:Object(R.jsx)(We,{open:d.drawerOpen,items:t,onToggleSidebar:function(){return p((function(e){e.drawerOpen}))},onClickNavLink:function(e){o||p({drawerOpen:!1})}})}),Object(R.jsxs)(le.a,{component:"main",sx:{width:o&&d.drawerOpen?"calc(100% - ".concat(se.b,"px)"):"100%",left:o&&d.drawerOpen?se.b:"auto"},className:"relative m-0 p-0",children:[Object(R.jsx)(Nt.a,{sx:{backgroundColor:r.palette.background.default,color:r.palette.text.primary},className:"absolute top-20 left-0 right-0",children:Object(R.jsx)(_t.a,{xs:12,children:n})}),Object(R.jsx)(Et,{}),Object(R.jsx)(Rt,{})]}),Object(R.jsx)(_e,{})]})};Lt.defaultProps={title:"",sidebar_items:[]};var zt=Lt,Vt=n(2052),Wt=n(2014),Jt=n(2025),Bt=n(1984),Ut=["children","to"],Gt=i.a.memo(Object(s.b)((function(e){return{auth:e.auth}}),{})((function(e){var t=e.children,n=e.to,a=Object(T.a)(e,Ut);return Object(R.jsx)(g.c,Object(l.a)(Object(l.a)({to:n,isActive:function(e,t){if(t&&String.isString(n)){var a="",i=n;return-1!==n.indexOf("#")&&(a=n.trim().substr(n.indexOf("#")),i=n.trim().substr(0,n.indexOf("#"))),t.pathname===i&&t.hash===a}return!1}},a),{},{children:t}))}))),Ht=["className","showLogo","auth","window","cart","theme","app","history"];function Kt(e){var t=e.children,n=e.window,a=Object(Bt.a)({disableHysteresis:!0,threshold:0,target:n?n():void 0});return i.a.cloneElement(t,{elevation:a?4:0})}var Yt=Ie()(Object(s.b)((function(e){return{auth:e.auth,cart:e.ecommerce.cart,app:e.app}}),{}),ot.a)((function(e){var t,n=Object(re.f)(),i=Object(a.useState)(!1),r=Object(u.a)(i,2),o=r[0],s=r[1],c=Object(a.useState)("jumbotron"),d=Object(u.a)(c,2),p=(d[0],d[1],e.className,e.showLogo,e.auth),b=e.window,f=e.cart,j=e.theme,m=(e.app,e.history,Object(T.a)(e,Ht),JSON.isJSON(f)&&Array.isArray(f.entries)&&f.entries.length,Object(Bt.a)({target:b?b():void 0,disableHysteresis:!0,threshold:1})),h=function(e){return function(t){("keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&s(e)}};Object(a.useEffect)((function(){if(n){var e=n.hash;if(String.isEmpty(e)){var t=document.getElementById("back-to-top-anchor");t&&t.scrollIntoView({behavior:"smooth",block:"center"})}else{var a=e.trim();if(a.startsWith("#")){a=a.replace("#","");var i=document.getElementById(a);if(i){i.getAttribute("title");i.scrollIntoView({behavior:"smooth",block:"center"})}}}}}),[n]);var v=function(){return Object(R.jsx)("div",{className:"w-full",role:"presentation",onClick:h(!1),onKeyDown:h(!1),children:Object(R.jsxs)(Se.a,{children:[Object(R.jsx)(Ae.a,{children:Object(R.jsx)(De.a,{primary:Object(R.jsx)(Gt,{to:"/why-us".toUriWithLandingPagePrefix(),color:"inherit",activeStyle:{color:j.palette.primary.main},children:"Why Realfield?"})})}),Object(R.jsx)(Ae.a,{children:Object(R.jsx)(De.a,{primary:Object(R.jsx)(Gt,{to:"/about-us".toUriWithLandingPagePrefix(),color:"inherit",activeStyle:{color:j.palette.primary.main},children:"About us"})})}),(!p.isAuthenticated||0===Object.size(p.user))&&Object(R.jsx)(Ae.a,{children:Object(R.jsx)(De.a,{primary:Object(R.jsx)(Gt,{to:"/auth/login",color:"inherit",children:"Login"})})}),Object(R.jsx)(Ae.a,{children:Object(R.jsx)(De.a,{primary:Object(R.jsx)(Gt,{to:"/community".toUriWithLandingPagePrefix(),color:"inherit",children:"Community"})})}),p.isAuthenticated&&Object.size(p.user)>0&&Object(R.jsx)(Ae.a,{children:Object(R.jsx)(De.a,{primary:Object(R.jsx)(Gt,{to:"/dashboard",color:"inherit",children:"Dashboard"})})}),Object(R.jsx)(Ae.a,{children:Object(R.jsx)(De.a,{primary:Object(R.jsx)(Gt,{to:"/jobs".toUriWithLandingPagePrefix(),color:"inherit",activeStyle:{color:j.palette.primary.main},children:"Jobs"})})})]})})};return Object(R.jsxs)("div",{id:"back-to-top-anchor",children:[Object(R.jsx)(Wt.a,{smDown:!0,children:Object(R.jsx)(Kt,Object(l.a)(Object(l.a)({},e),{},{children:Object(R.jsx)(Be.a,{className:m?"shadow-xl blur-bg-sm  md:px-32 transition-all":"shadow-none md:px-32 relative transition-all",sx:{color:function(e){return e.palette.text.secondary},backgroundColor:function(e){return m?e.palette.background.default:"transparent"}},children:Object(R.jsxs)(Ue.a,{className:"p-0",children:[Object(R.jsx)(Gt,{to:"/home".toUriWithLandingPagePrefix(),color:"inherit",children:Object(R.jsx)(mt.a,{className:"px-0",children:Object(R.jsx)("img",{src:"https://realfield.nyc3.cdn.digitaloceanspaces.com/public/img/realfield/logo.svg",className:"h-8",alt:"logo"})})}),Object(R.jsx)("div",{className:"flex-grow"}),Object(R.jsx)(Gt,{to:"/why-us".toUriWithLandingPagePrefix(),color:"inherit",className:"mr-4",activeStyle:{borderBottom:"2px solid "+j.palette.primary.main},children:Object(R.jsx)(mt.a,{edge:"end",color:"inherit",className:" capitalize",children:"Why Realfield?"})}),Object(R.jsx)(Gt,{to:"/about-us".toUriWithLandingPagePrefix(),color:"inherit",className:"mr-4",activeStyle:{borderBottom:"2px solid "+j.palette.primary.main,color:"".concat(j.palette.primary.main," !important")},children:Object(R.jsx)(mt.a,(t={edge:"end",className:"px-0",color:"inherit"},Object(ue.a)(t,"className"," capitalize"),Object(ue.a)(t,"children","About us"),t))}),Object(R.jsx)(Gt,{to:"/community".toUriWithLandingPagePrefix(),color:"inherit",activeStyle:{borderBottom:"2px solid "+j.palette.primary.main},children:Object(R.jsx)(mt.a,{edge:"end",color:"inherit",className:"capitalize",children:"Community"})}),(!p.isAuthenticated||0===Object.size(p.user))&&Object(R.jsx)(Gt,{to:"/auth/login",color:"inherit",activeStyle:{borderBottom:"2px solid "+j.palette.primary.main},children:Object(R.jsx)(mt.a,{color:"inherit",className:" capitalize",children:"Login"})}),p.isAuthenticated&&Object.size(p.user)>0&&Object(R.jsx)(Gt,{to:"/home".toUriWithDashboardPrefix(),color:"inherit",activeStyle:{borderBottom:"2px solid "+j.palette.primary.main},children:Object(R.jsx)(mt.a,{edge:"end",color:"inherit",className:"capitalize",children:"Dashboard"})}),Object(R.jsx)(Gt,{to:"/jobs".toUriWithLandingPagePrefix(),color:"inherit",activeStyle:{},children:Object(R.jsx)(Vt.a,{color:"primary",variant:"extended",size:"small",className:"mx-2 px-6 capitalize",children:"Jobs!"})})]})})}))}),Object(R.jsxs)(Wt.a,{mdUp:!0,children:[Object(R.jsx)(Kt,Object(l.a)(Object(l.a)({},e),{},{children:Object(R.jsx)(Be.a,{className:"shadow-none inverse default_text",children:Object(R.jsxs)(Ue.a,{children:[Object(R.jsx)(je.a,{edge:"start",className:"mr-4",color:"inherit","aria-label":"menu",onClick:h(!0),children:Object(R.jsx)(Ze.a,{})}),Object(R.jsx)(Gt,{className:"flex-grow",to:"/home".toUriWithLandingPagePrefix(),color:"inherit",children:Object(R.jsx)(mt.a,{color:"inherit",children:Object(R.jsx)("img",{src:"https://realfield.nyc3.cdn.digitaloceanspaces.com/public/img/realfield/logo.svg",className:"h-6",alt:"logo"})})})]})})})),Object(R.jsx)(Jt.a,{open:o,onClose:h(!1),classes:{paper:"w-64"},onOpen:h(!0),children:Object(R.jsx)(v,{})})]})]})})),Qt=n(1985),Zt=n(1067),Xt=n.n(Zt),$t=n(1065),en=n.n($t),tn=n(1062),nn=n.n(tn),an=n(1064),rn=n.n(an),on=n(1063),sn=n.n(on),ln=n(1066),cn=n.n(ln),un=n(1068),dn=n.n(un),pn=n(1061),bn=n.n(pn),fn=n(2037),jn=n(1820),mn=n(1817),hn=["inputVariant","fullWidth","disabled","className"],vn=function(e){Object(_.a)(n,e);var t=Object(S.a)(n);function n(e){var a;Object(k.a)(this,n),(a=t.call(this,e)).state={email:"",submitting:!1,submitsuccess:!1,submiterror:!1,alert:!1},a.handleChange=function(e){return function(t){var n;a.setState((n={},Object(ue.a)(n,e,t.target.value),Object(ue.a)(n,"submiterror",!1),Object(ue.a)(n,"submitsuccess",!1),Object(ue.a)(n,"submitting",!1),Object(ue.a)(n,"alert",!1),n))}};var i=a.props.networkServices;return console.log("networkServices",i),a.handleDemoRequestSubmit=a.handleDemoRequestSubmit.bind(Object(Je.a)(a)),a.handleChange=a.handleChange.bind(Object(Je.a)(a)),a.handleSnackbarClose=a.handleSnackbarClose.bind(Object(Je.a)(a)),a}return Object(N.a)(n,[{key:"handleSnackbarClose",value:function(){this.setState((function(e){return{alert:!1,submitting:!1,submitsuccess:!1,submiterror:!1}}))}},{key:"handleDemoRequestSubmit",value:function(e){var t=this,n=this.props,a=n.notificationsQueue.queueNotification,i=n.networkServices.Api;e.preventDefault(),this.setState((function(e){return{submiterror:!1,submitsuccess:!1,submitting:!0,alert:!1}}));var r={requesting_email:this.state.email};i.post("/demo-requests",r).then((function(e){t.setState((function(e){return{submitting:!1,submiterror:!1,submitsuccess:!0}})),a({severity:"success",content:"Demo request placed. Thankyou for your interest in working with us. We will get back to you as soon as possible."})})).catch((function(e){t.setState((function(e){return{submitting:!1,submiterror:!0,submitsuccess:!1}})),a({severity:"error",title:"",content:"Demo request placement failed. ".concat((null===e||void 0===e?void 0:e.msg)||"Something went wrong")})}))}},{key:"render",value:function(){var e=this.props,t=e.inputVariant,n=e.fullWidth,a=e.disabled,i=(e.className,Object(T.a)(e,hn));return Object(R.jsx)(le.a,Object(l.a)(Object(l.a)({component:"form",noValidate:!0,ref:"demoRequestForm",onSubmit:this.handleDemoRequestSubmit},i),{},{children:Object(R.jsx)(Nt.a,{className:"p-0",children:Object(R.jsx)(_t.a,{xs:12,sm:12,md:12,className:"p-0",children:Object(R.jsx)(jn.a,{id:"request-demo-email",type:"email",value:this.state.email,onChange:this.handleChange("email"),variant:t,label:"Your email",InputProps:{endAdornment:Object(R.jsxs)(fn.a,{position:"end",children:[" ",this.state.submitting?Object(R.jsx)(mn.a,{size:32,color:"inherit"}):Object(R.jsx)(je.a,{"aria-label":"Submit",color:"inherit",type:"submit",children:Object(R.jsx)(Pe.a,{children:"arrow_forward"})})," "]})},fullWidth:n,error:this.state.submiterror,disabled:this.state.submitting||a,helperText:this.state.submiterror&&this.state.alert?this.state.alert:"",required:!0})})})}))}}]),n}(i.a.Component);vn.defaultProps={color:"primary",inputVariant:"filled",fullWidth:!0};var gn=Ie()(E.f,E.e)(vn),On=n(497);function xn(e){var t=e.children,n=e.window,a=Object(Bt.a)({target:n?n():void 0,disableHysteresis:!0,threshold:100});return Object(R.jsx)(Qt.a,{in:a,children:Object(R.jsx)("div",{onClick:function(e){var t=(e.target.ownerDocument||document).querySelector("#back-to-top-anchor");t&&t.scrollIntoView({behavior:"smooth",block:"center"})},role:"presentation",children:t})})}function yn(e){var t=e.app.settings,n=e.className,a=e.color,i=e.columnWidgets,r=e.absoluteFooter,o=(Object(E.d)().queueNotification,["inverse","transparent"].includes(a)?"default":"inverse");return Object(R.jsx)(le.a,{className:"w-full pt-8 ",sx:{backgroundColor:function(e){return e.palette.accent.main},color:function(e){return e.palette.background.paper}},children:Object(R.jsxs)(le.a,{className:"w-full",sx:{backgroundImage:"url(https://realfield.nyc3.cdn.digitaloceanspaces.com/public/img/realfield/logo-rotated.png)",backgroundRepeat:"no-repeat",backgroundAttachment:"scroll",backgroundPosition:"right center",backgroundSize:"auto 180px"},id:"footer",children:[Object(R.jsx)("div",{className:"fixed flex items-center flex-col bottom-0 right-0 mr-8 mb-24 z-50",children:Object(R.jsx)(xn,Object(l.a)(Object(l.a)({className:"mb-12"},e),{},{children:Object(R.jsx)(Vt.a,{color:"primary",size:"small","aria-label":"scroll back to top",children:Object(R.jsx)(nn.a,{})})}))}),Object(R.jsx)(ke.a,Object(l.a)({appID:j.A.app.id},j.A.app.user)),Object(R.jsx)(Nt.a,{className:n,children:!i&&Object(R.jsxs)(Nt.a,{className:" md:px-32 ",children:[Object(R.jsx)(_t.a,{sm:12,lg:5,className:"p-0 m-0 mb-8",children:Object(R.jsx)(Nt.a,{className:"p-0 m-0",children:Object(R.jsx)(_t.a,{sm:12,className:"p-0 m-0",children:Object(R.jsxs)(_t.a,{xs:12,className:"mb-6 p-0",children:[Object(R.jsxs)(Xe.a,{className:"mb-2 font-extrabold",variant:"h2",paragraph:!0,children:[Object(R.jsx)("span",{children:"Ethical Data"}),Object(R.jsx)("span",{className:"avenir",children:"."})]}),Object(R.jsxs)(Xe.a,{className:"mb-4 font-extrabold",variant:"h2",paragraph:!0,children:[Object(R.jsx)("span",{children:"Real Time"}),Object(R.jsx)("span",{className:"avenir",children:"."})]}),Object(R.jsx)(Xe.a,{className:"inverse-text",variant:"body2",paragraph:!0,children:"For data you can\u2019t find online"})]})})})}),Object(R.jsx)(_t.a,{sm:12,lg:7,className:"p-0 m-0 mb-8",children:Object(R.jsxs)(Nt.a,{className:"p-0 m-0",children:[Object(R.jsxs)(_t.a,{className:"pl-4",sm:12,md:6,children:[Object(R.jsx)(Xe.a,{className:"w-full block pb-4 uppercase",color:o,variant:"h5",children:"Real Data"}),Object(R.jsx)(g.b,{to:"/why-us".toUriWithLandingPagePrefix(),className:"block",children:Object(R.jsx)(mt.a,{className:"capitalize justify-start px-0",color:"inverse",children:"Why Realfield?"})}),Object(R.jsx)(g.b,{to:"/why-us#realfield-advantage".toUriWithLandingPagePrefix(),className:"block",children:Object(R.jsx)(mt.a,{className:"capitalize justify-start px-0",color:"inverse",children:"Realfield Advantage"})}),Object(R.jsx)(g.b,{to:"/about-us#data".toUriWithLandingPagePrefix(),className:"block",children:Object(R.jsx)(mt.a,{className:"capitalize justify-start px-0",color:"inverse",children:"Data"})}),Object(R.jsx)(g.b,{to:"/about-us#data-quality".toUriWithLandingPagePrefix(),className:"block",children:Object(R.jsx)(mt.a,{className:"capitalize justify-start px-0",color:"inverse",children:"Data Quality"})}),Object(R.jsx)(g.b,{to:"/about-us#data-ethics".toUriWithLandingPagePrefix(),className:"block",children:Object(R.jsx)(mt.a,{className:"capitalize justify-start px-0",color:"inverse",children:"Data Ethics"})}),Object(R.jsx)(g.b,{to:"/ethical-principles".toUriWithLandingPagePrefix(),className:"block",children:Object(R.jsx)(mt.a,{className:"capitalize justify-start px-0",color:"inverse",children:"Ethical Principles"})})]}),Object(R.jsxs)(_t.a,{className:"pl-4",sm:12,md:6,children:[Object(R.jsx)(Xe.a,{className:"w-full block pb-4 uppercase",color:o,variant:"h5",children:"About Us"}),Object(R.jsx)(g.b,{to:"/about-us".toUriWithLandingPagePrefix(),className:"block",children:Object(R.jsx)(mt.a,{className:"capitalize justify-start px-0",color:"inverse",children:"Who we are"})}),Object(R.jsx)(g.b,{to:"/about-us#being-a-fielder".toUriWithLandingPagePrefix(),className:"block",children:Object(R.jsx)(mt.a,{className:"capitalize justify-start px-0",color:"inverse",children:"Being a Fielder"})}),Object(R.jsx)(g.b,{to:"/about-us#faqs".toUriWithLandingPagePrefix(),className:"block",children:Object(R.jsx)(mt.a,{className:"capitalize justify-start px-0",color:"inverse",children:"FAQs"})}),Object(R.jsx)(g.b,{to:"/jobs".toUriWithLandingPagePrefix(),className:"block",children:Object(R.jsx)(mt.a,{className:"capitalize justify-start px-0",color:"inverse",children:"Jobs"})})]})]})}),Object(R.jsx)(_t.a,{md:5,className:"p-0 m-0 mb-8",children:Object(R.jsx)(Nt.a,{className:"p-0 m-0",children:Object(R.jsxs)(_t.a,{sm:12,md:8,className:"p-0",children:[Object(R.jsx)(Xe.a,{className:"w-full pl-0 block pb-4",variant:"body2",children:"For more information, or to schedule a demo, drop us a line"}),Object(R.jsx)(gn,{className:"w-full block pb-4 text-white",sx:{"& .MuiFormControl-root":{color:function(e){return e.palette.background.paper},"& .MuiInputBase-input":{color:function(e){return e.palette.background.paper},"&:-webkit-autofill":{backgroundColor:"transparent !important",color:function(e){return e.palette.background.paper}}},"& .MuiInputLabel-root":{color:function(e){return e.palette.background.paper}},"& .MuiFilledInput-root":{borderBottomColor:function(e){return e.palette.background.paper},"&::before":{borderBottomColor:function(e){return e.palette.background.paper}}},"& .MuiInputAdornment-root":{color:function(e){return e.palette.background.paper}}}}})]})})}),Object(R.jsx)(_t.a,{md:7,className:"p-0 m-0 mb-8",children:Object(R.jsxs)(Nt.a,{className:"p-0 m-0",children:[Object(R.jsxs)(_t.a,{className:"pl-4 block",sm:12,md:6,children:[t.social&&Object(R.jsx)(Nt.a,{className:"p-0 m-0",children:Object(R.jsx)(Xe.a,{className:"w-full block",variant:"h5",children:"Social"})}),t.social&&Object(R.jsx)(Nt.a,{className:"p-0 m-0",children:Object.entries(t.social).map((function(e,t){var n=Object(u.a)(e,2),a=n[0],i=n[1];return!String.isEmpty(i)&&String.isUrl(i)&&Object(R.jsxs)(je.a,{className:"text-white","aria-label":a,href:i,target:"_blank",children:["twitter"===a&&Object(R.jsx)(sn.a,{}),"linkedin"===a&&Object(R.jsx)(rn.a,{}),"instagram"===a&&Object(R.jsx)(en.a,{}),"whatsapp"===a&&Object(R.jsx)(cn.a,{}),"facebook"===a&&Object(R.jsx)(Xt.a,{}),"youtube"===a&&Object(R.jsx)(dn.a,{}),"google_plus"===a&&Object(R.jsx)(bn.a,{})]},a+"-button")}))})]}),Object(R.jsxs)(_t.a,{className:"pl-4 block",sm:12,md:6,children:[Object(R.jsx)(Xe.a,{className:"w-full block pb-4",color:o,variant:"h5",children:"Contact"}),!String.isEmpty(t.contact.phone)&&Object(R.jsx)(Xe.a,{className:"w-full block pb-4",children:t.contact.phone}),!String.isEmpty(t.contact.email)&&Object(R.jsx)(Xe.a,{className:"w-full block pb-4",children:t.contact.email})]})]})})]})}),r&&Object(R.jsx)(Nt.a,{sx:{background:"rgba(0,0,0, 0.3)"},children:r}),!r&&Object(R.jsxs)(Nt.a,{className:" md:px-32",sx:{background:"rgba(0,0,0, 0.3)"},children:[Object(R.jsxs)(_t.a,{className:"py-2 pl-0 flex sm:flex-col lg:flex-row items-center",sm:12,md:6,children:[Object(R.jsx)(g.b,{className:"pl-0 block",to:"/home".toUriWithLandingPagePrefix(),color:"inherit",children:Object(R.jsx)(mt.a,{color:"inherit",children:Object(R.jsx)("img",{src:"https://realfield.nyc3.cdn.digitaloceanspaces.com/public/img/realfield/logo.svg",className:"h-8",alt:"logo"})})}),Object(R.jsx)(Xe.a,{className:"mt-2 mb-1 pl-2 pr-2",variant:"body1",children:t.general.trademark})]}),Object(R.jsx)(_t.a,{className:"p-0 pl-4 block flex flex-row items-center justify-center",sm:12,md:3,children:Object(R.jsx)(g.b,{className:"pl-0 block",to:"/privacy-policy".toUriWithLandingPagePrefix(),color:"inherit",children:Object(R.jsx)(mt.a,{color:"inherit",className:"capitalize",children:"Terms."})})}),Object(R.jsx)(_t.a,{className:"p-0 pl-4 block flex flex-row items-center justify-center",sm:12,md:3,children:Object(R.jsx)(g.b,{className:"pl-0 block",to:"/privacy-policy".toUriWithLandingPagePrefix(),color:"inherit",children:Object(R.jsx)(mt.a,{color:"inherit",className:" capitalize",children:"Privacy."})})})]})]})})}yn.defaultProps={color:"primary"};var wn=Object(s.b)((function(e){return{auth:e.auth,app:e.app}}),{})(i.a.memo(yn)),kn=["className","children","navItems","showHeader","showFooter","nav","sidebar_items","indexUri","contexts"],Nn=function(e){e.className;var t=e.children,n=e.navItems,a=e.showHeader,i=e.showFooter,r=(e.nav,e.sidebar_items,e.indexUri,e.contexts,Object(T.a)(e,kn));return Object(R.jsxs)(R.Fragment,{children:[a&&Object(R.jsx)(Yt,Object(l.a)({navItems:n},r)),Object(R.jsxs)("main",{className:"min-h-screen p-0 relative",children:[Object(R.jsx)(Et,Object(l.a)({},r)),t]}),i&&Object(R.jsx)(wn,Object(l.a)({color:"accent"},r))]})};Nn.defaultProps={showFooter:!0,showHeader:!0};var _n=Ie()(Object(s.b)((function(e){return{nav:e.nav}}),{}))(Nn),Sn=n(1823),Cn=Ie()(Object(s.b)((function(e){return{app:e.app}}),{setOnboarded:C.Pb}))((function(e){var t=e.app,n=e.setOnboarded;return!t.onboarded&&Object(R.jsx)(fe.a,{open:!0,style:{zIndex:9999999999999},children:Object(R.jsx)("div",{className:"p-8 w-screen fixed bottom-0 left-0",children:Object(R.jsx)(Sn.a,{message:t.settings.legal["cookies-consent"],classes:{root:"p-4"},action:Object(R.jsx)(mt.a,{color:"primary",size:"small",onClick:function(){return n(!0)},children:"Accept"}),elevation:0,square:!0})})})})),An=function(e){var t=e.layout,n=Object(s.d)((function(e){return e.auth})),i=Object(re.g)(),r=Object(re.f)(),o=Object(ce.b)().Api;Object(oe.a)(),Object(ie.i)({onError:function(e){return console.log(e)},onSuccess:function(e){return console.log(e)},disabled:n.isAuthenticated||"development"===j.n,googleAccountConfigs:{client_id:j.t,callback:function(e){o.proceedWithGoogleOneTap(Object(l.a)({},e))}}});Object(a.useEffect)((function(){var e;if("dashboard"!==t||n.isAuthenticated&&!String.isEmpty(null===(e=n.user)||void 0===e?void 0:e._id))"landingpage"===t&&"/"===r.pathname&&i("/page/home");else{var a=r.pathname;i("/auth/login?navigateTo=".concat(a))}}),[t,n]),Object(a.useEffect)((function(){if("dashboard"==t){var e=r.pathname.replaceAll("".toUriWithLandingPagePrefix(),"").replaceAll("".toUriWithDashboardPrefix(),"");document.title=A.a.title(e.humanize())}}),[r,t]);return Object(R.jsxs)(le.a,{sx:{color:function(e){return e.palette.text.primary}},component:"div",children:["dashboard"===t?Object(R.jsx)(zt,{sidebar_items:se.a,children:Object(R.jsx)(re.a,{})}):Object(R.jsx)(_n,{children:Object(R.jsx)(re.a,{})}),Object(R.jsx)(Cn,{})]})},Fn=i.a.memo(An,(function(e,t){return e.layout===t.layout})),Pn=n(124),Dn=["children","className","auth","title","theme","titleProps","id"],En=function(e){var t=Object(re.f)(),n=e.children,i=e.className,r=(e.auth,e.title),o=(e.theme,e.titleProps),s=e.id,c=Object(T.a)(e,Dn);return Object(a.useEffect)((function(){if(t){var e=t.hash;if(String.isString(e)){var n=e.trim();if(n.startsWith("#")){n=n.replace("#","");var a=document.getElementById(n);a&&n===s&&a.scrollIntoView({behavior:"smooth",block:"center"})}}}}),[t]),Object(R.jsxs)(Nt.a,Object(l.a)(Object(l.a)({name:s,className:"p-0 flex sm:px-4 md:px-32 pt-20 ".concat(i||""),id:s},c),{},{children:[r&&Object(R.jsx)(_t.a,{xs:12,className:"p-0 pb-8",children:Object(R.jsx)(Tt.a,Object(l.a)(Object(l.a)({},o),{},{children:r}))}),Object(R.jsx)(_t.a,{xs:12,className:"p-0",children:n})]}))};En.defaultProps={id:String.uid(20),titleProps:{variant:"h4",color:"text.secondary"}};var Tn=Ie()(ot.a,Object(s.b)((function(e){return{auth:e.auth}}),{}))(En),qn=n(1808),Mn=n(1069),In=n(2021),Rn=n(609),Ln=Object(qn.a)((function(e){return{mapWrapper:{position:"relative",height:"100%",width:"100%"},point:{"& polygon":{opacity:"0.9"},"&.active":{"& polygon":{opacity:"1","&:nth-child(1)":{fill:A.b.hex.primary,boxShadow:"0 14px 26px -12px rgba(0, 0, 0, 0.42), 0 4px 23px 0px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(0,0,0, 0.2)",opacity:"1"},"&:nth-child(2)":{fill:A.b.hex.secondary,boxShadow:"0 14px 26px -12px rgba(0, 0, 0, 0.42), 0 4px 23px 0px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(0,0,0, 0.2)",opacity:"1"}}},"&.ripple":{"& polygon":{"&:nth-child(1)":{fill:e.palette.text.primary,boxShadow:"0 14px 26px -12px rgba(0, 0, 0, 0.42), 0 4px 23px 0px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(0,0,0, 0.2)"},"&:nth-child(2)":{fill:e.palette.text.primary,boxShadow:"0 14px 26px -12px rgba(0, 0, 0, 0.42), 0 4px 23px 0px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(0,0,0, 0.2)"}}}},mapPopup:{color:e.palette.background.paper,position:"absolute",zIndex:"3",transform:"scale(0)",opacity:"0",padding:"5px",textAlign:"center",verticalAlign:"middle",borderRadius:"5px",lineHeight:"1",cursor:"pointer",animation:"popupDisappearAnim 0.1s",animationDelay:"0.15s",animationIterationCount:1,fontFamily:"Avenir",background:e.palette.secondary.main,"&.active":{animation:"popupAppearAnim 0.1s ease-in-out",textAlign:"center",verticalAlign:"middle",opacity:"1",transform:"scale(1)  translateX(-50%)",WebkitTransform:"scale(1) translateX(-50%)",MsTransform:"scale(1) translateX(-50%)",boxShadow:"0 14px 26px -12px rgba(0, 0, 0, 0.42), 0 4px 23px 0px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(0,0,0, 0.2)"},"&.presence":{animation:"popupAppearAnim 0.1s ease-in-out",textAlign:"center",verticalAlign:"middle",opacity:"1",transform:"scale(1)  translateX(-50%)",WebkitTransform:"scale(1) translateX(-50%)",MsTransform:"scale(1) translateX(-50%)",boxShadow:"0 14px 26px -12px rgba(0, 0, 0, 0.42), 0 4px 23px 0px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(0,0,0, 0.2)",background:e.palette.background.paper,color:e.palette.text.primary}},"@media screen and (min-width: 772px)":{mapPopup:{borderRadius:"4px",padding:"8px"}},"@keyframes popupAppearAnim":{from:{opacity:"0",transform:"scale(0)"},to:{opacity:"1",transform:"scale(1)  translateX(-50%)",WebkitTransform:"scale(1) translateX(-50%)",MsTransform:"scale(1) translateX(-50%)"}},"@keyframes popupDisappearAnim":{from:{opacity:"1",transform:"scale(1)",WebkitTransform:"scale(1)",MsTransform:"scale(1)"},to:{opacity:"0",transform:"scale(0)",WebkitTransform:"scale(0)",MsTransform:"scale(0)"}},"@keyframes pointBlinkAnim":{from:{opacity:"0.5"},to:{opacity:"1"}},"@keyframes pointRippleAnim":{from:{opacity:"0.1"},to:{opacity:"0.8"}}}})),zn=[{polygonIndex:315,message:"Accurate",presenceTitle:"Accuracy",presenceContent:"Data that is error-free and exact. Accuracy is achieved when a measured value matches the actual (true) value and it contains no mistakes, such as outdated information, redundancies, and typos. Our goal is to continually increase the accuracy of your data, even as your datasets grow in size.",color:"red",width:120},{polygonIndex:308,message:"Auditable",presenceTitle:"Auditability",presenceContent:"Data is auditable when it is accessible, and changes are traceable.",color:"red",width:120},{polygonIndex:231,message:"Remote",presenceTitle:"Remotely Collected",presenceContent:"Realfield supplies high quality, primary citizen and consumer data, both quantitative and qualitative, collected through observation, interviews, questionnaires, schedules, and experiments.",color:"red",width:100},{polygonIndex:205,message:"Unique",presenceTitle:"Uniqueness",presenceContent:"Data recorded no more than once is unique.",color:"red",width:100},{polygonIndex:26,message:"Timely",presenceTitle:"Timeliness",presenceContent:"Realfield offers real time data ensuring its relevance and fitness for purpose. Data is available and accurate. It\u2019s important to collect data in a timely manner in order to ensure that it is relevant and fit for purpose in analysis and the generation of insights",color:"red",width:100},{polygonIndex:41,message:"Reliable",presenceTitle:"Complete & Reliable",presenceContent:"Data is considered complete when records are full and contain enough information to draw conclusions. Tracking data quality involves finding fields that contain missing or incomplete values. All data entries must be complete in order to compose a high-quality data set.",color:"red",width:100},{polygonIndex:116,message:"Responsible",presenceTitle:"Reliable and consistent",presenceContent:"Data reliably free of contradictions in your databases. This means that if two values are examined from separate data sets, they will match or align. ",color:"red",width:120},{polygonIndex:10,message:"Ethical",presenceTitle:"Data Ethics",presenceContent:"Realfield\u2019s deep commitment to ethical data collection safeguards your reputation, your project and your insights.",color:"red",width:100}],Vn=function(e){var t,n=Ln(),i=e.mapcolor,r=e.popUpStyle,o=e.interval,s=String.uid(11),c=(String.uid(11),Object(ie.p)({mapContainer:null,mapPopup:null,allPoints:[],points:[],nearbyPoints:[],popup:zn[0],popupOpen:!1,activePoint:-1,started:!1,paused:!0,presenceOpen:!1})),d=Object(u.a)(c,3),p=d[0],b=d[1],f=(d[2],Object(a.useState)([])),j=Object(u.a)(f,2),m=(j[0],j[1],Object(a.useState)([])),h=Object(u.a)(m,2),v=(h[0],h[1],Object(a.useState)([])),g=Object(u.a)(v,2),O=(g[0],g[1],Object(a.useState)(zn[0])),x=Object(u.a)(O,2),y=(x[0],x[1],Object(a.useState)(!1)),w=Object(u.a)(y,2),k=(w[0],w[1],Object(a.useState)(-1)),N=Object(u.a)(k,2),_=(N[0],N[1],Object(a.useState)(!1)),S=Object(u.a)(_,2),C=(S[0],S[1],Object(a.useState)(!0)),A=Object(u.a)(C,2),F=(A[0],A[1],Object(a.useState)(!1)),P=Object(u.a)(F,2),D=(P[0],P[1],Object(a.useRef)(null)),E=Object(a.useRef)(null),T=null,q=null,M=function(e){return p.allPoints.filter((function(t,n){var a=t.getBoundingClientRect(),i=e.width,r=1.5*e.height,o=Math.max(-1*(e.top-a.top),e.top-a.top),s=Math.max(-1*(e.left-a.left),e.left-a.left);return(0!==o||0!==s)&&o<=r&&s<=i}))},I=(Object(Mn.a)(0),Object(Mn.a)(0),Object(Mn.a)(10));Object(In.a)(I,(function(e){return 2*e}));Object(a.useEffect)((function(){if(D.current){E.current&&E.current.classList.remove("active");var e=Array.from(D.current.querySelectorAll("#animated-chevron-map-"+s+" ."+[null===n||void 0===n?void 0:n.point]));if(e){var t=[];zn.map((function(e){var a=D.current.querySelector("#animated-chevron-map-"+s+" ."+(null===n||void 0===n?void 0:n.point)+":nth-child("+(e.polygonIndex+1)+")");t.push(a)}));b({allPoints:e,points:t})}}return function(){clearTimeout(T),clearTimeout(null),clearTimeout(q)}}),[D]),Object(a.useEffect)((function(){if(p.points.length>0&&!p.paused&&E.current){var e=p.activePoint>=p.points.length-1||p.activePoint<0?0:p.activePoint+1,t=e>0?e-1:p.points.length-1;p.started?q=setInterval((function(){var n=p.points[e],a=p.points[t];if(n){a&&setTimeout((function(){a.classList.remove("active"),a.classList.add("ripple"),setTimeout((function(){a.classList.remove("ripple"),setTimeout((function(){E.current&&E.current.classList.remove("active")}),40)}),40)}),120),setTimeout((function(){E.current&&E.current.classList.remove("active")}),40);var i=n.getBoundingClientRect(),r=M(i);(r=r.shuffle().concat([n,n,n])).map((function(e,t){setTimeout((function(){setTimeout((function(){e.classList.remove("ripple")}),Number.getRandomInt(30,50)),e.classList.add("ripple")}),70*(t+1))})),setTimeout((function(){if(D.current){var a=D.current.getBoundingClientRect(),r={left:i.left-a.left+i.width/2,top:i.bottom-a.top};b({activePoint:e,popup:Object(l.a)({position:{left:r.left,top:r.top+1}},zn[e])}),n.classList.add("active"),setTimeout((function(){E.current&&E.current.classList.add("active")}),100),e=e>=p.points.length-1?0:e+1,t=e>0?e-1:p.points.length-1}}),70*r.length)}}),o):T=setTimeout((function(){var n=p.points[e];p.points[t];if(n){var a=p.points[e].getBoundingClientRect(),i=M(a);(i=i.shuffle().concat([n,n,n])).map((function(e,t){setTimeout((function(){setTimeout((function(){e.classList.remove("ripple")}),Number.getRandomInt(30,50)),e.classList.add("ripple")}),70*(t+1))})),setTimeout((function(){if(D.current){var i=D.current.getBoundingClientRect(),r={left:a.left-i.left+a.width/2,top:a.bottom-i.top};b({activePoint:e,popup:Object(l.a)({position:{left:r.left,top:r.top+1}},zn[e]),started:!0}),n.classList.add("active"),setTimeout((function(){E.current&&E.current.classList.add("active")}),100),e=e>=p.points.length-1?0:e+1,t=e>0?e-1:p.points.length-1}}),70*i.length)}}),500)}else clearTimeout(T),clearInterval(q);return function(){clearTimeout(T),clearInterval(q)}}),[p.points,p.paused,p.started]);var L=Object(a.useCallback)((function(e){b({paused:!e}),E.current&&(E.current.classList.remove("active"),e||clearInterval(q))}),[]);return Object(R.jsxs)(Rn.a,{className:"relative p-0 w-full h-full",id:"animated-chevron-map-"+s,onViewportVisibilityChange:L,ref:D,children:[Object(R.jsxs)("div",{className:(null===n||void 0===n?void 0:n.mapPopup)+" ease-in-out avenir "+(p.presenceOpen?" presence":"")+(p.paused?" hidden":""),onClick:function(){b((function(e){return{presenceOpen:!e.presenceOpen}}))},style:Object(l.a)(Object(l.a)({},null===(t=p.popup)||void 0===t?void 0:t.position),r),ref:E,children:[!p.presenceOpen&&Object(R.jsx)(Tt.a,{variants:"body1",className:"text-xl uppercase font-black",children:p.popup.message}),p.presenceOpen&&Object(R.jsxs)("div",{className:"flex flex-col",children:[Object(R.jsx)(Tt.a,{variants:"body1",className:"text-sm normal-case font-bold",paragraph:!0,children:p.popup.presenceTitle}),Object(R.jsx)(Tt.a,{variants:"body2",className:"text-sm normal-case",children:p.popup.presenceContent})]})]}),Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 639.65 350.66",width:"100%",height:"100%",children:[Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"70.66 95.99 70.66 108.81 62.56 111.44 70.66 95.99",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"71.67 95.99 71.67 108.81 79.77 111.44 71.67 95.99",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"87.24 111.44 87.24 98.62 95.34 95.99 87.24 111.44",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"86.23 111.44 86.23 98.62 78.13 95.99 86.23 111.44",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"101.81 95.99 101.81 108.81 93.71 111.44 101.81 95.99",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"102.82 95.99 102.82 108.81 110.92 111.44 102.82 95.99",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"118.39 111.44 118.39 98.62 126.49 95.99 118.39 111.44",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"117.38 111.44 117.38 98.62 109.28 95.99 117.38 111.44",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"132.96 95.99 132.96 108.81 124.86 111.44 132.96 95.99",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"133.97 95.99 133.97 108.81 142.07 111.44 133.97 95.99",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"149.54 111.44 149.54 98.62 157.64 95.99 149.54 111.44",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"148.53 111.44 148.53 98.62 140.43 95.99 148.53 111.44",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"164.11 95.99 164.11 108.81 156.01 111.44 164.11 95.99",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"165.12 95.99 165.12 108.81 173.22 111.44 165.12 95.99",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"180.7 111.44 180.7 98.62 188.79 95.99 180.7 111.44",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"179.68 111.44 179.68 98.62 171.59 95.99 179.68 111.44",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"195.26 95.99 195.26 108.81 187.16 111.44 195.26 95.99",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"196.27 95.99 196.27 108.81 204.37 111.44 196.27 95.99",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"274.15 111.44 274.15 98.62 282.25 95.99 274.15 111.44",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"273.14 111.44 273.14 98.62 265.04 95.99 273.14 111.44",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"288.71 95.99 288.71 108.81 280.62 111.44 288.71 95.99",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"289.73 95.99 289.73 108.81 297.82 111.44 289.73 95.99",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"319.87 95.99 319.87 108.81 311.77 111.44 319.87 95.99",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"320.88 95.99 320.88 108.81 328.98 111.44 320.88 95.99",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"336.45 111.44 336.45 98.62 344.55 95.99 336.45 111.44",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"335.44 111.44 335.44 98.62 327.34 95.99 335.44 111.44",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"351.02 95.99 351.02 108.81 342.92 111.44 351.02 95.99",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"352.03 95.99 352.03 108.81 360.13 111.44 352.03 95.99",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"367.6 111.44 367.6 98.62 375.7 95.99 367.6 111.44",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"366.59 111.44 366.59 98.62 358.49 95.99 366.59 111.44",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"382.17 95.99 382.17 108.81 374.07 111.44 382.17 95.99",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"383.18 95.99 383.18 108.81 391.28 111.44 383.18 95.99",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"398.75 111.44 398.75 98.62 406.85 95.99 398.75 111.44",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"397.74 111.44 397.74 98.62 389.64 95.99 397.74 111.44",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"413.32 95.99 413.32 108.81 405.22 111.44 413.32 95.99",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"414.33 95.99 414.33 108.81 422.43 111.44 414.33 95.99",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"429.91 111.44 429.91 98.62 438.01 95.99 429.91 111.44",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"428.89 111.44 428.89 98.62 420.8 95.99 428.89 111.44",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"444.47 95.99 444.47 108.81 436.37 111.44 444.47 95.99",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"445.48 95.99 445.48 108.81 453.58 111.44 445.48 95.99",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"461.06 111.44 461.06 98.62 469.16 95.99 461.06 111.44",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"460.05 111.44 460.05 98.62 451.95 95.99 460.05 111.44",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"475.62 95.99 475.62 108.81 467.52 111.44 475.62 95.99",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"476.63 95.99 476.63 108.81 484.73 111.44 476.63 95.99",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"492.21 111.44 492.21 98.62 500.31 95.99 492.21 111.44",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"491.2 111.44 491.2 98.62 483.1 95.99 491.2 111.44",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"505.69 95.99 505.69 108.81 497.59 111.44 505.69 95.99",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"506.7 95.99 506.7 108.81 514.8 111.44 506.7 95.99",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"522.27 111.44 522.27 98.62 530.37 95.99 522.27 111.44",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"521.26 111.44 521.26 98.62 513.16 95.99 521.26 111.44",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"536.84 95.99 536.84 108.81 528.74 111.44 536.84 95.99",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"537.85 95.99 537.85 108.81 545.95 111.44 537.85 95.99",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"584.58 111.44 584.58 98.62 592.67 95.99 584.58 111.44",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"583.56 111.44 583.56 98.62 575.47 95.99 583.56 111.44",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"8.35 63.7 8.35 50.88 0.25 48.25 8.35 63.7",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"9.36 63.7 9.36 50.88 17.46 48.25 9.36 63.7",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"24.94 48.25 24.94 61.07 33.04 63.7 24.94 48.25",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"23.93 48.25 23.93 61.07 15.83 63.7 23.93 48.25",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"39.5 63.7 39.5 50.88 31.4 48.25 39.5 63.7",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"40.52 63.7 40.52 50.88 48.61 48.25 40.52 63.7",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"70.66 63.7 70.66 50.88 62.56 48.25 70.66 63.7",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"71.67 63.7 71.67 50.88 79.77 48.25 71.67 63.7",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"87.24 48.25 87.24 61.07 95.34 63.7 87.24 48.25",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"86.23 48.25 86.23 61.07 78.13 63.7 86.23 48.25",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"101.81 63.7 101.81 50.88 93.71 48.25 101.81 63.7",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"102.82 63.7 102.82 50.88 110.92 48.25 102.82 63.7",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"118.39 48.25 118.39 61.07 126.49 63.7 118.39 48.25",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"117.38 48.25 117.38 61.07 109.28 63.7 117.38 48.25",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"132.96 63.7 132.96 50.88 124.86 48.25 132.96 63.7",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"133.97 63.7 133.97 50.88 142.07 48.25 133.97 63.7",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"149.54 48.25 149.54 61.07 157.64 63.7 149.54 48.25",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"148.53 48.25 148.53 61.07 140.43 63.7 148.53 48.25",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"164.11 63.7 164.11 50.88 156.01 48.25 164.11 63.7",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"165.12 63.7 165.12 50.88 173.22 48.25 165.12 63.7",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"211.85 48.25 211.85 61.07 219.95 63.7 211.85 48.25",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"210.84 48.25 210.84 61.07 202.74 63.7 210.84 48.25",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"226.41 63.7 226.41 50.88 218.31 48.25 226.41 63.7",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"227.42 63.7 227.42 50.88 235.52 48.25 227.42 63.7",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"243 48.25 243 61.07 251.1 63.7 243 48.25",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"241.99 48.25 241.99 61.07 233.89 63.7 241.99 48.25",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"257.56 63.7 257.56 50.88 249.46 48.25 257.56 63.7",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"258.57 63.7 258.57 50.88 266.67 48.25 258.57 63.7",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"351.02 63.7 351.02 50.88 342.92 48.25 351.02 63.7",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"352.03 63.7 352.03 50.88 360.13 48.25 352.03 63.7",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"444.47 63.7 444.47 50.88 436.37 48.25 444.47 63.7",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"445.48 63.7 445.48 50.88 453.58 48.25 445.48 63.7",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"461.06 48.25 461.06 61.07 469.16 63.7 461.06 48.25",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"460.05 48.25 460.05 61.07 451.95 63.7 460.05 48.25",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"475.62 63.7 475.62 50.88 467.52 48.25 475.62 63.7",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"476.63 63.7 476.63 50.88 484.73 48.25 476.63 63.7",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"492.21 48.25 492.21 61.07 500.31 63.7 492.21 48.25",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"491.2 48.25 491.2 61.07 483.1 63.7 491.2 48.25",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"505.69 63.7 505.69 50.88 497.59 48.25 505.69 63.7",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"506.7 63.7 506.7 50.88 514.8 48.25 506.7 63.7",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"522.27 48.25 522.27 61.07 530.37 63.7 522.27 48.25",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"521.26 48.25 521.26 61.07 513.16 63.7 521.26 48.25",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"536.84 63.7 536.84 50.88 528.74 48.25 536.84 63.7",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"537.85 63.7 537.85 50.88 545.95 48.25 537.85 63.7",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"553.42 48.25 553.42 61.07 561.52 63.7 553.42 48.25",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"552.41 48.25 552.41 61.07 544.31 63.7 552.41 48.25",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"567.99 63.7 567.99 50.88 559.89 48.25 567.99 63.7",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"569 63.7 569 50.88 577.1 48.25 569 63.7",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"584.58 48.25 584.58 61.07 592.67 63.7 584.58 48.25",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"583.56 48.25 583.56 61.07 575.47 63.7 583.56 48.25",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"87.24 143.27 87.24 130.45 95.34 127.82 87.24 143.27",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"86.23 143.27 86.23 130.45 78.13 127.82 86.23 143.27",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"101.81 127.82 101.81 140.64 93.71 143.27 101.81 127.82",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"102.82 127.82 102.82 140.64 110.92 143.27 102.82 127.82",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"118.39 143.27 118.39 130.45 126.49 127.82 118.39 143.27",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"117.38 143.27 117.38 130.45 109.28 127.82 117.38 143.27",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"132.96 127.82 132.96 140.64 124.86 143.27 132.96 127.82",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"133.97 127.82 133.97 140.64 142.07 143.27 133.97 127.82",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"149.54 143.27 149.54 130.45 157.64 127.82 149.54 143.27",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"148.53 143.27 148.53 130.45 140.43 127.82 148.53 143.27",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"164.11 127.82 164.11 140.64 156.01 143.27 164.11 127.82",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"165.12 127.82 165.12 140.64 173.22 143.27 165.12 127.82",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"288.71 127.82 288.71 140.64 280.62 143.27 288.71 127.82",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"289.73 127.82 289.73 140.64 297.82 143.27 289.73 127.82",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"305.3 143.27 305.3 130.45 313.4 127.82 305.3 143.27",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"304.29 143.27 304.29 130.45 296.19 127.82 304.29 143.27",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"319.87 127.82 319.87 140.64 311.77 143.27 319.87 127.82",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"320.88 127.82 320.88 140.64 328.98 143.27 320.88 127.82",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"336.45 143.27 336.45 130.45 344.55 127.82 336.45 143.27",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"335.44 143.27 335.44 130.45 327.34 127.82 335.44 143.27",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"382.17 127.82 382.17 140.64 374.07 143.27 382.17 127.82",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"383.18 127.82 383.18 140.64 391.28 143.27 383.18 127.82",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"398.75 143.27 398.75 130.45 406.85 127.82 398.75 143.27",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"397.74 143.27 397.74 130.45 389.64 127.82 397.74 143.27",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"413.32 127.82 413.32 140.64 405.22 143.27 413.32 127.82",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"414.33 127.82 414.33 140.64 422.43 143.27 414.33 127.82",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"429.91 143.27 429.91 130.45 438.01 127.82 429.91 143.27",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"428.89 143.27 428.89 130.45 420.8 127.82 428.89 143.27",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"444.47 127.82 444.47 140.64 436.37 143.27 444.47 127.82",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"445.48 127.82 445.48 140.64 453.58 143.27 445.48 127.82",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"461.06 143.27 461.06 130.45 469.16 127.82 461.06 143.27",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"460.05 143.27 460.05 130.45 451.95 127.82 460.05 143.27",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"475.62 127.82 475.62 140.64 467.52 143.27 475.62 127.82",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"476.63 127.82 476.63 140.64 484.73 143.27 476.63 127.82",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"492.21 143.27 492.21 130.45 500.31 127.82 492.21 143.27",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"491.2 143.27 491.2 130.45 483.1 127.82 491.2 143.27",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"505.69 127.82 505.69 140.64 497.59 143.27 505.69 127.82",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"506.7 127.82 506.7 140.64 514.8 143.27 506.7 127.82",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"522.27 143.27 522.27 130.45 530.37 127.82 522.27 143.27",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"521.26 143.27 521.26 130.45 513.16 127.82 521.26 143.27",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"536.84 127.82 536.84 140.64 528.74 143.27 536.84 127.82",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"537.85 127.82 537.85 140.64 545.95 143.27 537.85 127.82",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"553.42 143.27 553.42 130.45 561.52 127.82 553.42 143.27",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"552.41 143.27 552.41 130.45 544.31 127.82 552.41 143.27",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"87.24 143.73 87.24 156.56 95.34 159.19 87.24 143.73",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"86.23 143.73 86.23 156.56 78.13 159.19 86.23 143.73",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"101.81 159.19 101.81 146.36 93.71 143.73 101.81 159.19",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"102.82 159.19 102.82 146.36 110.92 143.73 102.82 159.19",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"118.39 143.73 118.39 156.56 126.49 159.19 118.39 143.73",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"117.38 143.73 117.38 156.56 109.28 159.19 117.38 143.73",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"132.96 159.19 132.96 146.36 124.86 143.73 132.96 159.19",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"133.97 159.19 133.97 146.36 142.07 143.73 133.97 159.19",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"149.54 143.73 149.54 156.56 157.64 159.19 149.54 143.73",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"148.53 143.73 148.53 156.56 140.43 159.19 148.53 143.73",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"288.71 159.19 288.71 146.36 280.62 143.73 288.71 159.19",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"289.73 159.19 289.73 146.36 297.82 143.73 289.73 159.19",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"351.02 159.19 351.02 146.36 342.92 143.73 351.02 159.19",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"352.03 159.19 352.03 146.36 360.13 143.73 352.03 159.19",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"367.6 143.73 367.6 156.56 375.7 159.19 367.6 143.73",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"366.59 143.73 366.59 156.56 358.49 159.19 366.59 143.73",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"382.17 159.19 382.17 146.36 374.07 143.73 382.17 159.19",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"383.18 159.19 383.18 146.36 391.28 143.73 383.18 159.19",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"398.75 143.73 398.75 156.56 406.85 159.19 398.75 143.73",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"397.74 143.73 397.74 156.56 389.64 159.19 397.74 143.73",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"413.32 159.19 413.32 146.36 405.22 143.73 413.32 159.19",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"414.33 159.19 414.33 146.36 422.43 143.73 414.33 159.19",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"429.91 143.73 429.91 156.56 438.01 159.19 429.91 143.73",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"428.89 143.73 428.89 156.56 420.8 159.19 428.89 143.73",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"444.47 159.19 444.47 146.36 436.37 143.73 444.47 159.19",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"445.48 159.19 445.48 146.36 453.58 143.73 445.48 159.19",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"461.06 143.73 461.06 156.56 469.16 159.19 461.06 143.73",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"460.05 143.73 460.05 156.56 451.95 159.19 460.05 143.73",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"475.62 159.19 475.62 146.36 467.52 143.73 475.62 159.19",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"476.63 159.19 476.63 146.36 484.73 143.73 476.63 159.19",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"492.21 143.73 492.21 156.56 500.31 159.19 492.21 143.73",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"491.2 143.73 491.2 156.56 483.1 159.19 491.2 143.73",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"505.69 159.19 505.69 146.36 497.59 143.73 505.69 159.19",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"506.7 159.19 506.7 146.36 514.8 143.73 506.7 159.19",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"163.84 0.51 163.84 13.33 155.74 15.96 163.84 0.51",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"164.85 0.51 164.85 13.33 172.95 15.96 164.85 0.51",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"180.4 15.96 180.4 3.14 188.5 0.51 180.4 15.96",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"179.38 15.96 179.38 3.14 171.29 0.51 179.38 15.96",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"226.03 0.51 226.03 13.33 217.93 15.96 226.03 0.51",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"227.04 0.51 227.04 13.33 235.14 15.96 227.04 0.51",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"242.59 15.96 242.59 3.14 250.69 0.51 242.59 15.96",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"241.58 15.96 241.58 3.14 233.48 0.51 241.58 15.96",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"257.13 0.51 257.13 13.33 249.03 15.96 257.13 0.51",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"258.14 0.51 258.14 13.33 266.24 15.96 258.14 0.51",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"132.96 31.87 132.96 19.05 124.86 16.42 132.96 31.87",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"133.97 31.87 133.97 19.05 142.07 16.42 133.97 31.87",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"149.54 16.42 149.54 29.24 157.64 31.87 149.54 16.42",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"148.53 16.42 148.53 29.24 140.43 31.87 148.53 16.42",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"164.11 31.87 164.11 19.05 156.01 16.42 164.11 31.87",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"165.12 31.87 165.12 19.05 173.22 16.42 165.12 31.87",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"180.7 16.42 180.7 29.24 188.79 31.87 180.7 16.42",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"179.68 16.42 179.68 29.24 171.59 31.87 179.68 16.42",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"195.26 31.87 195.26 19.05 187.16 16.42 195.26 31.87",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"196.27 31.87 196.27 19.05 204.37 16.42 196.27 31.87",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"211.85 16.42 211.85 29.24 219.95 31.87 211.85 16.42",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"210.84 16.42 210.84 29.24 202.74 31.87 210.84 16.42",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"226.41 31.87 226.41 19.05 218.31 16.42 226.41 31.87",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"227.42 31.87 227.42 19.05 235.52 16.42 227.42 31.87",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"243 16.42 243 29.24 251.1 31.87 243 16.42",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"241.99 16.42 241.99 29.24 233.89 31.87 241.99 16.42",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"257.56 31.87 257.56 19.05 249.46 16.42 257.56 31.87",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"258.57 31.87 258.57 19.05 266.67 16.42 258.57 31.87",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"475.62 31.87 475.62 19.05 467.52 16.42 475.62 31.87",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"476.63 31.87 476.63 19.05 484.73 16.42 476.63 31.87",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"132.96 32.34 132.96 45.16 124.86 47.79 132.96 32.34",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"133.97 32.34 133.97 45.16 142.07 47.79 133.97 32.34",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"149.54 47.79 149.54 34.97 157.64 32.34 149.54 47.79",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"148.53 47.79 148.53 34.97 140.43 32.34 148.53 47.79",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"211.85 47.79 211.85 34.97 219.95 32.34 211.85 47.79",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"210.84 47.79 210.84 34.97 202.74 32.34 210.84 47.79",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"226.41 32.34 226.41 45.16 218.31 47.79 226.41 32.34",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"227.42 32.34 227.42 45.16 235.52 47.79 227.42 32.34",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"243 47.79 243 34.97 251.1 32.34 243 47.79",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"241.99 47.79 241.99 34.97 233.89 32.34 241.99 47.79",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"257.56 32.34 257.56 45.16 249.46 47.79 257.56 32.34",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"258.57 32.34 258.57 45.16 266.67 47.79 258.57 32.34",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"398.75 47.79 398.75 34.97 406.85 32.34 398.75 47.79",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"397.74 47.79 397.74 34.97 389.64 32.34 397.74 47.79",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"461.06 47.79 461.06 34.97 469.16 32.34 461.06 47.79",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"460.05 47.79 460.05 34.97 451.95 32.34 460.05 47.79",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"475.62 32.34 475.62 45.16 467.52 47.79 475.62 32.34",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"476.63 32.34 476.63 45.16 484.73 47.79 476.63 32.34",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"492.21 47.79 492.21 34.97 500.31 32.34 492.21 47.79",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"491.2 47.79 491.2 34.97 483.1 32.34 491.2 47.79",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"87.24 111.91 87.24 124.73 95.34 127.36 87.24 111.91",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"86.23 111.91 86.23 124.73 78.13 127.36 86.23 111.91",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"101.81 127.36 101.81 114.54 93.71 111.91 101.81 127.36",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"102.82 127.36 102.82 114.54 110.92 111.91 102.82 127.36",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"118.39 111.91 118.39 124.73 126.49 127.36 118.39 111.91",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"117.38 111.91 117.38 124.73 109.28 127.36 117.38 111.91",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"132.96 127.36 132.96 114.54 124.86 111.91 132.96 127.36",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"133.97 127.36 133.97 114.54 142.07 111.91 133.97 127.36",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"149.54 111.91 149.54 124.73 157.64 127.36 149.54 111.91",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"148.53 111.91 148.53 124.73 140.43 127.36 148.53 111.91",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"164.11 127.36 164.11 114.54 156.01 111.91 164.11 127.36",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"165.12 127.36 165.12 114.54 173.22 111.91 165.12 127.36",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"180.7 111.91 180.7 124.73 188.79 127.36 180.7 111.91",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"179.68 111.91 179.68 124.73 171.59 127.36 179.68 111.91",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"195.26 127.36 195.26 114.54 187.16 111.91 195.26 127.36",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"196.27 127.36 196.27 114.54 204.37 111.91 196.27 127.36",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"288.71 127.36 288.71 114.54 280.62 111.91 288.71 127.36",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"289.73 127.36 289.73 114.54 297.82 111.91 289.73 127.36",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"305.3 111.91 305.3 124.73 313.4 127.36 305.3 111.91",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"304.29 111.91 304.29 124.73 296.19 127.36 304.29 111.91",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"319.87 127.36 319.87 114.54 311.77 111.91 319.87 127.36",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"320.88 127.36 320.88 114.54 328.98 111.91 320.88 127.36",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"336.45 111.91 336.45 124.73 344.55 127.36 336.45 111.91",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"335.44 111.91 335.44 124.73 327.34 127.36 335.44 111.91",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"351.02 127.36 351.02 114.54 342.92 111.91 351.02 127.36",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"352.03 127.36 352.03 114.54 360.13 111.91 352.03 127.36",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"367.6 111.91 367.6 124.73 375.7 127.36 367.6 111.91",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"366.59 111.91 366.59 124.73 358.49 127.36 366.59 111.91",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"382.17 127.36 382.17 114.54 374.07 111.91 382.17 127.36",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"383.18 127.36 383.18 114.54 391.28 111.91 383.18 127.36",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"398.75 111.91 398.75 124.73 406.85 127.36 398.75 111.91",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"397.74 111.91 397.74 124.73 389.64 127.36 397.74 111.91",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"413.32 127.36 413.32 114.54 405.22 111.91 413.32 127.36",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"414.33 127.36 414.33 114.54 422.43 111.91 414.33 127.36",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"429.91 111.91 429.91 124.73 438.01 127.36 429.91 111.91",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"428.89 111.91 428.89 124.73 420.8 127.36 428.89 111.91",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"444.47 127.36 444.47 114.54 436.37 111.91 444.47 127.36",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"445.48 127.36 445.48 114.54 453.58 111.91 445.48 127.36",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"461.06 111.91 461.06 124.73 469.16 127.36 461.06 111.91",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"460.05 111.91 460.05 124.73 451.95 127.36 460.05 111.91",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"475.62 127.36 475.62 114.54 467.52 111.91 475.62 127.36",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"476.63 127.36 476.63 114.54 484.73 111.91 476.63 127.36",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"492.21 111.91 492.21 124.73 500.31 127.36 492.21 111.91",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"491.2 111.91 491.2 124.73 483.1 127.36 491.2 111.91",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"505.69 127.36 505.69 114.54 497.59 111.91 505.69 127.36",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"506.7 127.36 506.7 114.54 514.8 111.91 506.7 127.36",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"522.27 111.91 522.27 124.73 530.37 127.36 522.27 111.91",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"521.26 111.91 521.26 124.73 513.16 127.36 521.26 111.91",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"536.84 127.36 536.84 114.54 528.74 111.91 536.84 127.36",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"537.85 127.36 537.85 114.54 545.95 111.91 537.85 127.36",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"8.35 64.16 8.35 76.98 0.25 79.61 8.35 64.16",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"9.36 64.16 9.36 76.98 17.46 79.61 9.36 64.16",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"24.94 79.61 24.94 66.79 33.04 64.16 24.94 79.61",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"23.93 79.61 23.93 66.79 15.83 64.16 23.93 79.61",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"39.5 64.16 39.5 76.98 31.4 79.61 39.5 64.16",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"40.52 64.16 40.52 76.98 48.61 79.61 40.52 64.16",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"56.09 79.61 56.09 66.79 64.19 64.16 56.09 79.61",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"55.08 79.61 55.08 66.79 46.98 64.16 55.08 79.61",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"70.66 64.16 70.66 76.98 62.56 79.61 70.66 64.16",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"71.67 64.16 71.67 76.98 79.77 79.61 71.67 64.16",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"87.24 79.61 87.24 66.79 95.34 64.16 87.24 79.61",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"86.23 79.61 86.23 66.79 78.13 64.16 86.23 79.61",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"101.81 64.16 101.81 76.98 93.71 79.61 101.81 64.16",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"102.82 64.16 102.82 76.98 110.92 79.61 102.82 64.16",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"118.39 79.61 118.39 66.79 126.49 64.16 118.39 79.61",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"117.38 79.61 117.38 66.79 109.28 64.16 117.38 79.61",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"132.96 64.16 132.96 76.98 124.86 79.61 132.96 64.16",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"133.97 64.16 133.97 76.98 142.07 79.61 133.97 64.16",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"211.85 79.61 211.85 66.79 219.95 64.16 211.85 79.61",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"210.84 79.61 210.84 66.79 202.74 64.16 210.84 79.61",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"226.41 64.16 226.41 76.98 218.31 79.61 226.41 64.16",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"227.42 64.16 227.42 76.98 235.52 79.61 227.42 64.16",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"243 79.61 243 66.79 251.1 64.16 243 79.61",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"241.99 79.61 241.99 66.79 233.89 64.16 241.99 79.61",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"274.15 79.61 274.15 66.79 282.25 64.16 274.15 79.61",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"273.14 79.61 273.14 66.79 265.04 64.16 273.14 79.61",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"319.87 64.16 319.87 76.98 311.77 79.61 319.87 64.16",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"320.88 64.16 320.88 76.98 328.98 79.61 320.88 64.16",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"336.45 79.61 336.45 66.79 344.55 64.16 336.45 79.61",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"335.44 79.61 335.44 66.79 327.34 64.16 335.44 79.61",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"351.02 64.16 351.02 76.98 342.92 79.61 351.02 64.16",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"352.03 64.16 352.03 76.98 360.13 79.61 352.03 64.16",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"367.6 79.61 367.6 66.79 375.7 64.16 367.6 79.61",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"366.59 79.61 366.59 66.79 358.49 64.16 366.59 79.61",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"382.17 64.16 382.17 76.98 374.07 79.61 382.17 64.16",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"383.18 64.16 383.18 76.98 391.28 79.61 383.18 64.16",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"398.75 79.61 398.75 66.79 406.85 64.16 398.75 79.61",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"397.74 79.61 397.74 66.79 389.64 64.16 397.74 79.61",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"413.32 64.16 413.32 76.98 405.22 79.61 413.32 64.16",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"414.33 64.16 414.33 76.98 422.43 79.61 414.33 64.16",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"429.91 79.61 429.91 66.79 438.01 64.16 429.91 79.61",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"428.89 79.61 428.89 66.79 420.8 64.16 428.89 79.61",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"444.47 64.16 444.47 76.98 436.37 79.61 444.47 64.16",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"445.48 64.16 445.48 76.98 453.58 79.61 445.48 64.16",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"461.06 79.61 461.06 66.79 469.16 64.16 461.06 79.61",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"460.05 79.61 460.05 66.79 451.95 64.16 460.05 79.61",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"475.62 64.16 475.62 76.98 467.52 79.61 475.62 64.16",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"476.63 64.16 476.63 76.98 484.73 79.61 476.63 64.16",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"492.21 79.61 492.21 66.79 500.31 64.16 492.21 79.61",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"491.2 79.61 491.2 66.79 483.1 64.16 491.2 79.61",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"505.69 64.16 505.69 76.98 497.59 79.61 505.69 64.16",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"506.7 64.16 506.7 76.98 514.8 79.61 506.7 64.16",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"522.27 79.61 522.27 66.79 530.37 64.16 522.27 79.61",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"521.26 79.61 521.26 66.79 513.16 64.16 521.26 79.61",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"536.84 64.16 536.84 76.98 528.74 79.61 536.84 64.16",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"537.85 64.16 537.85 76.98 545.95 79.61 537.85 64.16",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"553.42 79.61 553.42 66.79 561.52 64.16 553.42 79.61",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"552.41 79.61 552.41 66.79 544.31 64.16 552.41 79.61",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"567.99 64.16 567.99 76.98 559.89 79.61 567.99 64.16",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"569 64.16 569 76.98 577.1 79.61 569 64.16",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"584.58 79.61 584.58 66.79 592.67 64.16 584.58 79.61",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"583.56 79.61 583.56 66.79 575.47 64.16 583.56 79.61",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"599.14 64.16 599.14 76.98 591.04 79.61 599.14 64.16",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"600.15 64.16 600.15 76.98 608.25 79.61 600.15 64.16",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"615.73 79.61 615.73 66.79 623.83 64.16 615.73 79.61",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"614.72 79.61 614.72 66.79 606.62 64.16 614.72 79.61",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"630.29 64.16 630.29 76.98 622.19 79.61 630.29 64.16",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"631.3 64.16 631.3 76.98 639.4 79.61 631.3 64.16",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"8.35 95.53 8.35 82.71 0.25 80.08 8.35 95.53",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"9.36 95.53 9.36 82.71 17.46 80.08 9.36 95.53",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"24.94 80.08 24.94 92.9 33.04 95.53 24.94 80.08",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"23.93 80.08 23.93 92.9 15.83 95.53 23.93 80.08",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"39.5 95.53 39.5 82.71 31.4 80.08 39.5 95.53",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"40.52 95.53 40.52 82.71 48.61 80.08 40.52 95.53",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"56.09 80.08 56.09 92.9 64.19 95.53 56.09 80.08",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"55.08 80.08 55.08 92.9 46.98 95.53 55.08 80.08",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"70.66 95.53 70.66 82.71 62.56 80.08 70.66 95.53",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"71.67 95.53 71.67 82.71 79.77 80.08 71.67 95.53",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"87.24 80.08 87.24 92.9 95.34 95.53 87.24 80.08",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"86.23 80.08 86.23 92.9 78.13 95.53 86.23 80.08",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"101.81 95.53 101.81 82.71 93.71 80.08 101.81 95.53",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"102.82 95.53 102.82 82.71 110.92 80.08 102.82 95.53",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"118.39 80.08 118.39 92.9 126.49 95.53 118.39 80.08",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"117.38 80.08 117.38 92.9 109.28 95.53 117.38 80.08",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"164.11 95.53 164.11 82.71 156.01 80.08 164.11 95.53",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"165.12 95.53 165.12 82.71 173.22 80.08 165.12 95.53",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"274.15 80.08 274.15 92.9 282.25 95.53 274.15 80.08",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"273.14 80.08 273.14 92.9 265.04 95.53 273.14 80.08",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"288.71 95.53 288.71 82.71 280.62 80.08 288.71 95.53",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"289.73 95.53 289.73 82.71 297.82 80.08 289.73 95.53",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"319.87 95.53 319.87 82.71 311.77 80.08 319.87 95.53",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"320.88 95.53 320.88 82.71 328.98 80.08 320.88 95.53",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"336.45 80.08 336.45 92.9 344.55 95.53 336.45 80.08",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"335.44 80.08 335.44 92.9 327.34 95.53 335.44 80.08",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"351.02 95.53 351.02 82.71 342.92 80.08 351.02 95.53",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"352.03 95.53 352.03 82.71 360.13 80.08 352.03 95.53",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"367.6 80.08 367.6 92.9 375.7 95.53 367.6 80.08",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"366.59 80.08 366.59 92.9 358.49 95.53 366.59 80.08",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"382.17 95.53 382.17 82.71 374.07 80.08 382.17 95.53",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"383.18 95.53 383.18 82.71 391.28 80.08 383.18 95.53",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"398.75 80.08 398.75 92.9 406.85 95.53 398.75 80.08",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"397.74 80.08 397.74 92.9 389.64 95.53 397.74 80.08",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"413.32 95.53 413.32 82.71 405.22 80.08 413.32 95.53",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"414.33 95.53 414.33 82.71 422.43 80.08 414.33 95.53",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"429.91 80.08 429.91 92.9 438.01 95.53 429.91 80.08",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"428.89 80.08 428.89 92.9 420.8 95.53 428.89 80.08",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"444.47 95.53 444.47 82.71 436.37 80.08 444.47 95.53",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"445.48 95.53 445.48 82.71 453.58 80.08 445.48 95.53",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"461.06 80.08 461.06 92.9 469.16 95.53 461.06 80.08",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"460.05 80.08 460.05 92.9 451.95 95.53 460.05 80.08",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"475.62 95.53 475.62 82.71 467.52 80.08 475.62 95.53",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"476.63 95.53 476.63 82.71 484.73 80.08 476.63 95.53",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"492.21 80.08 492.21 92.9 500.31 95.53 492.21 80.08",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"491.2 80.08 491.2 92.9 483.1 95.53 491.2 80.08",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"505.69 95.53 505.69 82.71 497.59 80.08 505.69 95.53",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"506.7 95.53 506.7 82.71 514.8 80.08 506.7 95.53",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"522.27 80.08 522.27 92.9 530.37 95.53 522.27 80.08",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"521.26 80.08 521.26 92.9 513.16 95.53 521.26 80.08",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"536.84 95.53 536.84 82.71 528.74 80.08 536.84 95.53",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"537.85 95.53 537.85 82.71 545.95 80.08 537.85 95.53",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"553.42 80.08 553.42 92.9 561.52 95.53 553.42 80.08",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"552.41 80.08 552.41 92.9 544.31 95.53 552.41 80.08",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"567.99 95.53 567.99 82.71 559.89 80.08 567.99 95.53",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"569 95.53 569 82.71 577.1 80.08 569 95.53",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"599.14 95.53 599.14 82.71 591.04 80.08 599.14 95.53",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"600.15 95.53 600.15 82.71 608.25 80.08 600.15 95.53",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"164.11 255.13 164.11 267.95 156.01 270.58 164.11 255.13",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"165.12 255.13 165.12 267.95 173.22 270.58 165.12 255.13",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"180.7 270.58 180.7 257.76 188.79 255.13 180.7 270.58",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"179.68 270.58 179.68 257.76 171.59 255.13 179.68 270.58",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"195.26 255.13 195.26 267.95 187.16 270.58 195.26 255.13",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"196.27 255.13 196.27 267.95 204.37 270.58 196.27 255.13",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"211.85 270.58 211.85 257.76 219.95 255.13 211.85 270.58",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"210.84 270.58 210.84 257.76 202.74 255.13 210.84 270.58",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"226.41 255.13 226.41 267.95 218.31 270.58 226.41 255.13",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"227.42 255.13 227.42 267.95 235.52 270.58 227.42 255.13",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"319.87 255.13 319.87 267.95 311.77 270.58 319.87 255.13",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"320.88 255.13 320.88 267.95 328.98 270.58 320.88 255.13",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"336.45 270.58 336.45 257.76 344.55 255.13 336.45 270.58",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"335.44 270.58 335.44 257.76 327.34 255.13 335.44 270.58",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"351.02 255.13 351.02 267.95 342.92 270.58 351.02 255.13",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"352.03 255.13 352.03 267.95 360.13 270.58 352.03 255.13",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"367.6 270.58 367.6 257.76 375.7 255.13 367.6 270.58",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"366.59 270.58 366.59 257.76 358.49 255.13 366.59 270.58",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"536.84 255.13 536.84 267.95 528.74 270.58 536.84 255.13",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"537.85 255.13 537.85 267.95 545.95 270.58 537.85 255.13",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"553.42 270.58 553.42 257.76 561.52 255.13 553.42 270.58",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"552.41 270.58 552.41 257.76 544.31 255.13 552.41 270.58",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"149.54 207.39 149.54 220.21 157.64 222.84 149.54 207.39",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"148.53 207.39 148.53 220.21 140.43 222.84 148.53 207.39",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"164.11 222.84 164.11 210.02 156.01 207.39 164.11 222.84",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"165.12 222.84 165.12 210.02 173.22 207.39 165.12 222.84",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"180.7 207.39 180.7 220.21 188.79 222.84 180.7 207.39",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"179.68 207.39 179.68 220.21 171.59 222.84 179.68 207.39",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"195.26 222.84 195.26 210.02 187.16 207.39 195.26 222.84",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"196.27 222.84 196.27 210.02 204.37 207.39 196.27 222.84",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"274.15 207.39 274.15 220.21 282.25 222.84 274.15 207.39",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"273.14 207.39 273.14 220.21 265.04 222.84 273.14 207.39",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"288.71 222.84 288.71 210.02 280.62 207.39 288.71 222.84",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"289.73 222.84 289.73 210.02 297.82 207.39 289.73 222.84",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"305.3 207.39 305.3 220.21 313.4 222.84 305.3 207.39",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"304.29 207.39 304.29 220.21 296.19 222.84 304.29 207.39",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"319.87 222.84 319.87 210.02 311.77 207.39 319.87 222.84",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"320.88 222.84 320.88 210.02 328.98 207.39 320.88 222.84",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"336.45 207.39 336.45 220.21 344.55 222.84 336.45 207.39",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"335.44 207.39 335.44 220.21 327.34 222.84 335.44 207.39",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"351.02 222.84 351.02 210.02 342.92 207.39 351.02 222.84",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"352.03 222.84 352.03 210.02 360.13 207.39 352.03 222.84",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"367.6 207.39 367.6 220.21 375.7 222.84 367.6 207.39",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"366.59 207.39 366.59 220.21 358.49 222.84 366.59 207.39",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"382.17 222.84 382.17 210.02 374.07 207.39 382.17 222.84",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"383.18 222.84 383.18 210.02 391.28 207.39 383.18 222.84",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"475.62 222.84 475.62 210.02 467.52 207.39 475.62 222.84",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"476.63 222.84 476.63 210.02 484.73 207.39 476.63 222.84",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"180.7 302.41 180.7 289.59 188.79 286.96 180.7 302.41",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"179.68 302.41 179.68 289.59 171.59 286.96 179.68 302.41",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"195.26 286.96 195.26 299.78 187.16 302.41 195.26 286.96",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"196.27 286.96 196.27 299.78 204.37 302.41 196.27 286.96",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"319.87 286.96 319.87 299.78 311.77 302.41 319.87 286.96",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"320.88 286.96 320.88 299.78 328.98 302.41 320.88 286.96",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"336.45 302.41 336.45 289.59 344.55 286.96 336.45 302.41",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"335.44 302.41 335.44 289.59 327.34 286.96 335.44 302.41",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"351.02 286.96 351.02 299.78 342.92 302.41 351.02 286.96",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"352.03 286.96 352.03 299.78 360.13 302.41 352.03 286.96",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"505.69 286.96 505.69 299.78 497.59 302.41 505.69 286.96",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"506.7 286.96 506.7 299.78 514.8 302.41 506.7 286.96",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"522.27 302.41 522.27 289.59 530.37 286.96 522.27 302.41",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"521.26 302.41 521.26 289.59 513.16 286.96 521.26 302.41",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"536.84 286.96 536.84 299.78 528.74 302.41 536.84 286.96",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"537.85 286.96 537.85 299.78 545.95 302.41 537.85 286.96",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"553.42 302.41 553.42 289.59 561.52 286.96 553.42 302.41",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"552.41 302.41 552.41 289.59 544.31 286.96 552.41 302.41",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"567.99 286.96 567.99 299.78 559.89 302.41 567.99 286.96",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"569 286.96 569 299.78 577.1 302.41 569 286.96",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"180.7 302.87 180.7 315.69 188.79 318.32 180.7 302.87",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"179.68 302.87 179.68 315.69 171.59 318.32 179.68 302.87",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"195.26 318.32 195.26 305.5 187.16 302.87 195.26 318.32",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"196.27 318.32 196.27 305.5 204.37 302.87 196.27 318.32",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"336.45 302.87 336.45 315.69 344.55 318.32 336.45 302.87",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"335.44 302.87 335.44 315.69 327.34 318.32 335.44 302.87",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"505.69 318.32 505.69 305.5 497.59 302.87 505.69 318.32",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"506.7 318.32 506.7 305.5 514.8 302.87 506.7 318.32",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"522.27 302.87 522.27 315.69 530.37 318.32 522.27 302.87",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"521.26 302.87 521.26 315.69 513.16 318.32 521.26 302.87",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"536.84 318.32 536.84 305.5 528.74 302.87 536.84 318.32",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"537.85 318.32 537.85 305.5 545.95 302.87 537.85 318.32",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"553.42 302.87 553.42 315.69 561.52 318.32 553.42 302.87",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"552.41 302.87 552.41 315.69 544.31 318.32 552.41 302.87",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"567.99 318.32 567.99 305.5 559.89 302.87 567.99 318.32",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"569 318.32 569 305.5 577.1 302.87 569 318.32",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"615.73 302.87 615.73 315.69 623.83 318.32 615.73 302.87",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"614.72 302.87 614.72 315.69 606.62 318.32 614.72 302.87",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"101.64 159.65 101.64 172.47 93.54 175.1 101.64 159.65",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"102.65 159.65 102.65 172.47 110.75 175.1 102.65 159.65",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"118.2 175.1 118.2 162.28 126.3 159.65 118.2 175.1",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"117.19 175.1 117.19 162.28 109.09 159.65 117.19 175.1",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"132.74 159.65 132.74 172.47 124.64 175.1 132.74 159.65",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"133.75 159.65 133.75 172.47 141.85 175.1 133.75 159.65",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"149.3 175.1 149.3 162.28 157.4 159.65 149.3 175.1",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"148.29 175.1 148.29 162.28 140.19 159.65 148.29 175.1",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"273.69 175.1 273.69 162.28 281.79 159.65 273.69 175.1",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"272.68 175.1 272.68 162.28 264.58 159.65 272.68 175.1",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"288.23 159.65 288.23 172.47 280.13 175.1 288.23 159.65",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"289.24 159.65 289.24 172.47 297.33 175.1 289.24 159.65",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"304.78 175.1 304.78 162.28 312.88 159.65 304.78 175.1",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"303.77 175.1 303.77 162.28 295.67 159.65 303.77 175.1",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"319.32 159.65 319.32 172.47 311.22 175.1 319.32 159.65",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"320.33 159.65 320.33 172.47 328.43 175.1 320.33 159.65",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"335.88 175.1 335.88 162.28 343.98 159.65 335.88 175.1",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"334.87 175.1 334.87 162.28 326.77 159.65 334.87 175.1",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"350.42 159.65 350.42 172.47 342.32 175.1 350.42 159.65",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"351.43 159.65 351.43 172.47 359.53 175.1 351.43 159.65",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"366.98 175.1 366.98 162.28 375.08 159.65 366.98 175.1",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"365.97 175.1 365.97 162.28 357.87 159.65 365.97 175.1",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"381.52 159.65 381.52 172.47 373.42 175.1 381.52 159.65",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"382.53 159.65 382.53 172.47 390.63 175.1 382.53 159.65",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"398.07 175.1 398.07 162.28 406.17 159.65 398.07 175.1",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"397.06 175.1 397.06 162.28 388.96 159.65 397.06 175.1",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"412.61 159.65 412.61 172.47 404.51 175.1 412.61 159.65",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"413.62 159.65 413.62 172.47 421.72 175.1 413.62 159.65",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"429.17 175.1 429.17 162.28 437.27 159.65 429.17 175.1",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"428.16 175.1 428.16 162.28 420.06 159.65 428.16 175.1",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"443.71 159.65 443.71 172.47 435.61 175.1 443.71 159.65",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"444.72 159.65 444.72 172.47 452.82 175.1 444.72 159.65",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"460.27 175.1 460.27 162.28 468.37 159.65 460.27 175.1",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"459.26 175.1 459.26 162.28 451.16 159.65 459.26 175.1",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"474.81 159.65 474.81 172.47 466.71 175.1 474.81 159.65",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"475.82 159.65 475.82 172.47 483.92 175.1 475.82 159.65",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"491.37 175.1 491.37 162.28 499.46 159.65 491.37 175.1",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"490.36 175.1 490.36 162.28 482.26 159.65 490.36 175.1",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"505.9 159.65 505.9 172.47 497.8 175.1 505.9 159.65",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"506.92 159.65 506.92 172.47 515.01 175.1 506.92 159.65",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"101.81 191.01 101.81 178.19 93.71 175.56 101.81 191.01",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"102.82 191.01 102.82 178.19 110.92 175.56 102.82 191.01",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"118.39 175.56 118.39 188.38 126.49 191.01 118.39 175.56",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"117.38 175.56 117.38 188.38 109.28 191.01 117.38 175.56",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"274.15 175.56 274.15 188.38 282.25 191.01 274.15 175.56",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"273.14 175.56 273.14 188.38 265.04 191.01 273.14 175.56",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"288.71 191.01 288.71 178.19 280.62 175.56 288.71 191.01",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"289.73 191.01 289.73 178.19 297.82 175.56 289.73 191.01",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"305.3 175.56 305.3 188.38 313.4 191.01 305.3 175.56",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"304.29 175.56 304.29 188.38 296.19 191.01 304.29 175.56",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"319.87 191.01 319.87 178.19 311.77 175.56 319.87 191.01",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"320.88 191.01 320.88 178.19 328.98 175.56 320.88 191.01",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"336.45 175.56 336.45 188.38 344.55 191.01 336.45 175.56",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"335.44 175.56 335.44 188.38 327.34 191.01 335.44 175.56",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"351.02 191.01 351.02 178.19 342.92 175.56 351.02 191.01",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"352.03 191.01 352.03 178.19 360.13 175.56 352.03 191.01",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"367.6 175.56 367.6 188.38 375.7 191.01 367.6 175.56",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"366.59 175.56 366.59 188.38 358.49 191.01 366.59 175.56",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"382.17 191.01 382.17 178.19 374.07 175.56 382.17 191.01",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"383.18 191.01 383.18 178.19 391.28 175.56 383.18 191.01",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"398.75 175.56 398.75 188.38 406.85 191.01 398.75 175.56",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"397.74 175.56 397.74 188.38 389.64 191.01 397.74 175.56",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"429.91 175.56 429.91 188.38 438.01 191.01 429.91 175.56",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"428.89 175.56 428.89 188.38 420.8 191.01 428.89 175.56",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"444.47 191.01 444.47 178.19 436.37 175.56 444.47 191.01",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"445.48 191.01 445.48 178.19 453.58 175.56 445.48 191.01",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"461.06 175.56 461.06 188.38 469.16 191.01 461.06 175.56",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"460.05 175.56 460.05 188.38 451.95 191.01 460.05 175.56",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"475.62 191.01 475.62 178.19 467.52 175.56 475.62 191.01",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"476.63 191.01 476.63 178.19 484.73 175.56 476.63 191.01",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"492.21 175.56 492.21 188.38 500.31 191.01 492.21 175.56",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"491.2 175.56 491.2 188.38 483.1 191.01 491.2 175.56",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"505.69 191.01 505.69 178.19 497.59 175.56 505.69 191.01",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"506.7 191.01 506.7 178.19 514.8 175.56 506.7 191.01",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"118.39 206.93 118.39 194.11 126.49 191.48 118.39 206.93",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"117.38 206.93 117.38 194.11 109.28 191.48 117.38 206.93",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"132.96 191.48 132.96 204.3 124.86 206.93 132.96 191.48",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"133.97 191.48 133.97 204.3 142.07 206.93 133.97 191.48",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"274.15 206.93 274.15 194.11 282.25 191.48 274.15 206.93",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"273.14 206.93 273.14 194.11 265.04 191.48 273.14 206.93",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"288.71 191.48 288.71 204.3 280.62 206.93 288.71 191.48",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"289.73 191.48 289.73 204.3 297.82 206.93 289.73 191.48",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"305.3 206.93 305.3 194.11 313.4 191.48 305.3 206.93",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"304.29 206.93 304.29 194.11 296.19 191.48 304.29 206.93",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"319.87 191.48 319.87 204.3 311.77 206.93 319.87 191.48",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"320.88 191.48 320.88 204.3 328.98 206.93 320.88 191.48",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"336.45 206.93 336.45 194.11 344.55 191.48 336.45 206.93",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"335.44 206.93 335.44 194.11 327.34 191.48 335.44 206.93",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"351.02 191.48 351.02 204.3 342.92 206.93 351.02 191.48",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"352.03 191.48 352.03 204.3 360.13 206.93 352.03 191.48",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"367.6 206.93 367.6 194.11 375.7 191.48 367.6 206.93",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"366.59 206.93 366.59 194.11 358.49 191.48 366.59 206.93",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"382.17 191.48 382.17 204.3 374.07 206.93 382.17 191.48",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"383.18 191.48 383.18 204.3 391.28 206.93 383.18 191.48",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"444.47 191.48 444.47 204.3 436.37 206.93 444.47 191.48",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"445.48 191.48 445.48 204.3 453.58 206.93 445.48 191.48",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"475.62 191.48 475.62 204.3 467.52 206.93 475.62 191.48",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"476.63 191.48 476.63 204.3 484.73 206.93 476.63 191.48",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"492.21 206.93 492.21 194.11 500.31 191.48 492.21 206.93",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"491.2 206.93 491.2 194.11 483.1 191.48 491.2 206.93",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"180.7 271.05 180.7 283.87 188.79 286.5 180.7 271.05",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"179.68 271.05 179.68 283.87 171.59 286.5 179.68 271.05",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"195.26 286.5 195.26 273.68 187.16 271.05 195.26 286.5",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"196.27 286.5 196.27 273.68 204.37 271.05 196.27 286.5",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"211.85 271.05 211.85 283.87 219.95 286.5 211.85 271.05",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"210.84 271.05 210.84 283.87 202.74 286.5 210.84 271.05",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"226.41 286.5 226.41 273.68 218.31 271.05 226.41 286.5",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"227.42 286.5 227.42 273.68 235.52 271.05 227.42 286.5",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"319.87 286.5 319.87 273.68 311.77 271.05 319.87 286.5",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"320.88 286.5 320.88 273.68 328.98 271.05 320.88 286.5",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"336.45 271.05 336.45 283.87 344.55 286.5 336.45 271.05",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"335.44 271.05 335.44 283.87 327.34 286.5 335.44 271.05",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"351.02 286.5 351.02 273.68 342.92 271.05 351.02 286.5",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"352.03 286.5 352.03 273.68 360.13 271.05 352.03 286.5",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"382.17 286.5 382.17 273.68 374.07 271.05 382.17 286.5",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"383.18 286.5 383.18 273.68 391.28 271.05 383.18 286.5",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"505.69 286.5 505.69 273.68 497.59 271.05 505.69 286.5",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"506.7 286.5 506.7 273.68 514.8 271.05 506.7 286.5",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"522.27 271.05 522.27 283.87 530.37 286.5 522.27 271.05",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"521.26 271.05 521.26 283.87 513.16 286.5 521.26 271.05",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"536.84 286.5 536.84 273.68 528.74 271.05 536.84 286.5",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"537.85 286.5 537.85 273.68 545.95 271.05 537.85 286.5",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"553.42 271.05 553.42 283.87 561.52 286.5 553.42 271.05",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"552.41 271.05 552.41 283.87 544.31 286.5 552.41 271.05",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"164.11 223.3 164.11 236.13 156.01 238.75 164.11 223.3",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"165.12 223.3 165.12 236.13 173.22 238.75 165.12 223.3",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"180.7 238.75 180.7 225.93 188.79 223.3 180.7 238.75",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"179.68 238.75 179.68 225.93 171.59 223.3 179.68 238.75",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"195.26 223.3 195.26 236.13 187.16 238.75 195.26 223.3",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"196.27 223.3 196.27 236.13 204.37 238.75 196.27 223.3",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"319.87 223.3 319.87 236.13 311.77 238.75 319.87 223.3",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"320.88 223.3 320.88 236.13 328.98 238.75 320.88 223.3",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"336.45 238.75 336.45 225.93 344.55 223.3 336.45 238.75",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"335.44 238.75 335.44 225.93 327.34 223.3 335.44 238.75",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"351.02 223.3 351.02 236.13 342.92 238.75 351.02 223.3",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"352.03 223.3 352.03 236.13 360.13 238.75 352.03 223.3",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"367.6 238.75 367.6 225.93 375.7 223.3 367.6 238.75",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"366.59 238.75 366.59 225.93 358.49 223.3 366.59 238.75",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"492.21 238.75 492.21 225.93 500.31 223.3 492.21 238.75",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"491.2 238.75 491.2 225.93 483.1 223.3 491.2 238.75",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"505.69 223.3 505.69 236.13 497.59 238.75 505.69 223.3",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"506.7 223.3 506.7 236.13 514.8 238.75 506.7 223.3",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"164.11 254.67 164.11 241.85 156.01 239.22 164.11 254.67",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"165.12 254.67 165.12 241.85 173.22 239.22 165.12 254.67",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"180.7 239.22 180.7 252.04 188.79 254.67 180.7 239.22",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"179.68 239.22 179.68 252.04 171.59 254.67 179.68 239.22",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"195.26 254.67 195.26 241.85 187.16 239.22 195.26 254.67",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"196.27 254.67 196.27 241.85 204.37 239.22 196.27 254.67",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"211.85 239.22 211.85 252.04 219.95 254.67 211.85 239.22",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"210.84 239.22 210.84 252.04 202.74 254.67 210.84 239.22",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"226.41 254.67 226.41 241.85 218.31 239.22 226.41 254.67",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"227.42 254.67 227.42 241.85 235.52 239.22 227.42 254.67",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"319.87 254.67 319.87 241.85 311.77 239.22 319.87 254.67",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"320.88 254.67 320.88 241.85 328.98 239.22 320.88 254.67",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"336.45 239.22 336.45 252.04 344.55 254.67 336.45 239.22",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"335.44 239.22 335.44 252.04 327.34 254.67 335.44 239.22",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"351.02 254.67 351.02 241.85 342.92 239.22 351.02 254.67",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"352.03 254.67 352.03 241.85 360.13 239.22 352.03 254.67",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"367.6 239.22 367.6 252.04 375.7 254.67 367.6 239.22",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"366.59 239.22 366.59 252.04 358.49 254.67 366.59 239.22",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"522.27 239.22 522.27 252.04 530.37 254.67 522.27 239.22",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"521.26 239.22 521.26 252.04 513.16 254.67 521.26 239.22",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"553.42 239.22 553.42 252.04 561.52 254.67 553.42 239.22",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"552.41 239.22 552.41 252.04 544.31 254.67 552.41 239.22",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"180.7 334.24 180.7 321.42 188.79 318.79 180.7 334.24",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"179.68 334.24 179.68 321.42 171.59 318.79 179.68 334.24",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"553.42 334.24 553.42 321.42 561.52 318.79 553.42 334.24",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"552.41 334.24 552.41 321.42 544.31 318.79 552.41 334.24",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"567.99 318.79 567.99 331.61 559.89 334.24 567.99 318.79",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"569 318.79 569 331.61 577.1 334.24 569 318.79",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"599.14 318.79 599.14 331.61 591.04 334.24 599.14 318.79",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"600.15 318.79 600.15 331.61 608.25 334.24 600.15 318.79",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"615.73 334.24 615.73 321.42 623.83 318.79 615.73 334.24",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"614.72 334.24 614.72 321.42 606.62 318.79 614.72 334.24",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"180.7 334.7 180.7 347.52 188.79 350.15 180.7 334.7",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"179.68 334.7 179.68 347.52 171.59 350.15 179.68 334.7",fill:i,stroke:"none"})]}),Object(R.jsxs)("g",{className:null===n||void 0===n?void 0:n.point,children:[Object(R.jsx)("polygon",{points:"599.14 350.15 599.14 337.33 591.04 334.7 599.14 350.15",fill:i,stroke:"none"}),Object(R.jsx)("polygon",{points:"600.15 350.15 600.15 337.33 608.25 334.7 600.15 350.15",fill:i,stroke:"none"})]})]})]})};Vn.defaultProps={mapcolor:"#C0C0C0",interval:2e3};var Wn=Vn,Jn=["classes","auth","theme","device"],Bn=Ie()(Object(s.b)((function(e,t){return{auth:e.auth}}),{}),ot.a)((function(e){var t,n,a=e.classes,i=(e.auth,e.theme);e.device,Object(T.a)(e,Jn);return Object(R.jsx)(Tn,{className:"flex flex-row items-center justify-center min-h-screen md:pr-4  md:py-0",id:"jumbotron",title:!1,children:Object(R.jsx)(Nt.a,{className:"p-0",children:Object(R.jsxs)(_t.a,{xs:12,sm:12,md:12,className:"p-0",children:[Object(R.jsx)(Wt.a,{mdUp:!0,className:"flex flex-row",children:Object(R.jsx)(Nt.a,{alignItems:"center",justify:"center",className:"p-0",children:Object(R.jsx)(_t.a,{xs:12,sm:12,md:6,lg:4,className:"relative p-0 -mt-40",children:Object(R.jsxs)(Nt.a,{className:"p-0",style:{backgroundImage:"url(https://realfield.nyc3.cdn.digitaloceanspaces.com/public/img/realfield/chevron-map.png)",backgroundRepeat:"no-repeat",backgroundAttachment:"scroll",backgroundPosition:"center top",backgroundSize:"auto 180px"},children:[Object(R.jsxs)(_t.a,{xs:12,className:"p-0",children:[Object(R.jsxs)(Xe.a,{className:"font-black text-5xl mb-2 w-full text-center",variant:"h1",children:[Object(R.jsx)("span",{children:"Ethical Data"}),Object(R.jsx)("span",{className:"avenir",children:"."})]}),Object(R.jsxs)(Xe.a,{className:"font-black text-5xl w-full text-center",variant:"h1",children:[Object(R.jsx)("span",{children:"Real Time"}),Object(R.jsx)("span",{className:"avenir",children:"."})]})]}),Object(R.jsx)(_t.a,{xs:12,className:"my-12 p-0 flex flex-col items-center",children:Object(R.jsx)(Xe.a,{variant:"body1",className:"w-full text-center font-bold",children:"For data you can\u2019t find online."})}),Object(R.jsx)(_t.a,{xs:12,className:"flex p-0",children:Object(R.jsxs)(Nt.a,{className:"p-0 flex flex-col items-center",children:[Object(R.jsx)(g.b,{to:"/home#commission-a-survey".toUriWithLandingPagePrefix(),color:"inherit",className:"mb-8 w-7/12",children:Object(R.jsx)(mt.a,{style:{background:A.b.hex.accent,color:i.palette.background.paper},size:"large",variant:"contained",className:"w-full capitalize rounded-full",color:"accent",sx:{color:function(e){return"".concat(e.palette.inverse)}},children:"Get Quote"})}),Object(R.jsx)(g.b,{to:"/home#commission-a-survey".toUriWithLandingPagePrefix(),color:"inherit",className:"w-7/12",children:Object(R.jsx)(mt.a,(t={color:"primary",variant:"outlined",size:"large"},Object(ue.a)(t,"variant","outlined"),Object(ue.a)(t,"className","w-full  md:text-sm capitalize rounded-full"),Object(ue.a)(t,"color","primary"),Object(ue.a)(t,"sx",{}),Object(ue.a)(t,"children","Request demo"),t))})]})})]})})})}),Object(R.jsx)(Wt.a,{smDown:!0,children:Object(R.jsxs)(Nt.a,{className:"p-0  items-center ",children:[Object(R.jsx)(_t.a,{xs:12,sm:12,md:4,className:"relative p-0",children:Object(R.jsxs)(Nt.a,{className:"p-0",children:[Object(R.jsxs)(_t.a,{xs:12,className:"mb-4 p-0",children:[Object(R.jsxs)(Xe.a,{className:"font-black md:text-4xl lg:text-5xl xl:text-6xl w-full text-left",variant:"h1",style:{fontSize:"4vw !important"},children:[Object(R.jsx)("span",{children:"Ethical Data"}),Object(R.jsx)("span",{className:"avenir",children:"."})]}),Object(R.jsxs)(Xe.a,{className:"font-black md:text-4xl lg:text-5xl xl:text-6xl w-full text-left",variant:"h1",children:[Object(R.jsx)("span",{children:"Real Time"}),Object(R.jsx)("span",{className:"avenir",children:"."})]})]}),Object(R.jsx)(_t.a,{xs:12,className:"mb-12 p-0",children:Object(R.jsx)(Xe.a,{className:(null===a||void 0===a?void 0:a.subtitle)+" font-bold",variant:"body1",children:"For data you can\u2019t find online."})}),Object(R.jsx)(_t.a,{xs:12,className:"p-0",children:Object(R.jsxs)(Nt.a,{className:"p-0 flex flex-row",children:[Object(R.jsx)(g.b,{to:"/home#commission-a-survey".toUriWithLandingPagePrefix(),color:"inherit",className:"mb-4",children:Object(R.jsx)(mt.a,{size:"large",variant:"contained",className:"w-full  md:text-sm capitalize rounded-full",color:"accent",children:"Get Quote"})}),Object(R.jsx)(g.b,{to:"/home#commission-a-survey".toUriWithLandingPagePrefix(),color:"inherit",className:"mx-4",children:Object(R.jsx)(mt.a,(n={color:"primary",variant:"outlined",size:"large"},Object(ue.a)(n,"variant","outlined"),Object(ue.a)(n,"className"," md:text-sm capitalize rounded-full"),Object(ue.a)(n,"children","Request demo"),n))})]})})]})}),Object(R.jsx)(_t.a,{xs:12,sm:12,md:8,className:"p-0",children:Object(R.jsx)(Wn,{})})]})})]})})})})),Un=n(1819),Gn=(n(1435),n(639)),Hn=["username","password","onSubmit","onSubmitSuccess","onSubmitError","googleLoginProps"],Kn=i.a.forwardRef((function(e,t){var n=e||{},a=(n.username,n.password,n.onSubmit,n.onSubmitSuccess),i=n.onSubmitError,r=n.googleLoginProps,o=Object(T.a)(n,Hn),c=Object(re.g)(),d=Object(g.d)(),p=Object(u.a)(d,2),b=p[0],f=(p[1],Object(s.c)(),Object(s.d)((function(e){return e.auth})),Object(s.d)((function(e){var t;return Object(l.a)({},null===e||void 0===e||null===(t=e.app.settings)||void 0===t?void 0:t.auth)})),b.get("navigateTo")||"/home".toUriWithDashboardPrefix(),Object(E.c)().Api),j=Object(E.d)().queueNotification,m=Object(ie.p)({submitting:!1,alert:!1,showEmail:!0,strategy:null}),h=Object(u.a)(m,2),v=(h[0],h[1],Object(ie.l)({name:"user-signup-form",mode:"onChange",reValidateMode:"onChange",defaultValues:{},onSubmit:function(){var e=Object(y.a)(x.a.mark((function e(t,n){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.post("/signup",t).then((function(e){if(console.log("res",e),"demo"===t.interest)j({severity:"success",content:"Signup request successfull! Thank you for your interest in Realfield! We will be in touch shortly to schedule your demo at your convenience. "});else if("quote"===t.interest){j({severity:"success",content:"Signup request successfull! Thank you for your interest in Realfield! We will be in touch shortly"});var n=Object(l.a)({},t);delete n.password,delete n.repeat_password;var i=new URLSearchParams(n).toString();c("/compose-project?".concat(i).toUriWithLandingPagePrefix())}else j({severity:"success",content:"Signup request successfull! "}),c("/community".toUriWithLandingPagePrefix());Function.isFunction(a)&&a(e),S()})).catch((function(e){console.log("err",e),j({severity:"error",content:"Signup request failed. ".concat(e.msg||"Something went wrong!")}),Function.isFunction(i)&&i(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()})),O=v.submit,w=v.TextField,k=v.Autocomplete,N=v.RadioGroup,_=v.values,S=(v.setValue,v.resetValues),C=v.formState;return Object(R.jsxs)(Pn.a,Object(l.a)(Object(l.a)({container:!0},o),{},{component:"form",onSubmit:O,ref:t,children:[Object(R.jsxs)(Pn.a,{container:!0,children:[Object(R.jsx)(Pn.a,{item:!0,xs:12,md:6,className:"my-4 px-4 flex flex-col",children:Object(R.jsx)(w,{variant:"filled",name:"first_name",label:"First Name",placeholder:"First Name",rules:{required:"First Name is required."},fullWidth:!0,required:!0,validate:!0})}),Object(R.jsx)(Pn.a,{item:!0,xs:12,md:6,className:"my-4 px-4 flex flex-col",children:Object(R.jsx)(w,{variant:"filled",name:"last_name",label:"Last Name",placeholder:"Last Name",rules:{required:"Last Name is required."},fullWidth:!0,required:!0,validate:!0})}),Object(R.jsx)(Pn.a,{item:!0,xs:12,md:6,className:"my-4 px-4 flex flex-col",children:Object(R.jsx)(w,{type:"email",variant:"filled",name:"email_address",label:"Email address",placeholder:"email@example.com",rules:{required:"Email address is required.",pattern:{value:/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,message:"Invalid Email Address"}},fullWidth:!0,required:!0,validate:!0})}),Object(R.jsx)(Pn.a,{item:!0,xs:12,md:6,className:"my-4 px-4 flex flex-col",children:Object(R.jsx)(k,{variant:"filled",name:"country",label:"Country",placeholder:"Country",rules:{required:"Country is required."},options:{AD:"Andorra",AE:"United Arab Emirates",AF:"Afghanistan",AG:"Antigua and Barbuda",AI:"Anguilla",AL:"Albania",AM:"Armenia",AO:"Angola",AQ:"Antarctica",AR:"Argentina",AS:"American Samoa",AT:"Austria",AU:"Australia",AW:"Aruba",AX:"Aland Islands",AZ:"Azerbaijan",BA:"Bosnia and Herzegovina",BB:"Barbados",BD:"Bangladesh",BE:"Belgium",BF:"Burkina Faso",BG:"Bulgaria",BH:"Bahrain",BI:"Burundi",BJ:"Benin",BL:"Saint Barthelemy",BM:"Bermuda",BN:"Brunei",BO:"Bolivia",BQ:"Bonaire, Saint Eustatius and Saba ",BR:"Brazil",BS:"Bahamas",BT:"Bhutan",BV:"Bouvet Island",BW:"Botswana",BY:"Belarus",BZ:"Belize",CA:"Canada",CC:"Cocos Islands",CD:"Democratic Republic of the Congo",CF:"Central African Republic",CG:"Republic of the Congo",CH:"Switzerland",CI:"Ivory Coast",CK:"Cook Islands",CL:"Chile",CM:"Cameroon",CN:"China",CO:"Colombia",CR:"Costa Rica",CU:"Cuba",CV:"Cape Verde",CW:"Curacao",CX:"Christmas Island",CY:"Cyprus",CZ:"Czech Republic",DE:"Germany",DJ:"Djibouti",DK:"Denmark",DM:"Dominica",DO:"Dominican Republic",DZ:"Algeria",EC:"Ecuador",EE:"Estonia",EG:"Egypt",EH:"Western Sahara",ER:"Eritrea",ES:"Spain",ET:"Ethiopia",FI:"Finland",FJ:"Fiji",FK:"Falkland Islands",FM:"Micronesia",FO:"Faroe Islands",FR:"France",GA:"Gabon",GB:"United Kingdom",GD:"Grenada",GE:"Georgia",GF:"French Guiana",GG:"Guernsey",GH:"Ghana",GI:"Gibraltar",GL:"Greenland",GM:"Gambia",GN:"Guinea",GP:"Guadeloupe",GQ:"Equatorial Guinea",GR:"Greece",GS:"South Georgia and the South Sandwich Islands",GT:"Guatemala",GU:"Guam",GW:"Guinea-Bissau",GY:"Guyana",HK:"Hong Kong",HM:"Heard Island and McDonald Islands",HN:"Honduras",HR:"Croatia",HT:"Haiti",HU:"Hungary",ID:"Indonesia",IE:"Ireland",IL:"Israel",IM:"Isle of Man",IN:"India",IO:"British Indian Ocean Territory",IQ:"Iraq",IR:"Iran",IS:"Iceland",IT:"Italy",JE:"Jersey",JM:"Jamaica",JO:"Jordan",JP:"Japan",KE:"Kenya",KG:"Kyrgyzstan",KH:"Cambodia",KI:"Kiribati",KM:"Comoros",KN:"Saint Kitts and Nevis",KP:"North Korea",KR:"South Korea",KW:"Kuwait",KY:"Cayman Islands",KZ:"Kazakhstan",LA:"Laos",LB:"Lebanon",LC:"Saint Lucia",LI:"Liechtenstein",LK:"Sri Lanka",LR:"Liberia",LS:"Lesotho",LT:"Lithuania",LU:"Luxembourg",LV:"Latvia",LY:"Libya",MA:"Morocco",MC:"Monaco",MD:"Moldova",ME:"Montenegro",MF:"Saint Martin",MG:"Madagascar",MH:"Marshall Islands",MK:"Macedonia",ML:"Mali",MM:"Myanmar",MN:"Mongolia",MO:"Macao",MP:"Northern Mariana Islands",MQ:"Martinique",MR:"Mauritania",MS:"Montserrat",MT:"Malta",MU:"Mauritius",MV:"Maldives",MW:"Malawi",MX:"Mexico",MY:"Malaysia",MZ:"Mozambique",NA:"Namibia",NC:"New Caledonia",NE:"Niger",NF:"Norfolk Island",NG:"Nigeria",NI:"Nicaragua",NL:"Netherlands",NO:"Norway",NP:"Nepal",NR:"Nauru",NU:"Niue",NZ:"New Zealand",OM:"Oman",PA:"Panama",PE:"Peru",PF:"French Polynesia",PG:"Papua New Guinea",PH:"Philippines",PK:"Pakistan",PL:"Poland",PM:"Saint Pierre and Miquelon",PN:"Pitcairn",PR:"Puerto Rico",PS:"Palestinian Territory",PT:"Portugal",PW:"Palau",PY:"Paraguay",QA:"Qatar",RE:"Reunion",RO:"Romania",RS:"Serbia",RU:"Russia",RW:"Rwanda",SA:"Saudi Arabia",SB:"Solomon Islands",SC:"Seychelles",SD:"Sudan",SE:"Sweden",SG:"Singapore",SH:"Saint Helena",SI:"Slovenia",SJ:"Svalbard and Jan Mayen",SK:"Slovakia",SL:"Sierra Leone",SM:"San Marino",SN:"Senegal",SO:"Somalia",SR:"Suriname",SS:"South Sudan",ST:"Sao Tome and Principe",SV:"El Salvador",SX:"Sint Maarten",SY:"Syria",SZ:"Swaziland",TC:"Turks and Caicos Islands",TD:"Chad",TF:"French Southern Territories",TG:"Togo",TH:"Thailand",TJ:"Tajikistan",TK:"Tokelau",TL:"East Timor",TM:"Turkmenistan",TN:"Tunisia",TO:"Tonga",TR:"Turkey",TT:"Trinidad and Tobago",TV:"Tuvalu",TW:"Taiwan",TZ:"Tanzania",UA:"Ukraine",UG:"Uganda",UM:"United States Minor Outlying Islands",US:"United States",UY:"Uruguay",UZ:"Uzbekistan",VA:"Vatican",VC:"Saint Vincent and the Grenadines",VE:"Venezuela",VG:"British Virgin Islands",VI:"U.S. Virgin Islands",VN:"Vietnam",VU:"Vanuatu",WF:"Wallis and Futuna",WS:"Samoa",XK:"Kosovo",YE:"Yemen",YT:"Mayotte",ZA:"South Africa",ZM:"Zambia",ZW:"Zimbabwe"},fullWidth:!0,required:!0,validate:!0})}),Object(R.jsx)(Pn.a,{item:!0,xs:12,md:6,className:"my-4 px-4 flex flex-col",children:Object(R.jsx)(w,{type:"password",variant:"filled",name:"password",label:"Password",placeholder:"Password",rules:{required:"Password is required."},fullWidth:!0,required:!0,validate:!0})}),Object(R.jsx)(Pn.a,{item:!0,xs:12,md:6,className:"my-4 px-4 flex flex-col",children:Object(R.jsx)(w,{type:"password",variant:"filled",name:"repeat_password",label:"Repeat Password",placeholder:"Confirm Password",rules:{required:"Password is required.",deps:["password"],validate:{matchesPassword:function(e){return _.password===e||"Should match password"}}},fullWidth:!0,required:!0,validate:!0})}),Object(R.jsx)(Pn.a,{item:!0,xs:12,className:"my-4 px-4 flex flex-col",children:Object(R.jsx)(N,{name:"interest",label:"Interest",value:_.interest||"demo",options:{demo:"Demo",quote:"Quote",community:"Community"},rules:{required:"Interest is required."},fullWidth:!0,validate:!0})}),Object(R.jsx)(Pn.a,{item:!0,xs:12,className:"flex flex-row justify-center items-center my-4",children:Object(R.jsx)(Un.a,{disabled:!C.isValid||C.isSubmitting,loading:C.isSubmitting,className:"capitalize rounded-full px-8",variant:"contained",sx:{},type:"submit",children:"Submit"})})]}),!String.isEmpty(_.interest)&&Object(R.jsx)(Pn.a,{container:!0,children:Object(R.jsx)(Pn.a,{item:!0,xs:12,className:"flex flex-col justify-center my-4 items-center",children:Object(R.jsx)(Gn.a,Object(l.a)({onSuccess:function(e){var t=e.data;e.res;if("demo"===t.interest)j({severity:"success",content:"Signup request successfull! Thank you for your interest in Realfield! We will be in touch shortly to schedule your demo at your convenience. "});else if("quote"===t.interest){j({severity:"success",content:"Signup request successfull! Thank you for your interest in Realfield! We will be in touch shortly"});var n=Object(l.a)({},t);delete n.password,delete n.repeat_password;var a=new URLSearchParams(n).toString();c("/compose-project?".concat(a).toUriWithLandingPagePrefix())}else j({severity:"success",content:"Signup request successfull! "}),c("/community".toUriWithLandingPagePrefix())},onError:function(e){e.data;var t=e.error;j({severity:"error",content:"Signup failed! ".concat(t.message||t.msg||"Something went wrong!")})},postData:{interest:_.interest}},r))})})]}))})),Yn=i.a.memo(Kn),Qn=Ie()(Object(s.b)((function(e,t){return{auth:e.auth,device:e.device}}),{closeDialog:C.lb,openDialog:C.ub}),ot.a)((function(e){e.closeDialog,e.openDialog,e.auth,Object(ce.b)().definations;var t=Object(a.useState)(!1),n=Object(u.a)(t,2);n[0],n[1];return Object(a.useEffect)((function(){}),[]),Object(R.jsx)(Tn,{className:"p-0",id:"commission-a-survey",title:!1,children:Object(R.jsxs)(Nt.a,{className:"py-16",style:{backgroundImage:"url(https://realfield.nyc3.cdn.digitaloceanspaces.com/public/img/realfield/dots-map.png)",backgroundRepeat:"no-repeat",backgroundAttachment:"scroll",backgroundPosition:"right top",backgroundSize:"auto 180px"},children:[Object(R.jsx)(Wt.a,{smDown:!0,className:"w-full flex",children:Object(R.jsxs)(_t.a,{xs:12,className:"flex flex-row items-center",children:[Object(R.jsx)("img",{src:"https://realfield.nyc3.cdn.digitaloceanspaces.com/public/img/realfield/chevron-white.svg",className:"mr-4 h-8 w-8"}),Object(R.jsx)(Tt.a,{variant:"h4",className:"capitalize",children:"COMMISSION A"}),Object(R.jsx)("img",{src:"https://realfield.nyc3.cdn.digitaloceanspaces.com/public/img/realfield/logo.svg",className:"mx-4 h-6 w-auto"}),Object(R.jsx)(Tt.a,{variant:"h4",className:"capitalize",children:"SURVEY"})]})}),Object(R.jsx)(Wt.a,{mdUp:!0,className:"w-full flex",children:Object(R.jsxs)(_t.a,{xs:12,className:"flex flex-col items-center justify-center",children:[Object(R.jsx)("img",{src:"https://realfield.nyc3.cdn.digitaloceanspaces.com/public/img/realfield/chevron-white.svg",className:"mb-4 h-8 w-8"}),Object(R.jsx)(Tt.a,{variant:"h4",className:"capitalize",children:"COMMISSION A"}),Object(R.jsx)("img",{src:"https://realfield.nyc3.cdn.digitaloceanspaces.com/public/img/realfield/logo.svg",className:"my-4 h-6 w-auto"}),Object(R.jsx)(Tt.a,{variant:"h4",className:"capitalize",children:"SURVEY"})]})}),Object(R.jsxs)(_t.a,{xs:12,className:"px-2",children:[Object(R.jsx)(Tt.a,{variant:"body1",paragraph:!0,className:"font-bold",children:"Data is the essential fuel required to power robust, evidence based analysis and decision making."}),Object(R.jsx)(Tt.a,{variant:"body1",paragraph:!0,gutterBottom:!0,children:"Use the right data and get the analysis and insights you need. Use the wrong data and not only will your results be skewed rendering your analysis inaccurate, but you risk your project being on the wrong side of existing and future regulation and legislation. Garbage in, garbage out \u2013 it\u2019s that simple. At Realfield we are dedicated to providing accurate, consistent, relevant and most importantly, ethical data. Real time."}),Object(R.jsx)(Tt.a,{variant:"body1",paragraph:!0,gutterBottom:!0,children:"Let us provide you with the right data to power your research and your insights."})]})]})})})),Zn=n(1121),Xn=n(2024),$n="start",ea=function(e){var t=e.onSubmit,n=(e.title,e.description),i=Object(ie.l)({name:"projectcomposer",defaultValues:{stage:$n}}),r=(i.trigger,i.register,i.Field),o=i.TextField,s=i.Select,l=i.getValues,c=(i.resetValues,i.setValue,i.values),u=i.formState,d=i.handleSubmit,p=u.isValid,b=(u.isSubmitted,JSON.getDeepPropertyValue("stages.".concat($n),c||{})||{}),f=Object(a.useMemo)((function(){return JSON.getDeepPropertyValue("complete_stages",c)||[]}),[c]),j=(Object(a.useRef)(f),Object(a.useCallback)((function(e,t){}),[])),m=(Object(a.useCallback)((function(e){return function(t){j(e,t)}}),[]),Object(a.useCallback)((function(e){return function(t){j(e,t.target.value)}}),[]),Object(a.useCallback)((function(e){return function(t,n){j(e,n)}}),[]),Object(a.useCallback)((function(e){return function(t){j(e,t.target.value)}}),[]),Object(a.useCallback)((function(e){Function.isFunction(t)&&t(b)}),[p,b,t]));return Object(ie.c)((function(){})),Object(R.jsxs)(Nt.a,{children:[Object(R.jsx)(_t.a,{className:"p-6 flex flex-row justify-end"}),!!n&&Object(R.jsx)(_t.a,{className:"flex flex-col items-start py-8",children:Object(R.jsx)(Tt.a,{variant:"body2",children:n})}),Object(R.jsx)(_t.a,{children:Object(R.jsxs)(Nt.a,{children:[Object(R.jsx)(_t.a,{md:6,className:"py-8",children:Object(R.jsx)(o,{label:"First Name",name:"stages.".concat($n,".first_name"),rules:{required:"Please enter your First Name."},variant:"filled",required:!0,fullWidth:!0})}),Object(R.jsx)(_t.a,{md:6,className:"py-8",children:Object(R.jsx)(o,{label:"Last Name",name:"stages.".concat($n,".last_name"),rules:{required:"Last Name is required."},variant:"filled",required:!0,fullWidth:!0})}),Object(R.jsx)(_t.a,{md:6,className:"py-8",children:Object(R.jsx)(o,{label:"Email",name:"stages.".concat($n,".email_address"),rules:{required:"Email is required.",validate:{pattern:function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)||"Invalid Email"}}},variant:"filled",required:!0,fullWidth:!0})}),Object(R.jsx)(_t.a,{md:6,className:"py-8",children:Object(R.jsx)(o,{label:"Phone",placeholder:"(Country Code) Telephone",name:"stages.".concat($n,".phone"),rules:{required:"Phone is required."},variant:"filled",required:!0,fullWidth:!0})}),Object(R.jsx)(_t.a,{md:12,className:"py-8",children:Object(R.jsx)(s,{name:"stages.".concat($n,".survey_type"),label:"Survey Type",defaultValue:b.survey_type||"Qualititive",options:{Qualititive:"Qualititive",Quantitative:"Quantitative"},sx:{width:"100%"},variant:"filled",required:!0})}),Object(R.jsx)(_t.a,{md:6,className:"py-8",children:Object(R.jsx)(r,{label:"Start Date",name:"stages.".concat($n,".start_date"),defaultValue:(null===b||void 0===b?void 0:b.start_date)||(new Date).addDays(7),component:Mt.l,rules:{valueAsDate:!0,deps:["stages.".concat($n,".end_date")],validate:{isEmpty:function(e){return Date.isDate(Date.parseFrom(e))||"Start date is required "},isParseableDate:function(e){return Date.isDate(Date.parseFrom(e))||"Start date is not a parseable date "},isValidDate:function(e){var t=Date.parseFrom(JSON.getDeepPropertyValue("stages.".concat($n,".end_date"),l()||{})||null),n=Date.parseFrom(e,new Date);if(Date.isDate(n)){var a=n.difference(new Date);if(n<new Date&&!a.same_day)return"Start date cannot be in the past";if(Date.isDate(t))return"past"===(a=t.difference(n)).type||a.same_day||"Start date cannot be in the future of End date"}return Date.isDate(n)||"select a Date"}}},required:!0})}),Object(R.jsx)(_t.a,{md:6,className:"py-8",children:Object(R.jsx)(r,{label:"End Date",name:"stages.".concat($n,".end_date"),defaultValue:(null===b||void 0===b?void 0:b.end_date)||(new Date).addDays(14),component:Mt.l,rules:{valueAsDate:!0,deps:["stages.".concat($n,".start_date")],validate:{isEmpty:function(e){return Date.isDate(Date.parseFrom(e))||"End date is required "},isParseableDate:function(e){return Date.isDate(Date.parseFrom(e))||"Start date is not a parseable date "},isValidDate:function(e){var t=Date.parseFrom(JSON.getDeepPropertyValue("stages.".concat($n,".start_date"),l()||{})||null),n=Date.parseFrom(e,new Date);if(Date.isDate(n)){var a=n.difference(new Date);if(n<new Date&&!a.same_day)return"End date cannot be in the past";if(Date.isDate(t))return"past"===(a=n.difference(t)).type||a.same_day||"Start date cannot be in the past of End date"}return Date.isDate(n)||"select a Date"}}},required:!0})})]})}),Object(R.jsx)(_t.a,{className:"flex flex-col items-center py-20 mb-12",children:Object(R.jsx)(mt.a,{onClick:d(m),disabled:!p,color:"accent",variant:"contained",children:"Ok. Ready to continue"})})]})},ta="description",na=function(e){var t=e.onSubmit,n=(e.title,e.description),i=Object(ie.l)({name:"projectcomposer",defaultValues:{stage:ta}}),r=(i.Field,i.TextField),o=i.formState,s=(i.setValue,i.values),l=(i.register,i.handleSubmit),c=JSON.getDeepPropertyValue("stages.".concat(ta),s||{})||{},u=Object(a.useMemo)((function(){return JSON.getDeepPropertyValue("complete_stages",s)||[]}),[s]),d=(Object(a.useRef)(u),o.errors,o.isValid),p=Object(a.useCallback)((function(e,t){}),[]);console.log("Stage formState",o);Object(a.useCallback)((function(e){return function(t){p(e,t.target.value)}}),[]);var b=Object(a.useCallback)((function(e){Function.isFunction(t)&&t(c)}),[d,c,t]);return Object(R.jsxs)(Nt.a,{children:[!!n&&Object(R.jsx)(_t.a,{className:"flex flex-col items-start py-8",children:Object(R.jsx)(Tt.a,{variant:"body2",children:n})}),Object(R.jsx)(_t.a,{className:"py-12",children:Object(R.jsxs)(Nt.a,{children:[Object(R.jsx)(_t.a,{md:12,className:"py-8",children:Object(R.jsx)(r,{label:"Project Name",placeholder:"This is the Project Title",name:"stages.".concat(ta,".project_name"),rules:{required:"Project Name is required."},variant:"filled",required:!0,fullWidth:!0})}),Object(R.jsx)(_t.a,{md:12,className:"py-8",children:Object(R.jsx)(r,{label:"Project Summary",name:"stages.".concat(ta,".project_summary"),rules:{required:"Project Summary is required."},helperText:"Please give us a short description of your project",variant:"filled",multiline:!0,rows:8,required:!0,fullWidth:!0})}),Object(R.jsx)(_t.a,{md:12,className:"py-8",children:Object(R.jsx)(r,{label:"Project Objectives",name:"stages.".concat(ta,".project_objectives"),rules:{required:"Project Objectives is required."},helperText:"Please give us a short description of your project",variant:"filled",multiline:!0,rows:12,required:!0,fullWidth:!0})})]})}),Object(R.jsx)(_t.a,{className:"flex flex-col items-center py-20 mb-12",children:Object(R.jsx)(mt.a,{onClick:l(b),disabled:!d,color:"accent",variant:"contained",children:"Great. Nearly there"})})]})},aa=(n(495),"scope"),ia=function(e){e.onSubmit,e.title;var t=e.description,n=Object(ie.l)({name:"projectcomposer",defaultValues:{stage:aa}}),a=n.handleSubmit,i=n.submit,r=n.FilePicker,o=n.RadioGroup,s=n.values,l=(n.setValue,n.getValues,n.formState.isValid),c=JSON.getDeepPropertyValue("stages.".concat(aa),s||{})||{};return Object(R.jsxs)(Nt.a,{children:[!!t&&Object(R.jsx)(_t.a,{className:"flex flex-col items-start py-8",children:Object(R.jsx)(Tt.a,{variant:"body2",children:t})}),Object(R.jsx)(_t.a,{className:"py-12",children:Object(R.jsxs)(Nt.a,{children:[Object(R.jsx)(_t.a,{md:12,className:"py-8",children:Object(R.jsx)(r,{name:"stages.".concat(aa,".questions"),label:"Upload Questions",helperText:"Accepted Formats: doc, docx, csv, xlsx, xls, pdf",defaultValue:(null===c||void 0===c?void 0:c.questions)||[],variant:"filled",accept:".doc,.docx,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.ms-excel,application/vnd.ms-powerpoint,text/plain,application/pdf",filesLimit:20,rules:{required:"Questions File is Required",validate:{isNotEmpty:function(e){return!Array.isEmpty(e)||"Questions Upload is Required"}}},required:!0})}),Object(R.jsx)(_t.a,{md:12,className:"py-8",children:Object(R.jsx)(o,{name:"stages.".concat(aa,".data_gathering_format"),label:"Data gathering format",defaultValue:(null===c||void 0===c?void 0:c.data_gathering_format)||"","aria-label":"data-gathering-format",options:{Written:"Written",Audio:"Audio",Video:"Video"},rules:{validate:{isNotEmpty:function(e){return!String.isEmpty(e)||"Data gathering format is Required"}}},required:!0})})]})}),Object(R.jsx)(_t.a,{className:"flex flex-col items-center  py-8",children:Object(R.jsx)(mt.a,{onClick:a(i),disabled:!l,color:"accent",variant:"contained",children:"Now Select your Target"})})]})},ra=n(339),oa=n(2023),sa=function(e){var t=e.onFieldChange,n=e.onSubmit,i=e.values,r=e.title,o=e.description,s=Object(ie.p)({invalid:!0,level:0,loading:!1,geojsons:[]}),c=Object(u.a)(s,2),d=c[0],p=c[1],b=Object(a.useRef)(null),f=Object(a.useRef)(new google.maps.InfoWindow),m=Object(ie.p)(Object(l.a)({features:[]},i)),h=Object(u.a)(m,2),v=h[0],g=h[1],O=Object(a.useCallback)((function(e){var t=new google.maps.LatLngBounds,n=[],a=[];e.getGeometry().forEachLatLng((function(e){n.push(e.lat()),a.push(e.lng())}));var i=Math.max.apply(null,n.map((function(e){return e}))),r=Math.max.apply(null,a.map((function(e){return e}))),o=Math.min.apply(null,n.map((function(e){return e}))),s=Math.min.apply(null,a.map((function(e){return e})));return t.extend({lat:o,lng:s}),t.extend({lat:i,lng:r}),t}),[]),x=Object(a.useCallback)((function(e){return O(e).getCenter()}),[]),y=(Object(a.useCallback)((function(e){return function(n){g(Object(ue.a)({},e,n)),Function.isFunction(t)&&t(e,n)}}),[]),Object(a.useCallback)((function(){Function.isFunction(n)&&n(v)}),[v])),w=Object(a.useCallback)(Function.debounce((function(e){var t=e.getProperty("level"),n=(e.getProperty("type"),e.getProperty("admin_level_"+t));if(b.current){var a=O(e);b.current.fitBounds(a);for(var i="/public/maps/geojson",r=0;r<t+1;r++){var o=e.getProperty("admin_level_"+r);String.isEmpty(o)||(console.log("level ",r,o),i=i+"/"+String.capitalize(o))}var s=new URL("http://api.realfield.workspace"+(i+(3===t?"/feature.geojson":"/features.geojson")));p({loading:!0,level:t}),fetch(s).then((function(e){return e.json()})).then((function(e){console.log(s,"geojson",e),b.current.data.forEach((function(e){var t=e.getProperty("level"),a=e.getProperty("admin_level_"+t);e.getProperty("isSelected")||a===n?a!==n&&e.setProperty("isFocused",!0):e.setProperty("isFocused",!1)}));b.current.data.addGeoJson(e)})).catch((function(e){console.error(e)})).finally((function(){return p({loading:!1})}))}}),250),[d.level]),k=Object(a.useCallback)(Function.debounce((function(e){var t=e.getProperty("level"),n="admin_level_".concat(t),a=e.getProperty(n),i=!e.getProperty("isSelected");e.setProperty("isSelected",i),e.toGeoJson((function(e){console.log("featureName",a),p((function(r){return{geojsons:i?r.geojsons.concat([e]):r.geojsons.filter((function(e){return e.properties.level!==t&&a!==e.properties[n]}))}}))}))}),250),[]),N=Object(a.useCallback)(Function.debounce((function(e){e.domEvent.ctrlKey||e.domEvent.ctrlKey?k(e.feature):w(e.feature)}),250),[v,d.level]),_=Object(a.useCallback)(Function.debounce((function(e){var t=e.feature.getProperty("level");p((function(e){return{level:t}}))}),250),[]),S=Object(a.useCallback)((function(e){if(b.current){e.feature.getProperty("isSelected");for(var t=e.feature.getProperty("level"),n=e.feature.getProperty("type"),a=e.feature.getProperty("admin_level_"+t),i=[],r='<span class="grey-text"> World </span>',o=0;o<t;o++){var s=e.feature.getProperty("admin_level_"+o);String.isEmpty(s)||(i.push(s),r+=' <span class="w-2 h-2 rounded default-text">-</span><span class="secondary-text ml-1">  '.concat(s,"</span>"))}var l=x(e.feature);(t>=d.level||0===d.level)&&(e.feature.setProperty("isFocused",!0),f.current.setContent('<div class="infowindow ">\n                    '.concat(r,'\n                    <span class="w-2 h-2 rounded default-text">-</span>\n                    <span class="default-text">').concat(n,'</span>\n                    <h3 class="primary-text">').concat(a,"</h3>\n                    <i>Latitude: ").concat(l.lat().toFixed(3)," Longitude: ").concat(l.lng().toFixed(3),"</i>\n                </div>")),f.current.setPosition({lat:e.latLng.lat(),lng:e.latLng.lng()}),f.current.setOptions({pixelOffset:new google.maps.Size(0,10)}),f.current.open(b.current))}}),[d.level]),C=Object(a.useCallback)((function(e){if(b.current){var t=e.feature.getProperty("level");!e.feature.getProperty("isSelected")&&t>=d.level&&e.feature.setProperty("isFocused",!1),f.current.close()}}),[d.level]),A=(Object(a.useCallback)((function(e){if(b.current){var t=v["admin_level_"+d.level]||[];b.current.data.forEach((function(n){var a=n.getProperty(e)||"";a=a.charAt(0).toUpperCase()+a.slice(1);var i=n.getProperty("isSelected")||t.includes(a);n.setProperty("isSelected",i)}))}}),[v,d.level]),Object(a.useCallback)((function(e){if(b.current){var t=e.feature.getProperty("level");b.current.data.overrideStyle(e.feature,{zIndex:++t})}}),[b.current])),F=Object(a.useCallback)((function(e){b.current=e,b.current&&(b.current.data.loadGeoJson("http://api.realfield.workspace/public/maps/geojson/features.geojson"),b.current.data.setStyle((function(e){var t="gray",n=.5,a="gray",i=0;return e.getProperty("isFocused")&&(t="gray",a="#000000",n=1.5,i=.1),e.getProperty("isSelected")&&(t=j.a,a=j.a,n=2,i=.9),{fillColor:t,strokeColor:a,strokeWeight:n,fillOpacity:i}})),e.data.addListener("dblclick",_),b.current.data.addListener("click",N),b.current.data.addListener("mouseover",S),b.current.data.addListener("mouseout",C),b.current.data.addListener("addfeature",A))}),[]);Object(ie.d)((function(){g(i)}),[i]),Object(ie.d)((function(){g(i)}),[d.admin_level_1]);var P=Object(a.useCallback)((function(e){var t=e.properties.level,n=e.properties.type,a=e.properties["admin_level_"+t];return"".concat(a," (").concat(n,")")}),[]);return Object(R.jsxs)(Nt.a,{className:"relative p-0",children:[Object(R.jsx)(_t.a,{className:"flex flex-row items-start",children:!!r&&Object(R.jsx)(Tt.a,{variant:"subtitle1",className:"flex-1",children:r})}),!!o&&Object(R.jsx)(_t.a,{className:"flex flex-col items-start py-2",children:Object(R.jsx)(Tt.a,{variant:"body2",children:o})}),Array.isArray(d.geojsons)&&Object(R.jsx)(_t.a,{xs:12,children:Object(R.jsx)(Nt.a,{children:Object(R.jsx)(Tt.a,{variant:"h5",children:d.geojsons.map((function(e,t){return Object(R.jsx)(oa.a,{className:"mx-2",label:P(e)},"geojsons_"+t)}))})})}),Object(R.jsx)(_t.a,{xs:12,className:"p-0 min-h-screen",children:Object(R.jsx)(ra.a,{zoom:6,showCurrentPosition:!0,onMapLoad:F,className:"p-0 min-h-screen"})}),Object(R.jsx)(_t.a,{xs:12,className:"flex flex-col items-center  py-8",children:Object(R.jsx)(mt.a,{onClick:y,disabled:d.invalid,className:"accent inverse-text",variant:"outlined",children:"Ok. Ready to continue"})})]})},la=n(1077),ca=n.n(la),ua=n(189),da=["data","cellRenderer","gutterSize","itemWidth","itemHeight","columnCount","onScrollToEnd","scrollElement"],pa=["rowIndex","columnIndex"],ba=function(e){var t=e.data,n=e.cellRenderer,i=e.gutterSize,r=void 0===i?10:i,o=e.itemWidth,s=void 0===o?100:o,c=e.itemHeight,d=void 0===c?100:c,p=e.columnCount,b=void 0===p?3:p,f=e.onScrollToEnd,j=(e.scrollElement,Object(T.a)(e,da)),m=Object(ie.p)({horizontalOverscanSize:0,scrollToCell:void 0,verticalOverscanSize:0}),h=Object(u.a)(m,2),v=(h[0],h[1],t.length),g=Math.ceil(v/b),O=g*d,x=b*s+r*(2*b),y=Object(a.useRef)([]),w=Object(a.useRef)([]),k=Object(a.useRef)(null),N=(Object(a.useCallback)((function(e){var n=e.index,a=n%(b||1),i=t[n%t.length],o=i.height||d,l=i.width||s,c=w.current[a]||a*l+r*a+r,u=(y.current[a]||0)+r;return w.current[a]=c,y.current[a]=u+o,{height:o,width:l,x:c,y:u}}),[t,b,r,s,d]),Object(a.useCallback)((function(e){var t,n,a=e.clientHeight,i=e.clientWidth,r=e.scrollHeight,o=e.scrollLeft,s=e.scrollTop,l=(null===(t=k.current)||void 0===t?void 0:t._positionFromTop)||0,c=(null===(n=k.current)||void 0===n?void 0:n._positionFromLeft)||0,u=r-(s+(a+l));u>0&&u<=d&&Function.isFunction(f)&&f({topOffset:l,leftOffset:c,clientHeight:a,clientWidth:i,scrollHeight:r,scrollLeft:o,scrollTop:s})}),[f,d,s])),_=Object(a.useCallback)((function(e){var t=e.rowIndex,a=e.columnIndex,i=Object(T.a)(e,pa);if(Function.isFunction(n)){var r=a+t*b;return n(Object(l.a)(Object(l.a)({rowIndex:t,columnIndex:a},i),{},{index:r}))}}),[b,n]);return Object(R.jsx)(ua.e,Object(l.a)({cellRenderer:_,columnCount:b,columnWidth:s,rowCount:g,rowHeight:d,onScroll:function(e){N(e)},height:O,width:x},j))},fa=(n(705),n(1986)),ja=n(2019),ma=n(1821),ha=n(525),va=n(2041),ga=n(2042),Oa=n(2016),xa=n(2018),ya=["className","selected","onSelect","onDeselect","fielder","onClickGender","onClickCourse"],wa=function(e){e.className;var t,n=e.selected,i=e.onSelect,r=e.onDeselect,o=e.fielder,s=e.onClickGender,c=e.onClickCourse,d=Object(T.a)(e,ya),p=o||{},b=p.avatar,f=p.icon,j=p.first_name,m=p.course,h=p.rating,v=p.gender,g=(p.education,Object(ie.k)({src:b?"https://api.realfield.io/attachments/download/"+b:"https://realfield.nyc3.cdn.digitaloceanspaces.com/public/img/avatars/"+f+".png",fallback:"https://realfield.nyc3.cdn.digitaloceanspaces.com/public/img/avatars/"+f+".png"})),O=Object(u.a)(g,2),x=(O[0],O[1].ref),y=Object(a.useMemo)((function(){return{inputProps:{"aria-label":n?"Unselect ".concat(j):"Select ".concat(j)}}}),[n,j]),w=Object(a.useCallback)((function(e){n?Function.isFunction(r)&&r(o):Function.isFunction(i)&&i(o)}),[i,r,n,o]);return Object(R.jsxs)(ma.a,Object(l.a)(Object(l.a)({elevation:5,sx:{},className:"m-1 block relative"},d),{},{children:[Object(R.jsx)(va.a,{component:"img",className:"h-80 object-cover",image:b?"https://api.realfield.io/attachments/download/"+b:lt.a.endpoint("/public/img/avatars/"+f+".png"),ref:x,alt:j}),Object(R.jsxs)(ga.a,{className:"px-2 flex flex-row items-center absolute bottom-0 left-0 right-0 bottom-to-top-fading-dark-bg",children:[Object(R.jsxs)("div",{className:"flex-1 flex flex-col",children:[Object(R.jsx)(Tt.a,{gutterBottom:!0,variant:"h5",className:"inverse-text",children:(j||"").replaceAll(" ","").humanize().truncate(30)}),Object(R.jsxs)("div",{className:"flex-1 flex flex-row flex-wrap mb-4",children:[!!v&&Object(R.jsx)(oa.a,(t={className:"mx-1"},Object(ue.a)(t,"className","accent inverse-text"),Object(ue.a)(t,"label",v.humanize()),Object(ue.a)(t,"size","small"),Object(ue.a)(t,"onClick",s),t)),!!m&&Object(R.jsx)(Xn.a,{title:m.humanize(),children:Object(R.jsx)(oa.a,{className:"mx-1",color:"secondary",label:m.humanize().truncate(10),size:"small",onClick:c})})]}),Object(R.jsx)(xa.a,{name:"rating",defaultValue:h,size:"small",readOnly:!0})]}),Object(R.jsx)("div",{className:"flex-shrink",children:Object(R.jsx)(Oa.a,Object(l.a)(Object(l.a)({},y),{},{checked:n,onChange:w,color:"primary",sx:{"& .MuiSvgIcon-root":{fontSize:28},color:"#FFFFFF"}}))})]})]}))},ka=n(1119),Na=n(162),_a=n(1825),Sa=n(1824),Ca=n(2017),Aa=n(16),Fa=n(1076),Pa=n.n(Fa),Da=n(2012),Ea=n(1927),Ta=n(2032),qa=n(2045),Ma=n(2031),Ia=n(1911),Ra=n(2053),La=n(2026),za=n(1074),Va=n.n(za),Wa=n(367),Ja=n.n(Wa),Ba=n(1075),Ua=n.n(Ba),Ga=n(377),Ha=n.n(Ga),Ka=n(1072),Ya=n.n(Ka),Qa=n(1073),Za=n.n(Qa),Xa=n(511),$a=n(512),ei=["tags","groups","regions","loading","onToggleSelectMode","onChangeListingMode","keyword","selectMode","listingMode","pagination","elevation","selectedRegions","onChangeSelectedRegions","autoSelect","onChangeAutoSelect","onChangeTags","onChangeGroups","onChangeKeyword"],ti=Object(Aa.a)(La.a)((function(e){var t=e.theme;return{"& .MuiToggleButtonGroup-grouped":{margin:t.spacing(.5),border:0,"&.Mui-disabled":{border:0},"&:not(:first-of-type)":{borderRadius:t.shape.borderRadius},"&:first-of-type":{borderRadius:t.shape.borderRadius}}}})),ni=function(e){var t=e.tags,n=void 0===t?Xa:t,i=e.groups,r=void 0===i?$a:i,o=e.regions,s=e.loading,c=e.onToggleSelectMode,d=e.onChangeListingMode,p=e.keyword,b=void 0===p?"":p,f=e.selectMode,j=void 0===f?"none":f,m=e.listingMode,h=void 0===m?"all":m,v=e.pagination,g=void 0===v?{page:1,pages:1,count:0,rpp:10}:v,O=e.elevation,x=void 0===O?0:O,y=e.selectedRegions,w=void 0===y?[]:y,k=e.onChangeSelectedRegions,N=e.autoSelect,_=e.onChangeAutoSelect,S=e.onChangeTags,C=e.onChangeGroups,A=e.onChangeKeyword,F=Object(T.a)(e,ei),P=Object(ie.p)({menuAnchorEl:null,popoverAnchorEl:null,filterView:"location",dialogOpen:!1,selectedGeojsons:[],pagination:g,tags:[]}),D=Object(u.a)(P,2),E=D[0],q=D[1],M=Object(ie.g)().getAdminLevelName,I=Object(a.useRef)(null);Object(ie.d)((function(){I.current&&(I.current.val=b)}),[b]);var L=Object(a.useCallback)((function(e,t){q({filterView:t,popoverAnchorEl:e.currentTarget})}),[]),z=Object(a.useCallback)((function(e){Function.isFunction(_)&&_(e.target.checked)}),[_]),V=Object(a.useCallback)((function(){Function.isFunction(c)&&c("all"===j||"some"===j?"none":"all")}),[c,j]),W=Object(a.useCallback)((function(e,t){q((function(e){return{pagination:Object(l.a)(Object(l.a)({},e.pagination),{},{page:t})}}))}),[]),J=Object(a.useCallback)((function(e){q((function(t){return{pagination:Object(l.a)(Object(l.a)({},t.pagination),{},{rpp:parseInt(e.target.value,10)})}}))}),[]),B=Object(a.useCallback)((function(e){e.preventDefault(),Function.isFunction(A)&&A()}),[A]),U=Object(a.useCallback)(Function.debounce((function(e){var t=e.target.value;Function.isFunction(A)&&A(t)}),500),[A]),G=Object(a.useCallback)((function(e){Function.isFunction(d)&&d(e.target.value)}),[d,h]),H=Object(a.useCallback)((function(e,t){Function.isFunction(S)&&S(Array.isArray(t)?t:[])}),[S]),K=Object(a.useCallback)((function(e,t){Function.isFunction(C)&&C(Array.isArray(t)?t:[])}),[C]),Y=Object(a.useCallback)((function(e){return function(t){if(Function.isFunction(k)){var n=Array.isArray(w)?Object(de.a)(w):[],a=n.indexOf(e);-1!==a?n.splice(a,1):n.push(e),k(n)}}}),[k,w]);return Object(R.jsxs)(Pn.a,Object(l.a)(Object(l.a)({container:!0,spacing:2},F),{},{children:[Object(R.jsx)(Pn.a,{item:!0,xs:12,className:"flex flex-col",children:Object(R.jsxs)(Pn.a,{container:!0,spacing:2,children:[Object(R.jsx)(Pn.a,{item:!0,xs:12,md:6,children:Object(R.jsx)(ka.a,{elevation:x,sx:{border:function(e){return"1px solid ".concat(e.palette.divider)},backgroundColor:function(e){return"".concat(e.palette.background.paper)}},children:Object(R.jsxs)(Ma.a,{sx:{m:3},component:"fieldset",variant:"standard",children:[Object(R.jsx)(Ia.a,{component:"legend",children:"Workforce Selection"}),Object(R.jsx)(Sa.a,{children:Object(R.jsx)(qa.a,{control:Object(R.jsx)(Oa.a,{checked:N,onChange:z,name:"autoselect"}),label:"Auto Select"})}),Object(R.jsx)(Ta.a,{children:"Realfield will create a workforce for you based on your project's parameters"})]})})}),Object(R.jsx)(Pn.a,{item:!0,xs:12,md:6,children:Object(R.jsx)(ka.a,{elevation:x,className:"h-full w-full flex items-center justify-center",sx:{border:function(e){return"1px solid ".concat(e.palette.divider)},backgroundColor:function(e){return"".concat(e.palette.background.paper)}},children:Object(R.jsxs)(Ma.a,{className:"h-full w-full flex flex-col items-center justify-center",sx:{m:3},component:"fieldset",variant:"standard",children:[Object(R.jsxs)(Sa.a,{children:[Object(R.jsx)(Tt.a,{className:"text-center",children:"Options"}),Object(R.jsxs)(ti,{size:"small",color:"primary",value:E.filterView,exclusive:!0,onChange:L,"aria-label":"open actions",children:[Object(R.jsx)(Ra.a,{value:"tags","aria-label":"Tags",children:Object(R.jsx)(Xn.a,{title:"Tags",children:Object(R.jsx)(Ya.a,{})})}),Object(R.jsx)(Ra.a,{value:"groups","aria-label":"Groups",children:Object(R.jsx)(Xn.a,{title:"groups",children:Object(R.jsx)(Za.a,{})})}),!N&&Object(R.jsx)(Ra.a,{value:"listingMode","aria-label":"Listing Mode",children:Object(R.jsx)(Xn.a,{title:"Selection Mode",children:Object(R.jsx)(Va.a,{})})}),!N&&Object(R.jsx)(Ra.a,{value:"location","aria-label":"Select Location",children:Object(R.jsx)(Xn.a,{title:"Select Boundary",children:Object(R.jsx)(Ua.a,{})})}),!N&&Object(R.jsx)(Ra.a,{value:"pagination","aria-label":"Pagination",children:Object(R.jsx)(Xn.a,{title:"Pagination",children:Object(R.jsx)(Pa.a,{})})})]})]}),Object(R.jsx)(Ta.a,{children:"Workforce selection options"})]})})})]})}),Object(R.jsx)(Pn.a,{item:!0,xs:12,children:!!E.filterView&&Object(R.jsxs)(ka.a,{elevation:x,className:"p-4",sx:{display:"flex",backgroundColor:function(e){return"".concat(e.palette.background.paper)},flexWrap:"wrap"},children:["tags"===E.filterView&&Object(R.jsx)(le.a,{className:"flex flex-row w-full items-center justify-center",children:Object(R.jsx)(_a.a,{multiple:!0,limitTags:20,id:"tags-autocomplete",className:"w-full",onChange:H,options:Xa,value:n,renderInput:function(e){return Object(R.jsx)(jn.a,Object(l.a)(Object(l.a)({},e),{},{label:"Tags",placeholder:"Tags",variant:"standard",fullWidth:!0}))}})}),"groups"===E.filterView&&Object(R.jsx)(le.a,{className:"flex flex-row w-full items-center justify-center",children:Object(R.jsx)(_a.a,{multiple:!0,limitTags:20,id:"groups-autocomplete",options:$a,value:r,onChange:K,renderInput:function(e){return Object(R.jsx)(jn.a,Object(l.a)(Object(l.a)({},e),{},{label:"Groups",placeholder:"Groups",variant:"standard",fullWidth:!0}))}})}),"pagination"===E.filterView&&Object(R.jsxs)(le.a,{className:"flex flex-row w-full items-center justify-center",children:[Object(R.jsx)(Tt.a,{className:"mx-4",children:"Page ".concat((null===g||void 0===g?void 0:g.page)||1," of  ").concat((null===g||void 0===g?void 0:g.pages)||1)}),Object(R.jsx)(Ca.a,{component:"div",count:(null===g||void 0===g?void 0:g.count)||0,page:(null===g||void 0===g?void 0:g.page)||1,onPageChange:W,rowsPerPage:(null===g||void 0===g?void 0:g.rpp)||10,onRowsPerPageChange:J})]}),"listingMode"===E.filterView&&Object(R.jsxs)(Ma.a,{component:"fieldset",children:[Object(R.jsx)(Ia.a,{component:"legend",children:"Show"}),Object(R.jsxs)(Ea.a,{row:!0,"aria-label":"listing-mode",name:"listing-mode-group",value:h,onChange:G,children:[Object(R.jsx)(qa.a,{value:"all",control:Object(R.jsx)(Da.a,{}),label:"All"}),Object(R.jsx)(qa.a,{value:"selected-only",control:Object(R.jsx)(Da.a,{}),label:"Selected only"}),Object(R.jsx)(qa.a,{value:"non-selected-only",control:Object(R.jsx)(Da.a,{}),label:"Non-selected only"})]})]}),"location"===E.filterView&&Object(R.jsxs)(Ma.a,{component:"fieldset",children:[Object(R.jsx)(Ia.a,{component:"legend",className:"px-4",children:"Regions"}),Object(R.jsx)(Ta.a,{id:"regions-helper-text",children:"Click a region to select or deselect."}),Object(R.jsx)(Sa.a,{className:"flex flex-row flex-wrap",children:Array.isArray(o)&&o.map((function(e,t){return Object(R.jsx)(oa.a,{className:"m-2 cursor-pointer",label:M(e),onClick:Y(t),color:Array.isArray(w)&&w.includes(t)?"primary":"default",variant:Array.isArray(w)&&w.includes(t)?"filled":"outlined",icon:Array.isArray(w)&&w.includes(t)?Object(R.jsx)(Ha.a,{}):void 0},"geojson-".concat(t))}))})]})]})}),!N&&Object(R.jsx)(Pn.a,{item:!0,xs:12,children:Object(R.jsxs)(ka.a,{component:"div",sx:{p:"2px 4px",display:"flex",alignItems:"center",width:"100%",border:function(e){return"1px solid ".concat(e.palette.divider)}},elevation:x,children:[Object(R.jsx)(Xn.a,{title:"all"===j||"some"===j?"Clear selected":"Select All",children:Object(R.jsx)(Oa.a,{inputProps:{"aria-label":"Toggle Selection"},checked:"some"===j||"all"===j,indeterminate:"some"===j,onChange:V,disabled:s,sx:{"& .MuiSvgIcon-root":{fontSize:28}}})}),Object(R.jsxs)("form",{className:"flex-grow flex flex-row m-0 p-0",onSubmit:B,noValidate:!0,children:[Object(R.jsx)(Na.c,{sx:{ml:1,flex:1},placeholder:"Search",inputProps:{"aria-label":"Search..."},inputRef:I,defaultValue:b,onChange:U}),Object(R.jsx)(je.a,{type:"submit",sx:{p:"10px"},"aria-label":"search",disabled:s,children:Object(R.jsx)(Ja.a,{})})]})]})})]}))},ai=i.a.memo(ni),ii="workforce",ri=function(e){var t=e.onSubmit,n=(e.description,e.itemHeight),i=void 0===n?400:n,r=Object(oe.a)(),o=Object(U.a)(r.breakpoints.down("xs")),s=Object(U.a)(r.breakpoints.down("sm")),c=Object(U.a)(r.breakpoints.down("md")),d=Object(U.a)(r.breakpoints.down("lg")),p=Object(U.a)(r.breakpoints.up("xl")),b=o?1:s?2:c?3:p?5:4,f=Object(fa.a)(),j=Object(u.a)(f,2),m=j[0],h=j[1],v=Object(a.useRef)(null),g=Object(a.useRef)(!0),O=Object(ja.a)(),x=O.width,y=(O.height,h.width||x*(s?.95:.75)),w=y/b-4,k=Object(ie.l)({name:"projectcomposer",defaultValues:{stage:ii}}),N=(k.Field,k.values),_=k.getValues,S=k.setValue,C=k.register,A=k.formState,F=k.handleSubmit,P=JSON.getDeepPropertyValue("stages.".concat(ii),N||{})||{},D=JSON.getDeepPropertyValue("stages.respondents.regions",N)||[],E=JSON.getDeepPropertyValue("stages.".concat(ii,".fielders"),N)||[],T=void 0===JSON.getDeepPropertyValue("stages.".concat(ii,".autoSelect"),N)||JSON.getDeepPropertyValue("stages.".concat(ii,".autoSelect"),N),q=Object(a.useRef)(E),M=Object(a.useRef)({sort:"first_name",pagination:10*b}),I=(Object(a.useMemo)((function(){return JSON.getDeepPropertyValue("stages.".concat(ii,".state"),N)||{}}),[N]),A.isValid),L=Object(ie.p)({loading:!1,containerWidth:y,itemWidth:w,columns:b,bodyScrollLocked:!1,selectMode:"none",listingMode:"all",selectedRegions:[],records_chunks:[],records:[],error:null,pagination:10*b,page:1,pages:1,count:0,keyword:"",query:{asc:"first_name"},tags:Xa,groups:$a}),z=Object(u.a)(L,4),V=z[0],W=z[1],J=z[2],B=z[3],G=Object(ie.g)(),H=(G.getBoundingBox,G.getAdminLevelName,Object(a.useCallback)((function(e,t){S(e,t)}),[]));Object(ie.d)((function(){Object.areEqual(E,q.current)||te()}),[E]),Object(ie.r)((function(){var e=B();Object.difference(V,e)}));var K=Object(a.useCallback)((function(e){Function.isFunction(t)&&t(e)}),[t,P]),Y=Object(a.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=J(),a=n.columns,i=n.records,r=(n.records_chunks,Object(l.a)(Object(l.a)({},M.current),e));a>0&&(W({loading:!0,error:null,records:t?i:[]}),lt.a.get("people/fielders/recommendations",{params:Object(l.a)({},r)}).then((function(e){var n=e.body,a=n.data,o=void 0===a?[]:a,s=n.pages,l=void 0===s?1:s,c=n.page,u=void 0===c?1:c,d=n.count,p=void 0===d?1:d;M.current=r,W({records:t&&Array.isArray(i)?i.concat(o):o,loading:!1,page:u,pages:l,count:p,error:null})})).catch((function(e){W({records:t&&Array.isArray(i)?i:[],loading:!1,error:e})})))}),[]),Q=Object(a.useCallback)((function(e){var t=J();t.selectMode!=e&&(W({selectMode:e}),"none"===e?(q.current=[],S("stages.".concat(ii,".fielders"),[])):"all"===e&&(q.current=t.records,S("stages.".concat(ii,".fielders"),t.records)))}),[]),Z=Object(a.useCallback)((function(){var e=J(),t=e.loading,n=e.page,a=e.pages,i=e.pagination;e.query;if(!t&&n<a){JSON.merge(M.current,{pagination:i,page:n+1});Y({pagination:i,page:n+1},!0)}}),[]);Object(ie.d)((function(){J().query;var e=[];if(Array.isArray(V.selectedRegions))for(var t=0;t<V.selectedRegions.length;t++){var n,a,i=(null===(n=D[V.selectedRegions[t]])||void 0===n||null===(a=n.properties)||void 0===a?void 0:a._id)||!1;i&&e.push(i)}Y({boundaries:e,page:1},!1)}),[V.selectedRegions]),Object(ie.d)((function(){var e=o?1:s?2:c?3:p?5:4,t=10*e,n=h.width,a=J(),i=a.records;a.loading;W({containerWidth:n,itemWidth:n/e-4,columns:e,records_chunks:Array.isArray(i)?i.chunks(e):[],pagination:t}),Y({pagination:t})}),[h,s,c,d,o,p]),Object(ie.c)((function(){var e=[],t=[];if(Array.isArray(D))for(var n=0;n<D.length;n++){var a,i=(null===(a=D[n].properties)||void 0===a?void 0:a._id)||!1;i&&t.push(i),e.push(n)}W({selectedRegions:e}),M.current=Object(l.a)(Object(l.a)({},M.current),{},{boundaries:t}),C("stages.".concat(ii,".fielders"),{validate:{isNotEmpty:function(e){return JSON.getDeepPropertyValue("stages.".concat(ii,".autoSelect"),_())||!Array.isEmpty(e)||"Fielders are Required"}}}),void 0===JSON.getDeepPropertyValue("stages.".concat(ii,".autoSelect"),N)&&S("stages.".concat(ii,".autoSelect"),!0)}));Object(a.useCallback)((function(){J()}),[]);var X=Object(a.useCallback)((function(){g.current||(Z(),g.current=!0)}),[]),$=Object(a.useCallback)((function(){g.current=!1}),[]),ee=Object(a.useCallback)((function(e){var t=-1;return Array.isArray(q.current)?t=q.current.findIndex((function(t){return(null===t||void 0===t?void 0:t._id)==(null===e||void 0===e?void 0:e._id)})):(q.current=[],S("stages.".concat(ii,".fielders"),[])),t}),[]),te=Object(a.useCallback)((function(){var e=J();if(Array.isArray(q.current)&&Array.isArray(e.records))if(0!==q.current.length||"all"!==e.selectMode&&"some"!==e.selectMode)if(q.current.length>0){var t=!0;if(e.records.length>0)for(var n=0;n<e.records.length;n++){if(-1===ee(e.records[n])&&t){t=!1;break}}else t=!1;W({selectMode:t?"all":"some"})}else W({selectMode:"none"});else W({selectMode:"none"});else W({selectMode:"none"})}),[]),ne=Object(a.useCallback)((function(e){if(-1===ee(e)){if(Array.isArray(q.current)){var t=q.current;t.push(e),q.current=t}else q.current=[e];S("stages.".concat(ii,".fielders"),q.current),te()}}),[]),ae=Object(a.useCallback)((function(e){var t=ee(e);if(-1!==t){J();var n=q.current.removeAtIndex(t)||[];q.current=n,S("stages.".concat(ii,".fielders"),q.current),te()}}),[]),re=Object(a.useCallback)((function(e){W({selectedRegions:e})}),[]),se=Object(a.useCallback)((function(e){W({listingMode:e})}),[]),ce=Object(a.useCallback)((function(e){H("stages.".concat(ii,".autoSelect"),e),e&&(q.current=[],H("stages.".concat(ii,".fielders"),[]))}),[]),ue=Object(a.useCallback)((function(e){W({tags:e})}),[]),de=Object(a.useCallback)((function(e){W({groups:e})}),[]),pe=Object(a.useCallback)((function(e){console.log("handleOnChangeKeyword keywordVal",e,n!==e&&e&&e.trim().length>=3);var t=J(),n=t.keyword,a=t.loading;if(!a&&n!==e&&e&&e.trim().length>=3)Y({q:e,page:1},!1),W({keyword:e.trim()});else if(!a&&!String.isEmpty(n)){W({keyword:""});var i=JSON.fromJSON(M.current);delete i.q,M.current=i,Y({page:1},!1)}}),[]),be=Object(a.useCallback)((function(e){return function(t){if(e)if(M.current.gender!==e)Y({gender:e,page:1},!1);else{var n=JSON.fromJSON(M.current);delete n.gender,M.current=n,Y({page:1},!1)}}}),[]),fe=Object(a.useCallback)((function(e){return function(t){if(e)if(M.current.q!==e)W({keyword:e}),Y({q:e,page:1},!1);else{W({keyword:""});var n=JSON.fromJSON(M.current);delete n.q,M.current=n,Y({page:1},!1)}}}),[]),je=Object(a.useCallback)((function(e){var t=e.index,n=e.key,a=e.parent,i=e.style,r=J(),o=r.records,s=(r.columns,!!Array.isArray(o)&&o[t]);if(s){var l=-1!==ee(s);return Object(R.jsx)("div",{className:"p-2",style:i,parent:a,children:Object(R.jsx)(wa,{fielder:s,selected:l,onSelect:ne,onDeselect:ae,onClickGender:be(null===s||void 0===s?void 0:s.gender),onClickCourse:fe(null===s||void 0===s?void 0:s.course)})},n)}return Object(R.jsx)("div",{className:"p-2",style:i,parent:a},n)}),[]),me=Object(a.useCallback)((function(e){e.preventDefault()}),[]),he=Object(a.useCallback)((function(){window.addEventListener("scroll",me)}),[]),ve=Object(a.useCallback)((function(e){window.removeEventListener("scroll",me)}),[]);Object(a.useEffect)((function(){return te(),function(){window.removeEventListener("scroll",me)}}),[E]);V.records;return console.log("state.records",V.records),Object(R.jsxs)(Nt.a,{className:"p-0",sx:{backgroundColor:function(e){return"".concat(e.palette.deep_purple)}},children:[Object(R.jsx)(_t.a,{xs:12,className:"p-0",children:Object(R.jsx)("div",{className:"w-full",ref:m})}),Object(R.jsx)(_t.a,{xs:12,className:"p-4",children:Object(R.jsx)(ai,{regions:D,selectMode:V.selectMode,loading:V.loading,keyword:V.keyword||"",listingMode:V.listingMode,autoSelect:T,tags:V.tags,groups:V.groups,pagination:{pages:V.pages,page:V.page,count:V.count,rpp:V.pagination},selectedRegions:V.selectedRegions,onToggleSelectMode:Q,onChangeSelectedRegions:re,onChangeListingMode:se,onChangeAutoSelect:ce,onChangeTags:ue,onChangeGroups:de,onChangeKeyword:pe})}),T&&Object(R.jsxs)(_t.a,{xs:12,className:"flex flex-col items-center justify-center p-8",children:[Object(R.jsx)(le.a,{className:"h-72 w-72 shadow flex flex-col items-center justify-center rounded-full",sx:{backgroundColor:function(e){return e.palette.background.paper}},children:Object(R.jsx)(ca.a,{sx:{fontSize:"10rem"}})}),Object(R.jsx)(Tt.a,{className:"m-8",children:"Auto Select Workforce"}),Object(R.jsx)(Tt.a,{className:"m-8",variant:"body2",color:"text.secondary",children:"Realfield will create a workforce for you based on your project's parameters"})]}),!T&&Object(R.jsx)(_t.a,{xs:12,className:"p-0",onMouseEnter:he,onMouseLeave:ve,children:Object(R.jsx)(qe.a,{className:"max-h-screen ",onYReachEnd:X,onScrollDown:$,ref:v,children:Object(R.jsxs)(Nt.a,{className:"p-0",children:[Object(R.jsx)("div",{className:"w-full"}),Object(R.jsx)(_t.a,{className:"w-full py-2 flex  justify-center items-center",children:Array.isArray(V.records)&&V.containerWidth>0&&Object(R.jsx)(ba,{data:V.records,cellRenderer:je,itemWidth:w,columnCount:b,itemHeight:i})}),!V.loading&&(!Array.isArray(V.records)||Array.isArray(V.records)&&0===V.records.length)&&Object(R.jsxs)(_t.a,{className:"p-8 flex flex-col justify-center items-center",children:[Object(R.jsx)("img",{alt:"Empty state",className:"h-40",src:lt.a.endpoint("/public/img/empty-state-table.svg")}),Object(R.jsx)(Tt.a,{className:"m-4",color:"text.secondary",variant:"body2",children:"No Records found"})]}),V.loading&&Object(R.jsx)(_t.a,{className:"p-8 flex flex-col justify-center items-center",children:Object(R.jsx)(mn.a,{color:"accent"})})]})})}),Object(R.jsx)(_t.a,{className:"flex flex-col items-center  py-8",children:Object(R.jsx)(mt.a,{onClick:F(K),disabled:!I,color:"accent",variant:"contained",children:"Review Project"})})]})},oi=i.a.memo(ri),si=n(1822),li=n(449),ci=n.n(li),ui=["label","value","multiple","variant"];function di(e){var t=e.label,n=e.value,i=e.multiple,r=e.variant,o=Object(T.a)(e,ui),s=a.useMemo((function(){if(n){var e=pi.filter((function(e){var t,a,i;if(String.isString(n)||JSON.isJSON(n))return String.isString(n)?e.code.toLowerCase()===n.toLowerCase()||e.label.toLowerCase()===n.toLowerCase()||e.phone.toLowerCase()===n.toLowerCase():e.code.toLowerCase()===(null===n||void 0===n||null===(t=n.code)||void 0===t?void 0:t.toLowerCase())||e.label.toLowerCase()===(null===n||void 0===n||null===(a=n.label)||void 0===a?void 0:a.toLowerCase())||e.phone.toLowerCase()===(null===n||void 0===n||null===(i=n.phone)||void 0===i?void 0:i.toLowerCase());if(Array.isArray(n)){for(var r=!1,o=0;o<n.length;o++){var s,l,c;if(String.isString(n[o])||JSON.isJSON(n[o])&&!r)if(String.isString(n[o]))r=e.code.toLowerCase()===n[o].toLowerCase()||e.label.toLowerCase()===n[o].toLowerCase()||e.phone.toLowerCase()===n[o].toLowerCase();else r=e.code.toLowerCase()===(null===(s=n[o].code)||void 0===s?void 0:s.toLowerCase())||e.label.toLowerCase()===(null===(l=n[o].label)||void 0===l?void 0:l.toLowerCase())||e.phone.toLowerCase()===(null===(c=n[o].phone)||void 0===c?void 0:c.toLowerCase())}return r}return!1}));return i?e:e[0]}}),[n,i]);return Object(R.jsx)(_a.a,Object(l.a)({options:pi,value:s,autoHighlight:!0,getOptionLabel:function(e){return e.label},renderOption:function(e,t){return Object(R.jsxs)(le.a,Object(l.a)(Object(l.a)({component:"li",sx:{"& > img":{mr:2,flexShrink:0}}},e),{},{children:[Object(R.jsx)("img",{loading:"lazy",width:"20",src:"https://flagcdn.com/w20/".concat(t.code.toLowerCase(),".png"),srcSet:"https://flagcdn.com/w40/".concat(t.code.toLowerCase(),".png 2x"),alt:""}),t.label," (",t.code,") +",t.phone]}))},renderInput:function(e){return Object(R.jsx)(jn.a,Object(l.a)(Object(l.a)({},e),{},{label:t,variant:r||"standard",inputProps:Object(l.a)(Object(l.a)({},e.inputProps),{},{autoComplete:"new-password"})}))},multiple:i},o))}var pi=[{code:"AD",label:"Andorra",phone:"376"},{code:"AE",label:"United Arab Emirates",phone:"971"},{code:"AF",label:"Afghanistan",phone:"93"},{code:"AG",label:"Antigua and Barbuda",phone:"1-268"},{code:"AI",label:"Anguilla",phone:"1-264"},{code:"AL",label:"Albania",phone:"355"},{code:"AM",label:"Armenia",phone:"374"},{code:"AO",label:"Angola",phone:"244"},{code:"AQ",label:"Antarctica",phone:"672"},{code:"AR",label:"Argentina",phone:"54"},{code:"AS",label:"American Samoa",phone:"1-684"},{code:"AT",label:"Austria",phone:"43"},{code:"AU",label:"Australia",phone:"61",suggested:!0},{code:"AW",label:"Aruba",phone:"297"},{code:"AX",label:"Alland Islands",phone:"358"},{code:"AZ",label:"Azerbaijan",phone:"994"},{code:"BA",label:"Bosnia and Herzegovina",phone:"387"},{code:"BB",label:"Barbados",phone:"1-246"},{code:"BD",label:"Bangladesh",phone:"880"},{code:"BE",label:"Belgium",phone:"32"},{code:"BF",label:"Burkina Faso",phone:"226"},{code:"BG",label:"Bulgaria",phone:"359"},{code:"BH",label:"Bahrain",phone:"973"},{code:"BI",label:"Burundi",phone:"257"},{code:"BJ",label:"Benin",phone:"229"},{code:"BL",label:"Saint Barthelemy",phone:"590"},{code:"BM",label:"Bermuda",phone:"1-441"},{code:"BN",label:"Brunei Darussalam",phone:"673"},{code:"BO",label:"Bolivia",phone:"591"},{code:"BR",label:"Brazil",phone:"55"},{code:"BS",label:"Bahamas",phone:"1-242"},{code:"BT",label:"Bhutan",phone:"975"},{code:"BV",label:"Bouvet Island",phone:"47"},{code:"BW",label:"Botswana",phone:"267"},{code:"BY",label:"Belarus",phone:"375"},{code:"BZ",label:"Belize",phone:"501"},{code:"CA",label:"Canada",phone:"1",suggested:!0},{code:"CC",label:"Cocos (Keeling) Islands",phone:"61"},{code:"CD",label:"Congo, Democratic Republic of the",phone:"243"},{code:"CF",label:"Central African Republic",phone:"236"},{code:"CG",label:"Congo, Republic of the",phone:"242"},{code:"CH",label:"Switzerland",phone:"41"},{code:"CI",label:"Cote d'Ivoire",phone:"225"},{code:"CK",label:"Cook Islands",phone:"682"},{code:"CL",label:"Chile",phone:"56"},{code:"CM",label:"Cameroon",phone:"237"},{code:"CN",label:"China",phone:"86"},{code:"CO",label:"Colombia",phone:"57"},{code:"CR",label:"Costa Rica",phone:"506"},{code:"CU",label:"Cuba",phone:"53"},{code:"CV",label:"Cape Verde",phone:"238"},{code:"CW",label:"Curacao",phone:"599"},{code:"CX",label:"Christmas Island",phone:"61"},{code:"CY",label:"Cyprus",phone:"357"},{code:"CZ",label:"Czech Republic",phone:"420"},{code:"DE",label:"Germany",phone:"49",suggested:!0},{code:"DJ",label:"Djibouti",phone:"253"},{code:"DK",label:"Denmark",phone:"45"},{code:"DM",label:"Dominica",phone:"1-767"},{code:"DO",label:"Dominican Republic",phone:"1-809"},{code:"DZ",label:"Algeria",phone:"213"},{code:"EC",label:"Ecuador",phone:"593"},{code:"EE",label:"Estonia",phone:"372"},{code:"EG",label:"Egypt",phone:"20"},{code:"EH",label:"Western Sahara",phone:"212"},{code:"ER",label:"Eritrea",phone:"291"},{code:"ES",label:"Spain",phone:"34"},{code:"ET",label:"Ethiopia",phone:"251"},{code:"FI",label:"Finland",phone:"358"},{code:"FJ",label:"Fiji",phone:"679"},{code:"FK",label:"Falkland Islands (Malvinas)",phone:"500"},{code:"FM",label:"Micronesia, Federated States of",phone:"691"},{code:"FO",label:"Faroe Islands",phone:"298"},{code:"FR",label:"France",phone:"33",suggested:!0},{code:"GA",label:"Gabon",phone:"241"},{code:"GB",label:"United Kingdom",phone:"44"},{code:"GD",label:"Grenada",phone:"1-473"},{code:"GE",label:"Georgia",phone:"995"},{code:"GF",label:"French Guiana",phone:"594"},{code:"GG",label:"Guernsey",phone:"44"},{code:"GH",label:"Ghana",phone:"233"},{code:"GI",label:"Gibraltar",phone:"350"},{code:"GL",label:"Greenland",phone:"299"},{code:"GM",label:"Gambia",phone:"220"},{code:"GN",label:"Guinea",phone:"224"},{code:"GP",label:"Guadeloupe",phone:"590"},{code:"GQ",label:"Equatorial Guinea",phone:"240"},{code:"GR",label:"Greece",phone:"30"},{code:"GS",label:"South Georgia and the South Sandwich Islands",phone:"500"},{code:"GT",label:"Guatemala",phone:"502"},{code:"GU",label:"Guam",phone:"1-671"},{code:"GW",label:"Guinea-Bissau",phone:"245"},{code:"GY",label:"Guyana",phone:"592"},{code:"HK",label:"Hong Kong",phone:"852"},{code:"HM",label:"Heard Island and McDonald Islands",phone:"672"},{code:"HN",label:"Honduras",phone:"504"},{code:"HR",label:"Croatia",phone:"385"},{code:"HT",label:"Haiti",phone:"509"},{code:"HU",label:"Hungary",phone:"36"},{code:"ID",label:"Indonesia",phone:"62"},{code:"IE",label:"Ireland",phone:"353"},{code:"IL",label:"Israel",phone:"972"},{code:"IM",label:"Isle of Man",phone:"44"},{code:"IN",label:"India",phone:"91"},{code:"IO",label:"British Indian Ocean Territory",phone:"246"},{code:"IQ",label:"Iraq",phone:"964"},{code:"IR",label:"Iran, Islamic Republic of",phone:"98"},{code:"IS",label:"Iceland",phone:"354"},{code:"IT",label:"Italy",phone:"39"},{code:"JE",label:"Jersey",phone:"44"},{code:"JM",label:"Jamaica",phone:"1-876"},{code:"JO",label:"Jordan",phone:"962"},{code:"JP",label:"Japan",phone:"81",suggested:!0},{code:"KE",label:"Kenya",phone:"254"},{code:"KG",label:"Kyrgyzstan",phone:"996"},{code:"KH",label:"Cambodia",phone:"855"},{code:"KI",label:"Kiribati",phone:"686"},{code:"KM",label:"Comoros",phone:"269"},{code:"KN",label:"Saint Kitts and Nevis",phone:"1-869"},{code:"KP",label:"Korea, Democratic People's Republic of",phone:"850"},{code:"KR",label:"Korea, Republic of",phone:"82"},{code:"KW",label:"Kuwait",phone:"965"},{code:"KY",label:"Cayman Islands",phone:"1-345"},{code:"KZ",label:"Kazakhstan",phone:"7"},{code:"LA",label:"Lao People's Democratic Republic",phone:"856"},{code:"LB",label:"Lebanon",phone:"961"},{code:"LC",label:"Saint Lucia",phone:"1-758"},{code:"LI",label:"Liechtenstein",phone:"423"},{code:"LK",label:"Sri Lanka",phone:"94"},{code:"LR",label:"Liberia",phone:"231"},{code:"LS",label:"Lesotho",phone:"266"},{code:"LT",label:"Lithuania",phone:"370"},{code:"LU",label:"Luxembourg",phone:"352"},{code:"LV",label:"Latvia",phone:"371"},{code:"LY",label:"Libya",phone:"218"},{code:"MA",label:"Morocco",phone:"212"},{code:"MC",label:"Monaco",phone:"377"},{code:"MD",label:"Moldova, Republic of",phone:"373"},{code:"ME",label:"Montenegro",phone:"382"},{code:"MF",label:"Saint Martin (French part)",phone:"590"},{code:"MG",label:"Madagascar",phone:"261"},{code:"MH",label:"Marshall Islands",phone:"692"},{code:"MK",label:"Macedonia, the Former Yugoslav Republic of",phone:"389"},{code:"ML",label:"Mali",phone:"223"},{code:"MM",label:"Myanmar",phone:"95"},{code:"MN",label:"Mongolia",phone:"976"},{code:"MO",label:"Macao",phone:"853"},{code:"MP",label:"Northern Mariana Islands",phone:"1-670"},{code:"MQ",label:"Martinique",phone:"596"},{code:"MR",label:"Mauritania",phone:"222"},{code:"MS",label:"Montserrat",phone:"1-664"},{code:"MT",label:"Malta",phone:"356"},{code:"MU",label:"Mauritius",phone:"230"},{code:"MV",label:"Maldives",phone:"960"},{code:"MW",label:"Malawi",phone:"265"},{code:"MX",label:"Mexico",phone:"52"},{code:"MY",label:"Malaysia",phone:"60"},{code:"MZ",label:"Mozambique",phone:"258"},{code:"NA",label:"Namibia",phone:"264"},{code:"NC",label:"New Caledonia",phone:"687"},{code:"NE",label:"Niger",phone:"227"},{code:"NF",label:"Norfolk Island",phone:"672"},{code:"NG",label:"Nigeria",phone:"234"},{code:"NI",label:"Nicaragua",phone:"505"},{code:"NL",label:"Netherlands",phone:"31"},{code:"NO",label:"Norway",phone:"47"},{code:"NP",label:"Nepal",phone:"977"},{code:"NR",label:"Nauru",phone:"674"},{code:"NU",label:"Niue",phone:"683"},{code:"NZ",label:"New Zealand",phone:"64"},{code:"OM",label:"Oman",phone:"968"},{code:"PA",label:"Panama",phone:"507"},{code:"PE",label:"Peru",phone:"51"},{code:"PF",label:"French Polynesia",phone:"689"},{code:"PG",label:"Papua New Guinea",phone:"675"},{code:"PH",label:"Philippines",phone:"63"},{code:"PK",label:"Pakistan",phone:"92"},{code:"PL",label:"Poland",phone:"48"},{code:"PM",label:"Saint Pierre and Miquelon",phone:"508"},{code:"PN",label:"Pitcairn",phone:"870"},{code:"PR",label:"Puerto Rico",phone:"1"},{code:"PS",label:"Palestine, State of",phone:"970"},{code:"PT",label:"Portugal",phone:"351"},{code:"PW",label:"Palau",phone:"680"},{code:"PY",label:"Paraguay",phone:"595"},{code:"QA",label:"Qatar",phone:"974"},{code:"RE",label:"Reunion",phone:"262"},{code:"RO",label:"Romania",phone:"40"},{code:"RS",label:"Serbia",phone:"381"},{code:"RU",label:"Russian Federation",phone:"7"},{code:"RW",label:"Rwanda",phone:"250"},{code:"SA",label:"Saudi Arabia",phone:"966"},{code:"SB",label:"Solomon Islands",phone:"677"},{code:"SC",label:"Seychelles",phone:"248"},{code:"SD",label:"Sudan",phone:"249"},{code:"SE",label:"Sweden",phone:"46"},{code:"SG",label:"Singapore",phone:"65"},{code:"SH",label:"Saint Helena",phone:"290"},{code:"SI",label:"Slovenia",phone:"386"},{code:"SJ",label:"Svalbard and Jan Mayen",phone:"47"},{code:"SK",label:"Slovakia",phone:"421"},{code:"SL",label:"Sierra Leone",phone:"232"},{code:"SM",label:"San Marino",phone:"378"},{code:"SN",label:"Senegal",phone:"221"},{code:"SO",label:"Somalia",phone:"252"},{code:"SR",label:"Suriname",phone:"597"},{code:"SS",label:"South Sudan",phone:"211"},{code:"ST",label:"Sao Tome and Principe",phone:"239"},{code:"SV",label:"El Salvador",phone:"503"},{code:"SX",label:"Sint Maarten (Dutch part)",phone:"1-721"},{code:"SY",label:"Syrian Arab Republic",phone:"963"},{code:"SZ",label:"Swaziland",phone:"268"},{code:"TC",label:"Turks and Caicos Islands",phone:"1-649"},{code:"TD",label:"Chad",phone:"235"},{code:"TF",label:"French Southern Territories",phone:"262"},{code:"TG",label:"Togo",phone:"228"},{code:"TH",label:"Thailand",phone:"66"},{code:"TJ",label:"Tajikistan",phone:"992"},{code:"TK",label:"Tokelau",phone:"690"},{code:"TL",label:"Timor-Leste",phone:"670"},{code:"TM",label:"Turkmenistan",phone:"993"},{code:"TN",label:"Tunisia",phone:"216"},{code:"TO",label:"Tonga",phone:"676"},{code:"TR",label:"Turkey",phone:"90"},{code:"TT",label:"Trinidad and Tobago",phone:"1-868"},{code:"TV",label:"Tuvalu",phone:"688"},{code:"TW",label:"Taiwan, Province of China",phone:"886"},{code:"TZ",label:"United Republic of Tanzania",phone:"255"},{code:"UA",label:"Ukraine",phone:"380"},{code:"UG",label:"Uganda",phone:"256"},{code:"US",label:"United States",phone:"1",suggested:!0},{code:"UY",label:"Uruguay",phone:"598"},{code:"UZ",label:"Uzbekistan",phone:"998"},{code:"VA",label:"Holy See (Vatican City State)",phone:"379"},{code:"VC",label:"Saint Vincent and the Grenadines",phone:"1-784"},{code:"VE",label:"Venezuela",phone:"58"},{code:"VG",label:"British Virgin Islands",phone:"1-284"},{code:"VI",label:"US Virgin Islands",phone:"1-340"},{code:"VN",label:"Vietnam",phone:"84"},{code:"VU",label:"Vanuatu",phone:"678"},{code:"WF",label:"Wallis and Futuna",phone:"681"},{code:"WS",label:"Samoa",phone:"685"},{code:"XK",label:"Kosovo",phone:"383"},{code:"YE",label:"Yemen",phone:"967"},{code:"YT",label:"Mayotte",phone:"262"},{code:"ZA",label:"South Africa",phone:"27"},{code:"ZM",label:"Zambia",phone:"260"},{code:"ZW",label:"Zimbabwe",phone:"263"}],bi="review",fi=function(e){var t,n,i,r,o,s,l,c,d,p,b,f,j,m,h,v,g,O,x=e.onSubmit,y=e.stages,w=(e.title,e.description,Object(ie.p)({invalid:!1,previewDialogOpen:!1,previewDialogTitle:"",previewDialogContent:""})),k=Object(u.a)(w,2),N=k[0],_=k[1],S=Object(ie.l)({name:"projectcomposer",defaultValues:{stage:bi}}),C=S.handleSubmit,A=(S.register,S.setError,S.errors,S.formState.isValid),F=(S.ErrorMessage,S.Field),P=S.Select,D=(S.trigger,S.RadioGroup),E=(S.getValues,S.values),T=S.setValue,I=Object(a.useMemo)((function(){return JSON.getDeepPropertyValue("stages",E)||{}}),[E]),L=Object(a.useMemo)((function(){return JSON.getDeepPropertyValue("stages.".concat(bi),E)||{}}),[E]),z=Object(ie.g)();Object(ie.c)((function(){}));var V=Object(a.useCallback)((function(e,t){T(e,t)}),[]),W=Object(a.useCallback)((function(e){return function(t){V(e,t.target.value)}}),[]),J=Object(a.useCallback)((function(e){return function(t){V(e,t.target.value)}}),[]),B=Object(a.useCallback)((function(e){Function.isFunction(x)&&x(e)}),[x]),U=Object(a.useCallback)((function(e,t){return function(){_({previewDialogOpen:!0,previewDialogTitle:e,previewDialogContent:t})}}),[]),G=Object(a.useCallback)((function(){_({previewDialogOpen:!1,previewDialogTitle:"",previewDialogContent:""})}),[]);return Object(R.jsxs)(Nt.a,{children:[Object(R.jsx)(_t.a,{className:"p-0",children:Object(R.jsxs)(Nt.a,{children:[Object(R.jsxs)(_t.a,{xs:12,md:6,className:"py-4",children:[Object(R.jsx)(Tt.a,{variant:"h5",component:"div",className:"py-8",color:"text.secondary",children:"Review Your Detais"}),Object(R.jsxs)(ma.a,{elevation:0,className:"mb-8",sx:{backgroundColor:"transparent",border:function(e){return"1px solid ".concat(e.palette.divider)}},children:[Object(R.jsx)(si.a,{title:y.start.title,subheader:y.start.subtitle,titleTypographyProps:{color:"text.disabled",variant:"subtitle2"},subheaderTypographyProps:{color:"text.secondary",variant:"caption"},action:Object(R.jsx)(je.a,{onClick:function(e){return T("stage","start")},color:"primary",size:"small","aria-label":"Details",children:Object(R.jsx)(ci.a,{fontSize:"inherit"})})}),Object(R.jsxs)(ga.a,{children:[Object(R.jsxs)(_t.a,{xs:12,className:"p-0 py-1 flex flex-row items-center",children:[Object(R.jsx)(Tt.a,{color:"text.disabled",children:"First Name"}),Object(R.jsx)(Tt.a,{className:"mx-8 font-bold",color:"text.secondary",children:null===I||void 0===I||null===(t=I.start)||void 0===t?void 0:t.first_name})]}),Object(R.jsxs)(_t.a,{xs:12,className:"p-0 py-1 flex flex-row items-center",children:[Object(R.jsx)(Tt.a,{color:"text.disabled",children:"Last Name"}),Object(R.jsx)(Tt.a,{className:"mx-8 font-bold",color:"text.secondary",children:null===I||void 0===I||null===(n=I.start)||void 0===n?void 0:n.last_name})]}),Object(R.jsxs)(_t.a,{xs:12,className:"p-0 py-1 flex flex-row items-center",children:[Object(R.jsx)(Tt.a,{color:"text.disabled",children:"Email"}),Object(R.jsx)(Tt.a,{className:"mx-8 font-bold",color:"text.secondary",children:null===I||void 0===I||null===(i=I.start)||void 0===i?void 0:i.email_address})]}),Object(R.jsxs)(_t.a,{xs:12,className:"p-0 py-1 flex flex-row items-center",children:[Object(R.jsx)(Tt.a,{color:"text.disabled",children:"Survey Type"}),Object(R.jsx)(Tt.a,{className:"mx-8 font-bold",color:"text.secondary",children:null===I||void 0===I||null===(r=I.start)||void 0===r?void 0:r.survey_type})]}),Object(R.jsxs)(_t.a,{xs:12,className:"p-0 py-1 flex flex-row items-center",children:[Object(R.jsx)(Tt.a,{color:"text.disabled",children:"Date"}),Object(R.jsxs)(Tt.a,{className:"mx-8 font-bold",color:"text.secondary",children:[new Date(null===I||void 0===I||null===(o=I.start)||void 0===o?void 0:o.start_date).toLocaleDateString()," ",Object(R.jsx)("em",{children:"To"})," ",new Date(null===I||void 0===I||null===(s=I.start)||void 0===s?void 0:s.end_date).toLocaleDateString()]})]})]})]}),Object(R.jsxs)(ma.a,{elevation:0,className:"mb-8",sx:{backgroundColor:"transparent",border:function(e){return"1px solid ".concat(e.palette.divider)}},children:[Object(R.jsx)(si.a,{title:y.description.title,subheader:y.description.subtitle,titleTypographyProps:{color:"text.disabled",variant:"subtitle2"},subheaderTypographyProps:{color:"text.secondary",variant:"caption"},action:Object(R.jsx)(je.a,{onClick:function(e){return T("stage","description")},color:"primary",size:"small","aria-label":"Details",children:Object(R.jsx)(ci.a,{fontSize:"inherit"})})}),Object(R.jsxs)(ga.a,{children:[Object(R.jsxs)(_t.a,{xs:12,className:"p-0 py-1 flex flex-row items-center",children:[Object(R.jsx)(Tt.a,{color:"text.disabled",children:"Project Title"}),Object(R.jsx)(Tt.a,{className:"mx-8 font-bold",color:"text.secondary",children:null===I||void 0===I||null===(l=I.description)||void 0===l?void 0:l.project_name})]}),Object(R.jsxs)(_t.a,{xs:12,className:"p-0 py-1 flex flex-row items-center",children:[Object(R.jsx)(Tt.a,{color:"text.disabled",children:"Project Summary"}),Object(R.jsx)(mt.a,{onClick:U("Project Summary",(null===I||void 0===I||null===(c=I.description)||void 0===c?void 0:c.project_summary)||""),color:"accent",className:"mx-8 capitalize font-bold",size:"small",children:"View"})]}),Object(R.jsxs)(_t.a,{xs:12,className:"p-0 py-1 flex flex-row items-center",children:[Object(R.jsx)(Tt.a,{color:"text.disabled",children:"Project Objectives"}),Object(R.jsx)(mt.a,{onClick:U("Project Objectives",(null===I||void 0===I||null===(d=I.description)||void 0===d?void 0:d.project_objectives)||""),color:"accent",className:"mx-8 capitalize font-bold",size:"small",children:"View"})]})]})]}),Object(R.jsxs)(ma.a,{elevation:0,className:"mb-8",sx:{backgroundColor:"transparent",border:function(e){return"1px solid ".concat(e.palette.divider)}},children:[Object(R.jsx)(si.a,{title:y.scope.title,subheader:y.scope.subtitle,titleTypographyProps:{color:"text.disabled",variant:"subtitle2"},subheaderTypographyProps:{color:"text.secondary",variant:"caption"},action:Object(R.jsx)(je.a,{onClick:function(e){return T("stage","scope")},color:"primary",size:"small","aria-label":"Details",children:Object(R.jsx)(ci.a,{fontSize:"inherit"})})}),Object(R.jsxs)(ga.a,{children:[Object(R.jsxs)(_t.a,{xs:12,className:"p-0 py-1 flex flex-row items-center",children:[Object(R.jsx)(Tt.a,{color:"text.disabled",children:"Questions Uploaded"}),Object(R.jsx)(Tt.a,{className:"mx-8 font-bold",color:"text.secondary",children:Array.isArray(null===I||void 0===I||null===(p=I.scope)||void 0===p?void 0:p.questions)?"Yes":"No"})]}),Object(R.jsxs)(_t.a,{xs:12,className:"p-0 py-1 flex flex-row items-center",children:[Object(R.jsx)(Tt.a,{color:"text.disabled",children:"Data gathering format"}),Object(R.jsx)(Tt.a,{className:"mx-8 font-bold",color:"text.secondary",children:null===I||void 0===I||null===(b=I.scope)||void 0===b?void 0:b.data_gathering_format})]})]})]}),Object(R.jsxs)(ma.a,{elevation:0,className:"mb-8",sx:{backgroundColor:"transparent",border:function(e){return"1px solid ".concat(e.palette.divider)}},children:[Object(R.jsx)(si.a,{title:y.target.title,subheader:y.target.subtitle,titleTypographyProps:{color:"text.disabled",variant:"subtitle2"},subheaderTypographyProps:{color:"text.secondary",variant:"caption"},action:Object(R.jsx)(je.a,{onClick:function(e){return T("stage","target")},color:"primary",size:"small","aria-label":"Details",children:Object(R.jsx)(ci.a,{fontSize:"inherit"})})}),Object(R.jsxs)(ga.a,{children:[Object(R.jsxs)(_t.a,{xs:12,className:"p-0 py-1 flex flex-row items-center",children:[Object(R.jsx)(Tt.a,{color:"text.disabled",children:"Confidence Level"}),Object(R.jsx)(Tt.a,{className:"mx-8 font-bold",color:"text.secondary",children:"".concat(null===I||void 0===I||null===(f=I.target)||void 0===f?void 0:f.confidence_level)})]}),Object(R.jsxs)(_t.a,{xs:12,className:"p-0 py-1 flex flex-row items-center",children:[Object(R.jsx)(Tt.a,{color:"text.disabled",children:"Error Margin"}),Object(R.jsx)(Tt.a,{className:"mx-8 font-bold",color:"text.secondary",children:"".concat(null===I||void 0===I||null===(j=I.target)||void 0===j?void 0:j.error_margin)})]}),Object(R.jsxs)(_t.a,{xs:12,className:"p-0 py-1 flex flex-row items-center",children:[Object(R.jsx)(Tt.a,{color:"text.disabled",children:"Sample Size"}),Object(R.jsx)(Tt.a,{className:"mx-8 font-bold",color:"text.secondary",children:"".concat(null===I||void 0===I||null===(m=I.target)||void 0===m?void 0:m.sample_size)})]}),Object(R.jsxs)(_t.a,{xs:12,className:"p-0 py-1 flex flex-row items-center",children:[Object(R.jsx)(Tt.a,{color:"text.disabled",children:"Regions"}),Object(R.jsx)(Tt.a,{className:"mx-8 font-bold",color:"text.secondary",children:Array.isArray(null===I||void 0===I||null===(h=I.target)||void 0===h?void 0:h.regions)&&I.target.regions.map((function(e,t){return t>0?", ".concat(z.getAdminLevelName(e)):"".concat(z.getAdminLevelName(e))}))})]})]})]}),Object(R.jsxs)(ma.a,{elevation:0,className:"mb-8",sx:{backgroundColor:"transparent",border:function(e){return"1px solid ".concat(e.palette.divider)}},children:[Object(R.jsx)(si.a,{title:y.workforce.title,subheader:y.workforce.subtitle,titleTypographyProps:{color:"text.disabled",variant:"subtitle2"},subheaderTypographyProps:{color:"text.secondary",variant:"caption"},action:Object(R.jsx)(je.a,{onClick:function(e){return T("stage","workforce")},color:"primary",size:"small","aria-label":"Details",children:Object(R.jsx)(ci.a,{fontSize:"inherit"})})}),Object(R.jsx)(ga.a,{children:Object(R.jsxs)(_t.a,{xs:12,className:"p-0 py-1 flex flex-row items-center",children:[Object(R.jsx)(Tt.a,{color:"text.disabled",children:"Fielders"}),Object(R.jsx)(Tt.a,{className:"mx-8 font-bold",color:"text.secondary",children:"".concat((null===I||void 0===I||null===(v=I.workforce)||void 0===v?void 0:v.autoSelect)?"Auto select":(null===I||void 0===I||null===(g=I.workforce)||void 0===g||null===(O=g.fielders)||void 0===O?void 0:O.length)||"0")})]})})]}),Object(R.jsxs)(_t.a,{xs:12,className:"p-0 py-4 flex flex-row items-center",children:[Object(R.jsx)(Tt.a,{color:"text.disabled",children:"Last Autosave"}),Object(R.jsx)(Tt.a,{className:"mx-8 font-bold",color:"text.secondary",children:E.persist_timestamp?"".concat(new Date(E.persist_timestamp).toLocaleString()):"None"})]})]}),Object(R.jsx)(_t.a,{xs:12,md:6,className:"py-4",children:Object(R.jsxs)(Nt.a,{className:"p-0",children:[Object(R.jsx)(_t.a,{md:12,className:"p-0",children:Object(R.jsx)(Tt.a,{variant:"h5",className:"py-8",component:"div",color:"text.secondary",children:"Account Creation"})}),Object(R.jsx)(_t.a,{md:12,className:"py-4",children:Object(R.jsx)(F,{label:"Company Name",name:"stages.".concat(bi,".company_name"),defaultValue:L.company_name||"",onChange:W("stages.".concat(bi,".company_name")),component:jn.a,variant:"filled",required:!0,fullWidth:!0})}),Object(R.jsx)(_t.a,{md:12,className:"py-4",children:Object(R.jsx)(P,{name:"stages.".concat(bi,".sector"),label:"Sector",defaultValue:L.sector||"",onChange:J("stages.".concat(bi,".sector")),options:{Private:"Private","Non-Profit":"Non-Profit",Government:"Government"},sx:{width:"100%"},variant:"filled",rules:{validate:{isNotEmpty:function(e){return!String.isEmpty(e)||"Sector is Required"}}},required:!0})}),Object(R.jsx)(_t.a,{md:12,className:"py-4",children:Object(R.jsx)(F,{name:"stages.".concat(bi,".country"),label:"Country",defaultValue:(null===L||void 0===L?void 0:L.country)||"Kenya",onChange:function(e,t){return V("stages.".concat(bi,".country"),t.label)},variant:"filled",component:di,rules:{validate:{isNotEmpty:function(e){return!String.isEmpty(e)||"Country is Required"}}}})}),Object(R.jsx)(_t.a,{md:12,className:"py-4",children:Object(R.jsx)(D,{name:"stages.".concat(bi,".currency"),label:"Pay in",value:(null===L||void 0===L?void 0:L.currency)||"",options:["USD","KES"],onChange:W("stages.".concat(bi,".currency")),rules:{validate:{isNotEmpty:function(e){return!String.isEmpty(e)||"Currency is Required"}}},row:!0})}),Object(R.jsx)(_t.a,{md:12,className:"py-4",children:Object(R.jsx)(F,{name:"stages.".concat(bi,".password"),label:"Password",placeholder:"Set Password",defaultValue:L.password||"",onChange:W("stages.".concat(bi,".password")),component:jn.a,variant:"filled",type:"password",rules:{validate:{isNotEmpty:function(e){return!String.isEmpty(e)||"Password is Required"}}},required:!0,fullWidth:!0})}),Object(R.jsx)(_t.a,{md:12,className:"py-4",children:Object(R.jsx)(F,{name:"stages.".concat(bi,".repeat_password"),label:"Repeat Password",placeholder:"Enter Password again to confirm",defaultValue:L.repeat_password||"",onChange:W("stages.".concat(bi,".repeat_password")),component:jn.a,variant:"filled",type:"password",rules:{validate:{isNotEmpty:function(e){return!String.isEmpty(e)||"Password confirmation is Required"}}},required:!0,fullWidth:!0})}),Object(R.jsx)(_t.a,{className:"flex flex-col xs:items-center md:items-end md:px-20 py-8 mb-20",children:Object(R.jsx)(mt.a,{onClick:C(B),disabled:!A,color:"accent",variant:"contained",children:"Continue to Checkout"})})]})})]})}),Object(R.jsxs)(q.a,{open:N.previewDialogOpen,onClose:G,"aria-labelledby":"review-dialog-title","aria-describedby":"review-dialog-description",children:[Object(R.jsx)(Pt.a,{id:"review-dialog-title",children:N.previewDialogTitle}),Object(R.jsx)(M.a,{children:Object(R.jsx)(Ft.a,{id:"review-dialog-description",children:N.previewDialogContent})}),Object(R.jsx)(At.a,{children:Object(R.jsx)(mt.a,{onClick:G,color:"error",autoFocus:!0,children:"Dismiss"})})]})]})},ji={name:"projectcomposer",mode:"onChange",defaultValues:{stage:"start",stages:{start:{first_name:"",last_name:"",phone:"",email_address:"",survey_type:void 0,start_date:(new Date).addDays(7),end_date:(new Date).addDays(14)},description:{project_name:"",project_summary:"",project_objectives:""},scope:{questions:[],format:"Written",countries:[]},target:{confidence_level:"85",error_margin:"10",sample_size:1e3,regions:[]},workforce:{fielders:[],autoSelect:!0},review:{}},complete_stages:[]},persistOnChange:["stage"],onSubmit:function(e){}},mi={start:{title:"Start",subtitle:"Project Start Details",description:"It takes under 5 minutes to fill the information you'd like us to collect, then sit back, relax and let us do the heavy lifting.",component:ea},description:{title:"Description",subtitle:"Project Description",description:"",component:na},scope:{title:"Scope",subtitle:"Project's Scope",description:"",component:ia},target:{title:"Target ",subtitle:"Project's Respondents Target",description:"To select or unselect a boundary Press Ctrl and click on the desired political Boundary \n. Click On an administrative boundary to get it's sub administrative boundary. Right click a boundary to highlight its apical boundary",component:sa},workforce:{title:"Workforce",subtitle:"Select Workforce",description:"",component:oi},review:{title:"Review",subtitle:"Project Overview & Review",description:"Project Overview & Review",component:fi}},hi=Object.keys(mi),vi=function(e){e.title;var t,n=e.complete,i=Object(ie.l)(ji),r=i.setValue,o=i.values,s=JSON.getDeepPropertyValue("stage",o)||hi[0],l=JSON.getDeepPropertyValue("complete_stages",o)||[],c=(hi.indexOf(s),Object(a.useCallback)((function(e){r("stage",e)}),[n]));return Object(R.jsxs)(Nt.a,{className:"min-h-screen",children:[Object(R.jsx)(_t.a,{className:"flex flex-col items-end px-4",children:Object(R.jsx)("img",{src:"https://realfield.nyc3.cdn.digitaloceanspaces.com/public/img/realfield/survey.png"})}),Object(R.jsx)(_t.a,{className:"flex flex-col items-end justify-center px-8",children:Object.entries(mi).map((function(e,t){var n=Object(u.a)(e,2),a=n[0],i=n[1];return a===s||l.includes(a)?Object(R.jsx)(Xn.a,{title:i.title,"aria-label":i.title,children:Object(R.jsx)(je.a,{onClick:function(){return c(a)},className:"transform rotate-180 ",disabled:a!==s&&!l.includes(a),sx:{color:function(e){return s===a?e.palette.accent.main:e.palette.background.paper}},children:Object(R.jsx)(Zn.a,{viewBox:"0 0 243.33 243.33",children:Object(R.jsxs)("g",{children:[Object(R.jsx)("polygon",{points:"115.84,32.59 115.84,180.42 22.45,210.75",fill:"inherit"}),Object(R.jsx)("polygon",{points:"127.5,32.59 127.5,180.42 220.88,210.75",fill:"inherit"})]})})})},"stage-".concat(t)):Object(R.jsx)(je.a,{onClick:function(){return c(a)},className:"transform rotate-180 ",disabled:!0,sx:{color:function(e){return e.palette.background.default}},children:Object(R.jsx)(Zn.a,{viewBox:"0 0 243.33 243.33",children:Object(R.jsxs)("g",{children:[Object(R.jsx)("polygon",{points:"115.84,32.59 115.84,180.42 22.45,210.75",fill:"inherit"}),Object(R.jsx)("polygon",{points:"127.5,32.59 127.5,180.42 220.88,210.75",fill:"inherit"})]})})},"stage-".concat(t))}))}),Object(R.jsx)(_t.a,{className:"flex flex-col items-end px-8",children:Object(R.jsx)(Tt.a,{variant:"body1",color:"text.secondary",className:" px-4",children:"Stage ".concat(hi.indexOf(s)+1," of ").concat(hi.length)})}),Object(R.jsx)(_t.a,{className:"flex flex-col items-end px-8",children:Object(R.jsx)(Tt.a,{variant:"body2",color:"accent.main",className:"px-4",children:null===(t=mi[s])||void 0===t?void 0:t.title})})]})};vi.defaultProps={title:"Survey",complete:hi};var gi=vi,Oi=n(2054),xi=n(308),yi=n.n(xi),wi=n(309),ki=n.n(wi),Ni=["title","complete"],_i=Object.keys(mi),Si=function(e){e.title;var t=e.complete,n=Object(T.a)(e,Ni),i=Object(oe.a)(),r=Object(ie.l)(ji),o=r.setValue,s=r.values,c=r.formState,u=(c.errors,c.isValid),d=JSON.getDeepPropertyValue("stage",s)||_i[0],p=(JSON.getDeepPropertyValue("complete_stages",s),_i.indexOf(d)),b=(Object(a.useCallback)((function(e){o("stage",e)}),[t]),Object(a.useCallback)((function(){p<_i.length-1&&o("stage",_i[p+1])}),[p])),f=Object(a.useCallback)((function(){p>0&&p<=_i.length-1&&o("stage",_i[p-1])}),[p]);return Object(R.jsx)(Pn.a,Object(l.a)(Object(l.a)({},n),{},{children:Object(R.jsx)(Oi.a,{variant:"text",steps:_i.length,position:"static",activeStep:p,nextButton:Object(R.jsxs)(mt.a,{size:"small",onClick:b,disabled:!u||p===_i.length-1,children:["Next","rtl"===i.direction?Object(R.jsx)(yi.a,{}):Object(R.jsx)(ki.a,{})]}),backButton:Object(R.jsxs)(mt.a,{size:"small",onClick:f,disabled:0===p,children:["rtl"===i.direction?Object(R.jsx)(ki.a,{}):Object(R.jsx)(yi.a,{}),"Back"]})})}))};Si.defaultProps={title:"Survey",complete:_i};var Ci=Si,Ai=["component"],Fi=Object.keys(mi),Pi=function(e){var t=Object(ie.l)(ji),n=(t.getValues,t.setValue),i=t.values,r=t.register,o=JSON.getDeepPropertyValue("stage",i)||Fi[0],s=JSON.getDeepPropertyValue("complete_stages",i)||[],c=Object(a.useCallback)((function(e){var t=Fi.indexOf(o);if(console.log("indexOfStage < (stagekeys.length - 1)",t<Fi.length-1),t>=0&&t<Fi.length-1){var a=Array.isArray(s)?s:[];-1===a.indexOf(o)&&(a.push(o),n("complete_stages",a)),n("stage",Fi[t+1])}}),[o,s]);Object(ie.c)((function(){if(!JSON.getDeepPropertyValue("stage",i)){r("stage");n("stage",Fi[0])}}));var u=mi[o]?mi[o]:mi[Fi[0]],d=u.component,p=Object(T.a)(u,Ai);return Object(R.jsx)(Nt.a,{className:"min-h-screen p-0",children:Object(R.jsx)(_t.a,{className:"p-0",children:!!d&&Object(R.jsx)(d,Object(l.a)({onSubmit:c,stages:mi},p))})})},Di=function(e){return Object(R.jsxs)(Nt.a,{className:"p-0",children:[Object(R.jsxs)(Nt.a,{className:"p-0 relative",sx:{backgroundColor:function(e){return"".concat(e.palette.background.default)},display:{xs:"none",md:"flex"}},children:[Object(R.jsx)(_t.a,{xs:12,md:2,className:"p-0 py-4 secondary relative",children:Object(R.jsx)(gi,{})}),Object(R.jsx)(_t.a,{xs:12,md:10,className:"p-0 relative",children:Object(R.jsx)(Pi,{})})]}),Object(R.jsxs)(Nt.a,{className:"p-0 relative",sx:{backgroundColor:function(e){return"".concat(e.palette.background.default)},display:{md:"none",xs:"block"}},children:[Object(R.jsx)(_t.a,{xs:12,className:"p-0 py-4 relative",children:Object(R.jsx)(Ci,{})}),Object(R.jsx)(_t.a,{xs:12,className:"p-0 relative",children:Object(R.jsx)(Pi,{})})]})]})},Ei=["classes","auth","theme","device"],Ti=function(e){Object(_.a)(n,e);var t=Object(S.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(N.a)(n,[{key:"componentDidMount",value:function(){document.title=A.a.title("Home");var e=this.props;e.match,e.location}},{key:"render",value:function(){var e=this.props,t=(e.classes,e.auth,e.theme);e.device,Object(T.a)(e,Ei);return Object(R.jsxs)(Pn.a,{container:!0,className:"p-0",children:[Object(R.jsx)(Pn.a,{container:!0,className:"p-0",sx:{background:function(e){return e.palette.background.paper}},children:Object(R.jsx)(Bn,{})}),Object(R.jsx)(Pn.a,{container:!0,className:"p-0",sx:{backgroundColor:function(e){return e.palette.accent.main},color:t.palette.accent.contrastText},children:Object(R.jsx)(Qn,{})}),Object(R.jsx)(Pn.a,{container:!0,className:"p-0 md:px-0",id:"get-started",children:Object(R.jsxs)(Pn.a,{container:!0,sx:{},className:"p-0 xs:px-4 md:px-32  py-16",children:[Object(R.jsxs)(Pn.a,{item:!0,xs:12,className:"flex flex-col py-4",children:[Object(R.jsx)(Tt.a,{variant:"h3",color:"text.secondary",className:"mb-4",children:"Sign up to start"}),Object(R.jsx)(Tt.a,{variant:"body1",color:"text.disabled",children:"To join our Community, schedule a demo or start a project, please complete the following sign -up form."})]}),Object(R.jsx)(Pn.a,{item:!0,xs:12,children:Object(R.jsx)(Yn,{googleLoginProps:{sx:{backgroundColor:function(e){return e.palette.action.hover},color:function(e){return e.palette.google.main}}}})})]})})]})}}]),n}(i.a.Component),qi=Ie()(Object(s.b)((function(e,t){return{auth:e.auth,device:e.device}}),{}),ot.a)(Ti),Mi=["classes","auth","theme","device"],Ii=Ie()(Object(s.b)((function(e,t){return{auth:e.auth}}),{}),ot.a)((function(e){e.classes,e.auth,e.theme,e.device,Object(T.a)(e,Mi);return Object(R.jsx)(Tn,{id:"jobs",children:Object(R.jsxs)(Nt.a,{className:"p-0",children:[Object(R.jsx)(Nt.a,{className:"p-0 md:py-6",children:Object(R.jsx)(_t.a,{xs:12,children:Object(R.jsx)(Xe.a,{variant:"h1",className:"accent-text w-full text-center",children:"Welcome to Realfield!"})})}),Object(R.jsxs)(Nt.a,{className:"p-0",children:[Object(R.jsxs)(_t.a,{xs:12,className:"flex flex-col mb-4",children:[Object(R.jsxs)(Xe.a,{variant:"body1",className:"font-bold",paragraph:!0,children:[Object(R.jsx)("span",{className:"mr-2",children:"We are now recruiting Fielders to undertake data collection for upcoming projects around the country. If you are interested in working for an exciting startup with an important ethical mission in East Africa's rapidly growing gig-economy and you have a reputation for fast reliable and efficient work,"}),Object(R.jsx)(g.b,{to:"/jobs#apply-link".toUriWithLandingPagePrefix(),className:"accent-text",children:"click the link below and signup now!"})]}),Object(R.jsx)(Xe.a,{variant:"body1",className:"accent-text font-black w-full text-center",paragraph:!0,children:"Earn extra money working close to home"}),Object(R.jsx)(Xe.a,{variant:"body1",className:"font-bold",paragraph:!0,children:"Accurate and timely information is absolutely essential for today's decision makers, yet reliable and relevant data has never been more rare."}),Object(R.jsx)(Xe.a,{variant:"body1",paragraph:!0,children:"Our unyealding dedication to ethical data collection and data privacy combines the most robust data collection methods with online convinience and usability giving our clients real-time access to real data from real people"}),Object(R.jsx)(Xe.a,{variant:"body1",className:"accent-text font-bold",paragraph:!0,children:"Required Qualifications:"}),Object(R.jsx)(Xe.a,{variant:"body1",paragraph:!0,children:Object(R.jsxs)("ol",{className:"list-decimal pl-4",children:[Object(R.jsx)("li",{className:"mb-4 text-sm font-normal",children:"You must be over the age of 18"}),Object(R.jsx)("li",{className:"mb-4 text-sm font-normal",children:"You must have graduated OR be currently enrolled in a national or county university or college"}),Object(R.jsx)("li",{className:"mb-4 text-sm font-normal",children:" You must have a smartphone with Android OS capable of downloading the Realfield App from Google Play (we\u2019re not operating on Apple\u2019s iOS yet!)"})]})}),Object(R.jsx)(Xe.a,{variant:"body1",className:"font-bold accent-text",paragraph:!0,children:"Beyond these simple requirements, we are looking for people all across Kenya from Turkana to the Coast and everywhere in between! If you have a curious mind and enjoy speaking with new people, asking questions and learning new things \u2013 join us today!"}),Object(R.jsx)(Xe.a,{variant:"body1",className:"font-bold accent-text",paragraph:!0,children:"All you need to complete the sign-up form are the following documents available for upload:"}),Object(R.jsx)(Xe.a,{variant:"body1",className:"mb-10",paragraph:!0,children:Object(R.jsxs)("ul",{className:"list-disc pl-4",children:[Object(R.jsx)("li",{className:"mb-4 text-sm font-normal",children:"Proof of enrollment in higher education OR graduation certificate from your university or college"}),Object(R.jsx)("li",{className:"mb-4 text-sm font-normal",children:"Government issued ID"}),Object(R.jsx)("li",{className:"mb-4 text-sm font-normal",children:"CV or r\xe9sum\xe9"}),Object(R.jsx)("li",{className:"mb-4 text-sm font-normal",children:"A recent selfie"})]})})]}),Object(R.jsx)(_t.a,{xs:12,className:"flex flex-col items-center",children:Object(R.jsx)(g.b,{to:"/apply".toUriWithLandingPagePrefix(),children:Object(R.jsx)(mt.a,{variant:"contained",color:"primary",className:"rounded-full px-8",id:"apply-link",children:"Join us!"})})})]})]})})})),Ri=["classes","auth","theme","device"],Li=function(e){Object(_.a)(n,e);var t=Object(S.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(N.a)(n,[{key:"componentDidMount",value:function(){document.title=A.a.title("Jobs")}},{key:"render",value:function(){var e=this.props,t=e.classes;e.auth,e.theme,e.device,Object(T.a)(e,Ri);return Object(R.jsx)(Nt.a,{className:(null===t||void 0===t?void 0:t.root)+" p-0",direction:"column",alignItems:"center",justify:"center",children:Object(R.jsx)(Nt.a,{className:"p-0",children:Object(R.jsx)(_t.a,{xs:12,sm:12,md:12,className:"p-0 pb-4 ",children:Object(R.jsx)(Ii,{})})})})}}]),n}(i.a.Component),zi=Ie()(Object(s.b)((function(e,t){return{auth:e.auth,device:e.device}}),{}),ot.a)(Li),Vi=n(269),Wi=["classes","auth","theme","device"],Ji=Ie()(Object(s.b)((function(e,t){return{auth:e.auth}}),{}),ot.a)((function(e){e.classes,e.auth,e.theme,e.device,Object(T.a)(e,Wi);var t=Object(ce.b)().definations.applications,n=lt.a.getContextRequests(null===t||void 0===t?void 0:t.endpoint),i=Object(a.useState)("form"),r=Object(u.a)(i,2),o=r[0],s=r[1];return Object(R.jsx)(Tn,{id:"jobs-apply",children:Object(R.jsx)(Nt.a,{className:"p-0",children:Object(R.jsxs)(_t.a,{xs:12,className:"p-0",children:[Object(R.jsx)(Nt.a,{className:"p-0",children:Object(R.jsx)(_t.a,{xs:12,sm:12,className:"p-0 pt-8 pb-4",children:Object(R.jsx)(Xe.a,{variant:"h3",children:"Fielder Registration"})})}),Object(R.jsx)(Nt.a,{className:"p-0",children:Object(R.jsx)(_t.a,{xs:12,sm:12,className:"p-0 py-2 pb-4",children:Object(R.jsx)(Xe.a,{variant:"subtitle2",children:"It\u2019s great to meet you! Please complete all fields required within the form below to register your interest in becoming a Real Fielder. All applications will be reviewed, and you will be contacted by our Team with further details. Thanks! We look forward to working with you soon!"})})}),Object(R.jsxs)(Nt.a,{className:"p-0",children:["form"===o&&Object(R.jsx)(_t.a,{xs:12,className:"p-0",children:Object(R.jsx)(Vi.a,{defination:t,service:n,form:"applications-form",show_title:!1,text_fields_variant:"filled",onSubmitSuccessMessage:"Your Application has been submitted.",inputColumnSize:6,show_discard:!1,submit_btn_text:"Submit",textFieldsProps:{margin:"dense",InputProps:{classes:{}}},textareaFieldsProps:{margin:"dense",InputProps:{classes:{}}},selectFieldsProps:{margin:"dense",classes:{}},onSubmitSuccess:function(){return s("acknowledgement")}})}),"acknowledgement"===o&&Object(R.jsxs)(_t.a,{xs:12,className:"p-0 py-48 flex flex-col justify-center items-center",children:[Object(R.jsx)(Xe.a,{variant:"subtitle1",color:"primary",paragraph:!0,children:"Your application has been submitted successfully. Thankyou for your interest in working with us."}),Object(R.jsxs)(Xe.a,{variant:"body1",paragraph:!0,children:["A member of our will get in touch with you about your application as soon as possible"," "]})]})]})]})})})})),Bi=["classes"],Ui=function(e){Object(_.a)(n,e);var t=Object(S.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(N.a)(n,[{key:"componentDidMount",value:function(){document.title=A.a.title("Apply")}},{key:"render",value:function(){var e=this.props;e.classes,Object(T.a)(e,Bi);return Object(R.jsx)(Nt.a,{style:{minHeight:"90vh"},className:"p-0",children:Object(R.jsx)(_t.a,{xs:12,className:"p-0",children:Object(R.jsx)(Ji,{})})})}}]),n}(i.a.Component),Gi=Ui,Hi=function(e){var t=function(){Object(re.f)();var t=Object(a.lazy)((function(){return e()}));return Object(R.jsx)(a.Suspense,{fallback:Object(R.jsx)(I.a,{className:"absolute center ",type:"logo",size:30,thickness:4}),children:Object(R.jsx)(t,Object(l.a)({},undefined.props))})};return i.a.memo(t)},Ki=n(2055),Yi=n(2013),Qi=n(2022),Zi=n(376),Xi=n.n(Zi),$i=n(375),er=n.n($i),tr=n(314),nr=n.n(tr);function ar(e){var t=Object(a.useState)(e),n=Object(u.a)(t,2),i=n[0],r=n[1];Object(a.useEffect)((function(){r(e)}),[e]);var o=i.active,s=i.completed,l=i.color,c=i.activeColor;return Object(R.jsx)("div",{className:(o?c:l)+"+text",children:o?Object(R.jsx)("div",{className:"w-4 h-4 rounded-full "+c}):s?Object(R.jsx)(nr.a,{}):Object(R.jsx)("div",{className:"w-2 h-2 ml-1 rounded-full "+l})})}function ir(e){var t=i.a.useState(e.direction),n=Object(u.a)(t,2),r=(n[0],n[1]),o=i.a.useState(e.steps),s=Object(u.a)(o,2),l=s[0],c=s[1],d=i.a.useState(e.step),p=Object(u.a)(d,2),b=p[0],f=p[1],j=i.a.useState(e.color),m=Object(u.a)(j,2),h=m[0],v=m[1],g=i.a.useState(e.activeColor),O=Object(u.a)(g,2),x=O[0],y=O[1],w=i.a.useState(e.onStep),k=Object(u.a)(w,2),N=k[0],_=k[1],S=i.a.useState(e.controlled),C=Object(u.a)(S,2),A=C[0],F=C[1],P=i.a.useState(e.completed),D=Object(u.a)(P,2),E=(D[0],D[1]);Object(a.useEffect)((function(){r(e.direction),c(e.steps),f(e.step),v(e.color),y(e.activeColor),_(e.onStep),F(e.controlled),E(e.completed)}),[e]);return Object(R.jsxs)("div",{className:"min-w-full",children:[!A&&Object(R.jsx)("div",{className:"w-full relative",children:Object(R.jsx)(je.a,{className:0===b?"center_horizontally opacity-0":x+"_text opacity-100 center_horizontally",onClick:function(){Function.isFunction(N)&&N(b,b-1),f((function(e){return e-1}))},disabled:0===b,children:Object(R.jsx)(er.a,{})})}),Object(R.jsx)(Qi.a,{className:"bg-transparent",activeStep:b,orientation:"vertical",connector:Object(R.jsx)("div",{className:"h-8"}),children:Object.entries(l).map((function(e,t){var n=Object(u.a)(e,2),a=n[0],i=n[1];return Object(R.jsx)(Ki.a,{className:"bg-transparent",children:Object(R.jsx)(Yi.a,{StepIconComponent:ar,StepIconProps:{color:h,activeColor:x},children:Object(R.jsx)(Xe.a,{className:b===t?x+"_text":h+"_text",children:i})})},a)}))}),!A&&Object(R.jsx)("div",{className:"w-full relative",children:Object(R.jsx)(je.a,{className:b===Object.size(l)===0?"center_horizontally":x+"_text center_horizontally",onClick:function(){Function.isFunction(N)&&N(b,b+1),f((function(e){return e+1}))},disabled:b===Object.size(l),children:Object(R.jsx)(Xi.a,{})})})]})}ir.defaultProps={color:"inverse",activeColor:"inverse",steps:{},completed:[],step:0,controlled:!0};var rr=ir;function or(e){var t=e.direction,n=e.steps,a=e.step,r=e.backText,o=e.nextText,s=i.a.useState(a),l=Object(u.a)(s,2),c=l[0],d=l[1];return Object(R.jsx)(Oi.a,{variant:"dots",steps:n,position:"static",activeStep:c,className:"flex-grow min-w-full",nextButton:Object(R.jsxs)(Dt.a,{color:c===n?"grey":"primary",onClick:function(){d((function(e){return e+1}))},disabled:c===n,children:[o,"rtl"===t?Object(R.jsx)(yi.a,{}):Object(R.jsx)(ki.a,{})]}),backButton:Object(R.jsxs)(Dt.a,{color:0===c?"grey":"primary",onClick:function(){d((function(e){return e-1}))},disabled:0===c,children:["rtl"===t?Object(R.jsx)(ki.a,{}):Object(R.jsx)(yi.a,{}),r]})})}or.defaultProps={direction:"ltr",backText:"Back",nextText:"Next",steps:1,step:0};var sr=or;function lr(e){var t=Object(a.useState)(e),n=Object(u.a)(t,2),i=n[0],r=n[1],o=i.type,s=Object(l.a)(Object(l.a)({},i),{},{steps:Object.size(i.steps)});return Object(a.useEffect)((function(){r(e)}),[e]),Object(R.jsxs)("div",{children:["mobile"===o&&Object(R.jsx)(sr,Object(l.a)({},s)),"default"===o&&Object(R.jsx)(rr,Object(l.a)({},i))]})}lr.defaultProps={type:"default"};var cr=lr,ur=Hi((function(){return n.e(12).then(n.bind(null,2069))})),dr=Hi((function(){return n.e(10).then(n.bind(null,2078))})),pr=Hi((function(){return n.e(9).then(n.bind(null,2070))})),br=Hi((function(){return n.e(6).then(n.bind(null,2071))})),fr=Hi((function(){return n.e(11).then(n.bind(null,2077))})),jr=Hi((function(){return n.e(8).then(n.bind(null,2072))})),mr=Hi((function(){return n.e(7).then(n.bind(null,2073))})),hr=function(e){Object(_.a)(n,e);var t=Object(S.a)(n);function n(e){var a;Object(k.a)(this,n),(a=t.call(this,e)).state={step:0,steps:{},completedSteps:[],steps_data:{},context:null,context_view:null},a.typeSteps={unauthenticated:{start:"Start",select_items:"Select Items",signin_signup:"Signin/Signup",checkout:"Checkout"},authenticated:{start:"Start",select_items:"Select Items",checkout:"Checkout"},proposalRequest:{start:"Start",request_proposal:"Request Proposal",thankyou:"Complete"}};var i=e.auth;return a.state.steps=a.typeSteps.unauthenticated,i.isAuthenticated&&(a.state.steps=a.typeSteps.authenticated),a.state.step_name=Object.keys(a.state.steps)[a.state.step],a.recoverAbadonedOrder=a.recoverAbadonedOrder.bind(Object(Je.a)(a)),a.handleStepNavigation=a.handleStepNavigation.bind(Object(Je.a)(a)),a.handleOnStepComplete=a.handleOnStepComplete.bind(Object(Je.a)(a)),a.handleOnStepCancel=a.handleOnStepCancel.bind(Object(Je.a)(a)),a.handleOnContextChange=a.handleOnContextChange.bind(Object(Je.a)(a)),a.handleOnAddToCart=a.handleOnAddToCart.bind(Object(Je.a)(a)),a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.auth,a=t.order_progress,i=(t.setOrderProgress,t.closeDialog),r=t.openDialog;n.isAuthenticated&&a.step_name!==this.state.step_name&&("development"===j.n?this.recoverAbadonedOrder():r({title:"Heads Up! We found an abadoned order",body:"We found some progress for an order you were making. Would you like to recover and proceed from where you left off?",actions:{cancel:{text:"Dismiss",color:"grey",onClick:i},proceed:{text:"Yes please",color:"primarydark",onClick:function(){i(),e.recoverAbadonedOrder()}}}})),document.title=A.a.title("Order")}},{key:"recoverAbadonedOrder",value:function(){var e=this.props,t=e.order_progress,n=e.auth,a=this.typeSteps.unauthenticated;n.isAuthenticated&&(a=this.typeSteps.authenticated),"request_proposal"===t.step_name&&(a=this.typeSteps.proposalRequest),this.setState((function(e){return{step:JSON.positionOfKey(a,t.step_name),step_name:t.step_name,steps:a,steps_data:t.steps_data}}))}},{key:"handleStepNavigation",value:function(e,t){}},{key:"handleOnStepComplete",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.props,n=t.auth,a=t.order_progress,i=t.setOrderProgress,r=this.typeSteps.unauthenticated;if(n.isAuthenticated&&(r=this.typeSteps.authenticated),"request_proposal"===this.state.step_name&&(r=this.typeSteps.proposalRequest),0===this.state.step)i({step_name:Object.keys(r)[1],steps_data:Object(ue.a)({},Object.keys(r)[1],{})}),this.setState((function(e){return{step:1,step_name:Object.keys(r)[1],steps:r}}));else if(Object.size(r)-1<this.state.step){var o={};JSON.isJSON(a.steps_data)&&(o=JSON.parse(JSON.stringify(a.steps_data))),o[this.state.step_name]=e,i({step_name:Object.keys(r)[this.state.step+1],steps_data:o}),this.setState((function(e){return{step:e.step+1,step_name:Object.keys(r)[e.step+1],steps:r}}))}else i({step_name:"start",steps_data:{}}),this.setState((function(e){return{step:0,step_name:Object.keys(r)[0],steps:r,order_complete:!0}}))}},{key:"handleOnStepCancel",value:function(){var e=this.props,t=e.auth,n=e.order_progress,a=e.setOrderProgress,i=this.typeSteps.unauthenticated;if(t.isAuthenticated&&(i=this.typeSteps.authenticated),0===this.state.step)i=this.typeSteps.proposalRequest,a({step_name:Object.keys(i)[1],steps_data:Object(ue.a)({},Object.keys(i)[1],{})}),this.setState((function(e){return{step:1,step_name:"request_proposal",steps:i}}));else{var r={};JSON.isJSON(n.steps_data)&&(r=JSON.parse(JSON.stringify(n.steps_data))),this.state.step_name in r&&delete r[this.state.step_name],a({step_name:Object.keys(i)[this.state.step-1],steps_data:r}),this.setState((function(e){return{steps:i,step:e.step-1,step_name:Object.keys(i)[e.step-1]}}))}}},{key:"handleOnContextChange",value:function(e,t){var n=this,a=this.props,i=a.setOrderProgress;a.order_progress;i({step_name:Object.keys(this.state.steps)[this.state.step],steps_data:Object(l.a)(Object(l.a)({},this.state.steps_data),{},Object(ue.a)({},Object.keys(this.state.steps)[this.state.step],Object(l.a)(Object(l.a)({},this.state.steps_data[Object.keys(this.state.steps)[this.state.step]]),{},{context:e,view:t})))}),this.setState((function(a){return{steps_data:Object(l.a)(Object(l.a)({},n.state.steps_data),{},Object(ue.a)({},Object.keys(n.state.steps)[n.state.step],Object(l.a)(Object(l.a)({},n.state.steps_data[Object.keys(n.state.steps)[n.state.step]]),{},{context:e,view:t})))}}))}},{key:"handleOnAddToCart",value:function(e){(0,this.props.addToCart)(e)}},{key:"render",value:function(){var e=JSON.isJSON(this.state.steps_data[this.state.step_name])?this.state.steps_data[this.state.step_name]:{};return Object(R.jsxs)(Nt.a,{className:"p-0 m-0 md:relative md:mb-8 md:h-screen bg-gray-100 md:overflow-x-hidden md:overflow-y-hidden",children:[Object(R.jsx)(_t.a,{xs:12,md:3,className:"inverse md:absolute md:top-0 md:left-0 md:right-auto md:h-screen",children:Object(R.jsx)(Nt.a,{className:"absolute center",children:Object(R.jsxs)(_t.a,{children:[Object(R.jsx)(Wt.a,{smDown:!0,children:Object(R.jsx)(cr,{color:"grey",activeColor:"primary",type:"default",step:this.state.step,steps:this.state.steps,onStep:this.handleStepNavigation})}),Object(R.jsx)(Wt.a,{mdUp:!0,children:Object(R.jsx)(cr,{color:"grey",activeColor:"primary",type:"mobile",step:this.state.step,steps:this.state.steps,onStep:this.handleStepNavigation})})]})})}),Object(R.jsxs)(_t.a,{xs:12,md:9,className:"md:p-4 md:pt-8 md:absolute md:top-0 md:right-0 md:h-screen ",children:[Object(R.jsxs)(Nt.a,{className:"px-8 h-16 md:absolute md:top-0",children:[Object(R.jsx)(_t.a,{xs:12,md:8,className:"p-2",children:Object(R.jsxs)(Xe.a,{variant:"h4",className:"default_text text-left",children:[" ",this.state.steps[this.state.step_name]," "]})}),Object(R.jsx)(_t.a,{xs:12,md:4,className:"p-2",children:Object(R.jsxs)(Xe.a,{variant:"h6",className:"grey_text text-right font-bold uppercase",children:["Step ",this.state.step+1," /"," ",Object.size(this.state.steps)," "]})})]}),Object(R.jsxs)(Nt.a,{className:"xs:px1 md:px-8 h-full mt-8 overflow-y-auto overflow-x-hidden",children:["start"===this.state.step_name&&Object(R.jsx)(ur,Object(l.a)({onComplete:this.handleOnStepComplete,onCancel:this.handleOnStepCancel},e)),"select_items"===this.state.step_name&&Object(R.jsx)(fr,Object(l.a)({onContextChange:this.handleOnContextChange,onAddToCart:this.handleOnAddToCart,onComplete:this.handleOnStepComplete,onCancel:this.handleOnStepCancel},e)),"request_proposal"===this.state.step_name&&Object(R.jsx)(dr,Object(l.a)({onComplete:this.handleOnStepComplete,onCancel:this.handleOnStepCancel},e)),"signin_signup"===this.state.step_name&&Object(R.jsx)(pr,Object(l.a)({onComplete:this.handleOnStepComplete,onCancel:this.handleOnStepCancel},e)),"account"===this.state.step_name&&Object(R.jsx)(br,Object(l.a)({onComplete:this.handleOnStepComplete,onCancel:this.handleOnStepCancel},e)),"confirm"===this.state.step_name&&Object(R.jsx)(jr,Object(l.a)({onComplete:this.handleOnStepComplete,onCancel:this.handleOnStepCancel},e)),"checkout"===this.state.step_name&&Object(R.jsx)(mr,Object(l.a)({onComplete:this.handleOnStepComplete,onCancel:this.handleOnStepCancel},e)),"thankyou"===this.state.step_name&&Object(R.jsx)(mr,Object(l.a)({onComplete:this.handleOnStepComplete,onCancel:this.handleOnStepCancel},e))]})]})]})}}]),n}(i.a.Component),vr=Object(s.b)((function(e){return{auth:e.auth,order_progress:e.ecommerce.order_progress}}),{setOrderProgress:C.Rb,addToCart:C.gb,removeFromCart:C.wb,closeDialog:C.lb,openDialog:C.ub})(hr),gr=n(2040),Or=n(1078),xr=n.n(Or),yr=n(493);var wr=Object(s.b)((function(e){return{auth:e.auth}}),{})((function(e){e.auth;var t=e.open,n=e.onLogin,i=e.onCancel,r=e.title,o=e.className,s=Object(a.useState)(t),l=Object(u.a)(s,2),c=l[0],d=l[1],p=Object(a.useState)(!1),b=Object(u.a)(p,2);return b[0],b[1],Object(a.useEffect)((function(){d(e.open)}),[e.open]),Object(R.jsxs)(q.a,{onClose:function(e){return d(!1)},className:o,"aria-labelledby":"login-dialog-title",open:c,children:[Object(R.jsx)(Pt.a,{id:"login-dialog-title",children:Object(R.jsxs)(Xe.a,{variant:"h5",children:[r||"Login"," "]})}),Object(R.jsx)(qe.a,{children:Object(R.jsx)(M.a,{children:Object(R.jsx)(Nt.a,{className:"px-4",children:Object(R.jsx)(_t.a,{xs:12,className:"p-0 m-0",children:Object(R.jsx)(yr.a,{onLogin:function(e){c&&Function.isFunction(n)&&n(e),d(!1)}})})})})}),Object(R.jsx)(At.a,{children:Object(R.jsx)(Dt.a,{color:"error",onClick:function(e){Function.isFunction(i)&&i(),d(!1)},children:"Cancel"})})]})}));var kr=Object(s.b)((function(e){return{auth:e.auth,cart:e.ecommerce.cart,order:e.ecommerce.order}}),{removeFromCart:C.wb,setCartNote:C.Hb,setOrder:C.Qb,emptyCart:C.nb,setCheckoutData:C.Ib,closeDialog:C.lb,openDialog:C.ub})((function(e){var t=e.cart,n=e.order,i=e.auth,r=e.removeFromCart,o=e.setCartNote,s=e.setOrder,l=e.emptyCart,c=e.setCheckoutData,d=e.closeDialog,p=e.openDialog,b=e.onProceedToCheckout,f=e.className,j=Object(a.useState)(!1),m=Object(u.a)(j,2),h=m[0],v=m[1],g=Object(a.useState)(!1),O=Object(u.a)(g,2),x=(O[0],O[1],Object(a.useState)(!1)),y=Object(u.a)(x,2),w=y[0],k=y[1];function N(){if(i.isAuthenticated){var e,a=null;Array.isArray(t.entries)&&t.entries.length>0&&(a=t.entries[0].item.currency?t.entries[0].item.currency._id:null);var r={currency:a,total:t.total,options_total:t.options_total,discount:0,tax:0,customer:null===(e=i.user)||void 0===e?void 0:e._id,status:"awaiting_payment",apply_coupon:!1,coupon:null,notes:t.note,items:t.entries.map((function(e,t){return{item:e.item._id,quantity:e.quantity?e.quantity:1,cost:e.item.cost,options:e.options?e.options:{},options_cost:e.options_cost}}))};if(n){var o={context:"order",order:n._id,currency:n.currency.symbol,amount:n.total,reference:n.reference,made_by:n.customer._id,account:"realfield",phone:n.customer.phone_number?n.customer.phone_number:"",email:n.customer.email_address,mpesa:"KE"===n.customer.country?"1":"0"};lt.a.get("/payments/gateway",o).then((function(e){v(!1);var t=e.body.data;c(t),Function.isFunction(b)&&b()})).catch((function(e){v(!1)}))}else lt.a.post("retail/orders/make",r).then((function(e){var t=e.body.data;s(t);var n={context:"order",order:t._id,currency:t.currency.symbol,amount:t.total,reference:t.reference,made_by:t.customer._id,account:"realfield",phone:t.customer.phone_number?t.customer.phone_number:"",email:t.customer.email_address,mpesa:"KE"===t.customer.country?"1":"0"};lt.a.get("/payments/gateway",n).then((function(e){v(!1);var t=e.body.data;c(t),Function.isFunction(b)&&b()})).catch((function(e){v(!1)}))})).catch((function(e){v(!1)}))}else k(!0)}return t.entries.length>0?Object(R.jsxs)(Nt.a,{className:"px-4"+(f?" "+f:""),children:[Object(R.jsxs)(_t.a,{xs:12,sm:12,className:"mb-4",children:[Object(R.jsx)(Xe.a,{variant:"h4",children:" Cart "}),Object(R.jsxs)(Dt.a,{color:"warning",className:"mt-2 w-auto",onClick:function(){p({title:"Empty Cart",body:"Are you sure you want to remove all items from your cart?",actions:{cancel:{text:"Dismiss",color:"grey",onClick:d},proceed:{text:"Empty",color:"error",onClick:function(){d(),l()}}}})},children:[" ","Remove all"," "]})]}),Object(R.jsx)(_t.a,{xs:12,className:"p-0 m-0",children:Object(R.jsx)(Se.a,{className:"w-full",children:t.entries.map((function(e,t){var n=e.item;return JSON.isJSON(n)||(n={}),Object(R.jsxs)(Ae.a,{alignItems:"flex-start",className:"inverse mb-2 rounded",children:[Object(R.jsx)(gr.a,{children:Object(R.jsx)(st.a,{children:Object(R.jsx)(xe.a,{alt:n.name,src:n.featured_image?lt.a.getAttachmentFileUrl(n.featured_image):"https://realfield.nyc3.cdn.digitaloceanspaces.com/public/img/realfield/logo-chevron.svg"})})}),Object(R.jsx)(De.a,{primary:n.name,secondary:Object(R.jsxs)(Nt.a,{className:"p-0",children:[Object(R.jsx)(_t.a,{xs:12,className:"m-0 p-0",children:Object(R.jsxs)(Xe.a,{component:"span",variant:"body2",className:"w-full ",color:"grey",children:[" ",n.description," "]})}),Object(R.jsx)(_t.a,{xs:12,className:"m-0 mt-2 p-0",children:Object(R.jsxs)(Xe.a,{component:"span",variant:"body2",className:"inline",children:[" ","Cost: ",n.cost," "]})}),Object(R.jsx)(_t.a,{xs:12,className:"m-0 mt-2 p-0",children:Object(R.jsxs)(Xe.a,{component:"span",variant:"body2",className:"inline",children:[" ","Options: ",e.options_cost," "]})}),Object(R.jsx)(_t.a,{xs:12,className:"m-0 mt-2 p-0",children:Object(R.jsxs)(Dt.a,{color:"warning",onClick:function(t){return function(e){p({title:"Remove from Cart",body:"Are you sure you want to remove cart item?",actions:{cancel:{text:"Dismiss",color:"grey",onClick:d},proceed:{text:"Remove",color:"error",onClick:function(){d(),r(e)}}}})}(e)},disabled:h,children:[" ","Remove"," "]})})]})})]},"cart-item-"+t)}))})}),Object(R.jsxs)(_t.a,{xs:12,className:"p-2",children:[Object(R.jsxs)(Nt.a,{className:"p-0",children:[Object(R.jsx)(_t.a,{xs:12,sm:12,md:6,className:"mb-2",children:Object(R.jsx)(Mt.n,{type:"text",label:"Order Note",name:"note",multiline:!0,rows:4,variant:"outlined",value:t.note,onChange:function(e){return function(e){if(n){var t=JSON.updateJSON(n,{notes:e});lt.a.put("retail/orders/"+n._id,t).then((function(n){s(t),o(e)})).catch((function(e){v(!1)}))}}(e)},helperText:"Leave a note with your order"})}),Object(R.jsxs)(_t.a,{xs:12,sm:12,md:6,className:"mb-4 flex flex-col",children:[Object(R.jsxs)(Xe.a,{component:"span",variant:"h2",className:"text-right",children:[Object(R.jsx)("span",{className:"text-gray-500 mr-2 text-base",children:t.currency}),Object(R.jsx)("span",{className:"text-3xl",children:t.total})]}),Object(R.jsxs)(Xe.a,{component:"span",variant:"h4",className:"text-right",children:[Object(R.jsx)("span",{className:"text-gray-400 mr-4 text-xs",children:"Options: "}),Object(R.jsx)("span",{className:"text-gray-500 mr-2 text-xs",children:t.currency}),Object(R.jsx)("span",{className:"text-sm",children:t.options_total})]})]})]}),Object(R.jsxs)(Nt.a,{className:"p-0",children:[Object(R.jsx)(_t.a,{xs:12,sm:12,className:"mb-2",children:Object(R.jsxs)(Dt.a,{color:"primary",className:" w-auto",onClick:function(e){N()},right:!0,children:[" ","Proceed to Checkout"," "]})}),Object(R.jsx)(_t.a,{xs:12,sm:12,className:"mb-4",children:Object(R.jsxs)(Xe.a,{component:"span",variant:"body2",className:"w-full text-right text-gray-700",children:[" ","Shipping & taxes calculated at checkout"," "]})})]}),Object(R.jsx)(wr,{open:w,onLogin:N,title:"Login to Proceed"})]})]}):Object(R.jsxs)(Nt.a,{className:"px-4"+(f?" "+f:""),children:[Object(R.jsx)(_t.a,{xs:12,className:"p-0 m-0 my-20 text-center",children:Object(R.jsx)(xr.a,{className:"text-6xl m-auto text-gray-500"})}),Object(R.jsx)(_t.a,{xs:12,className:"p-0 m-0",children:Object(R.jsxs)(Xe.a,{component:"span",variant:"subtitle1",className:"w-full text-center text-gray-500",children:[" ","Your Cart is empty"," "]})})]})})),Nr=["classes"],_r=function(e){Object(_.a)(n,e);var t=Object(S.a)(n);function n(e){var a;return Object(k.a)(this,n),(a=t.call(this,e)).onProceedToCheckout=a.onProceedToCheckout.bind(Object(Je.a)(a)),a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){document.title=A.a.title("Cart")}},{key:"onProceedToCheckout",value:function(){var e=this.props.history;e&&e.push("/checkout".toUriWithLandingPagePrefix())}},{key:"render",value:function(){var e=this.props;e.classes,Object(T.a)(e,Nr);return Object(R.jsx)(Nt.a,{className:"relative min-h-screen",children:Object(R.jsx)(_t.a,{xs:12,sm:10,md:8,className:"m-auto",children:Object(R.jsx)(kr,{className:"w-full",onProceedToCheckout:this.onProceedToCheckout})})})}}]),n}(i.a.Component),Sr=["name"],Cr=function(e){Object(_.a)(n,e);var t=Object(S.a)(n);function n(e){var a;Object(k.a)(this,n),(a=t.call(this,e)).state={item:{},options:{},options_cost:0,selected_image:null,loading:!1,canAddToCart:!1,variantsError:!1},a.handleOnItemAdd=function(e){var t=a.props,n=t.onItemAdd,i=(t.addToCart,a.state),r=i.item,o=i.options,s=i.options_cost;Function.isFunction(n)&&n({item:r,options:o,options_cost:s})},a.handleOnVariantsChange=function(e){return function(e){var t={};if(JSON.isJSON(e))for(var n=0,i=Object.entries(e);n<i.length;n++){var r=Object(u.a)(i[n],2),o=r[0],s=r[1];t[o]=s}a.calculateOptionsPrice(t),a.canAddToCart(t),a.setState({options:t})}},a.handleOnImageSelect=function(e){return function(t){a.setState({selected_image:e})}};var i=a.props,r=i.item,o=i.options,s=i.loading;return a.state.item=r,a.state.loading=!!s,a.state.options=JSON.isJSON(o)?o:{},a.state.selected_image=JSON.isJSON(r)&&r.featured_image?lt.a.getAttachmentFileUrl(r.featured_image):null,a.handleOnItemAdd=a.handleOnItemAdd.bind(Object(Je.a)(a)),a.handleOnImageSelect=a.handleOnImageSelect.bind(Object(Je.a)(a)),a.handleOnVariantsChange=a.handleOnVariantsChange.bind(Object(Je.a)(a)),a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){var e=this.state,t=e.item;e.options,e.loading;JSON.isJSON(t)&&(this.calculateOptionsPrice(),this.canAddToCart())}},{key:"getSnapshotBeforeUpdate",value:function(e){return this.mounted=!1,Object.areEqual(e,this.props)?{applyChanges:!1}:{applyChanges:!0}}},{key:"componentDidUpdate",value:function(e,t,n){if(n.applyChanges){var a=JSON.updateJSON(this.state,this.props);this.setState(a),this.calculateOptionsPrice(),this.canAddToCart()}}},{key:"calculateOptionsPrice",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.state.item;if(JSON.isJSON(t)){var n=t.variants,a=t.cost;JSON.isJSON(e)||(e=this.state.options);var i=0;if(JSON.isJSON(n))for(var r=0,o=Object.values(n);r<o.length;r++){var s=o[r],l=s.name,c=Object(T.a)(s,Sr);if(e[l])if("amount"==c.cost_effect_type)i+=Number.parseNumber(c.cost_effect,0);else if("percentage"==c.cost_effect_type){var u=Number.parseNumber(a,0)*Number.parseNumber(c.cost_effect,0)/100;i+=u}}this.setState({options_cost:i})}}},{key:"canAddToCart",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.state.item;if(JSON.isJSON(t)){var n=t.variants;JSON.isJSON(e)||(e=this.state.options);var a=!0,i=!1;if(JSON.isJSON(n))for(var r=0,o=Object.entries(n);r<o.length;r++){var s=Object(u.a)(o[r],2),l=(s[0],s[1]);if(l.required&&(!(l.name in e)||!e[l.name])){a=!1,i=l.label+" is required ";break}}this.setState({canAddToCart:a,variantsError:i})}}},{key:"render",value:function(){var e=this,t=this.state,n=t.item,a=t.options_cost;return t.loading?Object(R.jsxs)(Nt.a,{className:"p-0 m-0",children:[Object(R.jsxs)(Nt.a,{children:[Object(R.jsx)(_t.a,{xs:12,md:4,className:"p-0 m-0",children:Object(R.jsxs)(Nt.a,{className:"p-0 m-0",children:[Object(R.jsx)(_t.a,{xs:12,children:Object(R.jsx)(ha.a,{variant:"rect",width:"90%",height:28})}),Object(R.jsx)(_t.a,{xs:12,children:Object(R.jsx)(ha.a,{variant:"rect",width:"30%",height:37})}),Object(R.jsxs)(_t.a,{xs:12,children:[Object(R.jsx)(ha.a,{variant:"text",className:"mb-1",width:"80%"}),Object(R.jsx)(ha.a,{variant:"text",className:"mb-1",width:"80%"}),Object(R.jsx)(ha.a,{variant:"text",className:"mb-1",width:"70%"}),Object(R.jsx)(ha.a,{variant:"text",className:"mb-1",width:"30%"})]}),Object(R.jsxs)(_t.a,{xs:12,className:"flex",children:[Object(R.jsx)(ha.a,{variant:"rect",className:"m-1 w-16 h-8 rounded-full"}),Object(R.jsx)(ha.a,{variant:"rect",className:"m-1 w-16 h-8 rounded-full"}),Object(R.jsx)(ha.a,{variant:"rect",className:"m-1 w-16 h-8 rounded-full"})]})]})}),Object(R.jsx)(_t.a,{xs:12,md:8,className:"p-0 m-0",children:Object(R.jsxs)(Nt.a,{className:"p-0 m-0 flex flex-col",children:[Object(R.jsx)(ha.a,{variant:"rect",className:"w-full",height:400}),Object(R.jsxs)("div",{className:"p-2 w-full flex",children:[Object(R.jsx)(ha.a,{variant:"rect",className:"sm:w-1/4 md:w-16 mx-1",width:74,height:64}),Object(R.jsx)(ha.a,{variant:"rect",className:"sm:w-1/4 md:w-16 mx-1",width:74,height:64}),Object(R.jsx)(ha.a,{variant:"rect",className:"sm:w-1/4 md:w-16 mx-1",width:74,height:64})]})]})})]}),Object(R.jsx)(Nt.a,{children:Object(R.jsx)(_t.a,{xs:12,className:"px-0 m-0",children:Object(R.jsx)(ha.a,{variant:"rect",className:"w-24 rounded",height:34})})})]}):Object(R.jsxs)(Nt.a,{className:"p-0 m-0",children:[Object(R.jsx)(_t.a,{xs:12,md:4,className:"p-0 m-0",children:Object(R.jsxs)(Nt.a,{className:"p-0 m-0",children:[Object(R.jsx)(_t.a,{xs:12,children:Object(R.jsx)(Xe.a,{variant:"h3",gutterBottom:!0,children:n.name})}),n.cost>0&&JSON.isJSON(n.currency)&&Object(R.jsxs)(_t.a,{xs:12,children:[Object(R.jsx)("span",{className:"text-2xl text-gray-500",children:n.currency.html_symbol}),Object(R.jsx)("span",{className:"text-3xl text-gray-900",children:(n.cost>0?n.cost:0)+a})]}),Object(R.jsxs)(_t.a,{xs:12,children:[Object(R.jsx)("span",{className:"text-gray-500 mr-2",children:"Variants price:"}),Object(R.jsx)("span",{className:"text-gray-900",children:(JSON.isJSON(n.currency)&&n.currency.html_symbol?n.currency.html_symbol:"")+" "+a})]}),Object(R.jsx)(_t.a,{xs:12,children:Object(R.jsx)(Xe.a,{variant:"body1",gutterBottom:!0,children:n.description})}),Object(R.jsxs)(_t.a,{xs:12,children:["service"===n.item_type&&Object(R.jsx)(oa.a,{className:"m-1",size:"small",label:"Service"}),"product"===n.item_type&&Object(R.jsx)(oa.a,{className:"m-1",size:"small",label:"Product"}),n.available&&Object(R.jsx)(oa.a,{className:"m-1",size:"small",label:"Available"}),n.taxable&&Object(R.jsx)(oa.a,{className:"m-1",size:"small",label:"Taxable"}),n.discountable&&Object(R.jsx)(oa.a,{className:"mx-1",size:"small",label:"Discountable"}),Array.isArray(n.categories)&&Object(R.jsxs)("div",{children:[" ",n.categories.map((function(e,t){return Object(R.jsx)(oa.a,{label:e,className:"m-1",size:"small"},"category-"+t)}))," "]}),Array.isArray(n.tags)&&Object(R.jsxs)("div",{children:[" ",n.tags.map((function(e,t){return Object(R.jsx)(oa.a,{label:e,className:"m-1",size:"small"},"tag-"+t)}))," "]})]})]})}),Object(R.jsx)(_t.a,{xs:12,md:8,className:"p-0 m-0",children:Object(R.jsxs)(Nt.a,{className:"p-0 m-0 flex flex-col",children:[Object(R.jsx)("div",{className:"p-2 w-full flex-grow",children:Object(R.jsx)(xe.a,{className:"w-full h-auto",src:this.state.selected_image?this.state.selected_image:"https://realfield.nyc3.cdn.digitaloceanspaces.com/public/img/realfield/logo-chevron.svg"})}),Object(R.jsxs)("div",{className:"p-2 w-full flex",children:[n.featured_image&&Object(R.jsx)(xe.a,{className:"sm:w-1/4 md:w-16 mx-1 cursor-pointer hover:opacity-50",src:lt.a.getAttachmentFileUrl(n.featured_image),onClick:this.handleOnImageSelect(lt.a.getAttachmentFileUrl(n.featured_image))}),n.images.map((function(t,n){return Object(R.jsx)(xe.a,{className:"sm:w-1/4 md:w-16 mx-1 cursor-pointer hover:opacity-50",src:lt.a.getAttachmentFileUrl(t),onClick:e.handleOnImageSelect(lt.a.getAttachmentFileUrl(t))},"item-image-"+n)}))]})]})}),Object(R.jsxs)(Nt.a,{className:"px-0 m-0",children:[JSON.isJSON(n.variants)&&JSON.isJSON(n.variants)&&Object(R.jsx)(_t.a,{xs:12,className:"px-0 m-0",children:Object(R.jsx)(Mt.d,{label:"Variants",mode:"generation",name:"variants",blueprint:n.variants,value:this.state.options,onChange:this.handleOnVariantsChange("variants"),variant:"outlined",error:this.state.variantsError,validate:!0})}),Object(R.jsx)(_t.a,{xs:12,className:"px-0 m-0",children:Object(R.jsxs)(Dt.a,{color:"primary",onClick:this.handleOnItemAdd,disabled:!this.state.canAddToCart,children:[" ","Add to Cart"," "]})})]})]})}}]),n}(i.a.Component),Ar=Object(s.b)((function(e){return{auth:e.auth,cart:e.ecommerce.cart}}),{addToCart:C.gb})(Cr),Fr=function(e){Object(_.a)(n,e);var t=Object(S.a)(n);function n(e){var a;Object(k.a)(this,n),(a=t.call(this,e)).state={retailitems:[],loading:!0,load_err:!1},a.handleOnItemSelect=function(e){return function(t){var n=a.props.onItemSelect;Function.isFunction(n)&&n(e,t)}};var i=a.props.params;return a.state.params={p:1},JSON.isJSON(i)&&(a.state.params=Object(l.a)(Object(l.a)({},i),{},{p:1})),a.handleOnItemSelect=a.handleOnItemSelect.bind(Object(Je.a)(a)),a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){this.loadItems()}},{key:"componentDidUpdate",value:function(e,t,n){var a=this,i=this.props.params,r={p:1};JSON.isJSON(i)&&(r=Object(l.a)(Object(l.a)({},i),{},{p:1}),Object.areEqual(this.state.params,r)||this.setState({params:i},(function(){a.loadItems()})))}},{key:"loadItems",value:function(){var e=this,t=this.state.params;this.setState((function(e){return{loading:!0,load_err:null}})),lt.a.get("retail/items",t).then((function(t){e.setState((function(e){return{retailitems:t.body.data,loading:!1,load_err:null}}))})).catch((function(t){e.setState((function(e){return{retailitems:[],loading:!1,load_err:t}}))}))}},{key:"render",value:function(){var e=this;return Object(R.jsxs)(Nt.a,{className:"p-0 m-0",children:[this.state.loading&&Object(R.jsxs)(Nt.a,{className:"flex-10",children:[Object(R.jsx)(_t.a,{xs:12,md:4,lg:3,children:Object(R.jsxs)("div",{className:"bg-white shadow-xl rounded-lg flex flex-col overflow-hidden",children:[Object(R.jsx)(ha.a,{variant:"rect",width:"100%",height:224}),Object(R.jsx)(ha.a,{variant:"text",width:"95%",className:"mt-2 mx-auto"}),Object(R.jsx)(ha.a,{variant:"rect",width:"30%",height:50,className:"mt-2 ml-4"}),Object(R.jsx)(ha.a,{variant:"text",width:"95%",className:"mt-2 mx-auto"}),Object(R.jsx)(ha.a,{variant:"text",width:"95%",className:"mt-6 mx-auto"}),Object(R.jsx)(ha.a,{variant:"rect",width:"80%",height:34,className:"mt-8 mb-6 mx-auto rounded"})]})}),Object(R.jsx)(_t.a,{xs:12,md:4,lg:3,children:Object(R.jsxs)("div",{className:"bg-white shadow-xl rounded-lg flex flex-col overflow-hidden",children:[Object(R.jsx)(ha.a,{variant:"rect",width:"100%",height:224}),Object(R.jsx)(ha.a,{variant:"text",width:"95%",className:"mt-2 mx-auto"}),Object(R.jsx)(ha.a,{variant:"rect",width:"30%",height:50,className:"mt-2 ml-4"}),Object(R.jsx)(ha.a,{variant:"text",width:"95%",className:"mt-2 mx-auto"}),Object(R.jsx)(ha.a,{variant:"text",width:"95%",className:"mt-6 mx-auto"}),Object(R.jsx)(ha.a,{variant:"rect",width:"80%",height:34,className:"mt-8 mb-6 mx-auto rounded"})]})}),Object(R.jsx)(_t.a,{xs:12,md:4,lg:3,children:Object(R.jsxs)("div",{className:"bg-white shadow-xl rounded-lg flex flex-col overflow-hidden",children:[Object(R.jsx)(ha.a,{variant:"rect",width:"100%",height:224}),Object(R.jsx)(ha.a,{variant:"text",width:"95%",className:"mt-2 mx-auto"}),Object(R.jsx)(ha.a,{variant:"rect",width:"30%",height:50,className:"mt-2 ml-4"}),Object(R.jsx)(ha.a,{variant:"text",width:"95%",className:"mt-2 mx-auto"}),Object(R.jsx)(ha.a,{variant:"text",width:"95%",className:"mt-6 mx-auto"}),Object(R.jsx)(ha.a,{variant:"rect",width:"80%",height:34,className:"mt-8 mb-6 mx-auto rounded"})]})})]}),!this.state.loading&&Array.isArray(this.state.retailitems)&&Object(R.jsx)(Nt.a,{className:"p-4 m-0",children:this.state.retailitems.map((function(t,n){var a;return t.available&&Object(R.jsx)(_t.a,(a={xs:12},Object(ue.a)(a,"xs",12),Object(ue.a)(a,"md",4),Object(ue.a)(a,"lg",3),Object(ue.a)(a,"className","flex flex-col"),Object(ue.a)(a,"children",Object(R.jsxs)("div",{className:"bg-white shadow-xl rounded-lg overflow-hidden",children:[Object(R.jsx)("div",{className:"bg-cover bg-center h-56 p-0",children:Object(R.jsx)(xe.a,{className:"w-full h-full",src:t.featured_image?lt.a.getAttachmentFileUrl(t.featured_image):"https://realfield.nyc3.cdn.digitaloceanspaces.com/public/img/realfield/logo-chevron.svg"})}),Object(R.jsxs)("div",{className:"p-4",children:[Object(R.jsx)("p",{className:"uppercase truncate tracking-wide text-sm  text-gray-900",children:t.name}),t.cost>0&&JSON.isJSON(t.currency)&&Object(R.jsx)("p",{className:"text-3xl text-gray-900 my-4",children:t.currency.html_symbol+" "+t.cost}),Object(R.jsx)("p",{className:"truncate tracking-wide text-sm  text-gray-500",children:t.description?t.description:"No description available"})]}),Object(R.jsxs)("div",{className:"flex p-4 border-t border-gray-300 text-gray-700",children:[Object(R.jsx)("div",{className:"flex-1 inline-flex items-center",children:Object(R.jsx)("p",{className:" text-gray-900 font-bold",children:"Type"})}),Object(R.jsx)("div",{className:"flex-1 inline-flex items-left",children:Object(R.jsx)("p",{className:"capitalize",children:t.item_type})})]}),Object(R.jsx)("div",{className:"px-4 pt-3 pb-4 border-t border-gray-300 bg-gray-100",children:Object(R.jsx)(Dt.a,{className:"w-full",color:"primary",onClick:e.handleOnItemSelect(t),children:"View"})})]})),a),t._id)}))})]})}}]),n}(i.a.Component),Pr=function(e){Object(_.a)(n,e);var t=Object(S.a)(n);function n(e){var a;Object(k.a)(this,n),(a=t.call(this,e)).state={view:"gridview",prev_view:"gridview",items:[],context:null,params:{}},a.handleOnItemSelect=function(e,t){a.props.onContextChange;a.setState((function(t){return{view:"itemview",context:e,prev_view:t.view}}))},a.handleOnItemAdd=function(e){var t=a.props.addToCart;Function.isFunction(t)&&t(e),a.setState((function(e){return{view:e.prev_view,prev_view:e.view,context:{}}}))},a.handleOnBackClick=function(e){a.setState((function(e){return{view:e.prev_view,prev_view:e.view}}))};var i=e.context,r=e.view;return i&&(a.state.context=i),r&&(a.state.view=r),a.handleOnItemSelect=a.handleOnItemSelect.bind(Object(Je.a)(a)),a.handleOnItemAdd=a.handleOnItemAdd.bind(Object(Je.a)(a)),a.handleOnBackClick=a.handleOnBackClick.bind(Object(Je.a)(a)),a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(e,t,n){var a=this.props,i=a.context,r=a.view;Object.areEqual(this.state.context,i)&&Object.areEqual(this.state.view,r)||this.setState({view:r,context:i})}},{key:"render",value:function(){return Object(R.jsxs)(Nt.a,{className:"p-0 m-0",children:[Object(R.jsx)(Nt.a,{className:"p-0 m-0",children:!["gridview"].includes(this.state.view)&&Object(R.jsx)(_t.a,{xs:6,className:"float-left",children:Object(R.jsx)(je.a,{"aria-label":"back",onClick:this.handleOnBackClick,children:Object(R.jsx)(he.a,{fontSize:"inherit"})})})}),Object(R.jsxs)(Nt.a,{className:"p-0 m-0",children:["gridview"===this.state.view&&Object(R.jsx)(Fr,{onItemSelect:this.handleOnItemSelect,params:this.state.params}),"itemview"===this.state.view&&Object(R.jsx)(Ar,{onItemAdd:this.handleOnItemAdd,item:this.state.context})]})]})}}]),n}(i.a.Component),Dr=Object(s.b)((function(e){return{auth:e.auth,order_progress:e.ecommerce.order_progress}}),{addToCart:C.gb,removeFromCart:C.wb,closeDialog:C.lb,openDialog:C.ub})(Pr),Er=["classes"],Tr=function(e){Object(_.a)(n,e);var t=Object(S.a)(n);function n(e){return Object(k.a)(this,n),t.call(this,e)}return Object(N.a)(n,[{key:"componentDidMount",value:function(){document.title=A.a.title("Catalog")}},{key:"render",value:function(){var e=this.props;e.classes,Object(T.a)(e,Er);return Object(R.jsx)(Nt.a,{style:{minHeight:"90vh"},className:"relative",children:Object(R.jsx)(_t.a,{xs:12,sm:12,md:10,className:"m-auto",children:Object(R.jsx)(Dr,{className:"w-full"})})})}}]),n}(i.a.Component),qr=n(2056),Mr=n(2057),Ir=n(2058),Rr=n(238),Lr=n.n(Rr),zr=n(1987),Vr=["auth","theme","device","apiCallRequest","closeDialog","openDialog"],Wr=Object(qn.a)((function(e){return Object(zr.a)({root:{color:e.palette.text.primary,position:"relative",display:"flex",flexDirection:"row"},title:{color:e.palette.text.secondary,textDecoration:"none"},subtitle:{margin:"10px auto 0"},contentWrapper:{maxHeight:"100%",overflowY:"auto",background:e.palette.background.surface,overflowX:"hidden",flex:1},heading:{fontSize:e.typography.pxToRem(16),fontWeight:e.typography.fontWeightBold}})})),Jr=Ie()(Object(s.b)((function(e,t){return{auth:e.auth}}),{closeDialog:C.lb,openDialog:C.ub}),ot.a)((function(e){e.auth,e.theme,e.device,e.apiCallRequest,e.closeDialog,e.openDialog,Object(T.a)(e,Vr);var t=Object(ce.b)().Api,n=Wr(),i=Object(ie.p)({records:[],loading:!0,error:!1}),r=Object(u.a)(i,2),o=r[0],s=r[1],c=Object(a.useState)([]),d=Object(u.a)(c,2),p=(d[0],d[1],Object(a.useState)([])),b=Object(u.a)(p,2),f=(b[0],b[1],Object(a.useState)(!0)),j=Object(u.a)(f,2),m=(j[0],j[1],Object(a.useState)(!1)),h=Object(u.a)(m,2);h[0],h[1];return Object(a.useEffect)((function(){t.get("/posts",{params:{is:"type=faq",sort:"created_on",pagination:"-1"}}).then((function(e){var t=Object(l.a)({},null===e||void 0===e?void 0:e.body).data;console.log("FAQs data",t),s({records:Array.isArray(t)?t:[],loading:!1,error:!1})})).catch((function(e){s({loading:!1,error:e})}))}),[]),Object(R.jsx)(Tn,{className:"".concat(n.root," mb-16"),id:"faqs",title:"FAQs",children:Object(R.jsx)(Nt.a,{className:"p-0",children:Object(R.jsxs)(Nt.a,{className:"p-0",children:[o.loading&&Object(R.jsxs)(_t.a,{xs:12,className:"flex items-center flex-col justify-center",children:[Object(R.jsx)(I.a,{}),Object(R.jsx)(Xe.a,{color:"text.secondary",variant:"subtitle2",paragraph:!0,children:"Loading..."})]}),o.error&&Object(R.jsx)(_t.a,{xs:12,className:"flex items-center justify-center",children:Object(R.jsx)(Xe.a,{color:"error",variant:"subtitle2",paragraph:!0,children:o.error.msg})}),Object(R.jsx)(_t.a,{xs:12,className:"p-0",children:o.records.map((function(e,t){return e.content&&"faq"==e.type&&Object(R.jsxs)(qr.a,{children:[Object(R.jsx)(Mr.a,{expandIcon:Object(R.jsx)(Lr.a,{}),"aria-controls":e.slug,id:e.slug,children:Object(R.jsx)(Xe.a,{className:null===n||void 0===n?void 0:n.heading,children:t+1+". \t "+e.title})}),Object(R.jsx)(Ir.a,{children:Object(R.jsxs)(Xe.a,{children:[" ",e.content," "]})})]})}))})]})})})})),Br=["classes","auth","theme","device"],Ur=function(e){Object(_.a)(n,e);var t=Object(S.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(N.a)(n,[{key:"componentDidMount",value:function(){document.title=A.a.title("FAQs")}},{key:"render",value:function(){var e=this.props,t=e.classes;e.auth,e.theme,e.device,Object(T.a)(e,Br);return Object(R.jsx)("div",{children:Object(R.jsx)(Nt.a,{className:(null===t||void 0===t?void 0:t.root)+" sm:px-4 md:px-32",direction:"column",alignItems:"center",justify:"center",children:Object(R.jsx)(Nt.a,{className:null===t||void 0===t?void 0:t.container,children:Object(R.jsx)(_t.a,{xs:12,sm:12,md:12,children:Object(R.jsx)(Jr,{})})})})})}}]),n}(i.a.Component),Gr=Ie()(Object(s.b)((function(e,t){return{auth:e.auth,device:e.device}}),{}),ot.a)(Ur),Hr=["classes","auth","theme","device"],Kr=Ie()(Object(s.b)((function(e,t){return{auth:e.auth}}),{}),ot.a)((function(e){e.classes,e.auth,e.theme,e.device,Object(T.a)(e,Hr);return Object(R.jsx)(Tn,{className:"pb-0",id:"about-us",title:"",children:Object(R.jsxs)(Nt.a,{className:"p-0",children:[Object(R.jsx)(_t.a,{xs:12,className:"p-0",children:Object(R.jsx)(Tt.a,{variant:"h4",color:"text.secondary",paragraph:!0,children:"About Us"})}),Object(R.jsx)(_t.a,{xs:12,className:"p-0",children:Object(R.jsx)(Tt.a,{color:"text.secondary",children:"We are anthropologists, academics, data collectors, data scientists, researchers, statisticians, software engineers, sociologists, subject matter experts and students. We are truth seekers, information explorers and believers in the power of facts and evidence."})}),Object(R.jsxs)(_t.a,{xs:12,className:"p-0 pt-4",children:[Object(R.jsx)(Tt.a,{variant:"h4",color:"text.secondary",paragraph:!0,children:"Our Mission"}),Object(R.jsx)(Tt.a,{color:"text.secondary",paragraph:!0,children:"We help you swiftly understand people\u2019s preferences, attitudes and behaviours by using networks of primary data collectors working with proven methods enabled by Realfield\u2019s platform."})]}),Object(R.jsxs)(_t.a,{xs:12,className:"p-0 pt-4",children:[Object(R.jsx)(Tt.a,{variant:"h4",color:"text.secondary",paragraph:!0,children:"How We Work"}),Object(R.jsx)(Nt.a,{className:"p-0 py-6",children:Object(R.jsx)(_t.a,{xs:12,className:"p-0 flex flex-row items-center justify-center",sx:{height:"50vh !important"},children:Object(R.jsx)("iframe",{width:"853",height:"520",src:"https://www.youtube.com/embed/hRf_WPDOPv4",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"relative left-0 top-0 w-full h-full",title:"Embedded youtube"})})})]})]})})})),Yr=Ie()(Object(s.b)((function(e,t){return{auth:e.auth,device:e.device}}),{}),ot.a)((function(e){e.theme;return Object(R.jsxs)(Tn,{className:"p-0  md:pt-2 ",id:"being-a-fielder",children:[Object(R.jsx)(Nt.a,{className:"p-0",children:Object(R.jsx)(_t.a,{xs:12,className:"p-0",children:Object(R.jsx)(Tt.a,{variant:"h4",color:"text.secondary",children:"Being a Fielder"})})}),Object(R.jsx)(Nt.a,{className:"p-0 py-6",children:Object(R.jsx)(_t.a,{xs:12,className:"p-0 flex flex-row items-center justify-center relative",sx:{height:"50vh !important"},children:Object(R.jsx)("iframe",{width:"853",height:"480",src:"https://www.youtube.com/embed/hRf_WPDOPv4",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"relative left-0 top-0 w-full",title:"Embedded youtube"})})})]})})),Qr=["classes","auth","theme","device"],Zr=function(e){Object(_.a)(n,e);var t=Object(S.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(N.a)(n,[{key:"componentDidMount",value:function(){document.title=A.a.title("About Us")}},{key:"render",value:function(){var e=this.props,t=e.classes;e.auth,e.theme,e.device,Object(T.a)(e,Qr);return Object(R.jsx)(Nt.a,{className:(null===t||void 0===t?void 0:t.root)+" p-0 ",direction:"column",alignItems:"center",justify:"center",children:Object(R.jsxs)(Nt.a,{className:"p-0",children:[Object(R.jsx)(_t.a,{xs:12,sm:12,md:12,className:"p-0",children:Object(R.jsx)(Kr,{})}),Object(R.jsx)(_t.a,{xs:12,sm:12,md:12,className:"p-0",children:Object(R.jsx)(Yr,{})}),Object(R.jsx)(_t.a,{xs:12,sm:12,md:12,className:"p-0",children:Object(R.jsx)(Jr,{})})]})})}}]),n}(i.a.Component),Xr=Ie()(Object(s.b)((function(e,t){return{auth:e.auth,device:e.device}}),{}),ot.a)(Zr),$r=["classes","auth","theme","device"],eo=Ie()(Object(s.b)((function(e,t){return{auth:e.auth}}),{}),ot.a)((function(e){e.classes,e.auth,e.theme,e.device,Object(T.a)(e,$r);return Object(R.jsx)(Tn,{className:"p-0 min-h-screen",id:"why-us",sx:{backgroundColor:function(e){return e.palette.background.paper}},children:Object(R.jsxs)(Nt.a,{className:"p-0",children:[Object(R.jsxs)(_t.a,{xs:12,md:12,className:"p-0 pb-8",children:[Object(R.jsx)(Nt.a,{className:"p-0",children:Object(R.jsx)(_t.a,{xs:12,className:"p-0 mb-2",children:Object(R.jsx)(Tt.a,{variant:"h4",color:"textSecondary",className:"mb-2",gutterBottom:!0,children:"Why should you use Realfield?"})})}),Object(R.jsxs)(Nt.a,{className:"p-0",children:[Object(R.jsxs)(_t.a,{xs:12,className:"p-0 mb-2 flex flex-row items-center",children:[Object(R.jsx)(le.a,{className:"w-10 h-10 rounded-full flex flex-row items-center justify-center mr-4",sx:{backgroundColor:function(e){return e.palette.secondary.main}},children:Object(R.jsx)(Tt.a,{className:"font-bold",color:"background.paper",children:"1"})}),Object(R.jsx)(Tt.a,{variant:"subtitle2",children:"Swift understanding of people's preferences, attitudes and behaviours"})]}),Object(R.jsxs)(_t.a,{xs:12,className:"p-0 mb-2 flex flex-row items-center",children:[Object(R.jsx)(le.a,{className:"w-10 h-10 rounded-full flex flex-row items-center justify-center mr-4",sx:{backgroundColor:function(e){return e.palette.secondary.main}},children:Object(R.jsx)(Tt.a,{className:"font-bold",color:"background.paper",children:"2"})}),Object(R.jsx)(Tt.a,{variant:"subtitle2",children:"High quality empirical data"})]}),Object(R.jsxs)(_t.a,{xs:12,className:"p-0 mb-2 flex flex-row items-center",children:[Object(R.jsx)(le.a,{className:"w-10 h-10 rounded-full flex flex-row items-center justify-center mr-4",sx:{backgroundColor:function(e){return e.palette.secondary.main}},children:Object(R.jsx)(Tt.a,{className:"font-bold",color:"background.paper",children:"3"})}),Object(R.jsx)(Tt.a,{variant:"subtitle2",children:"Real time results"})]}),Object(R.jsxs)(_t.a,{xs:12,className:"p-0  mb-2 flex flex-row items-center",children:[Object(R.jsx)(le.a,{className:"w-10 h-10 rounded-full flex flex-row items-center justify-center mr-4",sx:{backgroundColor:function(e){return e.palette.secondary.main}},children:Object(R.jsx)(Tt.a,{className:"font-bold",color:"background.paper",children:"4"})}),Object(R.jsx)(Tt.a,{variant:"subtitle2",children:"Ethical sourcing"})]}),Object(R.jsxs)(_t.a,{xs:12,className:"p-0 mb-2 flex flex-row items-center",children:[Object(R.jsx)(le.a,{className:"w-10 h-10 rounded-full flex flex-row items-center justify-center mr-4",sx:{backgroundColor:function(e){return e.palette.secondary.main}},children:Object(R.jsx)(Tt.a,{className:"font-bold",color:"background.paper",children:"5"})}),Object(R.jsx)(Tt.a,{variant:"subtitle2",children:"Accessible pricing"})]})]})]}),Object(R.jsx)(_t.a,{xs:12,className:"p-0",id:"realfield-approach",children:Object(R.jsx)(Tt.a,{variant:"h4",className:"mb-2",color:"text.secondary",paragraph:!0,children:"Realfield's Ethical Approach"})}),Object(R.jsx)(_t.a,{xs:12,className:"p-0 py-2",children:Object(R.jsx)(Tt.a,{color:"text.secondary",children:"Why are our ethical data collection practices important for your project?"})}),Object(R.jsx)(_t.a,{xs:12,className:"p-0 py-2",children:Object(R.jsx)(Tt.a,{color:"text.secondary",children:"Do you really want your entire project to suffer under the huge reputation risks you could face - not to mention the legal risks - just for using unethically sourced dirty data?"})}),Object(R.jsx)(_t.a,{xs:12,className:"p-0 py-2",children:Object(R.jsx)(Tt.a,{color:"text.secondary",children:"Our ethical standards safeguard your reputation, your project and your results. All data we supply is collected according to local legal standards and GDPR requirements and will be reviewed as regulations and laws evolve."})}),Object(R.jsx)(_t.a,{xs:12,className:"flex flex-col items-center my-8",id:"ethical-principles",children:Object(R.jsx)(g.b,{to:"/ethical-principles".toUriWithLandingPagePrefix(),className:"block",children:Object(R.jsx)(mt.a,{className:"capitalize rounded-full",size:"large",variant:"contained",children:"Learn more about our Ethical Principles"})})}),Object(R.jsx)(_t.a,{xs:12,className:"p-0",id:"realfield-advantage",children:Object(R.jsx)(Tt.a,{variant:"h4",className:"mb-2",color:"text.secondary",paragraph:!0,children:"The Real Advantages of Realfield"})}),Object(R.jsxs)(Nt.a,{className:"p-0 my-4",children:[Object(R.jsxs)(_t.a,{xs:12,className:"p-0 mb-2 flex flex-row  items-center",children:[Object(R.jsx)(le.a,{className:"w-10 h-10 rounded-full flex flex-row items-center justify-center mr-4",sx:{backgroundColor:function(e){return e.palette.primary.main}},children:Object(R.jsx)(Tt.a,{className:"font-bold",color:"background.paper",children:"1"})}),Object(R.jsx)(Tt.a,{variant:"subtitle2",children:"We work fast and accurately to provide understanding where few others can, enabled by our network of primary data collectors"})]}),Object(R.jsxs)(_t.a,{xs:12,className:"p-0 mb-2 flex flex-row items-center",children:[Object(R.jsx)(le.a,{className:"w-10 h-10 rounded-full flex flex-row items-center justify-center mr-4",sx:{backgroundColor:function(e){return e.palette.primary.main}},children:Object(R.jsx)(Tt.a,{className:"font-bold",color:"background.paper",children:"2"})}),Object(R.jsx)(Tt.a,{variant:"subtitle2",children:"We provide flexibility and full transparency to adapt to the needs of your project during the collection process."})]}),Object(R.jsxs)(_t.a,{xs:12,className:"p-0 mb-2 flex flex-row items-center",children:[Object(R.jsx)(le.a,{className:"w-10 h-10 rounded-full flex flex-row items-center justify-center mr-4",sx:{backgroundColor:function(e){return e.palette.primary.main}},children:Object(R.jsx)(Tt.a,{className:"font-bold",color:"background.paper",children:"3"})}),Object(R.jsx)(Tt.a,{variant:"subtitle2",children:"We offer an A-Z service including collection design, large-scale field operation, data quality assurance, and annotation."})]})]}),Object(R.jsx)(Nt.a,{className:"p-0",children:Object(R.jsxs)(_t.a,{xs:12,children:[Object(R.jsxs)(qr.a,{children:[Object(R.jsx)(Mr.a,{expandIcon:Object(R.jsx)(Lr.a,{}),"aria-controls":"why-us-data-accordion",id:"why-us-data-accordion",children:Object(R.jsx)(Tt.a,{variant:"h5",children:"Data"})}),Object(R.jsx)(Ir.a,{children:Object(R.jsx)(Nt.a,{className:"p-0",children:Object(R.jsxs)(_t.a,{xs:12,children:[Object(R.jsx)(Tt.a,{variant:"body1",className:"accent-text mb-4",gutterBottom:!0,paragraph:!0,children:"Realfield supplies high quality, primary citizen and consumer data, both quantitative and qualitative, collected through observation, interviews, questionnaires, schedules, and experiments."}),Object(R.jsx)(Tt.a,{variant:"body1",className:"mb-4",gutterBottom:!0,paragraph:!0,children:"Data is a characteristic of information typically numerical and collected through observation. Data becomes information when considered in context post-analysis. Primary data is unique data obtained for the first time."}),Object(R.jsx)(Tt.a,{variant:"body1",className:"mb-4",gutterBottom:!0,paragraph:!0,children:"Data Collection is the act of gathering data. Primary data is typically collected through observation, interviews, questionnaires, schedules, and experiments. The mode of data collection is informed by the method of analysis; quantitative or qualitative. Data collected for quantitative analysis is typically numerical. Qualitative data is typically textual."}),Object(R.jsx)(Tt.a,{variant:"body1",className:"mb-4",gutterBottom:!0,paragraph:!0,children:"Amongst the most valuable data for evidence-based decision making is citizen and consumer data."})]})})})]}),Object(R.jsxs)(qr.a,{children:[Object(R.jsx)(Mr.a,{expandIcon:Object(R.jsx)(Lr.a,{}),"aria-controls":"why-us-data-quality-accordion",id:"why-us-data-quality-accordion",classes:{root:"bg-transparent"},children:Object(R.jsx)(Tt.a,{variant:"h5",children:"Data Quality"})}),Object(R.jsx)(Ir.a,{children:Object(R.jsx)(Nt.a,{className:"p-0",children:Object(R.jsxs)(_t.a,{xs:12,children:[Object(R.jsx)(Tt.a,{variant:"body1",className:"mb-4",gutterBottom:!0,paragraph:!0,children:"Data quality is important because it directly affects your strategic decision making. Poor quality data results in poor decisions that costs time and money. In 2016, IBM estimated that poor quality data cost the companies $3.1 trillion in the U.S. alone. Simply put, garbage in, garbage out."}),Object(R.jsx)(Tt.a,{variant:"body1",className:"mb-4",gutterBottom:!0,paragraph:!0,children:"According to recent research, 8 out of 10 AI projects fail, and a stunning 96% of those failures are due to the lack of data quality. It\u2019s just that important."}),Object(R.jsx)(Tt.a,{variant:"body1",className:"mb-4",gutterBottom:!0,paragraph:!0,children:"High quality data on the other hand, leads to smart decisions. It is the essential ingredient for robust analysis and the generation of unique insights in any academic field or industry sector. High quality data saves money and saves time."}),Object(R.jsx)(Tt.a,{variant:"subtitle1",className:"my-6",gutterBottom:!0,children:"Realfield\u2019s 7 Characteristics of High Quality Data."}),Object(R.jsxs)("ol",{children:[Object(R.jsxs)("li",{children:[Object(R.jsx)(Tt.a,{variant:"body1",className:"accent-text bold-text",paragraph:!0,children:"Consistency"}),Object(R.jsx)(Tt.a,{variant:"body1",paragraph:!0,children:"Data free of contradictions in your databases. This means that if two values are examined from separate data sets, they will match or align."})]}),Object(R.jsxs)("li",{children:[Object(R.jsx)(Tt.a,{variant:"body1",className:"accent-text bold-text",paragraph:!0,children:"Accuracy"}),Object(R.jsx)(Tt.a,{variant:"body1",paragraph:!0,children:"Data that is error-free and exact. Accuracy is achieved when a measured value matches the actual (true) value and it contains no mistakes, such as outdated information, redundancies, and typos. Your goal is to continually increase the accuracy of your data, even as your datasets grow in size."})]}),Object(R.jsxs)("li",{children:[Object(R.jsx)(Tt.a,{variant:"body1",className:"accent-text bold-text",paragraph:!0,children:"Completeness"}),Object(R.jsx)(Tt.a,{variant:"body1",paragraph:!0,children:"Data is considered \u201ccomplete\u201d when records are \u201cfull\u201d and contain enough information to draw conclusions. Tracking this data quality metric involves finding any fields that contain missing or incomplete values. All data entries must be complete in order to compose a high-quality data set."})]}),Object(R.jsxs)("li",{children:[Object(R.jsx)(Tt.a,{variant:"body1",className:"accent-text bold-text",paragraph:!0,children:"Auditability"}),Object(R.jsx)(Tt.a,{variant:"body1",paragraph:!0,children:"Data is auditable when it is accessible, and changes are traceable."})]}),Object(R.jsxs)("li",{children:[Object(R.jsx)(Tt.a,{variant:"body1",className:"accent-text bold-text",paragraph:!0,children:"Validity"}),Object(R.jsx)(Tt.a,{variant:"body1",paragraph:!0,children:"Data validity or data integrity is achieved when data points exist in the same and correct format everywhere they appear. Having a high rate of validity means that all data aligns with established formatting rules."})]}),Object(R.jsxs)("li",{children:[Object(R.jsx)(Tt.a,{variant:"body1",className:"accent-text bold-text",paragraph:!0,children:"Uniqueness"}),Object(R.jsx)(Tt.a,{variant:"body1",paragraph:!0,children:"Data recorded no more than once is unique."})]}),Object(R.jsxs)("li",{children:[Object(R.jsx)(Tt.a,{variant:"body1",className:"accent-text bold-text",paragraph:!0,children:"Timeliness"}),Object(R.jsx)(Tt.a,{variant:"body1",paragraph:!0,children:"Data is available and accurate. It\u2019s important to collect data in a timely manner in order to ensure that it is relevant and fit for purpose in analysis and the generation of insights."}),Object(R.jsx)(Tt.a,{variant:"body1",className:"accent-text",paragraph:!0,children:"Realfield offers real time data ensuring its relevance and fitness for purpose."})]})]})]})})})]}),Object(R.jsxs)(qr.a,{children:[Object(R.jsx)(Mr.a,{expandIcon:Object(R.jsx)(Lr.a,{}),"aria-controls":"why-us-data-ethics-accordion",id:"why-us-data-ethics-accordion",children:Object(R.jsx)(Tt.a,{variant:"h5",children:"Data Ethics"})}),Object(R.jsx)(Ir.a,{children:Object(R.jsx)(Nt.a,{className:"p-0",children:Object(R.jsxs)(_t.a,{xs:12,children:[Object(R.jsx)(Tt.a,{className:"m-auto",paragraph:!0,children:"Realfield\u2019s deep commitment to ethical data collection safeguards your reputation, your project and your insights."}),Object(R.jsxs)(Tt.a,{className:"m-auto",paragraph:!0,children:["For more information, see our"," ",Object(R.jsx)("a",{href:"ethical-principles".toUriWithLandingPagePrefix(),className:"underline primary-text",children:"Ethical Principles"})]})]})})})]})]})})]})})})),to=["classes","auth","theme","device"],no=function(e){Object(_.a)(n,e);var t=Object(S.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(N.a)(n,[{key:"componentDidMount",value:function(){document.title=A.a.title("Why Realfield?")}},{key:"render",value:function(){var e=this.props,t=e.classes;e.auth,e.theme,e.device,Object(T.a)(e,to);return Object(R.jsx)(Nt.a,{className:(null===t||void 0===t?void 0:t.root)+" p-0",direction:"column",alignItems:"center",justify:"center",children:Object(R.jsx)(Nt.a,{className:"p-0",children:Object(R.jsx)(_t.a,{xs:12,className:"p-0",children:Object(R.jsx)(eo,{})})})})}}]),n}(i.a.Component),ao=Ie()(Object(s.b)((function(e,t){return{auth:e.auth,device:e.device}}),{}),ot.a)(no),io=n(303),ro=n.n(io),oo=function(e){Object(_.a)(n,e);var t=Object(S.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(N.a)(n,[{key:"render",value:function(){var e=this.props,t=e.icon,n=e.code,a=e.title,i=e.description,r=e.color,o=e.link;return Object(R.jsx)(Nt.a,{direction:"row",justify:"center",alignItems:"center",className:"h-full",children:Object(R.jsx)(_t.a,{className:"h-full",xs:12,md:8,lg:6,children:Object(R.jsxs)(Nt.a,{className:"h-full",direction:"column",justify:"center",alignItems:"center",children:[Object(R.jsx)(_t.a,{xs:12,children:Object(R.jsx)(Xe.a,{color:"error",className:"text-6xl",variant:"h1",fullWidth:!0,children:t})}),Object(R.jsx)(_t.a,{xs:12,children:Object(R.jsx)(Xe.a,{color:"grey",className:"text-3xl",variant:"h3",fullWidth:!0,children:n})}),Object(R.jsx)(_t.a,{xs:12,children:Object(R.jsx)(Xe.a,{color:r,variant:"h4",fullWidth:!0,children:a})}),Object(R.jsx)(_t.a,{xs:12,children:Object(R.jsx)(Xe.a,{variant:"body1",fullWidth:!0,children:i})}),Object(R.jsx)(_t.a,{xs:12,children:Object(R.jsx)(Xe.a,{color:"error",variant:"body1",fullWidth:!0,children:Object(R.jsxs)(g.b,{to:o,children:[" ",Object(R.jsxs)(Dt.a,{variant:"text",children:[" ","Back"," "]})," "]})})})]})})})}}]),n}(i.a.Component);oo.defaultProps={title:"Request Failed!",description:"Something went wrong! Request Failed.",icon:Object(R.jsx)(ro.a,{className:"text-6xl"}),color:"grey",code:503,link:"/"};var so=oo,lo=function(e){Object(_.a)(n,e);var t=Object(S.a)(n);function n(e){var a;Object(k.a)(this,n),(a=t.call(this,e)).state={item:null,item_id:null,loading:!0,error:!1};var i=e.match.params,r=e.history;return"id"in i?a.state.item_id=i.id:r&&r.push("/catalog".toUriWithLandingPagePrefix()),a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){document.title=A.a.title("Catalog"),this.getRecord()}},{key:"getRecord",value:function(){var e=Object(y.a)(x.a.mark((function e(){var t,n=this;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props.history,lt.a.get("retail/items/"+this.state.item_id).then((function(e){var t=e.body.data;n.setState((function(e){return{item:t,loading:!1}}))})).catch((function(e){404===e.code?t.push("/not-found"):n.setState((function(t){return{error:e,loading:!1}}))}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=(e.item,e.loading),n=e.error;return n?Object(R.jsx)(Nt.a,{style:{minHeight:"90vh"},className:"relative",children:Object(R.jsx)(_t.a,{xs:12,sm:12,md:10,className:"m-auto",children:Object(R.jsx)(so,{code:n.code?n.code:503,description:n.msg})})}):Object(R.jsx)(Nt.a,{style:{minHeight:"90vh"},className:"relative",children:Object(R.jsx)(_t.a,{xs:12,sm:12,md:10,className:"m-auto",children:Object(R.jsx)(Ar,{item:this.state.item,loading:t,className:"w-full"})})})}}]),n}(i.a.Component),co=lo,uo=function(e){Object(_.a)(n,e);var t=Object(S.a)(n);function n(e){var a;Object(k.a)(this,n),(a=t.call(this,e)).state={loading:!0,load_error:!1};e.checkout_data;var i=e.history,r=e.cart;e.auth;return r.entries.length>0||(i?i.push("/catalog".toUriWithLandingPagePrefix()):window.location.href="/catalog".toUriWithLandingPagePrefix()),a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.checkout_data,n=e.cart;e.auth;return Object(R.jsx)(Nt.a,{className:"p-0 m-0",children:Object(R.jsx)(Nt.a,{className:"flex justify-center",children:Object(R.jsx)(_t.a,{xs:12,children:Object(R.jsxs)("div",{className:"panel flex flex-col md:flex-row mb-8",children:[Object(R.jsxs)("div",{className:"panel-left w-full md:w-4/5 bg-white rounded-l",children:[Object(R.jsx)("h1",{className:"text-3xl font-normal p-10 border-b border-solid border-grey-light",children:"Checkout"}),Object(R.jsxs)("h3",{className:"text-xl font-normal pl-10 truncate",children:["Order: ",t.oid]}),Object(R.jsx)(Nt.a,{children:Object(R.jsx)(_t.a,{xs:12,children:Object(R.jsx)(Se.a,{className:"w-full",children:n.entries.map((function(e,t){var n=e.item;return JSON.isJSON(n)||(n={}),Object(R.jsx)(Ae.a,{alignItems:"flex-start",className:"inverse mb-2 rounded",children:Object(R.jsx)(De.a,{primary:n.name,secondary:Object(R.jsxs)(Nt.a,{className:"p-0",children:[Object(R.jsx)(_t.a,{xs:12,className:"m-0 p-0",children:Object(R.jsxs)(Xe.a,{component:"div",variant:"body2",className:"w-full ",color:"grey",children:[" ",n.description," "]})}),Object(R.jsx)(_t.a,{xs:12,className:"m-0 mt-2 p-0",children:Object(R.jsxs)(Xe.a,{component:"div",variant:"body1",className:"inline",children:[" ",n.cost," "]})})]})})},"cart-item-"+t)}))})})})]}),Object(R.jsxs)("div",{className:"panel-right w-full md:w-1/3 bg-gray-400 relative rounded-r",children:[Object(R.jsxs)("div",{className:"p-10",children:[Object(R.jsx)("h2",{className:"font-bold text-xl mb-4",children:"Total"}),Object(R.jsxs)("div",{className:"mb-4 text-2xl",children:[Object(R.jsx)("span",{className:"align-top",children:t.curr}),Object(R.jsx)("span",{className:"font-light lh-fix",children:t.ttl})]})]}),Object(R.jsxs)("form",{action:t.ipn,method:"post",target:"_blank",className:"relative bottom-0 md:mb-8 mx-4",children:[Object.entries(t).map((function(e,t){var n=Object(u.a)(e,2),a=n[0],i=n[1];return"ipn"!==a&&Object(R.jsx)("input",{type:"hidden",name:a,value:i},a)})),Object(R.jsxs)(Dt.a,{type:"submit",color:"primary",round:!0,children:[Object(R.jsx)(nr.a,{})," Complete Order"]})]})]})]})})})})}}]),n}(i.a.Component),po=Object(s.b)((function(e){return{auth:e.auth,cart:e.ecommerce.cart,checkout_data:e.ecommerce.checkout_data}}),{})(uo),bo=["classes"],fo=function(e){Object(_.a)(n,e);var t=Object(S.a)(n);function n(e){return Object(k.a)(this,n),t.call(this,e)}return Object(N.a)(n,[{key:"componentDidMount",value:function(){document.title=A.a.title("Checkout")}},{key:"render",value:function(){var e=this.props;e.classes,Object(T.a)(e,bo);return Object(R.jsx)(Nt.a,{className:"relative min-h-screen",children:Object(R.jsx)(_t.a,{xs:12,sm:10,md:8,className:"m-auto",children:Object(R.jsx)(po,{className:"w-full"})})})}}]),n}(i.a.Component),jo=n(1079),mo=n.n(jo),ho=["classes"],vo=function(e){Object(_.a)(n,e);var t=Object(S.a)(n);function n(e){var a;Object(k.a)(this,n),a=t.call(this,e);var i=e.checkout_data,r=e.resetEcommerce,o=e.cart,s=e.history;return o.entries.length>0&&Object.size(i)>0?r():s?s.push("/cart".toUriWithLandingPagePrefix()):window.location.href="/cart".toUriWithLandingPagePrefix(),a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){document.title=A.a.title("Thank you")}},{key:"render",value:function(){var e=this.props;e.classes,Object(T.a)(e,ho);return Object(R.jsx)(Nt.a,{className:"relative min-h-screen",children:Object(R.jsxs)(_t.a,{xs:12,sm:10,md:8,className:"m-auto",children:[Object(R.jsxs)(Xe.a,{variant:"h1",className:"w-full text-center mb-16",children:[" ",Object(R.jsx)(mo.a,{className:"text-6xl m-auto text-gray-500"})]}),Object(R.jsxs)(Xe.a,{variant:"h1",className:"w-full text-center text-gray-500",children:[" ","Thank you"]}),Object(R.jsxs)(Xe.a,{variant:"subtitle2",className:"w-full text-center mt-8",children:[" ","You order was placed."," "]})]})})}}]),n}(i.a.Component),go=Object(s.b)((function(e){return{auth:e.auth,cart:e.ecommerce.cart,checkout_data:e.ecommerce.checkout_data}}),{resetEcommerce:C.yb})(vo),Oo=["classes","auth","theme","device"],xo=Ie()(Object(s.b)((function(e,t){return{auth:e.auth}}),{}),ot.a)((function(e){e.classes,e.auth,e.theme,e.device,Object(T.a)(e,Oo);return Object(R.jsx)(Tn,{className:"p-0 min-h-screen",id:"why-us",children:Object(R.jsxs)(Nt.a,{className:"p-0",children:[Object(R.jsx)(_t.a,{xs:12,className:"p-0 flex flex-col items-center  py-4",children:Object(R.jsx)("img",{src:"https://realfield.nyc3.cdn.digitaloceanspaces.com/public/img/realfield/logo-black.svg",className:"sm:w-5/6 md:w-4/6 lg:w-1/3 h-auto"})}),Object(R.jsxs)(_t.a,{xs:12,className:"p-0 py-4",children:[Object(R.jsx)(Tt.a,{variant:"h3",paragraph:!0,className:"mb-12 uppercase",children:"Privacy Policy"}),Object(R.jsxs)(Tt.a,{variant:"body1",paragraph:!0,children:['This is the Privacy Policy for www.realfield.io (the "site") and any web or mobile application we provide (the "application"). The site and application are operated by or on behalf of Realfield Limited ("we", "us" and "our"). Realfield is an UK-based data supply, research and analytics company, and our address is Fitzroy House, Crown Street, Ipswich, Suffolk, IP1 3LG.  You can reach our privacy team at ',Object(R.jsx)("a",{href:"mailto:privacy@realfield.io",className:"underline",children:"privacy@realfield.io"}),"."]}),Object(R.jsx)(Tt.a,{variant:"body1",paragraph:!0,children:"We are committed to protecting and respecting your privacy online. We appreciate that you do not want your personal data distributed indiscriminately and this Privacy Policy (together with our Terms and Conditions and any other documents referred to on it) sets out the basis on which any personal data that we collect from you, or that you provide to us, will be collected and processed by us and what controls you have. Please read the following Privacy Policy carefully to understand our views and practices regarding your personal data and how we will collect, process, protect and treat it."}),Object(R.jsx)(Tt.a,{variant:"body1",paragraph:!0,children:"For the purpose of the Data Protection Act 1998 (the Act) and the EU General Data Protection Regulation2016/679 of 27 April 2016 (the GDPR), the data controller is Realfield Limited, a company registered in England and Wales and having its registered office located at Fitzroy House, Crown Street, Ipswich, Suffolk, IP1 3LG, United Kingdom."}),Object(R.jsx)(Tt.a,{variant:"body1",paragraph:!0,children:"By using the site and/or application, you consent to the collection and use of your personal data in accordance with this Privacy Policy."}),Object(R.jsx)(Tt.a,{variant:"body1",paragraph:!0,children:"You are under no obligation to provide any such personal data. However, should you choose to withhold the requested personal data, we may not be able to provide you with certain services."}),Object(R.jsx)(Tt.a,{variant:"body1",paragraph:!0,children:"We reserve the right to change this Privacy Policy from time to time by changing it on the site or by updating it on the application."}),Object(R.jsx)(Tt.a,{variant:"body1",paragraph:!0,children:"This Privacy Policy was last updated on 06/10/2020."})]}),Object(R.jsxs)(_t.a,{xs:12,className:"p-0 py-8",children:[Object(R.jsx)(Tt.a,{variant:"subtitle1",paragraph:!0,className:"mb-12 uppercase",children:"1. PERSONAL DATA WE MAY COLLECT FROM YOU"}),Object(R.jsx)(Tt.a,{variant:"body1",paragraph:!0,children:Object(R.jsxs)("ul",{className:"list-disc px-8",children:[Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",paragraph:!0,children:"1.1 For the purpose of this Privacy Policy, \u201cpersonal data\u201d shall have the meaning defined by Article 1 of the Act and Article 4 of the GDPR."})}),Object(R.jsx)("li",{children:Object(R.jsxs)(Tt.a,{variant:"body1",children:["1.2 Collection of personal data related to our Fielders:",Object(R.jsx)("ul",{className:"list-disc pl-8",children:Object(R.jsxs)("li",{children:[Object(R.jsx)(Tt.a,{variant:"body1",children:'1.2.1 While using the site or application, there are certain services to which you can only access once you have registered to participate to our data collection tasks (through the "Become a Fielder" section of the site or application) and created a Fielder account (the account). Here is the information we will request from you to complete such registration:'}),Object(R.jsxs)("ul",{className:"list-disc pl-4",children:[Object(R.jsx)("li",{children:"Mobile phone number;"}),Object(R.jsx)("li",{children:"First name;"}),Object(R.jsx)("li",{children:"Last name;"}),Object(R.jsx)("li",{children:"Email address;"}),Object(R.jsx)("li",{children:"Country;"}),Object(R.jsx)("li",{children:"Language;"}),Object(R.jsx)("li",{children:"Date of Birth; and"}),Object(R.jsx)("li",{children:"Gender"}),Object(R.jsx)("li",{children:"Geolocation"})]})]})})]})})]})}),Object(R.jsx)(Tt.a,{variant:"body1",paragraph:!0,children:"You are free to disable your account through the site or app anytime."}),Object(R.jsx)(Tt.a,{variant:"body1",paragraph:!0,children:"You are also free to uninstall the app anytime."}),Object(R.jsx)(Tt.a,{variant:"body1",paragraph:!0,children:"However, we may retain information required in order to enforce our contractual rights or obligations, meet our legal or regulatory obligations or resolve a dispute."}),Object(R.jsx)(Tt.a,{variant:"body1",paragraph:!0,children:Object(R.jsxs)("ul",{className:"list-disc px-8",children:[Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",paragraph:!0,children:"1.2.2 In order to login to your account, you will need to enter your mobile phone number and associated password."})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",paragraph:!0,children:'1.2.3 When you register for an account, we will ask for your mobile phone number which will be used for authentication during the registration process and for receiving a reset link in case you forget the password associated with your account. Conditional upon your acceptance, your mobile phone number may also be used to invite you to participate to new surveys (we call them "data collection tasks") or remind you to complete a data collection task you have started.'})}),Object(R.jsx)("li",{children:Object(R.jsxs)(Tt.a,{variant:"body1",paragraph:!0,children:['1.2.4 If you participate to a data collection task for which you are entitled to receive a payment ("paid data collection task"), in order to be able to make such payment, we will also ask for:',Object(R.jsxs)("ul",{className:"list-disc pl-8",children:[Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"the email address associated with your MPesa, Transferwise account; or"})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"your bank details (sort code and account number or IBAN and SWIFT/BIC) in case of payment by bank transfer."})})]})]})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",paragraph:!0,children:'1.2.5 When you take part to a data collection task, we shall collect your responses and remove as much personal data as reasonably possible before creating a report, to discover trends or patterns in the data collected (the "data collection tasks reports"). As regards location data, only your city and country will be provided in the data collection tasks report. We may then provide these data collection tasks reports to our third-party clients (the "clients") for a fee or use the data for our own analysis. Please note that, except in case it is specifically required and in case you provide photographs and/or videos, our clients will not be provided with any personally identifiable information.'})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",paragraph:!0,children:"1.2.6 If you participate to a paid or unpaid data collection task, you may have to submit photographs or videos as part of your answer. It is possible that these photographs or videos may be of a quality so as to personally identify you and/or other individuals appearing in the photographs or videos. If you do not wish for photographs or videos of yourself or others to be shared by us, please do not participate to any data collection task which involves any photograph or video element. Also, if the photographs or videos you submit include other individuals' voice or image, you shall make sure and warrant you got their prior express consent. By completing a data collection task with a photograph or video element, you consent to the photographs or videos you submit being shared with our clients in an unmodified form. This authorization shall be valid both during your period of involvement as a Fielder and anytime after termination of said involvement. You hereby release and hold us harmless from any reasonable expectation of privacy or confidentiality associated with the photographs and/or videos specified above and their status of personal data under the Act and GDPR. You further acknowledge and agree that the taking/publication/release of these photographs and/or videos confers no right of ownership or royalties whatsoever. You hereby release us for any claims by you or third parties in connection with your participation."})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",paragraph:!0,children:"1.2.7 When participating to a data collection task, you may be requested to submit open text answers, i.e. type an ad hoc answer text. In such case, you warrant that this open text does not include any personal data about yourself or any other individual, unless expressly requested by us and, in case it includes personal data about another individual, you shall warrant that said individual has consented to our terms and conditions. Please note that, unless we expressly requested personal data to be includedin an open text submission, we shall irrevocably treat all open text submissions as not including personal data."})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",paragraph:!0,children:"1.2.8 When you participate to a data collection task, we collect information through the site or application as to your real time location so that anonymised responses sent to clients can be based on knowing the city and country to which data collection tasks relate. This information is/may also be collected in combination with an identifier associated with your device to enable us to recognise your mobile browser or device when you return to the site or application."})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",paragraph:!0,children:"1.2.9 We will also keep details of the data collection tasks you complete through the site or application."})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",paragraph:!0,children:"1.2.10 For your information, processing of personal data related to our Fielders is based on contract performance under Schedule 2 of the Act and Article 6 of the GDPR."})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",paragraph:!0,children:"1.2.11 Other personal data may be requested in relation to any competition or promotion we may sponsor, in which case a specific policy will be provided."})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",paragraph:!0,children:'1.2.12 We may, from time to time, run referral programmes or similar initiatives, such as a "Tell a Friend" programme, that invite you to provide us with the contact details of someone who is known to you and who may find our products or services to be of interest. We will only use those contact details to send a one-off email, for the purpose of the relevant initiative (and not for general marketing purposes). By providing us with their details, you confirm that you have these persons\u2019 permission to do so and must not provide us with the details of anyone from whom you do not have such permission. We reserve the right to identify you as the person who has made the referral in the message that is sent to them.'})}),Object(R.jsx)("li",{children:Object(R.jsxs)(Tt.a,{variant:"body1",paragraph:!0,children:["1.3 We may also collect and process the following data about you:",Object(R.jsxs)("ul",{className:"list-disc pl-8",children:[Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:'Your first name, last name, email and (on an optional basis) phone number when you contact us through the "Try Now" section of the site or application (processing based on our legitimate interest under Schedule 2 of the Act and Article 6 of the GDPR);'})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"Your email address and the name of the client on behalf of which you access the dashboard when you subscribe to our newsletter (processing based on your consent under Schedule 2 of the Act and Article 6 of the GDPR);"})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:'Your first name, last name, email, phone number (on an optional basis), address (on an optional basis), resume, cover letter (on an optional basis), entitlement to work in the applied country, salary expectations and date of availability when you apply for an open position through our "Careers" section (processing based on our legitimate interest under Schedule 2 of the Act and Article 6 of the GDPR);'})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"Your email address when you subscribe to our newsletter (processing based on your consent under Schedule 2 of the Act and Article 6 of the GDPR); and"})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"Generally speaking, any data or information that you provide by filling in forms on the site or application (processing based on our legitimate interest or on contract performance under Schedule 2 of the Act and Article 6 of the GDPR). This includes information provided at the time of registering to use our site or application, registering for any service provided by us to you through the service platform on the site or application, posting material or requesting further services, and information provided to us through the feedback system as to your performance of data collection task through the site or application."})})]})]})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",paragraph:!0,children:"1.4 We may also ask you for first name, surname, email and phone number when you report a problem with the site, the application or our service (processing based on our legitimate interest or on contract performance under Schedule 2 of the Act and Article 6 of the GDPR)."})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",paragraph:!0,children:"1.5 If you contact us, we may keep a record of that correspondence as well as your first name, last name, email address and phone number (if provided) (processing based on our legitimate interest under Schedule 2 of the Act and Article 6 of the GDPR)."})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",paragraph:!0,children:"1.6 We may, by means of cookies (see clause 10 below) and/or other similar technologies, keep details of the data related to your visits to the site or application, including the type and version of internet browser you use, the type, manufacturer and model of the computer or mobile device you use, any website or external application from which you have come to the site or application, your IP address, the operating system of your computer or mobile device, traffic data, location data, weblogs and other communication data, whether this is required for our own billing purposes or otherwise and the resources that you access."})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",paragraph:!0,children:"1.7 We may monitor your use of the site or application using cookies and/or similar tracking devices. For more information, please refer to clause 10 below."})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",paragraph:!0,children:'1.8 If you have signed up to our specific mobile device usage project and downloaded the app "Fielder App", we will also collect information about which applications you have downloaded onto your mobile device, and how and when you use them. However we do not collect data you enter into applications or websites such as login, email or password details. We do not track mobile usage in our standard "Realfield" application.'})})]})})]}),Object(R.jsxs)(_t.a,{xs:12,className:"p-0 py-8",children:[Object(R.jsx)(Tt.a,{variant:"subtitle1",paragraph:!0,className:"mb-12 uppercase",children:"2. THIRD-PARTY WEBSITES"}),Object(R.jsx)(Tt.a,{variant:"body1",paragraph:!0,children:Object(R.jsxs)("ul",{className:"list-disc pl-8",children:[Object(R.jsx)("li",{children:Object(R.jsxs)(Tt.a,{variant:"body1",children:["2.1 Please note the below shall apply in case you do one of the following while using the site or application:",Object(R.jsxs)("ul",{className:"list-disc pl-8",children:[Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:'Look into or apply for an open position through the "Careers" section of the site or application, in which case you will be automatically redirected to a workable.com URL operated by Workable;'})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"Import data from your LinkedIn account (including your profile picture) in order to apply to an open position;"})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"Create a Fielder account using Facebook or Google + or connect your account to Facebook or Google +; or"})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"Receive a payment through MPesa, PayPal, Transferwise."})})]})]})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:'2.2 In such case, we will receive personal data that you respectively authorize Workable, LinkedIn, Facebook, Google +, PayPal, Transferwise (the "third-party websites") to share with us, such as the email address you use in order to login to the third-party website or your registration and profile information, friends and connections for the third-party website. The way this personal data is collected, shared and processed will depend on and be governed by the privacy policies of said third-party websites, that we encourage you to review carefully. Moreover, please note that all third-party websites\' transactions are subject to the privacy policies, terms and conditions and other policies of said third-party websites.'})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"2.3 The site or application may also, from time to time, contain links to external websites. We are not responsible for the privacy policies, terms and conditions, other policies or content of such external websites."})})]})})]}),Object(R.jsxs)(_t.a,{xs:12,className:"p-0 py-8",children:[Object(R.jsx)(Tt.a,{variant:"subtitle1",paragraph:!0,className:"mb-12 uppercase",children:"3. WHERE AND HOW WE STORE YOUR PERSONAL DATA"}),Object(R.jsx)(Tt.a,{variant:"body1",paragraph:!0,children:Object(R.jsxs)("ul",{className:"list-disc pl-8",children:[Object(R.jsx)("li",{children:Object(R.jsxs)(Tt.a,{variant:"body1",children:["3.1 We make our best efforts to ensure your personal data is kept secure and protected from accidental loss or unauthorized access, use or alteration, through the following structural and technical measures:",Object(R.jsxs)("ul",{className:"list-disc pl-8",children:[Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"Confidentiality clauses in all of our employment and service agreements with  natural or legal persons having access to personal data;"})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"Computers and email accounts of all of our employees being password protected;"})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"Access to Fielder accounts being protected by unique login details and passwords;"})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"Encryption of the personal data while in transport through the https protocol;"})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"Encryption of the personal data while at rest;"})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"Encryption of the backups including personal data;"})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"Personal data stored on secured servers and infrastructures;"})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"Permissions of access to documents including personal data regularly reviewed and monitored; and"})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"Regular monitoring of the usefulness of stored personal data and deletion of all personal data no longer required for the purpose for which it was collected."})})]})]})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"3.2 Unfortunately, and despite our efforts, the transmission of information via the internet is not completely secure. Although we will take reasonable precautions to protect your personal data, we cannot guarantee the security of your data transmitted to the site or application; please note that any such transmission is at your own risk. Once we have received your personal data, we will use our procedures and security features to try to prevent any unauthorised access."})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:'3.3 The data that we collect from you may be transferred to, and stored at, a destination outside the European Economic Area ("EEA"). It may also be processed by staff operating outside the EEA who work for us or for one of our suppliers. Such staff may be engaged in, among other things, the processing of your payment details and the provision of support services. By submitting your personal data, you agree to this transfer, storing and processing. We will take reasonable precautions to ensure that your personal data is treated securely and in accordance with this Privacy Policy by us, our licensors and contractors.'})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"3.4 All personal data you provide to us is stored on our (or our licensors and contractors') secure servers."})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"3.5 It is advisable to close your browser when you have finished your user session to help ensure others do not access your personal data if you use a shared computer or a computer in a public place."})})]})})]}),Object(R.jsxs)(_t.a,{xs:12,className:"p-0 py-8",children:[Object(R.jsx)(Tt.a,{variant:"subtitle1",paragraph:!0,className:"mb-12 uppercase",children:"4. USES MADE OF THE PERSONAL DATA"}),Object(R.jsx)(Tt.a,{variant:"body1",paragraph:!0,children:Object(R.jsxs)("ul",{className:"list-disc pl-8",children:[Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"4.1 Please find below a description of the purposes for which we use the personal data you may provide us while using the site or application."})}),Object(R.jsx)("li",{children:Object(R.jsxs)(Tt.a,{variant:"body1",children:["4.2 The personal data provided by the Fielders may be used for the following purposes:",Object(R.jsxs)("ul",{className:"list-disc pl-8",children:[Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"Authentication and administration of your account;"})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"Password reset;"})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"Payment processing (including but not limited to verifying and carrying out financial transactions);"})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"Audit of the downloading of the application and of data from the site or application;"})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"Information about new available data collection tasks; and"})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"Reminder to complete a data collection task."})})]})]})}),Object(R.jsx)("li",{children:Object(R.jsxs)(Tt.a,{variant:"body1",children:['4.3 The personal data provided by candidates applying for open positions through the "Careers" section of the site or application may be used for the following purposes:',Object(R.jsxs)("ul",{className:"list-disc pl-8",children:[Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"Assessment of the candidate's fitness for the position;"})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"Invitation for the candidate to join a recruitment process;"})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"Assessment of the candidate's fitness for other open position."})})]})]})}),Object(R.jsx)("li",{children:Object(R.jsxs)(Tt.a,{variant:"body1",children:['4.4 The personal data provided through the "Try Now" section of the site or application may be used for the following purposes:',Object(R.jsxs)("ul",{className:"list-disc pl-8",children:[Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"Address the person's request;"})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"Elaborate statistics about the requests made on the site and application."})})]})]})}),Object(R.jsx)("li",{children:Object(R.jsxs)(Tt.a,{variant:"body1",children:["4.5 The personal data provided while subscribing to our newsletter may be used for the following purposes:",Object(R.jsxs)("ul",{className:"list-disc pl-8",children:[Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"Send our newsletter;"})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"Address an unsubscription request."})})]})]})}),Object(R.jsx)("li",{children:Object(R.jsxs)(Tt.a,{variant:"body1",children:["4.6 The personal data provided while contacting us at the email address provided on the site or application may be used for the following purposes:",Object(R.jsxs)("ul",{className:"list-disc pl-8",children:[Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"Address the person\u2019s request;"})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"Tracking issues with the site or application;"})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"Tracking late payments to Fielders; and"})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"Archiving and statistics about our received correspondence."})})]})]})}),Object(R.jsx)("li",{children:Object(R.jsxs)(Tt.a,{variant:"body1",children:["4.7 We may also use the personal held about you for the following purposes:",Object(R.jsxs)("ul",{className:"list-disc pl-8",children:[Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"Help us identify you and any account you may have with us;"})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"Marketing communication (from us or one of our business partners) if you expressly accepted to be contacted for marketing purposes;"})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"Administration;"})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"Research, statistical and behavioural analysis;"})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"Fraud prevention and detection;"})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"Security vetting;"})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"Ensure that content from the dashboard is presented in the most effective manner for you and for your computer and/or mobile device;"})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"Allow you to participate in interactive features of our service, when you choose to do so;"})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"Identify visitors to the site or application;"})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"Notify you about changes to our service; and"})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"Address a problem you may face with the site, the application or our service."})})]})]})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"4.8 We may contact you by electronic means (e-mail), phone, SMS, push notifications or post."})})]})})]}),Object(R.jsxs)(_t.a,{xs:12,className:"p-0 py-8",children:[Object(R.jsx)(Tt.a,{variant:"subtitle1",paragraph:!0,className:"mb-12 uppercase",children:"5. DISCLOSURE OF YOUR PERSONAL DATA"}),Object(R.jsx)(Tt.a,{variant:"body1",paragraph:!0,children:Object(R.jsxs)("ul",{className:"list-disc pl-8",children:[Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"5.1 We may disclose your personal data to any member of our group, which means our subsidiaries, our ultimate holding company and its subsidiaries, as defined in section 1159 of the UK Companies Act 2006."})}),Object(R.jsx)("li",{children:Object(R.jsxs)(Tt.a,{variant:"body1",children:["5.2 We may disclose your personal data to third parties:",Object(R.jsxs)("ul",{className:"list-disc pl-8",children:[Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"In the event that we sell or buy any business or assets, in which case we may disclose your personal data to the prospective seller or buyer of such business or assets."})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"If Realfield Limited or substantially all of its assets are acquired by a third party, in which case personal data held by it about its customers will be one of the transferred assets."})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"If we are under a duty to disclose or share your personal data in order to comply with any legal obligation, or in order to enforce or apply our terms and conditions; or to protect the rights, property, or safety of Realfield Limited, our licensors and customers, or others. This includes exchanging information with other companies and organisations for the purposes of fraud protection."})})]})]})}),Object(R.jsx)("li",{children:Object(R.jsxs)(Tt.a,{variant:"body1",children:["5.3 We may also disclose your personal data to:",Object(R.jsxs)("ul",{className:"list-disc pl-8",children:[Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"Our agents and service providers;"})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"The third-party websites as defined in clause 2 above;"})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"Our business partners if you agreed to be contacted by them for marketing purposes (see clause 4.7 above)."})})]})]})})]})})]}),Object(R.jsxs)(_t.a,{xs:12,className:"p-0 py-8",children:[Object(R.jsx)(Tt.a,{variant:"subtitle1",paragraph:!0,className:"mb-12 uppercase",children:"6. MONITORING"}),Object(R.jsx)(Tt.a,{variant:"body1",paragraph:!0,children:"We may monitor and/or record our communications with you, on whatever channel, for quality, training, fraud detection and compliance purposes."})]}),Object(R.jsxs)(_t.a,{xs:12,className:"p-0 py-8",children:[Object(R.jsx)(Tt.a,{variant:"subtitle1",paragraph:!0,className:"mb-12 uppercase",children:"7. YOUR RIGHTS"}),Object(R.jsx)(Tt.a,{variant:"body1",paragraph:!0,children:Object(R.jsxs)("ul",{className:"list-disc pl-8",children:[Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"7.1 You have a certain number of rights in relation to our processing of your personal data which are being summarized in this clause 7."})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"7.2 Right to be informed: You have the right to be informed about the collection and use of your personal data, which is the purpose of this Privacy Policy."})}),Object(R.jsx)("li",{children:Object(R.jsxs)(Tt.a,{variant:"body1",children:["7.3 Right of access: You have the right to request access to the personal data we may hold about you. In order to exercise this right for the personal data not available directly when you login to your account, you should:",Object(R.jsxs)("ul",{className:"list-disc pl-8",children:[Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"put this request in writing;"})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"attach a proof of identity and address;"})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"specify the personal data to which you want to have access."})})]})]})}),Object(R.jsx)("li",{children:Object(R.jsxs)(Tt.a,{variant:"body1",children:["7.4 Right to rectification: You have the right to have the personal data we hold about you rectified if it is inaccurate or incomplete. In order to exercise this right for the personal data not modifiable directly when you login to your account, you should:",Object(R.jsxs)("ul",{className:"list-disc pl-8",children:[Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"put this request in writing;"})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"attach a proof of identity and address;"})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"specify the personal data you want us to rectify."})})]})]})}),Object(R.jsxs)("li",{children:[Object(R.jsx)(Tt.a,{variant:"body1",paragraph:!0,children:"7.5 Right to erasure or right to be forgotten: In some instances, you have the right to request the deletion or removal of your personal data where there is no compelling reason for its continued processing."}),Object(R.jsx)(Tt.a,{variant:"body1",paragraph:!0,children:"This right is not absolute and only applies if:"}),Object(R.jsx)(Tt.a,{variant:"body1",paragraph:!0,children:Object(R.jsxs)("ul",{className:"list-disc pl-8",children:[Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"the personal data is no longer necessary for the purpose for which it was originally collected or processed;"})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"the personal data was collected and processed relying on your consent and you decide to withdraw such consent;"})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"the processing is based on legitimate interests and there is no overriding legitimate interest to continue this processing;"})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"the personal data is being processed for direct marketing purposes and you object to that processing;"})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"the personal data is being processed unlawfully;"})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"we have to do it to comply with a legal obligation; or"})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"the personal data was processed to offer information society services to a child."})})]})}),Object(R.jsx)(Tt.a,{variant:"body1",paragraph:!0,children:"Provided it is applicable, you should do the following in order to exercise this right:"}),Object(R.jsx)(Tt.a,{variant:"body1",paragraph:!0,children:Object(R.jsxs)("ul",{className:"list-disc pl-8",children:[Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"put the request in writing;"})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"attach a proof of identity and address;"})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"specify the personal data you want us to erase."})})]})})]}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"For the sake of clarity, you do not have such right when you participate to data collection tasks, including but not limited to when you provide photographs and videos as part of a data collection task submission."})}),Object(R.jsxs)("li",{children:[Object(R.jsx)(Tt.a,{variant:"body1",children:"7.6 Right to restrict processing: You have the right to block or suppress the processing of your personal data for the future, in certain conditions described in Article 18 of the GDPR. In order to exercise this right, you should:"}),Object(R.jsx)(Tt.a,{variant:"body1",paragraph:!0,children:Object(R.jsxs)("ul",{className:"list-disc pl-8",children:[Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"put the request in writing;"})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"attach a proof of identity and address;"})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"specify the personal data you want us to erase."})})]})})]}),Object(R.jsxs)("li",{children:[Object(R.jsx)(Tt.a,{variant:"body1",children:"7.7 Right to data portability: You have the right to obtain and reuse the personal data we process about you, for your own purposes across different services. In order to exercise this right, you should:"}),Object(R.jsx)(Tt.a,{variant:"body1",paragraph:!0,children:Object(R.jsxs)("ul",{className:"list-disc pl-8",children:[Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"put the request in writing;"})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"attach a proof of identity and address;"})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"specify the personal data you want to obtain for porting."})})]})})]}),Object(R.jsxs)("li",{children:[Object(R.jsx)(Tt.a,{variant:"body1",children:"7.8 Right to object: You have the right to object to:"}),Object(R.jsx)(Tt.a,{variant:"body1",paragraph:!0,children:Object(R.jsxs)("ul",{className:"list-disc pl-8",children:[Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"processing based on legitimate interests or the performance of a task in the public interest/exercise of official authority (including profiling);"})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"direct marketing (including profiling); and"})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"processing for purposes of scientific/historical research and statistics."})})]})}),Object(R.jsx)(Tt.a,{variant:"body1",paragraph:!0,children:"In order to exercise this right, you should:"}),Object(R.jsx)(Tt.a,{variant:"body1",children:Object(R.jsxs)("ul",{className:"list-disc pl-8",children:[Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"put this request in writing;"})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"attach a proof of identity and address;"})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"specify the processing to which you want to object."})})]})})]})]})})]}),Object(R.jsxs)(_t.a,{xs:12,className:"p-0 py-8",children:[Object(R.jsx)(Tt.a,{variant:"subtitle1",paragraph:!0,className:"mb-12 uppercase",children:"8. CHANGES TO OUR PRIVACY POLICY"}),Object(R.jsx)(Tt.a,{variant:"body1",paragraph:!0,children:"Any changes we may make to our Privacy Policy in the future will be posted on this page and, where appropriate, notified to you by e-mail."}),Object(R.jsx)(Tt.a,{variant:"body1",paragraph:!0,children:"You should check our Privacy Policy on a regular basis to ensure you are aware of its most recent version, as it is the latest available version of this Privacy Policy that shall apply each time you access to the site or application."})]}),Object(R.jsxs)(_t.a,{xs:12,className:"p-0 py-8",children:[Object(R.jsx)(Tt.a,{variant:"subtitle1",paragraph:!0,className:"mb-12 uppercase",children:"9. CONTACT"}),Object(R.jsxs)(Tt.a,{variant:"body1",paragraph:!0,children:["Questions, comments and requests regarding this Privacy Policy are welcome and should be addressed by email to ",Object(R.jsx)("a",{href:"mailto:getstarted@realfield.io",className:"underline",children:"getstarted@realfield.io"})," or by post to our registered address mentioned above."]})]}),Object(R.jsxs)(_t.a,{xs:12,className:"p-0 py-8",children:[Object(R.jsx)(Tt.a,{variant:"subtitle1",paragraph:!0,className:"mb-12 uppercase",children:"10. REALFIELD USE OF COOKIES"}),Object(R.jsx)(Tt.a,{variant:"body1",paragraph:!0,children:Object(R.jsxs)("ul",{className:"list-disc pl-8",children:[Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"10.1 When you interact with the site or application, we try to make that experience simple and meaningful. When you visit the site or access to the application, a web server sends a cookie or other similar technology to your computer or mobile device (as the case may be). Cookies are small pieces of information which are issued to your computer or mobile device (as the case may be) when you visit a website or access to a mobile application and which store and sometimes track information. A number of cookies we use last only for the duration of your web or application session and expire when you close your browser or exit the application. Other cookies are used to remember you when you return to the site or application and will last for longer."})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"10.2 We use cookies and/or other similar technologies (including Pixel codes and in-app IDs) for the following purposes:"})}),Object(R.jsxs)("li",{children:[Object(R.jsx)(Tt.a,{variant:"body1",children:"Strictly necessary cookies"}),Object(R.jsx)(Tt.a,{variant:"body1",children:Object(R.jsx)("ul",{className:"list-disc pl-8",children:Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"enabling you to navigate round the site or application, managing your login session so you can move easily from one page to another within the site or application and your page requests are loaded in smooth and secure manner;"})})})})]}),Object(R.jsxs)("li",{children:[Object(R.jsx)(Tt.a,{variant:"body1",children:"Performance"}),Object(R.jsx)(Tt.a,{variant:"body1",children:Object(R.jsxs)("ul",{className:"list-disc pl-8",children:[Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"collecting anonymous statistical information about how you use the site or application (including how long you spend on the site or application) and where you have come to the site or application from, so that we can improve the site or application and in order to learn which parts of the site and which functions of the application are most popular with users;"})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"remembering that you have visited us before. This means we can identify the number of unique visitors we receive. This allows us to make sure we have enough capacity for the number of users that we get."})})]})})]}),Object(R.jsxs)("li",{children:[Object(R.jsx)(Tt.a,{variant:"body1",children:"Functionality"}),Object(R.jsx)(Tt.a,{variant:"body1",children:Object(R.jsxs)("ul",{className:"list-disc pl-8",children:[Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"remembering whether you have completed any data collection task before;"})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"preventing fraudulent completion of data collection task (i.e. if someone tries to complete the same data collection task more than once);"})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"customising elements of the promotional layout and/or content of the pages of the site or application in order to improve your experience of the site or application."})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"customising elements of the promotional layout and/or content of the pages of the site or application in order to improve your experience of the site or application."})})]})})]}),Object(R.jsxs)("li",{children:[Object(R.jsx)(Tt.a,{variant:"body1",children:"Other"}),Object(R.jsx)(Tt.a,{variant:"body1",children:Object(R.jsx)("ul",{className:"list-disc pl-8",children:Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"undertaking research and statistical analysis in relation to your browsing of the site or use of the application."})})})})]}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"10.3 We may store information about you using cookies which we can access when you visit our site or use the application in the future."})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"10.4 Cookies do not usually include personal data, however they may contain the type and version of internet browser you use, the type, manufacturer and model of the computer or mobile device you use, any website from which you have come to the site or application, your IP address, the operating system of your computer or mobile device and internet log information."})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"10.5 If you want to delete any cookies that are already on your device, please refer to the instructions for your file management software to locate the file or directory that stores cookies."})}),Object(R.jsx)("li",{children:Object(R.jsxs)(Tt.a,{variant:"body1",children:["10.6 Information on deleting or controlling cookies is available at ",Object(R.jsx)("a",{href:"https://ww.aboutcookies.org",className:"underline text-blue",children:"www.AboutCookies.org"}),". Please note that by deleting our cookies or disabling future cookies you may not be able to access certain areas or features of our site or application."]})}),Object(R.jsxs)("li",{children:[Object(R.jsx)(Tt.a,{variant:"body1",children:"10.7 We work with external suppliers who may also post cookies on the dashboard, such as:"}),Object(R.jsx)(Tt.a,{variant:"body1",children:Object(R.jsxs)("ul",{className:"list-disc pl-8",children:[Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"Google analytics; and"})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"Mixpanel"})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"Facebook; and"})}),Object(R.jsx)("li",{children:Object(R.jsx)(Tt.a,{variant:"body1",children:"Adwords"})})]})})]})]})}),Object(R.jsx)(Tt.a,{variant:"body1",paragraph:!0,children:"This list may evolve in the future, in which case this Privacy Policy will be updated accordingly."}),Object(R.jsx)(Tt.a,{variant:"body1",paragraph:!0,children:"These external suppliers are responsible for the cookies they post on the dashboard and, for more information about these cookies, you should refer to their specific privacy policies."})]})]})})})),yo=["classes","auth","theme","device"],wo=function(e){Object(_.a)(n,e);var t=Object(S.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(N.a)(n,[{key:"componentDidMount",value:function(){document.title=A.a.title("Privacy Policy")}},{key:"render",value:function(){var e=this.props,t=e.classes;e.auth,e.theme,e.device,Object(T.a)(e,yo);return Object(R.jsx)(Nt.a,{className:(null===t||void 0===t?void 0:t.root)+" px-4 md:px-32",direction:"column",alignItems:"center",justify:"center",children:Object(R.jsx)(Nt.a,{className:"p-0",children:Object(R.jsx)(_t.a,{xs:12,className:"p-0",children:Object(R.jsx)(xo,{})})})})}}]),n}(i.a.Component),ko=Ie()(Object(s.b)((function(e,t){return{auth:e.auth,device:e.device}}),{}),ot.a)(wo),No=["classes","auth","theme","device"],_o=Ie()(Object(s.b)((function(e,t){return{auth:e.auth}}),{}),ot.a)((function(e){e.classes,e.auth,e.theme,e.device,Object(T.a)(e,No);return Object(R.jsx)(Tn,{className:"p-0 min-h-screen",id:"why-us",children:Object(R.jsxs)(Nt.a,{className:"p-0",children:[Object(R.jsx)(_t.a,{xs:12,className:"p-0 flex flex-col items-center py-6",children:Object(R.jsx)("img",{src:"https://realfield.nyc3.cdn.digitaloceanspaces.com/public/img/realfield/logo-black.svg",className:"sm:w-5/6 md:w-4/6 lg:w-1/3 h-auto"})}),Object(R.jsxs)(_t.a,{xs:12,className:"p-0 py-2",children:[Object(R.jsx)(Tt.a,{variant:"body1",className:"font-bold",paragraph:!0,children:"Ethical Principles"}),Object(R.jsx)(Tt.a,{variant:"body1",paragraph:!0,children:"Realfield has a deep commitment to the following ethical principles and values as they relate to data collection; from a technical perspective to ensure value alignment with human dignity, creating social benefit and positive economic impact whilst respecting all applicable laws and regulations."})]}),Object(R.jsxs)(_t.a,{xs:12,className:"p-0 py-2",children:[Object(R.jsx)(Tt.a,{variant:"body1",className:"font-bold",paragraph:!0,children:"Human Dignity & Value Alignment"}),Object(R.jsx)(Tt.a,{variant:"body1",paragraph:!0,children:"We believe that data systems, and technology more broadly, has the capacity to encourage societies to be fairer and more equal. Through our ethics board and our continuous consultation with a network of African experts via community, national and regional ethics teams; we work hard to ensure that we are not espousing universal principles and are instead drawing from multiple, deep pools of local knowledge, tradition and cultural mores to inform how we craft robust and adaptive values."}),Object(R.jsx)(Tt.a,{variant:"body1",paragraph:!0,children:"We pay particular attention to instances where bias and discrimination may arise and work proactively to implement processes which ensure the prioritisation of human dignity, rights, freedoms, and cultural diversity."})]}),Object(R.jsxs)(_t.a,{xs:12,className:"p-0 py-2",children:[Object(R.jsx)(Tt.a,{variant:"body1",className:"font-bold",paragraph:!0,children:"Social Benefit & Economic Impact"}),Object(R.jsx)(Tt.a,{variant:"body1",paragraph:!0,children:"Realfield aims to have a positive impact on the local, regional and national economies where Realfielders work to gather data. By stimulating research communities and engaging local workforces with flexible, adaptable and fairly compensated work, we anticipate a plethora of positive social and economic impacts from the collection of high quality data, including citizen and consumer data. The social benefit to people and societies where Realfield operates substantially exceeds the foreseeable risks and downsides."}),Object(R.jsx)(Tt.a,{variant:"body1",paragraph:!0,children:"Our employment and recruitment models are created to benefit and empower as many people as possible; the residual benefits of these value alignments range from shared prosperity to empowered and strengthened research, commercial and third sector networks."})]}),Object(R.jsxs)(_t.a,{xs:12,className:"p-0 py-2",children:[Object(R.jsx)(Tt.a,{variant:"body1",className:"font-bold",paragraph:!0,children:"Fairness & Bias"}),Object(R.jsx)(Tt.a,{variant:"body1",paragraph:!0,children:"We are consciously aware and work consistently to avoid creating or reinforcing unfair bias: particularly those related to sensitive characteristics such as race, ethnicity, gender, nationality, income, sexual orientation, ability and political or religious belief.  We have a zero-tolerance policy for harm, discrimination and abuse for our Realfielders; this is covered extensively through our rigorous and comprehensive training processes."})]}),Object(R.jsxs)(_t.a,{xs:12,className:"p-0 py-2",children:[Object(R.jsx)(Tt.a,{variant:"body1",className:"font-bold",paragraph:!0,children:"Privacy & Trust"}),Object(R.jsx)(Tt.a,{variant:"body1",paragraph:!0,children:"At Realfield, we incorporate privacy design principles: encouraging architectures with privacy safeguards and providing appropriate transparency and control over the use of data. Through our informed consent, participants are informed and aware of the system\u2019s capabilities and limitations.; we ensure that the access granted to personal data does not unreasonably curtail people\u2019s real or perceived liberty. In line with GDPR and other international privacy standards, we ensure full respect for privacy and data protection; additionally, our data governance mechanisms, taking into account the high quality and integrity of our data, ensure only legitimised access to data."})]}),Object(R.jsxs)(_t.a,{xs:12,className:"p-0 py-2",children:[Object(R.jsx)(Tt.a,{variant:"body1",className:"font-bold",paragraph:!0,children:"Transparency & Accountability"}),Object(R.jsx)(Tt.a,{variant:"body1",paragraph:!0,children:"Through our whitepapers, engagement with industry and the research community, our lines of communication are open to encourage feedback, reviews and conversation. Our data, system and AI business models are transparent and clearly explained; our literature is adapted to the stakeholder concerned to ensure comprehensive and adaptive explainability."}),Object(R.jsx)(Tt.a,{variant:"body1",paragraph:!0,children:"Our ethics board and network of experts provide the foundation for the many accountability mechanisms we have put in place to ensure responsibility, accountability, auditability, and the assessment of algorithms, data and design processes at Realfield. We are transparent and accountable at every engagement touchpoint, for multiple stakeholders."})]})]})})})),So=["classes","auth","theme","device"],Co=function(e){Object(_.a)(n,e);var t=Object(S.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(N.a)(n,[{key:"componentDidMount",value:function(){document.title=A.a.title("Ethical Principles")}},{key:"render",value:function(){var e=this.props;e.classes,e.auth,e.theme,e.device,Object(T.a)(e,So);return Object(R.jsx)(Nt.a,{className:"p-0 min-h-screen relative",direction:"column",alignItems:"center",justify:"center",children:Object(R.jsx)(Nt.a,{className:"p-0",children:Object(R.jsx)(_t.a,{xs:12,className:"p-0",children:Object(R.jsx)(_o,{})})})})}}]),n}(i.a.Component),Ao=Ie()(Object(s.b)((function(e,t){return{auth:e.auth,device:e.device}}),{}),ot.a)(Co),Fo=Ie()(Object(s.b)((function(e,t){return{auth:e.auth,device:e.device}}),{}),ot.a)((function(e){return Object(R.jsx)(Tn,{className:"flex flex-col justify-center p-0",id:"request-demo",title:"Request Demo",children:Object(R.jsxs)(Nt.a,{className:"p-0 md:px-0  md:py-6",children:[Object(R.jsx)(_t.a,{xs:12,className:"flex flex-row items-center p-0",children:Object(R.jsx)(Xe.a,{children:"Please enter your email address and we will get back to you as soon as possible."})}),Object(R.jsx)(_t.a,{xs:12,className:"flex flex-row items-center p-0",children:Object(R.jsx)(gn,{includeTime:!0})})]})})})),Po=["classes","auth","theme","device"],Do=function(e){Object(_.a)(n,e);var t=Object(S.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(N.a)(n,[{key:"componentDidMount",value:function(){document.title=A.a.title("Request Demo")}},{key:"render",value:function(){var e=this.props,t=e.classes;e.auth,e.theme,e.device,Object(T.a)(e,Po);return Object(R.jsx)(Nt.a,{className:(null===t||void 0===t?void 0:t.root)+" sm:px-4 md:px-32",direction:"column",alignItems:"center",justify:"center",children:Object(R.jsx)(Nt.a,{className:"p-0",children:Object(R.jsx)(_t.a,{xs:12,sm:12,md:12,className:"p-0",children:Object(R.jsx)(Fo,{})})})})}}]),n}(i.a.Component),Eo=Ie()(Object(s.b)((function(e,t){return{auth:e.auth,device:e.device}}),{}),ot.a)(Do),To=function(e){return Object(R.jsx)(Nt.a,{className:"p-0",children:Object(R.jsx)(_t.a,{xs:12,className:"p-0 relative",children:Object(R.jsx)(Di,{})})})},qo=Object(qn.a)((function(e){return{root:{minHeight:"100vh",height:"100vh",padding:"0",margin:"0",overflow:"auto",background:e.palette.background.default},login_container:{padding:"0"},login_logo:{width:"15rem",height:"auto",marginTop:e.spacing(2)},info_wrapper:{background:e.palette.secondary},info_container:{color:e.palette.text.primary,height:"100%",width:"100%"},form_wrapper:{height:"100%",background:e.palette.background.default,overflow:"auto"},info_map_container:{padding:"0 10%"}}})),Mo={"/auth/login":A.a.title("Login"),"/auth/forgot-password":A.a.title("Forgot password"),"/auth/reset-password":A.a.title("Reset Password")},Io=function(e){var t=qo(),n=Object(re.f)();Object(ie.c)((function(){document.title=Mo[n.pathname]||A.a.title("")})),Object(ie.d)((function(){document.title=Mo[n.pathname]||A.a.title("")}),[n]);var a=Object(oe.a)();return Object(R.jsxs)("div",{children:[Object(R.jsx)(Nt.a,{className:null===t||void 0===t?void 0:t.root,children:Object(R.jsxs)(Nt.a,{className:null===t||void 0===t?void 0:t.login_container,children:[Object(R.jsx)(Wt.a,{smDown:!0,children:Object(R.jsx)(_t.a,{xs:12,sm:12,md:7,lg:8,className:"p-20",sx:{backgroundColor:function(e){return e.palette.secondary.light}},children:Object(R.jsx)(Nt.a,{className:null===t||void 0===t?void 0:t.info_container,direction:"row",justify:"center",alignItems:"center",children:Object(R.jsx)(Nt.a,{className:null===t||void 0===t?void 0:t.info_content,children:Object(R.jsx)(_t.a,{xs:12,className:null===t||void 0===t?void 0:t.info_map_container,children:Object(R.jsx)(Wn,{mapcolor:a.palette.background.paper,popUpStyle:{background:"linear-gradient(to right, #8C189B, #6a0f75)"}})})})})})}),Object(R.jsx)(_t.a,{xs:12,sm:12,md:5,lg:4,className:"flex flex-col items-center justify-center",children:Object(R.jsxs)(le.a,{className:"p-4 flex flex-col items-center",sx:{},children:[Object(R.jsx)(g.b,{to:"/home".toUriWithLandingPagePrefix(),className:"pb-20",children:Object(R.jsx)("img",{alt:A.a.name+" logo",className:Te()(null===t||void 0===t?void 0:t.login_logo,"center"),src:A.a.logo})}),Object(R.jsx)(re.a,{})]})})]})}),Object(R.jsx)(ke.a,Object(l.a)({appID:j.A.app.id},j.A.app.user))]})},Ro=function(e){Object(_.a)(n,e);var t=Object(S.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(N.a)(n,[{key:"componentDidMount",value:function(){document.title=A.a.title("Resource Not Found")}},{key:"render",value:function(){return Object(R.jsx)(Nt.a,{className:"flex flex-row justify-center items-center",style:{height:"80vh"},children:Object(R.jsxs)(_t.a,{xs:12,md:8,lg:6,children:[Object(R.jsx)(Nt.a,{direction:"column",justify:"center",alignItems:"center",style:{padding:"10%"},children:Object(R.jsx)("img",{alt:"Under development",style:{width:"50%"},src:"https://realfield.nyc3.cdn.digitaloceanspaces.com/public/img/not_found.svg"})}),Object(R.jsx)(Nt.a,{direction:"column",justify:"center",alignItems:"center",children:Object(R.jsx)(Xe.a,{variant:"h1",color:"grey",children:"404"})}),Object(R.jsx)(Nt.a,{direction:"column",justify:"center",alignItems:"center",children:Object(R.jsx)(Xe.a,{variant:"body1",color:"grey",children:"Page Not Found"})})]})})}}]),n}(i.a.Component),Lo=Ie()(Object(s.b)((function(e){return{user:e.user}}),{}))(Ro),zo=n(1120),Vo=n(1809),Wo=["email","onSubmit","onSubmitSuccess","onSubmitError"],Jo=["submit","TextField","values","setValue","resetValues","formState"],Bo=i.a.forwardRef((function(e,t){var n=e||{},i=n.email,r=(n.onSubmit,n.onSubmitSuccess),o=n.onSubmitError,s=Object(T.a)(n,Wo),c=Object(ce.b)().Api,d=Object(ie.p)({submitting:!1,alert:!1}),p=Object(u.a)(d,3),b=p[0],f=p[1],j=(p[2],Object(ie.l)({name:"forgot-password-auth-form",defaultValues:{email:i||""},onSubmit:function(){var e=Object(y.a)(x.a.mark((function e(t,n){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(window.location.origin,"/auth/reset-password"),e.next=3,c.forgotPassword(Object(l.a)(Object(l.a)({},t),{},{cb:a})).then((function(e){return f({submitting:!1,error:!1,alert:e.message||"An email has been sent to your email with password reset resources"}),w(),Function.isFunction(r)&&r(e),e})).catch((function(e){throw f({submitting:!1,error:e.msg,alert:!1}),Function.isFunction(o)&&o(e),e}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()})),m=j.submit,h=j.TextField,v=j.values,O=j.setValue,w=j.resetValues,k=j.formState,N=(Object(T.a)(j,Jo),Object(a.useCallback)((function(){var e=(window.location.search.match(new RegExp("([^?=&]+)(=([^&]*))?","g"))||[]).reduce((function(e,t,n,a){var i=t.split("="),r=Object(u.a)(i,2),o=r[0],s=r[1];return e[o]=s,e}),{});if("e"in e||"email"in e){var t=e.e||e.email;t!==v.email&&O("email",t)}}),[v]));return Object(ie.c)((function(){N(),w()})),Object(R.jsxs)(Pn.a,Object(l.a)(Object(l.a)({container:!0},s),{},{component:"form",onSubmit:m,ref:t,children:[Object(R.jsx)(Pn.a,{item:!0,xs:12,className:"p-4 md:pb-8 text-center",children:Object(R.jsx)(Tt.a,{color:"action.disabled",variant:"subtitle1",children:"Forgot Password"})}),Object(R.jsx)(Pn.a,{item:!0,xs:12,className:"mb-12",children:Object(R.jsx)(h,{type:"email",variant:"filled",name:"email",label:"Email Address",placeholder:"Enter your Email Address",rules:{required:"Email Address is required.",pattern:{value:/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,message:"Invalid Email Address"}},fullWidth:!0,required:!0,validate:!0,disabled:b.submitting,helperText:"Enter your email address to initiate your account's password reset."})}),Object(R.jsx)(Pn.a,{item:!0,xs:12,className:"flex flex-row justify-center items-center mb-4",children:Object(R.jsx)(Un.a,{disabled:!k.isValid||k.isSubmitting,loading:k.isSubmitting,type:"submit",variant:"contained",children:"Submit"})}),Object(R.jsx)(Pn.a,{item:!0,xs:12,className:"flex flex-col justify-center items-center",sx:{color:function(e){return e.palette.secondary.main}},children:Object(R.jsx)(g.b,{to:"/auth/login",children:Object(R.jsx)(mt.a,{variant:"text",className:"capitalize rounded-full px-8 my-4",children:"Back to Login"})})}),Object(R.jsxs)(Pn.a,{item:!0,xs:12,className:"flex flex-col justify-center items-center",children:[Object(R.jsx)(Tt.a,{color:"action.disabled",variant:"body2",children:"already received password reset code?"}),Object(R.jsx)(g.b,{to:"/auth/reset-password",children:Object(R.jsx)(mt.a,{variant:"text",className:"capitalize rounded-full px-8 my-4",children:"Reset password"})})]}),Object(R.jsx)(zo.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:!!b.alert||!!b.error,autoHideDuration:3e3,onClose:function(){return f({error:!1,alert:!1})},children:Object(R.jsx)(Vo.a,{onClose:function(){return f({error:!1,alert:!1})},severity:b.error?"error":"success",sx:{width:"100%"},variant:"filled",children:b.alert||b.error})})]}))})),Uo=i.a.memo(Bo),Go=["email","code","onSubmit","onSubmitSuccess","onSubmitError"],Ho=i.a.forwardRef((function(e,t){var n=e||{},i=n.email,r=n.code,o=(n.onSubmit,n.onSubmitSuccess),s=n.onSubmitError,c=Object(T.a)(n,Go),d=Object(ce.b)().Api,p=Object(ie.p)({submitting:!1,alert:!1,showEmail:!0,showCode:!0}),b=Object(u.a)(p,2),f=b[0],j=b[1],m=Object(ie.l)({name:"reset-password-auth-form",volatile:!0,defaultValues:{email:i||"",code:r||""},onSubmit:function(){var e=Object(y.a)(x.a.mark((function e(t,n){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.resetPassword(t).then((function(e){return j({submitting:!1,error:!1,alert:e.message||"Your password has been reset successfully"}),k(),Function.isFunction(o)&&o(e),e})).catch((function(e){throw j({submitting:!1,error:e.msg,alert:!1}),Function.isFunction(s)&&s(e),e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}),h=m.submit,v=m.TextField,O=m.values,w=m.setValue,k=m.resetValues,N=m.formState,_=Object(a.useCallback)((function(){var e=(window.location.search.match(new RegExp("([^?=&]+)(=([^&]*))?","g"))||[]).reduce((function(e,t,n,a){var i=t.split("="),r=Object(u.a)(i,2),o=r[0],s=r[1];return e[o]=s,e}),{});if("e"in e||"email"in e){var t=e.e||e.email;t!==O.email&&w("email",t),String.isEmpty(t)||j({showEmail:!1})}if("c"in e||"code"in e){var n=e.c||e.code;n!==O.code&&w("code",n),String.isEmpty(n)||j({showCode:!1})}}),[O]);return Object(ie.c)((function(){_()})),Object(R.jsxs)(Pn.a,Object(l.a)(Object(l.a)({container:!0},c),{},{component:"form",onSubmit:h,ref:t,children:[Object(R.jsx)(Pn.a,{item:!0,xs:12,className:"p-4 md:pb-8 text-center",children:Object(R.jsx)(Tt.a,{color:"action.disabled",variant:"subtitle1",children:"Reset Password"})}),Object(R.jsxs)(Pn.a,{item:!0,xs:12,className:"mb-4 flex flex-col",children:[f.showEmail&&Object(R.jsx)(v,{type:"email",variant:"filled",name:"email",label:"Email Address",placeholder:"example@email.com",rules:{required:"Email Address is required.",pattern:{value:/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,message:"Invalid Email Address"}},className:"mb-4",fullWidth:!0,required:!0,validate:!0}),f.showCode&&Object(R.jsx)(v,{type:"text",variant:"filled",name:"code",label:"Password Reset Code",placeholder:"Abc123",rules:{required:"Password Reset Code is required.",minLength:6},className:"mb-4",fullWidth:!0,required:!0,validate:!0}),Object(R.jsx)(v,{type:"password",variant:"filled",name:"password",label:"Password",placeholder:"New Password",rules:{validate:{isRequired:function(e){return!String.isEmpty(e)||"Password is required."},isLongEnough:function(e){return/^.{8,}$/.test(e)||"Password should be atleast 8 characters long."},hasUppercase:function(e){return new RegExp("^(?=.*[A-Z]).{8,}$").test(e)||"Password should include atleast 1 uppercase letter."},hasLowercase:function(e){return new RegExp("^(?=.*[a-z]).{8,}$").test(e)||"Password should include atleast 1 lowercase letter."},hasDigit:function(e){return new RegExp("^(?=.*[0-9]).{8,}$").test(e)||"Password should include atleast 1 lowercase letter."}}},className:"mb-4",fullWidth:!0,required:!0,validate:!0}),Object(R.jsx)(v,{type:"password",variant:"filled",name:"repeat_password",label:"Repeat Password",rules:{deps:["password"],validate:{isRequired:function(e){return!String.isEmpty(e)||"Repeat password is required."},isLongEnough:function(e){return String.isString(e)&&e.trim().length>=8||"Repeat password should be atleast 8 characters long."},matchesPassword:function(e){return e===O.password||"Repeat password does not match password"}}},className:"mb-4",fullWidth:!0,required:!0,validate:!0})]}),Object(R.jsx)(Pn.a,{item:!0,xs:12,className:"mb-4"}),Object(R.jsx)(Pn.a,{item:!0,xs:12,className:"flex flex-row justify-center items-center mb-4",children:Object(R.jsx)(Un.a,{disabled:!N.isValid||N.isSubmitting,loading:N.isSubmitting,type:"submit",variant:"contained",children:"Reset Password"})}),Object(R.jsx)(Pn.a,{item:!0,xs:12,className:"flex flex-col justify-center items-center",sx:{color:function(e){return e.palette.text.disabled}},children:Object(R.jsx)(g.b,{className:"no-underline text-current p-2 px-4 my-2 rounded transition-all duration-200 hover:bg-gray-800 hover:bg-opacity-5 focus:bg-gray-800 focus:bg-opacity-20 ease-in-out",to:"/auth/login",children:"Back to Login"})}),Object(R.jsx)(Pn.a,{item:!0,xs:12,className:"flex flex-col justify-center items-center",sx:{color:function(e){return e.palette.text.disabled}},children:Object(R.jsx)(g.b,{className:"no-underline text-current p-2 px-4 my-2 rounded transition-all duration-200 hover:bg-gray-800 hover:bg-opacity-5 focus:bg-gray-800 focus:bg-opacity-20 ease-in-out",to:"/auth/forgot-password",children:"Get password reset code"})}),Object(R.jsx)(zo.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:!!f.alert||!!f.error,autoHideDuration:3e3,onClose:function(){return j({error:!1,alert:!1})},children:Object(R.jsx)(Vo.a,{onClose:function(){return j({error:!1,alert:!1})},severity:f.error?"error":"success",sx:{width:"100%"},variant:"filled",children:f.alert||f.error})})]}))})),Ko=i.a.memo(Ho),Yo=n(787),Qo=n(1810),Zo=n(55);function Xo(e){var t=e.preferences,n=Object(ie.l)({name:"default-preferences",volatile:!0,defaultValues:{theme:t.theme||"light",locale:t.locale||"en"}}),a=n.RadioGroup,i=n.Autocomplete,r=n.values,o=n.formState.errors;return Object(ie.d)((function(){JSON.isEmpty(o)&&Zo.a.emit("change-preferences",Object(l.a)({},r))}),[r]),Object(R.jsxs)(Nt.a,{className:"px-2",children:[Object(R.jsx)(_t.a,{xs:12,className:"mb-2",children:Object(R.jsx)(Tt.a,{variant:"h3",children:" Preferences"})}),Object(R.jsx)(_t.a,{xs:12,className:"mb-4",children:Object(R.jsx)(a,{name:"theme",label:"Theme",options:{light:"Light",dark:"Dark"},rules:{required:!0}})}),Object(R.jsx)(_t.a,{xs:12,className:"mb-4",children:Object(R.jsx)(i,{name:"locale",label:"Locale",options:j.E,rules:{required:!0}})})]})}var $o=Object(s.b)((function(e){return{preferences:e.app.preferences||{}}}),{})(i.a.memo(Xo)),es=n(1988),ts=n(84),ns=n(230),as=n(231),is=n(326),rs=function(e){Object(_.a)(n,e);var t=Object(S.a)(n);function n(e){var a;return Object(k.a)(this,n),(a=t.call(this,e)).state={},a.defination=is.a,a.defination.scope.columns={current_password:{type:"string",label:"Current Password",input:{type:"password",default:"",required:!0},restricted:{display:function(e,t){return!0},input:function(e,t){return!1}}},password:{type:"string",label:"New Password",input:{type:"password",default:"",required:!0},restricted:{display:function(e,t){return!0},input:function(e,t){return!1}}},repeat_password:{type:"string",label:"Confirm Password",input:{type:"password",default:"",required:!0},restricted:{display:function(e,t){return!0},input:function(e,t){return!1}}}},a.handlePasswordFormSubmit=a.handlePasswordFormSubmit.bind(Object(Je.a)(a)),a}return Object(N.a)(n,[{key:"handlePasswordFormSubmit",value:function(e,t){return lt.a.resetPassword(e).then((function(e){return!0})).catch((function(e){throw e}))}},{key:"render",value:function(){var e,t=this.props,n=t.className,a=t.auth;return Object(R.jsxs)(ts.a,{elevation:0,className:n,children:[Object(R.jsx)(as.a,{avatar:Object(R.jsx)(st.a,{"aria-label":"Password",color:"rgba("+A.b.hex.default+", 0.2)",children:Object(R.jsx)(es.a,{})}),title:"Password",subheader:"Change password below"}),Object(R.jsx)(ns.a,{className:"p-0",children:Object(R.jsx)(Vi.a,{defination:this.defination,onSubmit:this.handlePasswordFormSubmit,form:(null===(e=a.user)||void 0===e?void 0:e._id)+"_password_form",submit_btn_text:"Update Password",show_discard:!1,show_title:!1,onSubmitSuccessMessage:"Password updated successfully"})})]})}}]),n}(a.Component),os=Object(s.b)((function(e){return{auth:e.auth}}),{})(rs);function ss(e){var t=e.preferences,n=Object(ie.l)({name:"data-preferences",volatile:!0,defaultValues:Object(l.a)({pagination:10,defaultMapZoom:15},t.data)}),a=n.TextField,i=n.Autocomplete,r=n.values,o=n.formState.errors;return Object(ie.d)((function(){if(JSON.isEmpty(o)){var e=Object(l.a)({},r);e.pagination=parseInt(e.pagination),e.defaultMapZoom=parseInt(e.defaultMapZoom),Zo.a.emit("change-preferences",{data:e})}}),[r]),Object(R.jsx)(ts.a,{elevation:0,children:Object(R.jsxs)(Nt.a,{className:"px-2",children:[Object(R.jsx)(_t.a,{xs:12,className:"mb-2",children:Object(R.jsx)(Tt.a,{variant:"h3",children:"Display and Visualization"})}),Object(R.jsxs)(Nt.a,{className:"px-0",children:[Object(R.jsx)(_t.a,{xs:12,className:"mb-2",children:Object(R.jsx)(Tt.a,{variant:"h5",children:"Data"})}),Object(R.jsx)(_t.a,{xs:12,className:"mb-2",children:Object(R.jsx)(i,{name:"pagination",label:"Records per Page",type:"number",options:{5:"5",10:"10",25:"25",50:"50",100:"100",250:"250",500:"500","-1":"All"},rules:{validate:{isSet:function(e){return"-1"===e||e>=5||"Value is Required"}}}})}),Object(R.jsx)(_t.a,{xs:12,className:"mb-4",children:Object(R.jsx)(a,{name:"defaultMapZoom",label:"Default Map Zoom",type:"number",rules:{validate:{isAboveMin:function(e){return e>=5||"Value should be greater than or equal to 5 "},isBelowMax:function(e){return e<=25||"Value should be greater than or equal to 5 "}},valueAsNumber:!0}})})]})]})})}var ls=Object(s.b)((function(e){return{preferences:e.app.preferences||{}}}),{})(i.a.memo(ss));function cs(e){var t=e.app.preferences.notifications,n=Object(ie.l)({name:"notifications-preferences",volatile:!0,defaultValues:Object(l.a)({},t)}),a=n.Checkbox,i=n.values,r=n.setValue,o=n.formState.errors;Object(ie.d)((function(){JSON.isEmpty(o)&&Zo.a.emit("change-preferences",{notifications:Object(l.a)(Object(l.a)({},t),i)})}),[i]);var s=function(e){return function(t){var n,a,i,o;r("activity.".concat(e),Boolean(null===t||void 0===t||null===(n=t.target)||void 0===n?void 0:n.checked)),r("features.".concat(e),Boolean(null===t||void 0===t||null===(a=t.target)||void 0===a?void 0:a.checked)),r("financial.".concat(e),Boolean(null===t||void 0===t||null===(i=t.target)||void 0===i?void 0:i.checked)),r("subscriptions.".concat(e),Boolean(null===t||void 0===t||null===(o=t.target)||void 0===o?void 0:o.checked))}};return Object(R.jsx)(ts.a,{children:Object(R.jsxs)(Nt.a,{className:"px-8",children:[Object(R.jsx)(_t.a,{xs:12,className:"mb-2",children:Object(R.jsx)(Tt.a,{variant:"h3",children:"Notifications"})}),Object(R.jsxs)(Nt.a,{className:"px-0",children:[Object(R.jsx)(_t.a,{xs:12,className:"mb-1",children:Object(R.jsx)(Tt.a,{variant:"h5",color:"accent",children:"All"})}),Object(R.jsx)(_t.a,{xs:12,md:4,className:"mb-1",children:Object(R.jsx)(a,{name:"all.push",label:"Push",onChange:s("push")})}),Object(R.jsx)(_t.a,{xs:12,md:4,className:"mb-1",children:Object(R.jsx)(a,{name:"all.sms",label:"SMS",onChange:s("sms")})}),Object(R.jsx)(_t.a,{xs:12,md:4,className:"mb-1",children:Object(R.jsx)(a,{name:"all.email",label:"Email",onChange:s("email")})})]}),Object(R.jsxs)(Nt.a,{className:"px-0",children:[Object(R.jsx)(_t.a,{xs:12,className:"mb-1",children:Object(R.jsx)(Tt.a,{variant:"h5",color:"accent",children:"Activity"})}),Object(R.jsx)(_t.a,{xs:12,md:4,className:"mb-1",children:Object(R.jsx)(a,{name:"activity.push",label:"Push"})}),Object(R.jsx)(_t.a,{xs:12,md:4,className:"mb-1",children:Object(R.jsx)(a,{name:"activity.sms",label:"SMS"})}),Object(R.jsx)(_t.a,{xs:12,md:4,className:"mb-1",children:Object(R.jsx)(a,{name:"activity.email",label:"Email"})})]}),Object(R.jsxs)(Nt.a,{className:"px-0",children:[Object(R.jsx)(_t.a,{xs:12,className:"mb-1",children:Object(R.jsx)(Tt.a,{variant:"h5",color:"accent",children:"Subscriptions"})}),Object(R.jsx)(_t.a,{xs:12,md:4,className:"mb-1",children:Object(R.jsx)(a,{name:"subscriptions.push",label:"Push"})}),Object(R.jsx)(_t.a,{xs:12,md:4,className:"mb-1",children:Object(R.jsx)(a,{name:"subscriptions.sms",label:"SMS"})}),Object(R.jsx)(_t.a,{xs:12,md:4,className:"mb-1",children:Object(R.jsx)(a,{name:"subscriptions.email",label:"Email"})})]}),Object(R.jsxs)(Nt.a,{className:"px-0",children:[Object(R.jsx)(_t.a,{xs:12,className:"mb-1",children:Object(R.jsx)(Tt.a,{variant:"h5",color:"accent",children:"New Feature Releases"})}),Object(R.jsx)(_t.a,{xs:12,md:4,className:"mb-1",children:Object(R.jsx)(a,{name:"features.push",label:"Push"})}),Object(R.jsx)(_t.a,{xs:12,md:4,className:"mb-1",children:Object(R.jsx)(a,{name:"features.sms",label:"SMS"})}),Object(R.jsx)(_t.a,{xs:12,md:4,className:"mb-1",children:Object(R.jsx)(a,{name:"features.email",label:"Email"})})]}),Object(R.jsxs)(Nt.a,{className:"px-0",children:[Object(R.jsx)(_t.a,{xs:12,className:"mb-1",children:Object(R.jsx)(Tt.a,{variant:"h5",color:"accent",children:"Financial"})}),Object(R.jsx)(_t.a,{xs:12,md:4,className:"mb-1",children:Object(R.jsx)(a,{name:"financial.push",label:"Push"})}),Object(R.jsx)(_t.a,{xs:12,md:4,className:"mb-1",children:Object(R.jsx)(a,{name:"financial.sms",label:"SMS"})}),Object(R.jsx)(_t.a,{xs:12,md:4,className:"mb-1",children:Object(R.jsx)(a,{name:"financial.email",label:"Email"})})]})]})})}var us=Object(s.b)((function(e){return{auth:e.auth,app:e.app}}),{})(i.a.memo(cs));function ds(e){var t=e.app.preferences.subscriptions,n=Object(ie.l)({name:"subscriptions-preferences",volatile:!0,defaultValues:Object(l.a)({},t)}),a=n.Checkbox,i=n.values,r=n.formState.errors;return Object(ie.d)((function(){JSON.isEmpty(r)&&Zo.a.emit("change-preferences",{subscriptions:Object(l.a)(Object(l.a)({},t),i)})}),[i]),Object(R.jsx)(ts.a,{children:Object(R.jsxs)(Nt.a,{className:"px-8",children:[Object(R.jsx)(_t.a,{xs:12,className:"mb-2",children:Object(R.jsx)(Tt.a,{variant:"h3",children:"Subscriptions"})}),Object(R.jsxs)(Nt.a,{className:"px-0",children:[Object(R.jsx)(_t.a,{xs:12,className:"mb-2",children:Object(R.jsx)(a,{name:"newsletter",label:"Newsletter"})}),Object(R.jsx)(_t.a,{xs:12,className:"mb-2",children:Object(R.jsx)(a,{name:"posts",label:"Blog posts"})}),Object(R.jsx)(_t.a,{xs:12,className:"mb-2",children:Object(R.jsx)(a,{name:"updates",label:"Updates"})})]})]})})}var ps=Object(s.b)((function(e){return{auth:e.auth,app:e.app}}),{})(i.a.memo(ds));function bs(e){var t=e.app,n=t.preferences.cookies,a=Object(ie.l)({name:"cookies-preferences",volatile:!0,defaultValues:Object(l.a)({},n)}),i=a.Checkbox,r=a.values,o=a.formState.errors;return Object(ie.d)((function(){JSON.isEmpty(o)&&Zo.a.emit("change-preferences",{cookies:Object(l.a)(Object(l.a)({},n),r)})}),[r]),Object(R.jsx)(ts.a,{children:Object(R.jsxs)(Nt.a,{className:"px-8",children:[Object(R.jsx)(_t.a,{xs:12,className:"mb-2",children:Object(R.jsx)(Tt.a,{variant:"h3",children:"This website uses cookies"})}),Object(R.jsx)(_t.a,{xs:12,className:"mb-2",children:Object(R.jsx)(Tt.a,{variant:"body2",children:t.settings.legal["cookies-consent"]})}),Object(R.jsxs)(Nt.a,{className:"px-0",children:[Object(R.jsx)(_t.a,{xs:12,className:"mb-2",children:Object(R.jsx)(i,{name:"necessary",label:"Necessary"})}),Object(R.jsx)(_t.a,{xs:12,className:"mb-2",children:Object(R.jsx)(i,{name:"statistics",label:"Statistics"})}),Object(R.jsx)(_t.a,{xs:12,className:"mb-2",children:Object(R.jsx)(i,{name:"preferences",label:"Preferences"})}),Object(R.jsx)(_t.a,{xs:12,className:"mb-2",children:Object(R.jsx)(i,{name:"marketing",label:"Marketing"})})]})]})})}var fs=Object(s.b)((function(e){return{auth:e.auth,app:e.app}}),{})(i.a.memo(bs)),js=["children","value","index"];function ms(e){var t=e.children,n=e.value,a=e.index,i=Object(T.a)(e,js);return Object(R.jsx)(Nt.a,Object(l.a)(Object(l.a)({component:"div",role:"tabpanel",hidden:n!==a,id:"preferences-tabpanel-".concat(a),"aria-labelledby":"preferences-tab-".concat(a),className:n===a?"flex p-0":"hidden"},i),{},{children:n===a&&Object(R.jsx)(_t.a,{xs:12,className:"p-0",children:t})}))}var hs=Object(s.b)((function(e){return{auth:e.auth,navHistory:e.nav}}),{appendNavHistory:C.ib})((function(e){var t=e.appendNavHistory,n=e.navHistory,i=Object(re.f)(),r=Object(ja.a)().width>=960?"vertical":"horizontal",o=Object(ie.p)({active_tab:"default",tabs:{default:"Default",password:"Password",notifications:"Notifications",data:"Data",cookies:"Cookies",subscriptions:"Subscriptions"}}),s=Object(u.a)(o,2),l=s[0],c=s[1],d=Object(a.useCallback)((function(e,n){c({active_tab:n}),t&&i&&t({name:"preferences",uri:i.pathname,title:"Preferences",view:n})}),[]);return Object(a.useEffect)((function(){console.log("navHistory",n),t&&i&&t({name:"preferences",uri:i.pathname,title:"Preferences",view:l.active_tab})}),[]),Object(R.jsxs)(Nt.a,{className:"px-2 pt-8",children:[Object(R.jsx)(_t.a,{xs:12,md:"vertical"===r?3:12,lg:"vertical"===r?2:12,children:Object(R.jsx)(Qo.a,{orientation:r,variant:"scrollable",indicatorColor:"primary",textColor:"primary",value:l.active_tab,onChange:d,"aria-label":"Preferences tabs",className:"border-0",children:Object.entries(l.tabs).map((function(e,t){var n=Object(u.a)(e,2),a=n[0],i=n[1];return Object(R.jsx)(Yo.a,{label:i,value:a,id:"preferences-tab-"+a,"aria-controls":"preferences-tabpanel-"+a},"preferences-tab-"+t)}))})}),Object(R.jsx)(_t.a,{xs:12,md:"vertical"===r?9:12,lg:"vertical"===r?10:12,children:Object.entries(l.tabs).map((function(e,t){var n=Object(u.a)(e,2),a=n[0];n[1];return Object(R.jsxs)(ms,{value:l.active_tab,index:a,children:["default"===a&&Object(R.jsx)($o,{}),"password"===a&&Object(R.jsx)(os,{}),"data"===a&&Object(R.jsx)(ls,{}),"notifications"===a&&Object(R.jsx)(us,{}),"subscriptions"===a&&Object(R.jsx)(ps,{}),"cookies"===a&&Object(R.jsx)(fs,{})]},"preferences-tabpanel-"+t)}))})]})})),vs=n(268);function gs(e){var t=Object(s.d)((function(e){var t;return Object(l.a)({},null===e||void 0===e||null===(t=e.app)||void 0===t?void 0:t.contact)})),n=Object(ie.l)({name:"contact-settings",volatile:!0,defaultValues:Object(l.a)({},t)}),a=n.TextField,i=n.values,r=n.formState.errors;return Object(ie.d)((function(){JSON.isEmpty(r)&&Zo.a.emit("change-settings",{contact:Object(l.a)(Object(l.a)({},t),i)})}),[i,r,t]),Object(R.jsx)(ts.a,{children:Object(R.jsxs)(Nt.a,{className:"px-8",children:[Object(R.jsx)(_t.a,{xs:12,className:"mb-2",children:Object(R.jsx)(Tt.a,{variant:"h3",sx:{color:function(e){return e.palette.text.disabled}},children:"Contact Settings"})}),Object(R.jsxs)(Nt.a,{className:"px-0",children:[Object(R.jsx)(_t.a,{xs:12,className:"mb-1",children:Object(R.jsx)(a,{name:"phone",label:"Phone"})}),Object(R.jsx)(_t.a,{xs:12,className:"mb-1",children:Object(R.jsx)(a,{name:"email",label:"email"})}),Object(R.jsx)(_t.a,{xs:12,className:"mb-1",children:Object(R.jsx)(a,{name:"address",label:"Address",multiline:!0,minRows:5})})]})]})})}var Os=i.a.memo(gs);function xs(e){var t=Object(s.d)((function(e){var t;return Object(l.a)({},null===e||void 0===e||null===(t=e.app)||void 0===t?void 0:t.general)})),n=Object(ie.l)({name:"general-settings",volatile:!0,defaultValues:Object(l.a)({},t)}),a=n.TextField,i=n.RadioGroup,r=n.values,o=(n.setValue,n.formState.errors);return Object(ie.d)((function(){JSON.isEmpty(o)&&(console.log("values",r),Zo.a.emit("change-settings",{general:Object(l.a)(Object(l.a)({},t),r)}))}),[r]),Object(R.jsx)(ts.a,{children:Object(R.jsxs)(Nt.a,{className:"px-8",children:[Object(R.jsx)(_t.a,{xs:12,className:"mb-2",children:Object(R.jsx)(Tt.a,{variant:"h3",sx:{color:function(e){return e.palette.text.disabled}},children:"General"})}),Object(R.jsxs)(Nt.a,{className:"px-0",children:[Object(R.jsx)(_t.a,{xs:12,className:"mb-1",children:Object(R.jsx)(Tt.a,{variant:"body2",sx:{color:function(e){return e.palette.text.disabled}},children:"SEO"})}),Object(R.jsx)(_t.a,{xs:12,className:"mb-1",children:Object(R.jsx)(a,{name:"seo-title",label:"SEO Title",rules:{required:!0}})}),Object(R.jsx)(_t.a,{xs:12,className:"mb-1",children:Object(R.jsx)(a,{name:"seo-tagline",label:"SEO Tagline",rules:{required:!0},multiline:!0,minRows:4})}),Object(R.jsx)(_t.a,{xs:12,className:"mb-2",children:Object(R.jsx)(Tt.a,{variant:"body2",sx:{color:function(e){return e.palette.text.disabled}},children:"Ownership"})}),Object(R.jsx)(_t.a,{xs:12,className:"mb-1",children:Object(R.jsx)(a,{name:"copyright",label:"Copyright",rules:{required:!0}})}),Object(R.jsx)(_t.a,{xs:12,className:"mb-1",children:Object(R.jsx)(a,{name:"trademark",label:"Trademark",rules:{required:!0}})}),Object(R.jsx)(_t.a,{xs:12,className:"mb-2",children:Object(R.jsx)(Tt.a,{variant:"body2",sx:{color:function(e){return e.palette.text.disabled}},children:"Routing"})}),Object(R.jsx)(_t.a,{xs:12,className:"mb-4",children:Object(R.jsx)(i,{name:"landing-page-routing",label:"Landing page routing",options:{sections:"# (Hash) aware Sections",normal:"Normal"},rules:{required:!0}})})]})]})})}var ys=i.a.memo(xs);function ws(e){var t=Object(s.d)((function(e){var t;return Object(l.a)({},null===e||void 0===e||null===(t=e.app)||void 0===t?void 0:t.legal)})),n=Object(ie.l)({name:"legal-settings",volatile:!0,defaultValues:Object(l.a)({},t)}),a=n.TextField,i=n.WysiwygEditor,r=n.values,o=(n.setValue,n.formState.errors);return Object(ie.d)((function(){JSON.isEmpty(o)&&Zo.a.emit("change-settings",{legal:Object(l.a)(Object(l.a)({},t),r)})}),[r]),Object(R.jsx)(ts.a,{children:Object(R.jsxs)(Nt.a,{className:"px-8",children:[Object(R.jsx)(_t.a,{xs:12,className:"mb-2",children:Object(R.jsx)(Tt.a,{variant:"h3",sx:{color:function(e){return e.palette.text.disabled}},children:"Legal"})}),Object(R.jsxs)(Nt.a,{className:"px-0",children:[Object(R.jsx)(_t.a,{xs:12,className:"mb-1",children:Object(R.jsx)(i,{name:"terms-of-use",label:"Terms of use",multiline:!0,minRows:4})}),Object(R.jsx)(_t.a,{xs:12,className:"mb-1",children:Object(R.jsx)(a,{name:"end-user-agreement",label:"End user agreement",multiline:!0,minRows:4})}),Object(R.jsx)(_t.a,{xs:12,className:"mb-1",children:Object(R.jsx)(a,{name:"privacy-policy",label:"Privacy policy",multiline:!0,minRows:8})}),Object(R.jsx)(_t.a,{xs:12,className:"mb-1",children:Object(R.jsx)(a,{name:"cookies-consent",label:"Cookies consent",multiline:!0,minRows:8})})]})]})})}var ks=i.a.memo(ws);function Ns(e){var t=e.app.settings.reading,n=Object(ie.l)({name:"reading-settings",volatile:!0,defaultValues:Object(l.a)({},t)}),a=(n.TextField,n.Checkbox),i=n.values,r=n.formState.errors;return Object(ie.d)((function(){JSON.isEmpty(r)&&Zo.a.emit("change-settings",{reading:Object(l.a)(Object(l.a)({},t),i)})}),[i,r,t]),Object(R.jsx)(ts.a,{children:Object(R.jsxs)(Nt.a,{className:"px-8",children:[Object(R.jsx)(_t.a,{xs:12,className:"mb-2",children:Object(R.jsx)(Tt.a,{variant:"h3",sx:{color:function(e){return e.palette.text.disabled}},children:"Reading"})}),Object(R.jsxs)(Nt.a,{className:"px-0",children:[Object(R.jsx)(_t.a,{xs:12,className:"mb-1",children:Object(R.jsx)(a,{name:"enable-blog",label:"Enable Blog"})}),Object(R.jsx)(_t.a,{xs:12,className:"mb-1",children:Object(R.jsx)(a,{name:"enable-press",label:"Enable Press"})}),Object(R.jsx)(_t.a,{xs:12,className:"mb-1",children:Object(R.jsx)(a,{name:"enable-faq",label:"Enable FAQ"})})]})]})})}var _s=Object(s.b)((function(e){return{auth:e.auth,app:e.app}}),{})(i.a.memo(Ns));function Ss(e){var t=e.app.settings.social,n=Object(ie.l)({name:"social-settings",volatile:!0,defaultValues:Object(l.a)({},t)}),a=n.TextField,i=n.values,r=n.formState.errors;return Object(ie.d)((function(){JSON.isEmpty(r)&&Zo.a.emit("change-settings",{social:Object(l.a)(Object(l.a)({},t),i)})}),[i,r,t]),Object(R.jsx)(ts.a,{children:Object(R.jsxs)(Nt.a,{className:"px-8",children:[Object(R.jsx)(_t.a,{xs:12,className:"mb-2",children:Object(R.jsx)(Tt.a,{variant:"h3",sx:{color:function(e){return e.palette.text.disabled}},children:"Social Networks"})}),Object(R.jsxs)(Nt.a,{className:"px-0",children:[Object(R.jsx)(_t.a,{xs:12,className:"mb-1",children:Object(R.jsx)(a,{name:"facebook",label:"Facebook"})}),Object(R.jsx)(_t.a,{xs:12,className:"mb-1",children:Object(R.jsx)(a,{name:"twitter",label:"Twitter"})}),Object(R.jsx)(_t.a,{xs:12,className:"mb-1",children:Object(R.jsx)(a,{name:"instagram",label:"Instagram"})}),Object(R.jsx)(_t.a,{xs:12,className:"mb-1",children:Object(R.jsx)(a,{name:"youtube",label:"Youtube"})}),Object(R.jsx)(_t.a,{xs:12,className:"mb-1",children:Object(R.jsx)(a,{name:"linkedin",label:"Linkedin"})}),Object(R.jsx)(_t.a,{xs:12,className:"mb-1",children:Object(R.jsx)(a,{name:"whatsapp",label:"Whatsapp"})}),Object(R.jsx)(_t.a,{xs:12,className:"mb-1",children:Object(R.jsx)(a,{name:"instagram",label:"Instagram"})}),Object(R.jsx)(_t.a,{xs:12,className:"mb-1",children:Object(R.jsx)(a,{name:"google_plus",label:"Google +"})}),Object(R.jsx)(_t.a,{xs:12,className:"mb-1",children:Object(R.jsx)(a,{name:"pinterest",label:"Pinterest"})})]})]})})}var Cs=Object(s.b)((function(e){return{auth:e.auth,app:e.app}}),{})(i.a.memo(Ss));function As(){var e=Object(s.d)((function(e){return Object(l.a)({},e.app)})).settings.tracking,t=Object(ie.l)({name:"tracking-settings",volatile:!0,defaultValues:Object(l.a)({},e)}),n=t.TextField,a=t.Autocomplete,i=t.Checkbox,r=t.RadioGroup,o=t.values,c=t.formState.errors;return Object(ie.d)((function(){JSON.isEmpty(c)&&Zo.a.emit("change-settings",{tracking:Object(l.a)(Object(l.a)({},e),o)})}),[o,c,e]),Object(R.jsx)(ts.a,{children:Object(R.jsxs)(Nt.a,{className:"px-8",children:[Object(R.jsx)(_t.a,{xs:12,className:"mb-2",children:Object(R.jsx)(Tt.a,{variant:"h3",sx:{color:function(e){return e.palette.text.disabled}},children:"Location Tracking settings"})}),Object(R.jsxs)(Nt.a,{className:"px-0",children:[Object(R.jsx)(_t.a,{xs:12,className:"mb-1",children:Object(R.jsx)(a,{name:"contexts",multiple:!0,options:{roam:"Roam",commission:"Commission"},label:"Contexts"})}),Object(R.jsx)(_t.a,{xs:12,className:"mb-1",children:Object(R.jsx)(r,{name:"interval-type",options:{distance:"Distance",time:"Time"},label:"Type of interval"})}),Object(R.jsx)(_t.a,{xs:12,className:"mb-1",children:Object(R.jsx)(n,{type:"number",name:"interval",label:"Interval",helperText:"distance"===o["interval-type"]?"Interval in Meters":"Interval in Seconds"})}),Object(R.jsx)(_t.a,{xs:12,className:"mb-1",children:Object(R.jsx)(n,{type:"number",name:"min-positions-per-track",label:"Minimum Positions per Track",rules:{required:!0,min:2,deps:["max-positions-per-track"],validate:{checkMax:function(e){return e<o["max-positions-per-track"]||"Min must be less than Max Positions per Track"}}}})}),Object(R.jsx)(_t.a,{xs:12,className:"mb-1",children:Object(R.jsx)(n,{type:"number",name:"max-positions-per-track",label:"Max Positions per Track",rules:{required:!0,deps:["min-positions-per-track"],validate:{checkMax:function(e){return e>o["min-positions-per-track"]||"Must be greater than Minimum Positions per Track"}}}})}),Object(R.jsx)(_t.a,{xs:12,className:"mb-1",children:Object(R.jsx)(i,{name:"enforce-context-location-availability",label:"Enforce on-location context availability"})}),Object(R.jsx)(_t.a,{xs:12,className:"mb-1",children:Object(R.jsx)(i,{name:"enforce-onlocation-actions",label:"Enforce on-location actions availability"})})]})]})})}var Fs=i.a.memo(As);function Ps(e){return Object(R.jsx)(Nt.a,{className:"px-2",children:Object(R.jsx)(_t.a,{xs:12,className:"mb-2",children:Object(R.jsx)(Tt.a,{variant:"h3",children:" Mobile application settings"})})})}var Ds=Object(s.b)((function(e){return{app:e.app}}),{})(i.a.memo(Ps));function Es(){var e=Object(s.d)((function(e){var t,n;return Object(l.a)({},null===e||void 0===e||null===(t=e.app)||void 0===t||null===(n=t.settings)||void 0===n?void 0:n.communication)})),t=Object(ie.l)({name:"communication-settings",volatile:!0,defaultValues:Object(l.a)({},e)}),n=t.TextField,a=(t.Autocomplete,t.Checkbox),i=(t.RadioGroup,t.values),r=t.formState.errors;return Object(ie.d)((function(){JSON.isEmpty(r)&&Zo.a.emit("change-settings",{communication:Object(l.a)(Object(l.a)({},e),i)})}),[i,r,e]),Object(R.jsx)(ts.a,{children:Object(R.jsxs)(Nt.a,{className:"px-8",children:[Object(R.jsx)(_t.a,{xs:12,className:"mb-2",children:Object(R.jsx)(Tt.a,{variant:"h3",sx:{color:function(e){return e.palette.text.disabled}},children:"Communication settings"})}),Object(R.jsx)(_t.a,{xs:12,className:"my-4",children:Object(R.jsx)(Tt.a,{variant:"h6",sx:{color:function(e){return e.palette.text.disabled}},children:"Outgoing Mail (SMTP)"})}),Object(R.jsxs)(Nt.a,{className:"px-0",children:[Object(R.jsx)(_t.a,{xs:12,className:"mb-1",children:Object(R.jsx)(n,{name:"smtp_host",label:"Host"})}),Object(R.jsx)(_t.a,{xs:12,className:"mb-1",children:Object(R.jsx)(n,{name:"smtp_user",label:"SMTP Email Address",type:"email"})}),Object(R.jsx)(_t.a,{xs:12,className:"mb-1",children:Object(R.jsx)(n,{name:"smtp_password",label:"SMTP Password",type:"password"})}),Object(R.jsx)(_t.a,{xs:12,children:Object(R.jsx)(a,{name:"smtp_secure",label:"Secure SMTP"})}),Object(R.jsx)(_t.a,{xs:12,className:"mb-1",children:Object(R.jsx)(n,{name:"smtp_sender_name",label:"SMTP Sender Name",debounce:1e3})}),Object(R.jsx)(_t.a,{xs:12,className:"mb-1",children:Object(R.jsx)(n,{name:"courierAuthorizationToken",label:"Courier Authorization Token",type:"password",debounce:1e3})}),Object(R.jsx)(_t.a,{xs:12,className:"mb-1",children:Object(R.jsx)(a,{name:"smtp_pool",label:"SMTP Pool"})}),Object(R.jsx)(_t.a,{xs:12,className:"my-4",children:Object(R.jsx)(Tt.a,{variant:"h6",sx:{color:function(e){return e.palette.text.disabled}},children:"Password recovery template"})})]})]})})}var Ts=i.a.memo(Es);function qs(){var e=Object(s.d)((function(e){var t,n;return Object(l.a)({},null===e||void 0===e||null===(t=e.app)||void 0===t||null===(n=t.settings)||void 0===n?void 0:n.auth)})),t=Object(ie.l)({name:"auth-settings",volatile:!0,defaultValues:Object(l.a)({},e)}),n=t.TextField,a=(t.Autocomplete,t.Checkbox),i=(t.register,t.values),r=t.formState.errors;return Object(ie.d)((function(){var t;JSON.isEmpty(r)&&Zo.a.emit("change-settings",{auth:Object(l.a)(Object(l.a)(Object(l.a)({},e),i),{},{websockets:Object(l.a)(Object(l.a)({},i.websockets),{},{send_authorization_timeout:Number.parseNumber(null===i||void 0===i||null===(t=i.websockets)||void 0===t?void 0:t.send_authorization_timeout,1e3)})})})}),[i,r,e]),Object(R.jsx)(ts.a,{children:Object(R.jsxs)(Nt.a,{className:"px-8",children:[Object(R.jsx)(_t.a,{xs:12,className:"mb-2",children:Object(R.jsx)(Tt.a,{variant:"h3",sx:{color:function(e){return e.palette.text.disabled}},children:"Authorization settings"})}),Object(R.jsx)(_t.a,{xs:12,className:"my-4",children:Object(R.jsx)(Tt.a,{variant:"h6",sx:{color:function(e){return e.palette.text.disabled}},children:"Login"})}),Object(R.jsxs)(Nt.a,{className:"px-0",children:[Object(R.jsx)(_t.a,{xs:12,children:Object(R.jsx)(a,{name:"logins_enabled",label:"New user logins allowed"})}),Object(R.jsx)(_t.a,{xs:12,children:Object(R.jsx)(a,{name:"registrations_enabled",label:"New registrations allowed"})}),Object(R.jsx)(_t.a,{xs:12,children:Object(R.jsx)(a,{name:"account_recovery_enabled",label:"Account recovery allowed"})}),Object(R.jsx)(_t.a,{xs:12,children:Object(R.jsx)(a,{name:"OAuth2_enabled",label:"OAuth2.0 authorization"})})]}),Object(R.jsx)(_t.a,{xs:12,className:"my-4",children:Object(R.jsx)(Tt.a,{variant:"h6",sx:{color:function(e){return e.palette.text.disabled}},children:"Websockets"})}),Object(R.jsxs)(Nt.a,{className:"px-0",children:[Object(R.jsx)(_t.a,{xs:12,children:Object(R.jsx)(a,{name:"websockets.enforce_authorization",label:"Enforce socketIo authorization"})}),Object(R.jsx)(_t.a,{xs:12,className:"mb-1",children:Object(R.jsx)(n,{type:"number",name:"websockets.send_authorization_timeout",label:"Send Authorization Timeout (Ms)",rules:{valueAsNumber:!0,deps:["websockets.enforce_authorization"]},disabled:!i.websockets.enforce_authorization,helperText:"The time in milliseconds server should wait for a client to send authorization request."})})]})]})})}var Ms=i.a.memo(qs),Is=["children","value","index"];function Rs(e){var t=e.children,n=e.value,a=e.index,i=Object(T.a)(e,Is);return Object(R.jsx)(Nt.a,Object(l.a)(Object(l.a)({component:"div",role:"tabpanel",hidden:n!==a,id:"settings-tabpanel-".concat(a),"aria-labelledby":"settings-tab-".concat(a),className:n===a?"flex p-0":"hidden"},i),{},{children:n===a&&Object(R.jsx)(_t.a,{xs:12,className:"p-0",children:t})}))}var Ls=Object(s.b)((function(e){return{auth:e.auth,nav:e.nav,device:e.device}}),{appendNavHistory:vs.a})((function(e){var t=Object(re.f)(),n=t.hash,i=t.pathname,r=Object(re.g)();console.log("location",location);var o=Object(ie.p)({active_tab:n?n.replace("#","").trim().toLowerCase():"general",tabs:{general:"General",legal:"Legal",reading:"Reading",social:"Social",contact:"Contact",communication:"Communication",tracking:"Tracking",mobile:"Mobile App",auth:"Authorization"}}),s=Object(u.a)(o,2),l=s[0],c=s[1],d=e.device.window_size,p="horizontal";JSON.isJSON(d)&&(p=d.width>=960?"vertical":"horizontal"),Object(a.useEffect)((function(){String.isEmpty(n)?c({active_tab:"general"}):c({active_tab:n.replace("#","").trim().toLowerCase()})}),[n]);return Object(R.jsxs)(Nt.a,{className:"px-2 pt-8",children:[Object(R.jsx)(_t.a,{xs:12,md:"vertical"===p?3:12,lg:"vertical"===p?2:12,children:Object(R.jsx)(Qo.a,{orientation:p,variant:"scrollable",indicatorColor:"primary",textColor:"primary",value:l.active_tab,onChange:function(e,t){r("".concat(i,"#").concat(t))},"aria-label":"Settings tabs",className:"border-0",children:Object.entries(l.tabs).map((function(e,t){var n=Object(u.a)(e,2),a=n[0],i=n[1];return Object(R.jsx)(Yo.a,{label:i,value:a,id:"settings-tab-"+a,"aria-controls":"settings-tabpanel-"+a},"settings-tab-"+t)}))})}),Object(R.jsx)(_t.a,{xs:12,md:"vertical"===p?9:12,lg:"vertical"===p?10:12,children:Object.entries(l.tabs).map((function(e,t){var n=Object(u.a)(e,2),a=n[0];n[1];return Object(R.jsxs)(Rs,{value:l.active_tab,index:a,children:["general"===a&&Object(R.jsx)(ys,{}),"legal"===a&&Object(R.jsx)(ks,{}),"social"===a&&Object(R.jsx)(Cs,{}),"reading"===a&&Object(R.jsx)(_s,{}),"contact"===a&&Object(R.jsx)(Os,{}),"communication"===a&&Object(R.jsx)(Ts,{}),"tracking"===a&&Object(R.jsx)(Fs,{}),"mobile"===a&&Object(R.jsx)(Ds,{}),"auth"===a&&Object(R.jsx)(Ms,{})]},"settings-tabpanel-"+t)}))})]})})),zs=Ie()(Object(s.b)((function(e){return{auth:e.auth,nav:e.nav}}),{}))((function(e){var t,n=e.context,i=e.auth,r=e.nav,o=Object(re.h)(),s=$e[n],l=lt.a.getContextRequests(null===s||void 0===s?void 0:s.endpoint),c=o.id,d=Object(ie.p)({loading:!1,load_error:!1,record:null}),p=Object(u.a)(d,2),b=p[0],f=p[1],j=Object(re.g)(),m=!!Array.isArray(r.entries)&&(r.entries.length>1&&r.entries[r.entries.length-2].uri),h=!b.loading&&(JSON.isJSON(b.record)?s.access.actions.update.restricted(i.user):s.access.actions.create.restricted(i.user)),v=Object(a.useCallback)((function(){c&&(f({loading:!0,load_error:!1}),l.getRecordById(c,{p:1}).then((function(e){f({record:e.body.data,loading:!1})})).catch((function(e){f({loading:!1,load_error:e})})))}),[c,l]);return Object(ie.c)((function(){v()})),Object(ie.d)((function(){v()}),[c,l]),Object(R.jsx)(Nt.a,{children:Object(R.jsx)(_t.a,{xs:12,children:b.loading?Object(R.jsx)(Nt.a,{justify:"center",alignItems:"center",children:Object(R.jsx)(ha.a,{variant:"rect",width:"100%",height:"100%"})}):Object(R.jsx)(Nt.a,{className:"p-0 m-0",children:b.load_error?Object(R.jsxs)(Nt.a,{children:[Object(R.jsx)(_t.a,{xs:12,children:Object(R.jsx)(Xe.a,{color:"error",variant:"h1",fullWidth:!0,children:Object(R.jsx)(Pe.a,{fontSize:"large",children:"error"})})}),Object(R.jsx)(_t.a,{xs:12,children:Object(R.jsxs)(Xe.a,{color:"error",variant:"body1",fullWidth:!0,children:["An error occured.",Object(R.jsx)("br",{}),"Status Code : ",b.load_error.code,Object(R.jsx)("br",{}),b.load_error.msg]})})]}):Object(R.jsxs)(Nt.a,{children:[h&&Object(R.jsxs)(Nt.a,{className:"min-h-screen",direction:"column",justify:"center",alignItems:"center",children:[Object(R.jsx)(_t.a,{xs:12,children:Object(R.jsx)(Xe.a,{color:"error",variant:"h1",fullWidth:!0,children:Object(R.jsx)(ro.a,{})})}),Object(R.jsx)(_t.a,{xs:12,children:Object(R.jsx)(Xe.a,{color:"grey",variant:"h3",fullWidth:!0,children:"Access Denied!"})}),Object(R.jsx)(_t.a,{xs:12,children:Object(R.jsxs)(Xe.a,{variant:"body1",fullWidth:!0,children:["Sorry! Access to this resource is prohibitted since you lack required priviledges. ",Object(R.jsx)("br",{})," ","Please contact the system administrator for further details."]})}),Object(R.jsx)(_t.a,{xs:12,children:Object(R.jsxs)(Xe.a,{color:"error",variant:"body1",fullWidth:!0,children:[Object(R.jsxs)(g.b,{to:"home".toUriWithDashboardPrefix(),children:[" ",Object(R.jsx)(Dt.a,{variant:"text",children:" Home "})," "]}),m&&Object(R.jsxs)(g.b,{to:m,children:[" ",Object(R.jsx)(Dt.a,{variant:"text",children:" Back "})," "]})]})})]}),!h&&Object(R.jsx)(Nt.a,{className:"p-0 m-0",children:Object(R.jsx)(_t.a,{className:"p-0 m-0",xs:12,children:Object(R.jsx)(Vi.a,{record:b.record?b.record._id:null,initialValues:b.record,defination:s,service:l,onSubmitSuccess:function(e){JSON.isJSON(e)&&j("/".concat(s.name,"/view/").concat(e._id).toUriWithDashboardPrefix())},form:s&&"name"in s?((null===(t=b.record)||void 0===t?void 0:t._id)||"new")+"_"+s.name.singularize().toLowerCase()+"_form":"record_form"})})})]})})})})}));function Vs(e){e.context;return Object(R.jsx)(Pn.a,{container:!0,children:Object(R.jsx)(re.a,{})})}var Ws=i.a.memo(Vs),Js=n(380),Bs=function(e){Object(_.a)(n,e);var t=Object(S.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(N.a)(n,[{key:"render",value:function(){var e=this.props,t=e.icon,n=e.title,a=e.description,i=e.color,r=e.link,o=e.linkText;return Object(R.jsx)(Nt.a,{className:"items-center justify-center my-8",children:Object(R.jsx)(_t.a,{xs:12,children:Object(R.jsxs)(Nt.a,{className:"min-h-full",justify:"center",alignItems:"center",children:[Object(R.jsx)(_t.a,{xs:12,className:"flex justify-center",children:Object(R.jsx)(Xe.a,{color:"error",style:{fontSize:"12rem"},variant:"h1",children:t})}),Object(R.jsx)(_t.a,{xs:12,className:"flex justify-center",children:Object(R.jsx)(Xe.a,{color:i,variant:"h3",className:"text-center",children:n})}),Object(R.jsx)(_t.a,{xs:12,className:"flex justify-center",children:Object(R.jsx)(Xe.a,{variant:"body1",className:"text-center",children:a})}),Object(R.jsx)(_t.a,{xs:12,className:"flex justify-center",children:Object(R.jsx)(g.b,{to:r,children:Object(R.jsx)(Dt.a,{variant:"text",children:o})})})]})})})}}]),n}(i.a.Component);Bs.defaultProps={title:"Access Denied!",description:"Sorry! Access to this resource has been denied since you lack required priviledges. \n Please contact the system administrator for further details.",icon:Object(R.jsx)(ro.a,{fontSize:"inherit"}),color:"grey",link:"home".toUriWithDashboardPrefix(),linkText:"Home"};var Us=Bs,Gs=function(e){Object(_.a)(n,e);var t=Object(S.a)(n);function n(e){var a;return Object(k.a)(this,n),(a=t.call(this,e)).defination=null,a.service=null,a.state={query:{}},a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.auth,n=e.location,a=e.appendNavHistory;a&&n&&a({name:this.defination.name,uri:n.pathname,title:"function"===typeof this.defination.label?this.defination.label(t.user):this.defination.label,view:null,state:this.state,color:this.defination.color?this.defination.color:A.b.hex.primary,scrollTop:0})}},{key:"render",value:function(){var e=this.props,t=e.auth,n=e.context,a=$e[n],i=lt.a.getContextRequests(null===a||void 0===a?void 0:a.endpoint),r=(window.location.search.match(new RegExp("([^?=&]+)(=([^&]*))?","g"))||[]).reduce((function(e,t,n,a){var i=decodeURI(t).split("="),r=Object(u.a)(i,2),o=r[0],s=r[1];return e[o]=s,e}),{});return Object(R.jsx)(Nt.a,{children:Object(R.jsxs)(_t.a,{xs:12,children:[a.access.restricted(t.user)&&Object(R.jsx)(Us,{}),!a.access.restricted(t.user)&&Object(R.jsx)(Js.a,{defination:a,service:i,query:Object(l.a)(Object(l.a)({},this.state.query),r)})]})})}}]),n}(i.a.Component),Hs=Ie()(Object(s.b)((function(e){return{auth:e.auth}}),{appendNavHistory:vs.a}))(Gs),Ks=n(9),Ys=n(2050),Qs=(n(103),n(278));var Zs=Object(s.b)((function(e){return{auth:e.auth}}),{})((function(e){var t=Object.assign({},e),n=i.a.useState(!0),a=Object(u.a)(n,2),r=(a[0],a[1],t.record),o=t.defination,s=t.auth,l={};return"function"===typeof o.views.single.cardview.resolveData?(l=o.views.single.cardview.resolveData(r,s.user,!0),JSON.isJSON(l)||(l={}),l.resolver="defination"):(l=Le.c.resolveReferenceColumnsDisplays([r],o.scope.columns,s.user)[0],JSON.isJSON(l)||(l={}),l.resolver="helper"),o&&r?Object(R.jsxs)(ts.a,{elevation:0,children:[Object(R.jsx)(as.a,{avatar:function(){var e=null;return"defination"===l.resolver&&(e=l.avatar),e}(),title:function(){var e="";if("defination"===l.resolver)e=l.title;else if("helper"===l.resolver)for(var t=o.scope.identity.primary,n=0;n<t.length;n++){var a;e+=(null===(a=o.scope.columns[t[n]])||void 0===a?void 0:a.reference)&&l[t[n]]?l[t[n]].resolve:l[t[n]]}return e}(),subheader:function(){var e="";if("defination"===l.resolver)e=l.subtitle;else if("helper"===l.resolver)for(var t=o.scope.identity.secondary,n=0;n<t.length;n++){var a;e+=(null===(a=o.scope.columns[t[n]])||void 0===a?void 0:a.reference)&&l[t[n]]?l[t[n]].resolve:l[t[n]]}return e}()}),Object(R.jsx)(ns.a,{className:"p-0 m-0 overflow-auto",children:Object(R.jsx)(Qs.b,{src:r,humanize:!0})})]}):Object(R.jsx)(Nt.a,{})})),Xs=["children","value","index"];function $s(e){var t=e.children,n=e.value,a=e.index,i=Object(T.a)(e,Xs);return Object(R.jsx)(Xe.a,Object(l.a)(Object(l.a)({component:"div",role:"tabpanel",hidden:n!==a,id:"scrollable-force-tabpanel-".concat(a),"aria-labelledby":"scrollable-force-tab-".concat(a)},i),{},{children:Object(R.jsx)(le.a,{className:"p-0",children:t})}))}var el=function(e){Object(_.a)(n,e);var t=Object(S.a)(n);function n(e){var a;return Object(k.a)(this,n),(a=t.call(this,e)).state={view:"cardview",views:{},viewMenuAnchorEl:null,expanded:!0},a.handleViewMenuItemClick=function(e){return function(t){a.setState({view:e,viewMenuAnchorEl:null})}},a.handleShowViewsMenu=function(e){a.setState({viewMenuAnchorEl:e.currentTarget})},a.handleCloseViewsMenu=function(){a.setState({viewMenuAnchorEl:null})},a.prepareForView(),a.handleExpandClick=a.handleExpandClick.bind(Object(Je.a)(a)),a.handleViewMenuItemClick=a.handleViewMenuItemClick.bind(Object(Je.a)(a)),a.handleRelatedTabValueChange=a.handleRelatedTabValueChange.bind(Object(Je.a)(a)),a.handleCloseViewsMenu=a.handleCloseViewsMenu.bind(Object(Je.a)(a)),a}return Object(N.a)(n,[{key:"componentDidMount",value:function(){}},{key:"handleRelatedTabValueChange",value:function(e,t){this.setState({relatedTab:t})}},{key:"handleExpandClick",value:function(){this.setState((function(e){return{expanded:!e.expanded}}))}},{key:"prepareForView",value:function(){var e=this.props,t=e.defination,n=e.auth,a={cardview:"Card View",googlemapview:"Google Map View",vectormapview:"Vector Map View",calendarview:"Calendar View"},i={},r="cardview";t.views.single.default in a&&(r=t.views.single.default);for(var o=0,s=Object.entries(a);o<s.length;o++){var l=Object(u.a)(s[o],2),c=l[0],d=l[1];c in t.views.single&&(i[c]=d)}var p=null;if(JSON.isJSON(t.scope.dependants))for(var b=0,f=Object.entries(t.scope.dependants);b<f.length;b++){var j=Object(u.a)(f[b],2),m=j[0];j[1];if($e[m].name!==t.name){if(String.isString(p))break;$e[m].access.restricted(n.user)||(p=$e[m].name)}}this.state.views=i,this.state.view=r,this.state.relatedTab=p}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,a=t.auth,i=t.defination,r=t.record,o=t.service;return Object(R.jsxs)(Nt.a,{className:"".concat(n||""," relative p-4"),children:[Object(R.jsx)(Nt.a,{children:Object(R.jsxs)(_t.a,{xs:12,children:[Object(R.jsx)(mt.a,{className:"absolute right-4 bottom-4",onClick:this.handleShowViewsMenu,"aria-label":"view-select",children:this.state.views[this.state.view]}),Object(R.jsx)(at.a,{id:"lock-menu",anchorEl:this.state.viewMenuAnchorEl,keepMounted:!0,open:Boolean(this.state.viewMenuAnchorEl),onClose:this.handleCloseViewsMenu,children:Object.entries(this.state.views).map((function(t,n){var a=Object(u.a)(t,2),i=a[0],r=a[1];return Object(R.jsx)(it.a,{selected:i===e.state.view,onClick:e.handleViewMenuItemClick(i),children:r},i)}))})]})}),Object(R.jsx)(Nt.a,{children:"cardview"===this.state.view&&Object(R.jsx)(Zs,{defination:i,service:o,record:r})}),Object(R.jsxs)(Nt.a,{className:"p-0",children:[Object(R.jsx)(_t.a,{xs:12,children:Object(R.jsxs)(Nt.a,{children:[Object(R.jsx)(_t.a,{xs:2,md:1,children:Object(R.jsx)(je.a,{className:Object(Ks.default)("transform rotate-0",Object(ue.a)({},"rotate-180",this.state.expanded)),onClick:this.handleExpandClick,"aria-expanded":this.state.expanded,"aria-label":"show more",children:Object(R.jsx)(Lr.a,{})})}),Object(R.jsx)(_t.a,{xs:10,md:11,children:Object(R.jsxs)(Xe.a,{color:this.state.expanded?"text.secondary":"text.disabled",variant:"body2",children:[" ","Related to this"," ",i.label.singularize()," "]})})]})}),Object(R.jsx)(_t.a,{xs:12,children:Object(R.jsxs)(Ys.a,{in:this.state.expanded,timeout:"auto",children:[JSON.isJSON(i.scope.dependants)?Object(R.jsx)(Be.a,{position:"static",color:"transparent",elevation:0,children:Object(R.jsx)(Qo.a,{value:this.state.relatedTab,onChange:this.handleRelatedTabValueChange,indicatorColor:"primary",textColor:"primary",variant:"fullWidth","aria-label":"related data tabs",children:Object.entries(i.scope.dependants).map((function(e,t){var n,i=Object(u.a)(e,2),r=i[0];i[1];return!$e[r].access.restricted(a.user)&&Object(R.jsx)(Yo.a,Object(l.a)({value:r,label:$e[r].label,icon:$e[r].icon},{id:"scrollable-force-tab-".concat(n=r),"aria-controls":"scrollable-force-tabpanel-".concat(n)}),t+"_tab")}))})}):Object(R.jsxs)(Xe.a,{color:"grey",paragraph:!0,children:[" ","No Related data"," "]}),JSON.isJSON(i.scope.dependants)&&Object.entries(i.scope.dependants).map((function(t,n){var i=Object(u.a)(t,2),o=i[0],s=i[1];return!$e[o].access.restricted(a.user)&&Object(R.jsx)($s,{className:"p-0",value:e.state.relatedTab,index:o,children:Object(R.jsx)(Js.a,{defination:$e[o],service:On[o],query:Object(l.a)(Object(l.a)({},s.query),{},Object(ue.a)({},s.column,r._id)),show_actions:!1,showAddBtn:!1})},"tab-"+n)}))]})})]})]})}}]),n}(i.a.Component);el.defaultProps={};var tl=Ie()(Object(s.b)((function(e){return{auth:e.auth}}),{}))(el),nl=Ie()(Object(s.b)((function(e){return{auth:e.auth,nav:e.nav}}),{}))((function(e){var t=e.context,n=e.auth,i=e.nav,r=Object(re.h)(),o=$e[t],s=lt.a.getContextRequests(null===o||void 0===o?void 0:o.endpoint),l=r.id,c=Object(ie.p)({loading:!0,load_error:!1,record:null}),d=Object(u.a)(c,2),p=d[0],b=d[1],f=!!Array.isArray(i.entries)&&(i.entries.length>1&&i.entries[i.entries.length-2].uri),j=!p.loading&&(!JSON.isJSON(p.record)||o.access.actions.view.restricted(n.user)),m=Object(a.useCallback)((function(){s.getRecordById(l,{p:1}).then((function(e){b({record:e.body.data,loading:!1})})).catch((function(e){b({loading:!1,load_error:e})}))}),[l,s]);return Object(ie.c)((function(){m()})),Object(ie.d)((function(){m()}),[l,s]),Object(R.jsx)(Nt.a,{children:Object(R.jsx)(_t.a,{xs:12,children:p.loading?Object(R.jsx)(Nt.a,{justify:"center",alignItems:"center",children:Object(R.jsx)(_t.a,{xs:1,children:Object(R.jsx)(I.a,{size:24,thickness:4,color:"secondary",disableShrink:!0})})}):Object(R.jsx)(Nt.a,{className:"p-0 m-0",children:p.load_error?Object(R.jsxs)(Nt.a,{children:[Object(R.jsx)(_t.a,{xs:12,children:Object(R.jsx)(Xe.a,{color:"error",variant:"h1",fullWidth:!0,children:Object(R.jsx)(Pe.a,{fontSize:"large",children:"error"})})}),Object(R.jsx)(_t.a,{xs:12,children:Object(R.jsxs)(Xe.a,{color:"error",variant:"body1",fullWidth:!0,children:["An error occured.",Object(R.jsx)("br",{}),"Status Code :"," ",p.load_error.code,Object(R.jsx)("br",{}),p.load_error.msg]})})]}):Object(R.jsxs)(Nt.a,{children:[j&&Object(R.jsxs)(Nt.a,{direction:"column",justify:"center",alignItems:"center",children:[Object(R.jsx)(_t.a,{xs:12,children:Object(R.jsx)(Xe.a,{color:"error",variant:"h1",fullWidth:!0,children:Object(R.jsx)(ro.a,{})})}),Object(R.jsx)(_t.a,{xs:12,children:Object(R.jsx)(Xe.a,{color:"grey",variant:"h3",fullWidth:!0,children:"Access Denied!"})}),Object(R.jsx)(_t.a,{xs:12,children:Object(R.jsxs)(Xe.a,{variant:"body1",fullWidth:!0,children:["Sorry! Access to this resource is prohibitted since you lack required priviledges. ",Object(R.jsx)("br",{})," ","Please contact the system administrator for further details."]})}),Object(R.jsx)(_t.a,{xs:12,children:Object(R.jsxs)(Xe.a,{color:"error",variant:"body1",fullWidth:!0,children:[Object(R.jsxs)(g.b,{to:"home".toUriWithDashboardPrefix(),children:[" ",Object(R.jsxs)(Dt.a,{variant:"text",children:[" ","Home"," "]})," "]}),f&&Object(R.jsxs)(g.b,{to:f,children:[" ",Object(R.jsxs)(Dt.a,{variant:"text",children:[" ","Back"," "]})," "]})]})})]}),!j&&Object(R.jsx)(Nt.a,{className:"p-0 m-0",children:Object(R.jsx)(_t.a,{className:"p-0 m-0",xs:12,children:p.record&&Object(R.jsx)(tl,{defination:o,service:s,record:p.record})})})]})})})})})),al=["classes","className","outlined","squared","children"],il=function(e){var t,n=e.classes,a=e.className,i=e.outlined,r=e.squared,o=e.children,s=Object(T.a)(e,al),c=Te()((t={},Object(ue.a)(t,null===n||void 0===n?void 0:n.root,!0),Object(ue.a)(t,null===n||void 0===n?void 0:n.squared,r),Object(ue.a)(t,null===n||void 0===n?void 0:n.outlined,i),t),a);return Object(R.jsx)(ka.a,Object(l.a)(Object(l.a)({},s),{},{className:c,children:o}))};il.defaultProps={squared:!1,outlined:!0,elevation:0};var rl=il,ol=function(e){var t,n=e.classes,a=e.className,i=e.outlined,r=e.squared,o=e.fullHeight,s=e.children,l=Te()(null===n||void 0===n?void 0:n.root,(t={},Object(ue.a)(t,null===n||void 0===n?void 0:n.fullHeight,o),Object(ue.a)(t,a,a),t));return Object(R.jsx)(rl,{className:l,elevation:0,outlined:i,squared:r,children:s})},sl=function(e){var t,n=e.classes,a=e.className,i=e.children,r=e.noPadding,o=Te()((t={},Object(ue.a)(t,null===n||void 0===n?void 0:n.root,!0),Object(ue.a)(t,null===n||void 0===n?void 0:n.noPadding,r),t),a);return Object(R.jsx)("div",{className:o,children:i})},ll=function(e){var t,n=e.classes,a=e.className,i=e.noDivider,r=e.noPadding,o=e.children,s=Te()((t={},Object(ue.a)(t,null===n||void 0===n?void 0:n.root,!0),Object(ue.a)(t,null===n||void 0===n?void 0:n.noDivider,i),Object(ue.a)(t,null===n||void 0===n?void 0:n.noPadding,r),t),a);return Object(R.jsx)(Nt.a,{className:s,children:o})},cl=function(e){var t=e.className,n=e.icon,a=e.title,i=e.subtitle,r=(e.description,e.color),o=e.icon_color,s=e.title_color,l=e.subtitle_color;return Object(R.jsxs)(Nt.a,{className:t,style:r?{color:r}:{},children:[n&&Object(R.jsxs)(Tt.a,{variant:"h3",style:o?{color:o}:{},children:[" ",n," "]}),a&&Object(R.jsxs)(Tt.a,{variant:"h5",style:s?{color:s}:{},children:[" ",a," "]}),i&&Object(R.jsx)(Tt.a,{variant:"subtitle2",style:l?{color:l}:{},children:i})]})};cl.defaultProps={color:A.b.hex.default,title_color:A.b.hex.default,subtitle_color:A.b.hex.grey,icon_color:A.b.hex.default,description_color:A.b.hex.default};var ul=cl,dl=function(e){Object(_.a)(n,e);var t=Object(S.a)(n);function n(e){var a,i;Object(k.a)(this,n),(i=t.call(this,e)).state={excludedFields:[],initialValues:{}};var r=e.auth,o=r.user;return i.state.user_id=null===(a=r.user)||void 0===a?void 0:a._id,i.state.excludedFields=["email_address","password","login_attempts","last_login_attempt","role","provider","provider_account_id","avatar","status","account_verified","account_verifacation_code","account_verifacation_mode","password_reset_code","password_reset_code_expiration","preferences","documents"],i.state.formValues=o,i.handleProfileFormSubmit=i.handleProfileFormSubmit.bind(Object(Je.a)(i)),i}return Object(N.a)(n,[{key:"componentDidMount",value:function(){var e=this;lt.a.profile({}).then((function(t){if(!t.err){for(var n=t.body.data,a=0;a<e.state.excludedFields.length;a++)delete n[e.state.excludedFields[a]];e.setState((function(e){return{formValues:n}}))}})).catch((function(e){}))}},{key:"handleProfileFormSubmit",value:function(e,t){var n=this.props.updateCurrentUser;return lt.a.update_profile(e).then((function(e){return n(e.body.data),!0})).catch((function(e){throw e}))}},{key:"render",value:function(){return Object(R.jsxs)(ol,{children:[Object(R.jsx)(ll,{children:Object(R.jsx)(ul,{subtitle:"The information can be edited",title:"Profile"})}),Object(R.jsx)(sl,{children:Object.keys(this.state.formValues).length>0?Object(R.jsx)(Vi.a,{defination:is.a,onSubmit:this.handleProfileFormSubmit,record:this.state.user_id,initialValues:this.state.formValues,form:"user_profile_form",fields:this.state.excludedFields,exclude:!0,submit_btn_text:"Update Profile",onSubmitSuccessMessage:"Profile updated",show_discard:!1,show_title:!1}):Object(R.jsxs)(Nt.a,{children:[Object(R.jsx)(mn.a,{color:"secondary"}),Object(R.jsx)(Xe.a,{children:"Loading Profile "})]})})]})}}]),n}(a.Component),pl=Ie()(Object(s.b)((function(e){return{auth:e.auth}}),{updateCurrentUser:Re.f}))(dl),bl=n(2030),fl=function(e){var t,n=e.classes,a=e.className,i=e.noDivider,r=e.children,o=Te()((t={},Object(ue.a)(t,null===n||void 0===n?void 0:n.root,!0),Object(ue.a)(t,null===n||void 0===n?void 0:n.noDivider,i),t),a);return Object(R.jsx)("div",{className:o,children:r})},jl=function(e){Object(_.a)(n,e);var t=Object(S.a)(n);function n(e){var a,i,r;Object(k.a)(this,n),(r=t.call(this,e)).state={avatar:!1,includedFields:["avatar","documents"],formValues:null};var o,s,l=e.auth;(null===(a=l.user)||void 0===a?void 0:a.avatar)&&(r.state.formValues={avatar:null===(o=l.user)||void 0===o?void 0:o.avatar,documents:null===(s=l.user)||void 0===s?void 0:s.douments});return r.state.user_id=null===(i=l.user)||void 0===i?void 0:i._id,r.handleProfileFormSubmit=r.handleProfileFormSubmit.bind(Object(Je.a)(r)),r}return Object(N.a)(n,[{key:"componentDidMount",value:function(){var e=this;lt.a.profile({}).then((function(t){if(!t.err){var n=t.body.data;n.avatar&&e.setState((function(e){return{formValues:{avatar:n.avatar,documents:n.documents}}}))}})).catch((function(e){}))}},{key:"handleProfileFormSubmit",value:function(e,t){var n=this.props.updateCurrentUser;return lt.a.update_profile(e).then((function(e){return n(e.body.data),!0})).catch((function(e){throw e}))}},{key:"render",value:function(){var e=this.props,t=e.className;e.auth;return Object(R.jsxs)(ol,{className:t,children:[Object(R.jsxs)(sl,{children:[Object(R.jsxs)("div",{className:"mt-4",children:[Object(R.jsx)(Tt.a,{variant:"body1",children:"Profile Completeness: 70%"}),Object(R.jsx)(bl.a,{value:70,variant:"determinate"})]}),Object(R.jsx)(Nt.a,{children:Object(R.jsx)(_t.a,{xs:12,children:Object(R.jsx)(Vi.a,{defination:is.a,onSubmit:this.handleProfileFormSubmit,record:this.state.user_id,initialValues:this.state.formValues,form:"user_avatar_form",fields:this.state.includedFields,submit_btn_text:"Update Profile",show_discard:!1,show_title:!1,onSubmitSuccessMessage:"Profile changes saved"})})})]}),Object(R.jsx)(fl,{})]})}}]),n}(a.Component),ml=Ie()(Object(s.b)((function(e){return{auth:e.auth}}),{updateCurrentUser:Re.f}))(jl),hl=n(790),vl=function(e){Object(_.a)(n,e);var t=Object(S.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(N.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.location,n=e.appendNavHistory;n&&t&&n({name:"account",uri:t.pathname,title:"My Account",view:null,color:A.b.hex.primary,scrollTop:0})}},{key:"render",value:function(){return Object(R.jsxs)(Nt.a,{children:[Object(R.jsx)(Nt.a,{children:Object(R.jsx)(_t.a,{xs:12,children:Object(R.jsx)(hl.a,{})})}),Object(R.jsx)(Nt.a,{children:Object(R.jsx)(_t.a,{xs:12,children:Object(R.jsx)(ml,{})})}),Object(R.jsx)(Nt.a,{children:Object(R.jsx)(_t.a,{xs:12,children:Object(R.jsx)(pl,{})})})]})}}]),n}(a.Component),gl=Ie()(Object(s.b)((function(e){return{auth:e.auth}}),{appendNavHistory:vs.a}))(vl),Ol=n(784),xl=n(631),yl=n.n(xl),wl=n(1097),kl=n.n(wl),Nl=n(1096),_l=n.n(Nl),Sl=n(632),Cl=n.n(Sl),Al=n(346),Fl=n.n(Al),Pl=n(515),Dl=n.n(Pl),El="https://rlp-proxy.herokuapp.com/v2?url=";var Tl=function(e){var t=e.url,n=e.className,a=void 0===n?"":n,i=e.width,r=void 0===i?"auto":i,o=e.height,s=void 0===o?"auto":o,c=e.descriptionLength,d=e.borderRadius,p=(e.imageHeight,e.minimal,e.textAlign),b=e.margin,f=e.fallback,j=void 0===f?null:f,m=e.backgroundColor,h=void 0===m?"rgba(100, 100, 100,0.3)":m,v=(e.primaryTextColor,e.secondaryTextColor,e.borderColor),g=void 0===v?"#ccc":v,O=e.showLoader,x=void 0===O||O,y=e.customLoader,w=void 0===y?null:y,k=e.openInNewTab,N=void 0===k||k,_=(e.fetcher,e.fallbackImageSrc),S=void 0===_?"https://i.imgur.com/UeDNBNQ.jpeg":_,C=e.explicitImageSrc,A=void 0===C?null:C,F=Object(ie.p)({metadata:null,loading:!0}),P=Object(u.a)(F,2),D=P[0],E=P[1];if(Object(ie.d)((function(){E({loading:!0}),fetch(El+t).then((function(e){return e.json()})).then((function(e){E({loading:!1,metadata:e.metadata})})).catch((function(e){console.error(e),console.error("No metadata could be found for the given URL."),E({loading:!1,metadata:null})}))}),[t]),Object(ie.c)((function(){E({loading:!0}),fetch(El+t).then((function(e){return e.json()})).then((function(e){E({loading:!1,metadata:e.metadata})})).catch((function(e){console.error(e),console.error("No metadata could be found for the given URL."),E({loading:!1,metadata:null})}))}),[t]),D.loading&&x)return w?Object(R.jsx)(R.Fragment,{children:w}):Object(R.jsx)(ha.a,{width:r,height:s});if(!D.metadata)return Object(R.jsx)(R.Fragment,{children:j});var T=Object(l.a)({},D.metadata),q=T.image,M=T.description,I=T.title,L=T.siteName,z=T.hostname;return Object(R.jsx)(le.a,{onClick:function(){var e=N?"_blank":"_self";window.open(t,e)},className:"w-full max-w-full overflow-hidden bg-no-repeat bg-cover bg-center text-left flex flex-col  justify-end rounded cursor-pointer  ".concat(a," "),sx:{backgroundImage:"url(".concat(A||q||S,"), url(").concat(S,")"),width:r,height:s,borderRadius:d,textAlign:p,margin:b,backgroundColor:h,borderColor:g},children:Object(R.jsxs)(le.a,{component:"div",className:"p-1 overflow-hidden w-full flex flex-col blur-bg-sm transition-all",sx:{},children:[Object(R.jsx)(Tt.a,{className:"truncate",variant:"body1",children:I||t}),M&&Object(R.jsx)(Tt.a,{"data-testid":"desc",className:"sm:hidden md:inline-block text-xs overflow-hidden truncate",variant:"body2",children:c&&M.length>c?M.slice(0,c)+"...":M}),Object(R.jsxs)(le.a,{sx:{color:function(e){return e.palette.blue.main},fontSize:function(e){return e.spacing(1.3)}},children:[L&&Object(R.jsxs)("span",{children:[L," \u2022 "]}),Object(R.jsx)("span",{children:z})]})]})})},ql=i.a.memo(Tl,(function(e,t){return(null===e||void 0===e?void 0:e.url)!==(null===t||void 0===t?void 0:t.url)})),Ml=n(773),Il=n.n(Ml),Rl=["conversation","message","className","selected","focused","onContextMenu","onClick","imageWidth","showDateHeader","showUnreadHeader","prevMessage","nextMessage","imageHeight","mediaSize","headerHeight","linkHeight","showDetails","index","style"],Ll=Object(qn.a)((function(e){return{incoming:{borderRadius:e.spacing(2),backgroundColor:e.palette.background.paper,color:e.palette.text.primary,borderTopLeftRadius:0},incomingStart:{borderTopLeftRadius:e.spacing(2),borderBottomLeftRadius:0,borderTopRightRadius:e.spacing(2),borderBottomRightRadius:e.spacing(2)},incomingMid:{borderTopLeftRadius:0,borderBottomLeftRadius:0,borderTopRightRadius:e.spacing(2),borderBottomRightRadius:e.spacing(2)},incomingEnd:{borderTopLeftRadius:0,borderBottomLeftRadius:e.spacing(2),borderTopRightRadius:e.spacing(2),borderBottomRightRadius:e.spacing(2)},outgoing:{borderRadius:e.spacing(2),backgroundColor:e.palette.teal.lighten_3,color:e.palette.text.primary,borderBottomRightRadius:0},outgoingStart:Object(ue.a)({borderTopRightRadius:e.spacing(2),borderBottomLeftRadius:0,borderTopLeftRadius:e.spacing(2)},"borderBottomLeftRadius",e.spacing(2)),outgoingMid:{borderTopRightRadius:0,borderBottomRightRadius:0,borderTopLeftRadius:e.spacing(2),borderBottomLeftRadius:e.spacing(2)},outgoingEnd:{borderTopRightRadius:0,borderBottomRightRadius:e.spacing(2),borderTopLeftRadius:e.spacing(2),borderBottomLeftRadius:e.spacing(2)}}})),zl=i.a.forwardRef((function(e,t){var n,i,r,o,c,d,p,b,f,j,m,h,v,g,O,x,y,w=e.conversation,k=e.message,N=e.className,_=(e.selected,e.focused,e.onContextMenu),S=e.onClick,C=(e.imageWidth,e.showDateHeader),A=void 0!==C&&C,F=e.showUnreadHeader,P=void 0!==F&&F,D=e.prevMessage,q=e.nextMessage,M=(e.imageHeight,e.mediaSize,e.headerHeight),I=void 0===M?48:M,L=e.linkHeight,z=void 0===L?100:L,V=e.showDetails,W=e.index,J=e.style,B=Object(T.a)(e,Rl),U=Object(oe.a)(),G=Object(s.d)((function(e){return e.auth})),H=Object(E.c)(),K=H.Api,Y=H.SocketIO,Q=Object(ie.p)({loading:!1,selected:-1,showDetails:Boolean(V)}),Z=Object(u.a)(Q,3),X=Z[0],$=(Z[1],Z[2],Ll()),ee=(Object(a.useRef)(J),Object(ie.b)((function(){var e,t,n;return"deleted-for-sender"===(null===k||void 0===k?void 0:k.state)&&((null===k||void 0===k?void 0:k.sender)===(null===(e=G.user)||void 0===e?void 0:e._id)||(null===k||void 0===k||null===(t=k.sender)||void 0===t?void 0:t._id)===(null===(n=G.user)||void 0===n?void 0:n._id))||"deleted-for-all"===k.state}),[k])),te=Object(ie.b)((function(){var e,t,n;return(null===k||void 0===k||null===(e=k.sender)||void 0===e?void 0:e._id)===(null===(t=G.user)||void 0===t?void 0:t._id)||(null===k||void 0===k?void 0:k.sender)===(null===(n=G.user)||void 0===n?void 0:n._id)}),[k,G]),ne=Object(ie.b)((function(){var e,t,n,a,i,r,o,s,l,c,u=(null===(e=k.sender)||void 0===e?void 0:e._id)===(null===(t=G.user)||void 0===t?void 0:t._id)||k.sender===(null===(n=G.user)||void 0===n?void 0:n._id),d=(null===D||void 0===D?void 0:D.sender)&&((null===D||void 0===D||null===(a=D.sender)||void 0===a?void 0:a._id)===(null===(i=G.user)||void 0===i?void 0:i._id)||(null===D||void 0===D?void 0:D.sender)===(null===(r=G.user)||void 0===r?void 0:r._id)),p=(null===q||void 0===q?void 0:q.sender)&&((null===q||void 0===q||null===(o=q.sender)||void 0===o?void 0:o._id)===(null===(s=G.user)||void 0===s?void 0:s._id)||(null===q||void 0===q?void 0:q.sender)===(null===(l=G.user)||void 0===l?void 0:l._id));return Te()((c={},Object(ue.a)(c,$.outgoing,u),Object(ue.a)(c,$.outgoingStart,u&&p),Object(ue.a)(c,$.outgoingMid,u&&p&&d),Object(ue.a)(c,$.outgoingEnd,u&&!p&&d),Object(ue.a)(c,$.incoming,!u),Object(ue.a)(c,$.incomingStart,!u&&!p),Object(ue.a)(c,$.incomingMid,!u&&!p&&!d),Object(ue.a)(c,$.incomingEnd,!u&&(p||!q)&&!d),c))}),[D,q,G]),ae=Object(ie.b)((function(){return!String.isEmpty(null===k||void 0===k?void 0:k.content)&&String.containsUrl(null===k||void 0===k?void 0:k.content)}),[null===k||void 0===k?void 0:k.content]),re=Object(a.useCallback)((function(e){return function(t){ee||Function.isFunction(S)&&S(t,e,k)}}),[S,k]),se=Object(a.useCallback)((function(e){}),[_,ee]),ce=Object(a.useCallback)((function(e){te||(e?"sent"!==k.state&&"received"!==k.state&&"partially-received"!==k.state||Y.emit("mark-message-as-read",{message:k._id}):"sent"===k.state&&Y.emit("mark-message-as-received",{message:k._id}))}),[te,k]),de=Object(ie.b)((function(){return k.content}),[k.content]),pe=Object(ie.e)(t),be=Object(a.useRef)(null),fe=Object(ie.q)(be);return Object(ie.d)((function(){ce(fe)}),[fe]),Object(ie.c)((function(){ce(fe)})),Object(R.jsxs)(le.a,Object(l.a)(Object(l.a)({onClick:re(W),onContextMenu:se},B),{},{className:"overflow-hidden bg-transparent px-0  ",style:J,ref:pe,children:[P&&Array.isArray(k.reads)&&-1===k.reads.indexOf(null===(n=G.user)||void 0===n?void 0:n._id)&&Object(R.jsxs)(le.a,{className:"flex flex-row items-center p-0 w-full",sx:{height:I},children:[Object(R.jsx)(le.a,{component:"span",sx:{},className:"flex-1 mx-4"}),Object(R.jsx)(Tt.a,{variant:"body2",sx:{color:function(e){return e.palette.text.disabled},padding:function(e){return e.spacing()},backgroundColor:function(e){return e.palette.background.default}},children:"Unread Message"}),Object(R.jsx)(le.a,{component:"span",sx:{},className:"flex-1 mx-4"})]}),A&&(!!k.timestamp||!!k.created_on)&&Object(R.jsx)(le.a,{className:"flex flex-row items-center justify-center p-0 w-full",sx:{height:I},children:Object(R.jsx)(le.a,{className:"px-2 rounded-md h-3/6 flex flex-row items-center justify-center",sx:{color:function(e){return e.palette.text.disabled},backgroundColor:function(e){return e.palette.background.default}},children:Object(R.jsx)(Tt.a,{variant:"body2",children:"".concat(Date.prose(k.timestamp||k.created_on,!1))})})}),Object(R.jsx)(le.a,{className:"flex cursor-pointer p-0 px-2 w-full ".concat(te?"flex-row-reverse":"flex-row"),sx:{},children:Object(R.jsxs)(le.a,{className:"flex flex-col break-words px-4 py-1 mb-1 ".concat(ne," ").concat(N||""," "),sx:{maxWidth:"60%",height:"100% !important"},children:[!ee&&Object(R.jsx)("div",{className:"individual"!==w.type?"flex flex-row w-full items-center":"flex flex-row-reverse w-full items-center",children:"individual"!==w.type&&JSON.isJSON(k.sender)&&Object(R.jsx)(Tt.a,{variant:"body1",className:"flex-grow text-gray-500 font-bold",children:k.sender.first_name+" "+k.sender.last_name})}),!ee&&["audio","file","video","image"].includes(k.type)&&Array.isArray(k.attachments)&&Object(R.jsx)("div",{className:"flex flex-row flex-1 flex-wrap ".concat("image"===k.type&&k.attachments.length>2?"grid-cols-2 grid-rows-2":""),children:k.attachments.map((function(e,t){return t<=3&&Object(R.jsxs)("div",{className:"mx-auto rounded",children:["image"===k.type&&Object(R.jsx)(xe.a,{className:"w-48 rounded",src:K.getAttachmentFileUrl(e),alt:null===e||void 0===e?void 0:e.name,style:{height:"auto",borderSize:5,borderColor:"transparent"}}),"audio"===k.type&&Object(R.jsxs)(Ae.a,{onClick:function(t){t.preventDefault(),window.open(K.getAttachmentFileUrl(e),"_blank").focus()},children:[Object(R.jsx)(gr.a,{children:Object(R.jsx)(Ol.a,{className:"bg-black bg-opacity-10",children:Object(R.jsx)(_l.a,{className:"text-2xl"})})}),Object(R.jsx)(De.a,{primary:"Audio",secondary:(null===e||void 0===e?void 0:e.name)||"Attachment"})]}),"video"===k.type&&Object(R.jsxs)(Ae.a,{onClick:function(t){t.preventDefault(),window.open(K.getAttachmentFileUrl(e),"_blank").focus()},children:[Object(R.jsx)(gr.a,{children:Object(R.jsx)(Ol.a,{className:"bg-black bg-opacity-10",children:Object(R.jsx)(kl.a,{className:"text-2xl"})})}),Object(R.jsx)(De.a,{primary:"Video",secondary:(null===e||void 0===e?void 0:e.name)||"Attachment"})]}),"file"===k.type&&Object(R.jsxs)(Ae.a,{onClick:function(t){t.preventDefault(),window.open(K.getAttachmentFileUrl(e),"_blank").focus()},children:[Object(R.jsx)(gr.a,{children:Object(R.jsx)(Ol.a,{className:"bg-black bg-opacity-10",children:Object(R.jsx)(yl.a,{className:"text-2xl"})})}),Object(R.jsx)(De.a,{primary:"File",secondary:(null===e||void 0===e?void 0:e.name)||"Attachment"})]})]},"attachment-"+t)}))}),ee&&Object(R.jsxs)("div",{className:"flex flex-row items-center w-full",style:{color:U.palette.divider},children:[Object(R.jsx)(Tt.a,{variant:"body1",color:"inherit",className:"flex-grow",children:"Message deleted"}),Object(R.jsx)(Cl.a,{className:"mx-2",fontSize:"small"})]}),!ee&&Object(R.jsxs)(Oe.a,{className:"flex flex-col",ref:be,children:[ae&&Object(R.jsx)(ql,{width:"100%",height:z,className:"p-0",imageHeight:10,descriptionLength:100,url:String.getContainedUrl(k.content)[0],openInNewTab:!0}),Object(R.jsxs)(Oe.a,{direction:"row",spacing:2,className:"p-0 max-w-full ",children:[Object(R.jsx)(Oe.a,{direction:"column",className:"m-0 p-0 flex-1 flex flex-col  ".concat(ae?"pt-1":""),children:Object(R.jsx)(Tt.a,{variant:"body1",color:"textPrimary",component:"div",className:"flex-1 leading-normal",children:Object(R.jsx)(Il.a,{properties:{href:Il.a.MATCH,key:"LINKIFY_KEY_#",className:"text-blue-500"},children:de})})}),!X.showDetails&&Object(R.jsxs)(Oe.a,{className:"m-0 p-0 pb-1 flex flex-col self-end",children:["pending"===k.state&&(k.sender._id===(null===(i=G.user)||void 0===i?void 0:i._id)||k.sender===(null===(r=G.user)||void 0===r?void 0:r._id))&&Object(R.jsx)(Dl.a,{className:"ml-2 text-xs",fontSize:"small"}),"sent"===k.state&&(k.sender._id===(null===(o=G.user)||void 0===o?void 0:o._id)||k.sender===(null===(c=G.user)||void 0===c?void 0:c._id))&&Object(R.jsx)(Ha.a,{className:"ml-2 text-xs ",fontSize:"small"}),("partially-received"===k.state||"received"===k.state)&&(k.sender._id===(null===(d=G.user)||void 0===d?void 0:d._id)||k.sender===(null===(p=G.user)||void 0===p?void 0:p._id))&&Object(R.jsx)(Fl.a,{className:"ml-2 text-xs",fontSize:"small"}),("partially-read"===k.state||"read"===k.state)&&(k.sender._id===(null===(b=G.user)||void 0===b?void 0:b._id)||k.sender===(null===(f=G.user)||void 0===f?void 0:f._id))&&Object(R.jsx)(Fl.a,{className:"ml-2 text-xs text-blue-500",fontSize:"small"})]})]}),X.showDetails&&Object(R.jsxs)(le.a,{component:"div",sx:{color:U.palette.text.secondary},className:"flex flex-row items-center justify-end text-sm w-full",children:[Object(R.jsx)(Tt.a,{sx:{fontSize:function(e){return e.spacing(1.3)}},className:"flex-1 text-right",children:"".concat(Date.format(k.timestamp||k.created_on,"h:i a"))}),"pending"===k.state&&(k.sender._id===(null===(j=G.user)||void 0===j?void 0:j._id)||k.sender===(null===(m=G.user)||void 0===m?void 0:m._id))&&Object(R.jsx)(Dl.a,{className:"ml-2 text-xs",fontSize:"small"}),"sent"===k.state&&(k.sender._id===(null===(h=G.user)||void 0===h?void 0:h._id)||k.sender===(null===(v=G.user)||void 0===v?void 0:v._id))&&Object(R.jsx)(Ha.a,{className:"ml-2 text-xs ",fontSize:"small"}),("partially-received"===k.state||"received"===k.state)&&(k.sender._id===(null===(g=G.user)||void 0===g?void 0:g._id)||k.sender===(null===(O=G.user)||void 0===O?void 0:O._id))&&Object(R.jsx)(Fl.a,{className:"ml-2 text-xs",fontSize:"small"}),("partially-read"===k.state||"read"===k.state)&&(k.sender._id===(null===(x=G.user)||void 0===x?void 0:x._id)||k.sender===(null===(y=G.user)||void 0===y?void 0:y._id))&&Object(R.jsx)(Fl.a,{className:"ml-2 text-xs text-blue-500",fontSize:"small"})]})]})]})})]}))})),Vl=i.a.memo(zl),Wl=n(379),Jl=n.n(Wl),Bl=n(633),Ul=n.n(Bl),Gl=n(634),Hl=n.n(Gl),Kl=(n(250),function(e){var t,n,i=e.onClickSecondaryAction,r=e.conversation,o=e.typing,l=Object(s.d)((function(e){return e.auth})),c=Object(E.c)().Api,d=(Object(a.useRef)([]),Object(ie.p)({title:"Inbox",subtitle:"",avatar:null,typing:[]})),p=Object(u.a)(d,3),b=(p[0],p[1],p[2],Object(ie.b)((function(){var e,t,n,a,i,o,s,c,u,d,p,b="Inbox";if(r)if(b="Conversation","individual"==r.type)if((null===(e=l.user)||void 0===e?void 0:e._id)===(null===r||void 0===r||null===(t=r.owner)||void 0===t?void 0:t._id)||(null===(n=l.user)||void 0===n?void 0:n._id)===(null===r||void 0===r?void 0:r.owner)||(null===(a=l.user)||void 0===a?void 0:a._id)===(null===r||void 0===r||null===(i=r.started_by)||void 0===i?void 0:i._id)||(null===(o=l.user)||void 0===o?void 0:o._id)===(null===r||void 0===r?void 0:r.started_by))if((null===(c=l.user)||void 0===c?void 0:c._id)!==(null===(u=r.started_by)||void 0===u?void 0:u._id)&&(null===(d=l.user)||void 0===d?void 0:d._id)!==(null===r||void 0===r?void 0:r.started_by)||String.isEmpty(null===r||void 0===r||null===(p=r.participants[0])||void 0===p?void 0:p.first_name)){if(Array.isArray(null===r||void 0===r?void 0:r.participants))for(var f=0;f<r.participants.length;f++){var j,m;if((null===(j=r.participants[f])||void 0===j?void 0:j._id)===(null===(m=l.user)||void 0===m?void 0:m._id)){var h,v;b="".concat(null===(h=r.participants[f])||void 0===h?void 0:h.first_name," ").concat(null===(v=r.participants[f])||void 0===v?void 0:v.last_name);break}}}else b="".concat(r.participants[0].first_name," ").concat(r.participants[0].last_name);else String.isEmpty(null===(s=r.started_by)||void 0===s?void 0:s.first_name)||(b="".concat(r.started_by.first_name," ").concat(r.started_by.last_name));else b="group"==r.type?r.group_name||"Group Chat":"Realfield";return b}),[r,l])),f=Object(ie.b)((function(){var e="";if(r&&!Array.isEmpty(o)){var t,n=[];Array.isArray(r.participants)&&(n=r.participants.reduce((function(e,t){return-1!==o.indexOf(null===t||void 0===t?void 0:t._id)&&e.push(t.first_name),e}),[])),-1!==o.indexOf(null===(t=r.started_by)||void 0===t?void 0:t._id)&&n.push(r.started_by.first_name),n.length>0&&(e="".concat(n.join(",")," typing ...."))}else if(r){var a,i,s,c,u,d,p,b,f,j,m,h;if(e="","individual"==r.type){if((null===(a=l.user)||void 0===a?void 0:a._id)===(null===(i=r.owner)||void 0===i?void 0:i._id)||(null===(s=l.user)||void 0===s?void 0:s._id)===r.owner||(null===(c=l.user)||void 0===c?void 0:c._id)===(null===(u=r.started_by)||void 0===u?void 0:u._id)||(null===(d=l.user)||void 0===d?void 0:d._id)===r.started_by)if((null===(b=l.user)||void 0===b?void 0:b._id)!==(null===(f=r.started_by)||void 0===f?void 0:f._id)&&(null===(j=l.user)||void 0===j?void 0:j._id)!==r.started_by||String.isEmpty(null===(m=r.participants[0])||void 0===m?void 0:m.first_name)){if(Array.isArray(r.participants))for(var v=0;v<r.participants.length;v++){var g,O;if((null===(g=r.participants[v])||void 0===g?void 0:g._id)===(null===(O=l.user)||void 0===O?void 0:O._id)){var x;e="".concat(null===(x=r.participants[v])||void 0===x?void 0:x.presence);break}}}else e="".concat(null===(h=r.participants[0])||void 0===h?void 0:h.presence);else if(!String.isEmpty(null===(p=r.started_by)||void 0===p?void 0:p.first_name)){var y;e="".concat(null===(y=r.started_by)||void 0===y?void 0:y.presence)}}else e="group"==r.type?r.participants.length:""}return e}),[r,l,o]);Object(ie.b)((function(){return null}),[r,l]);return Object(R.jsx)(Be.a,{position:"relative",className:"",sx:{color:function(e){return e.palette.text.secondary},backgroundColor:function(e){return e.palette.background.default}},children:Object(R.jsxs)(Ue.a,{children:[!!r&&("individual"==r.type?((null===(t=l.user)||void 0===t?void 0:t._id)===r.owner._id||(null===(n=l.user)||void 0===n?void 0:n._id)===r.owner)&&Array.isArray(r.participants)&&r.participants.length>0&&r.participants[0].avatar?Object(R.jsx)(Ol.a,{className:"mr-6 w-6 h-6",src:c.getAttachmentFileUrl(r.participants[0].avatar)}):r.started_by&&r.started_by.avatar?Object(R.jsx)(Ol.a,{className:"mr-6 w-6 h-6",src:c.getAttachmentFileUrl(r.started_by.avatar)}):Object(R.jsx)(Ol.a,{className:"mr-2 w-6 h-6 bg-transparent mx-2",children:Object(R.jsx)(Jl.a,{})}):r.group_avatar?Object(R.jsx)(Ol.a,{className:"mr-6",src:c.getAttachmentFileUrl(r.group_avatar)}):Object(R.jsxs)(Ol.a,{className:"mr-6 w-6 h-6 bg-transparent accent-text",children:[" ","group"===r.type?Object(R.jsx)(Ul.a,{}):Object(R.jsx)(Jl.a,{})]})),Object(R.jsxs)(le.a,{className:"capitalize flex-grow flex-col",children:[Object(R.jsx)(Tt.a,{variant:"h6",children:b}),Object(R.jsx)(Tt.a,{variant:"body2",children:f})]}),!r&&Object(R.jsx)(je.a,{className:"mr-2",onClick:i,edge:"end",color:"inherit","aria-label":"Contacts",children:Object(R.jsx)(Hl.a,{})})]})})}),Yl=i.a.memo(Kl),Ql=n(1099),Zl=n.n(Ql),Xl=n(331),$l=n.n(Xl),ec=n(774),tc=n.n(ec),nc=n(775),ac=n.n(nc),ic=n(776),rc=n.n(ic),oc=n(777),sc=n.n(oc),lc=n(1924),cc=n(1098),uc=n.n(cc),dc=["onSubmit","replyFor","conversation"],pc={image:{icon:Object(R.jsx)(tc.a,{fontSize:"inherit"}),label:"Image",value:"image",color:"red",actionStyle:{backgroundColor:function(e){return e.palette.red},color:function(e){return e.palette.background.paper},fontSize:function(e){return e.spacing(2.5)}},filePickerProps:{acceptedFiles:["image/*"],dropzoneText:"Click to select file or  Drag and drop your image file here",dropzoneIcon:Object(R.jsx)(tc.a,{fontSize:"inherit"})}},video:{icon:Object(R.jsx)(ac.a,{fontSize:"inherit"}),label:"Video",color:"teal",actionStyle:{backgroundColor:function(e){return e.palette.teal.main},color:function(e){return e.palette.background.paper},fontSize:function(e){return e.spacing(2.5)}},filePickerProps:{acceptedFiles:["video/*"],dropzoneText:"Click to select file or  Drag and drop your video file here",dropzoneIcon:Object(R.jsx)(ac.a,{fontSize:"inherit"})}},audio:{icon:Object(R.jsx)(rc.a,{fontSize:"inherit"}),label:"Audio",color:"blue",actionStyle:{backgroundColor:function(e){var t;return null===(t=e.palette.blue)||void 0===t?void 0:t.main},color:function(e){return e.palette.background.paper},fontSize:function(e){return e.spacing(2.5)}},filePickerProps:{acceptedFiles:["audio/*"],dropzoneText:"Click to select file or  Drag and drop your audio file here",dropzoneIcon:Object(R.jsx)(rc.a,{fontSize:"inherit"})}},file:{icon:Object(R.jsx)(sc.a,{fontSize:"inherit"}),label:"File",color:"purple",actionStyle:{backgroundColor:function(e){return e.palette.purple.main},color:function(e){return e.palette.background.paper},fontSize:function(e){return e.spacing(2.5)}},filePickerProps:{acceptedFiles:["application/*"],dropzoneText:"Click to select file or Drag and drop a file here",dropzoneIcon:Object(R.jsx)(sc.a,{fontSize:"inherit"})}}},bc=i.a.forwardRef((function(e,t){var n,i,r,o,c=e.onSubmit,d=(e.replyFor,e.conversation),p=Object(T.a)(e,dc),b=Object(oe.a)(),f=(Object(s.c)(),Object(s.d)((function(e){return e.auth}))),j=Object(a.useRef)(d),m=Object(ie.l)({name:"compose-message",defaultValues:(n={content:"",attachments:[],type:"text",is_reply:!1,sender:f.user,reply_for:null},Object(ue.a)(n,"type","text"),Object(ue.a)(n,"content",""),n)}),h=(m.handleSubmit,m.TextField),v=m.FilePicker,g=m.values,O=m.setValue,x=m.getValues,y=m.resetValues,w=Object(a.useRef)(null),k=Object(a.useRef)(!1),N=Object(ie.p)({emojiPickerOpen:!1,filePickerOpen:!1,typePickerOpen:!1,type:"text"}),_=Object(u.a)(N,3),S=_[0],C=_[1],A=_[2],F=Object(ce.b)().SocketIO,P=Object(a.useCallback)((function(e,t){var n=w.current.selectionStart,a=g.content.slice(0,n)+t.emoji+g.content.slice(n);w.current.value=a,O("content","".concat(a))}),[g]),D=function(e){return function(){C({typePickerOpen:!1,filePickerOpen:!0,type:e}),O("type",e)}},E=Object(a.useCallback)((function(e){var t,n=w.current.value||"";n=n.trim();var a=A().type,i=Object(l.a)(Object(l.a)({},x()),{},{type:a,sender:null===(t=f.user)||void 0===t?void 0:t._id,content:n});console.log("form_values",i);var r="text"===i.type&&!String.isEmpty(n)||-1!==["image","audio","video","file"].indexOf(i.type)&&!Array.isEmpty(i.attachments);if(Function.isFunction(c)&&r)try{c(i),y(),C({emojiPickerOpen:!1,filePickerOpen:!1,typePickerOpen:!1,type:"text"}),O("type","text"),O("attachments",[])}catch(error){y()}}),[g,c,d,f]),q=Object(a.useCallback)((function(e){"Enter"!==e.key||e.altKey||e.ctrlKey||e.shiftKey||(e.preventDefault(),E())}),[]);Object(a.useCallback)((function(){if(w.current)if(w.current.focus(),"number"==typeof w.current.selectionStart)w.current.selectionStart=w.current.selectionEnd=w.current.value.length;else if("undefined"!=typeof w.current.createTextRange){var e=w.current.createTextRange();e.collapse(!1),e.select(),w.current.focus()}}),[]);Object(ie.c)((function(){y()}));var M=Object(a.useCallback)((function(){k.current||(k.current=!0,F.emit("started-typing-message",{conversation:j.current.uuid||j.current._id,user:f.user._id}),console.log("started-typing-message",{conversation:j.current.uuid||j.current._id,user:f.user._id}))}),[d]),I=Object(a.useCallback)((function(){var e;k.current&&(k.current=!1,F.emit("stopped-typing-message",{conversation:j.current.uuid||j.current._id,user:null===(e=f.user)||void 0===e?void 0:e._id}))}),[]);return Object(ie.d)((function(){String.isEmpty(g.content)&&Array.isEmpty(g.attachments)?I():M()}),[g.content]),Object(ie.d)((function(){j.current=d}),[d]),Object(R.jsx)(Pn.a,Object(l.a)(Object(l.a)({},p),{},{container:!0,ref:t,children:Object(R.jsxs)(Pn.a,{container:!0,className:"relative",children:[Object(R.jsx)(Pn.a,{item:!0,xs:12,className:"",children:Object(R.jsx)(ka.a,{id:"file-picker",className:" m-1 p-4 absolute transform -top-4 -translate-y-full right-4 left-0 transition-all ".concat(S.filePickerOpen&&-1!==["image","audio","video","file"].indexOf(g.type)?"scale-y-100":"hidden scale-y-0"),elevation:4,children:Object(R.jsxs)(Pn.a,{container:!0,children:[Object(R.jsxs)(Pn.a,{item:!0,xs:12,className:"flex flex-row items-center mb-2",children:[Object(R.jsx)(le.a,{className:" mx-2 rounded-full flex items-center justify-center w-8 h-8",sx:{backgroundColor:b.palette.background.default},children:null===(i=pc[g.type])||void 0===i?void 0:i.icon}),Object(R.jsx)(Tt.a,{className:"flex-1",children:null===(r=pc[g.type])||void 0===r?void 0:r.label}),Object(R.jsx)(je.a,{onClick:function(){return C({filePickerOpen:!1})},color:"error",className:"text-sm",children:Object(R.jsx)($l.a,{fontSize:"inherit"})})]}),Object(R.jsx)(Pn.a,{item:!0,xs:12,children:Object(R.jsx)(v,Object(l.a)({name:"attachments",variant:"outlined",filesLimit:20,rules:{validate:{}}},null===(o=pc[g.type])||void 0===o?void 0:o.filePickerProps))})]})})}),Object(R.jsx)(Pn.a,{item:!0,xs:12,sx:{backgroundColor:b.palette.background.paper,padding:b.spacing(),paddingTop:b.spacing(2),paddingBottom:b.spacing(2)},children:Object(R.jsxs)(Pn.a,{container:!0,children:[S.typePickerOpen&&Object(R.jsxs)(Pn.a,{item:!0,xs:12,className:"mb-4 flex flex-row ",children:[Object(R.jsx)(le.a,{className:"m-4 flex flex-row flex-grow",children:Object.entries(pc).map((function(e){var t=Object(u.a)(e,2),n=t[0],a=t[1];return Object(R.jsxs)(le.a,{className:"flex flex-col flex-1 mx-4 items-center justify-center",children:[Object(R.jsx)(je.a,{color:a.color,onClick:D(n),children:a.icon}),Object(R.jsx)(Tt.a,{children:a.label})]},"message-type-".concat(n))}))}),Object(R.jsx)(le.a,{children:Object(R.jsx)(je.a,{color:"error",size:"small",onClick:function(){return C({typePickerOpen:!1})},children:Object(R.jsx)($l.a,{fontSize:"inherit"})})})]}),!Array.isEmpty(g.attachments)&&!S.filePickerOpen&&!S.typePickerOpen&&Object(R.jsx)(Pn.a,{item:!0,xs:12,className:"mb-4"}),String.containsUrl(g.content)&&Object(R.jsx)(Pn.a,{item:!0,xs:12,className:"mb-4",children:Object(R.jsx)(ql,{width:"100%",descriptionLength:100,url:String.getContainedUrl(g.content)[0],openInNewTab:!0})}),Object(R.jsxs)(Pn.a,{item:!0,xs:12,className:"flex flex-row items-center",children:[Object(R.jsx)(lc.a,{onClickAway:function(){return C((function(e){return{emojiPickerOpen:!1}}))},children:Object(R.jsxs)("div",{className:"flex flex-row",children:[Object(R.jsx)(ka.a,{sx:{m:1},id:"emoji-picker",className:"absolute transform -top-4 -translate-y-full transition-all ".concat(S.emojiPickerOpen?"scale-y-100":"hidden scale-y-0"),elevation:4,children:Object(R.jsx)(uc.a,{onEmojiClick:P,disableAutoFocus:!0,native:!0})}),Object(R.jsx)(je.a,{"aria-describedby":"emoji-picker",onClick:function(e){return C((function(e){return{emojiPickerOpen:!e.emojiPickerOpen}}))},children:Object(R.jsx)(Zl.a,{})})]})}),Object(R.jsx)("div",{className:"flex-1 px-4",children:Object(R.jsx)(h,{label:"",name:"content",placeholder:"Enter your message",inputRef:w,variant:"outlined",inputProps:{onKeyDown:q},multiline:!0,minRows:4,maxRows:8,fullWidth:!0,autoFocus:!0})}),Object(R.jsx)("div",{children:Object(R.jsx)(je.a,{ariaLabel:"Add Attachment",onClick:function(){C({typePickerOpen:!0,filePickerOpen:!1})},children:Object(R.jsx)(yl.a,{})})})]})]})})]})}))})),fc=i.a.memo(bc),jc=n(1807),mc=["className"],hc=function(e){var t=e.className,n=Object(T.a)(e,mc),a=Object(oe.a)(),i={hidden:{opacity:0},show:{opacity:[.5,.5,.5],top:[0,-parseInt(a.spacing(1).replace("px","")),0]}};return Object(R.jsx)(le.a,Object(l.a)(Object(l.a)({component:"div",className:"p-1 flex flex-col justify-center px-4 ".concat(t||"")},n),{},{children:Object(R.jsxs)(le.a,{className:"flex flex-row items-center relative rounded-full",children:[Object(R.jsx)(jc.a.div,{className:"h-2 w-2 rounded-full absolute m-1 left-0",style:{backgroundColor:a.palette.text.primary},variants:i,initial:"hidden",animate:"show",transition:{repeat:1/0,duration:1}}),Object(R.jsx)(jc.a.div,{className:"h-2 w-2 rounded-full absolute m-1 left-4",style:{backgroundColor:a.palette.text.primary},variants:i,initial:"hidden",animate:"show",transition:{repeat:1/0,duration:.75,delay:.5}}),Object(R.jsx)(jc.a.div,{className:"h-2 w-2 rounded-full absolute m-1 left-8",style:{backgroundColor:a.palette.text.primary},variants:i,initial:"hidden",animate:"show",transition:{repeat:1/0,duration:.75}})]})}))},vc=i.a.memo(hc),gc=n(117),Oc=["style","className","conversation","messageSize","onMessageClick","onMessageContextMenu","canShowMessageComposer","fetchData","selected"],xc=function(e){e.style;var t,n,i,r,o,c,d,p,b,f,j,m,h,v,g,O,w,k=e.className,N=e.conversation,_=(e.messageSize,e.onMessageClick),S=(e.onMessageContextMenu,e.canShowMessageComposer,e.fetchData,e.selected,Object(T.a)(e,Oc)),A=(Object(oe.a)(),Object(s.c)()),F=Object(s.d)((function(e){return e.auth})),P=F.user,D=Object(s.d)((function(e){var t,n;return null===(t=e.communication)||void 0===t||null===(n=t.messaging)||void 0===n?void 0:n.active_conversation})),q=Object(s.d)((function(e){var t;return(null===(t=e.app)||void 0===t?void 0:t.preferences)||{}})),M=Object(ie.p)({loading:!1,loaded:!0,selected:-1,focused:-1,dateIndexes:[],typing:[],contextMenu:{mouseX:null,mouseY:null}}),I=Object(u.a)(M,3),L=I[0],z=I[1],V=I[2],W=Object(bt.useLiveQuery)(Object(y.a)(x.a.mark((function e(){var t,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],z({loading:!0}),e.prev=2,e.next=5,gc.a.messages.where("conversation").equalsIgnoreCase(D||"").or("conversation_uuid").equalsIgnoreCase(D||"").toArray();case 5:n=e.sent,e.next=10;break;case 8:e.prev=8,e.t0=e.catch(2);case 10:return(null===(t=n)||void 0===t?void 0:t.length)>1&&(n=n.sort((function(e,t){return Date.parseFrom(e.timestamp||e.created_on)-Date.parseFrom(t.timestamp||t.created_on)}))),z({loading:!1,loaded:!0}),e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,null,[[2,8]])}))),[D],[]),J=Object(a.useRef)(null),B=Object(a.useRef)(null),U=Object(a.useRef)(null),G=Object(a.useRef)(N),H=Object(E.c)(),K=H.SocketIO,Y=(H.Api,Object(a.useRef)([])),Q=(Object(a.useRef)("end"),Object(a.useRef)(!0)),Z=(Object(a.useRef)(!1),Object(a.useRef)(32)),X=Object(a.useRef)(48),$=Object(a.useRef)(250),ee=Object(a.useRef)(72),te=new ua.c({defaultHeight:30,fixedWidth:!0}),ne=Object(a.useCallback)((function(e){var t,n,a=!1;Array.isArray(W)&&W[e]&&(a=0===e||e>0&&(null===(t=Date.parseFrom(W[e].timestamp,new Date))||void 0===t?void 0:t.format("Y M d"))!==(null===(n=Date.parseFrom(W[e-1].timestamp,new Date))||void 0===n?void 0:n.format("Y M d")));return a}),[W]),ae=(Object(a.useCallback)((function(e){var t=e.index;return t<W.length?Y.current[t]:2*Z.current}),[]),Object(a.useCallback)((function(e){return function(t){z({focused:e}),Function.isFunction(_)&&_(t,e,W[e])}}),[_,W])),re=Object(a.useCallback)((function(e){return function(t){t.preventDefault();var n=W[e];z({focused:e}),z({focused:e,contextMenu:{entry:n,mouseX:t.clientX-2,mouseY:t.clientY-4,open:!0}})}}),[W]),se=function(){z({contextMenu:{mouseX:null,mouseY:null,open:!1}})},ce=Object(a.useCallback)((function(e){var t=Object(l.a)(Object(l.a)({},e),{},{conversation:G.current._id,conversation_uuid:G.current.uuid});Q.current=!0,A(Object(C.zb)(t))}),[]),ue=(Object(a.useCallback)((function(e,t){console.log("loadMoreMessages startIndex",e),console.log("loadMoreMessages stopIndex",t)}),[]),Object(a.useCallback)((function(e){e.clientHeight,e.scrollHeight,e.scrollTop}),[])),de=Object(a.useCallback)((function(e){e.data;var t=e.index,n=(e.isScrolling,e.key),a=e.parent,i=e.style,r=V(),o=r.selected,s=r.focused;return Object(R.jsx)(ua.b,{cache:te,columnIndex:0,parent:a,rowIndex:t,children:function(e){var n=e.measure,a=e.registerChild;return t<W.length?Object(R.jsx)(Vl,{className:"".concat(t==W.length-1?"border-b-8 border-transparent":""),conversation:N,index:t,message:W[t],onClick:ae(t),onContextMenu:re(t),selected:t===o,focused:t===s,showDateHeader:ne(t),prevMessage:W[t-1],nextMessage:W[t+1],mediaSize:$.current,headerHeight:X.current,linkHeight:ee.current,ref:a,style:i,onLoad:n}):Object(R.jsx)(vc,{className:"absolute left-0 pb-8 pt-4",style:i,ref:a,onLoad:n})}},n)}),[W,N,te]),pe=Object(a.useCallback)((function(){var e=V().loading;return Object(R.jsx)(Pn.a,{container:!0,spacing:2,className:"flex flex-col items-center justify-center h-full",children:Object(R.jsxs)(Pn.a,{item:!0,md:12,className:"flex flex-col items-center relative p-0 px-4 my-4 justify-center h-full",children:[Object(R.jsx)(Tt.a,{variant:"subtitle1",color:"textSecondary",className:"mx-0 my-12 h-20 w-20 md:w-40  md:h-40 rounded-full text-4xl md:text-6xl flex flex-row items-center justify-center",sx:{color:function(e){return e.palette.text.disabled},backgroundColor:function(e){return e.palette.background.paper}},children:e?Object(R.jsx)(mn.a,{}):Object(R.jsx)(pt.a,{fontSize:"inherit"})}),Object(R.jsx)(Tt.a,{variant:"body2",color:"textSecondary",className:"mx-0",sx:{color:function(e){return e.palette.text.disabled}},children:e?"Loading":"You don't have any messages here yet"})]})})}),[]),be=Object(a.useCallback)((function(e){var t,n,a=e.detail||{},i=a.user,r=a.conversation;(null===(t=e.detail)||void 0===t?void 0:t.conversation)!==r._id&&(null===(n=e.detail)||void 0===n?void 0:n.conversation)!==r.uuid||(Q.current=!0,z((function(e){return{typing:Array.isArray(e.typing)?e.typing.filter((function(e){return e!==i})).concat([i]):[i]}})))}),[N]),fe=Object(a.useCallback)((function(e){var t,n,a=(e.detail||{}).user;(null===(t=e.detail)||void 0===t?void 0:t.conversation)!==N._id&&(null===(n=e.detail)||void 0===n?void 0:n.conversation)!==N.uuid||z((function(e){return{typing:Array.isArray(e.typing)?e.typing.filter((function(e){return e!==a})):[]}}))}),[N]),je=Object(a.useCallback)((function(e){var t=V().contextMenu;se();var n=Object(l.a)(Object(l.a)({},t.entry),{},{state:"deleted-for-all",deletions:G.current.recipients.concat([G.current.owner])});A(Object(C.ob)(n)),K.emit("delete-message-for-all",{message:(null===n||void 0===n?void 0:n._id)||(null===n||void 0===n?void 0:n.uuid),user:P})}),[P]),me=Object(a.useCallback)((function(e){var t,n,a,i,r,o,s=V().contextMenu;se();var c=Object(l.a)(Object(l.a)({},s.entry),{},{state:"deleted-for-sender",deletions:Array.isArray(null===(t=L.contextMenu.entry)||void 0===t?void 0:t.deletions)?null===(n=L.contextMenu)||void 0===n||null===(a=n.entry)||void 0===a||null===(i=a.deletions)||void 0===i?void 0:i.concat([null===P||void 0===P?void 0:P._id]):[null===P||void 0===P?void 0:P._id]});se(),A(Object(C.ob)(c)),K.emit("delete-message-for-user",{message:(null===(r=c.entry)||void 0===r?void 0:r._id)||(null===(o=c.entry)||void 0===o?void 0:o.uuid),user:P})}),[P]),he=Object(a.useCallback)(Object(y.a)(x.a.mark((function e(){var t,n,a,i;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(null===N||void 0===N?void 0:N.uuid)||(null===N||void 0===N?void 0:N._id)||N,n=(null===N||void 0===N?void 0:N.uuid)||(null===N||void 0===N?void 0:N._id)||N,a=null===P||void 0===P?void 0:P._id,String.isEmpty(a)||String.isEmpty(t)&&String.isEmpty(n)){e.next=8;break}return e.next=6,gc.a.messages.filter((function(e){return((null===e||void 0===e?void 0:e.conversation)===t||(null===e||void 0===e?void 0:e.conversation)===n||(null===e||void 0===e?void 0:e.conversation_uuid)&&((null===e||void 0===e?void 0:e.conversation_uuid)===t||(null===e||void 0===e?void 0:e.conversation_uuid)===n))&&(null===e||void 0===e?void 0:e.sender)!==a&&("sent"===e.state||"received"===e.state||"partially-received"===e.state)})).toArray();case 6:i=e.sent,Array.isArray(i)&&i.length>0&&i.reduce((function(e,t){return K.emit("mark-message-as-received",{message:t._id}),e.push(Object(l.a)(Object(l.a)({},t),{},{state:"received"})),e}),[]);case 8:case"end":return e.stop()}}),e)}))),[N,P]),ve=Object(a.useCallback)((function(){var e=V(),t=e.loading,n=e.typing,a=e.loaded,i=null===W||void 0===W?void 0:W.length;return t&&!a?i=0:(null===n||void 0===n?void 0:n.length)>0&&(i=((null===W||void 0===W?void 0:W.length)||0)+1),i}),[W]);return Object(ie.c)((function(){var e=Zo.a.on("compose-message-started",be),t=Zo.a.on("compose-message-stopped",fe);return he(),function(){e.remove(),t.remove()}})),Object(ie.d)((function(){B.current=null,he()}),[null===N||void 0===N?void 0:N.uuid,null===N||void 0===N?void 0:N._id,W.length]),Object(ie.d)((function(){G.current=N}),[N]),Object(ie.d)((function(){z({loaded:!1})}),[D]),Object(ie.d)((function(){if(Q.current&&U.current&&Array.isArray(W)&&W.length>0){console.log("listRef.current",U.current),console.log("cellMeasurerCache",te);var e=U.current.getOffsetForRow({alignment:"end",index:W.length});U.current.scrollToPosition(e)}return function(){}}),[W.length]),Object(R.jsxs)(le.a,{className:"relative flex flex-col bg-transparent text-base ".concat(k," "),sx:{paddingTop:0,paddingBottom:0,backgroundColor:function(e){return"".concat(e.palette.action.disabledBackground," !important")},backgroundImage:'url("/img/'.concat("dark"===(null===q||void 0===q?void 0:q.theme)?"chat-bg-dark.jpg":"chat-bg.jpg",'") !important'),height:function(e){return"calc(100vh - ".concat(e.spacing(14),")")},maxHeight:function(e){return"calc(100vh - ".concat(e.spacing(14),")")}},ref:J,children:[L.loaded&&Object(R.jsx)(Yl,{conversation:N,typing:L.typing}),Array.isArray(W)&&Object(R.jsx)("div",{className:"flex-grow relative border-b-8 border-transparent",children:Object(R.jsx)(ua.a,{children:function(e){var t=e.height,n=e.width;return Object(R.jsx)(ua.f,Object(l.a)(Object(l.a)({rowCount:ve(),onScroll:ue,rowHeight:te.rowHeight,width:n,height:t,rowRenderer:de,noRowsRenderer:pe,overscanRowCount:2},S),{},{ref:U}))}})}),L.loaded&&Object(R.jsx)(fc,{onSubmit:ce,conversation:N}),Object(R.jsxs)(at.a,{keepMounted:!0,open:null===(t=L.contextMenu)||void 0===t?void 0:t.open,onClose:se,anchorReference:"anchorPosition",anchorPosition:L.contextMenu.open?{top:L.contextMenu.mouseY,left:L.contextMenu.mouseX}:void 0,children:[(null===(n=L.contextMenu.entry)||void 0===n||null===(i=n.sender)||void 0===i?void 0:i._id)!==(null===P||void 0===P?void 0:P._id)&&(null===(r=L.contextMenu)||void 0===r||null===(o=r.entry)||void 0===o?void 0:o.sender)!==(null===P||void 0===P?void 0:P._id)&&Object(R.jsx)(it.a,{onClick:function(e){var t;B.current=null===(t=L.contextMenu)||void 0===t?void 0:t.entry,se()},children:"Reply Message"}),((null===(c=L.contextMenu)||void 0===c||null===(d=c.entry)||void 0===d||null===(p=d.sender)||void 0===p?void 0:p._id)===(null===P||void 0===P?void 0:P._id)||(null===(b=L.contextMenu)||void 0===b||null===(f=b.entry)||void 0===f?void 0:f.sender)===(null===P||void 0===P?void 0:P._id))&&Object(R.jsx)(it.a,{onClick:me,children:"Delete For Me"}),((null===(j=L.contextMenu)||void 0===j||null===(m=j.entry)||void 0===m||null===(h=m.sender)||void 0===h?void 0:h._id)===(null===P||void 0===P?void 0:P._id)||(null===(v=L.contextMenu)||void 0===v||null===(g=v.entry)||void 0===g?void 0:g.sender)===(null===P||void 0===P?void 0:P._id))&&"read"!==(null===(O=L.contextMenu)||void 0===O||null===(w=O.entry)||void 0===w?void 0:w.state)&&Object(R.jsx)(it.a,{onClick:je,children:"Delete For All"})]})]})},yc=i.a.memo(xc),wc=["classes","className","layout","communication","auth","device","apiCallRequest","sendMessage","fetchMessages","ensureMessage","fetchContacts","fetchInbox","createConversation"];function kc(e){return Object(R.jsx)(Vo.a,Object(l.a)({elevation:6,variant:"filled"},e))}function Nc(e){e.classes;var t,n,i,r,o,c,d=e.className,p=(e.layout,e.communication.messaging,e.auth),b=(e.device.window_size,e.apiCallRequest,e.sendMessage,e.fetchMessages),f=e.ensureMessage,j=(e.fetchContacts,e.fetchInbox,e.createConversation,Object(T.a)(e,wc),Object(oe.a)(),Object(s.c)()),m=Object(E.c)(),h=m.SocketIO,v=(m.Api,Object(s.d)((function(e){var t,n;return null===(t=e.communication)||void 0===t||null===(n=t.messaging)||void 0===n?void 0:n.active_conversation}))),g=Object(bt.useLiveQuery)((function(){return ut.a.conversations.toArray()})),O=Object(ie.p)({drawerContentType:"conversations",drawerOpen:!0}),x=Object(u.a)(O,2),y=(x[0],x[1],Object(a.useState)(!1)),w=Object(u.a)(y,2),k=w[0],N=w[1],_=Object(a.useState)(!1),S=Object(u.a)(_,2),A=(S[0],S[1],Object(a.useState)({mouseX:null,mouseY:null})),F=Object(u.a)(A,2),P=F[0],D=F[1],q=Object(bt.useLiveQuery)((function(){return ut.a.messages.where("conversation").equalsIgnoreCase(v||"").or("conversation_uuid").equalsIgnoreCase(v||"").toArray()})),M=Object(C.sb)(g,v),I=Array.isArray(g)?g[M]:null,L=function(){D({mouseX:null,mouseY:null}),Zo.a.emit("clear-conversation-selection")};return Object(ie.d)((function(){((null===I||void 0===I?void 0:I._id)||(null===I||void 0===I?void 0:I.uuid))&&b(I)}),[null===I||void 0===I?void 0:I.uuid,null===I||void 0===I?void 0:I._id]),Object(ie.c)((function(){((null===I||void 0===I?void 0:I._id)||(null===I||void 0===I?void 0:I.uuid))&&b(I)}),[null===I||void 0===I?void 0:I.uuid,null===I||void 0===I?void 0:I._id]),Object(R.jsxs)(ka.a,{className:Te()(Object(ue.a)({"p-0 m-0 relative overflow-x-hidden overflow-y-visible ":!0},d,!!d)),onClick:function(e){((null===P||void 0===P?void 0:P.mouseX)>0||(null===P||void 0===P?void 0:P.mouseY)>0)&&(e.preventDefault(),L())},onContextMenu:function(e){((null===P||void 0===P?void 0:P.mouseX)>0||(null===P||void 0===P?void 0:P.mouseY)>0)&&(e.stopPropagation(),L())},children:[Object(R.jsx)(le.a,{className:"flex flex-row w-full",sx:{height:function(e){return"calc(100vh - ".concat(e.spacing(20),")")}},children:Object(R.jsx)(le.a,{className:"p-0 flex-1 relative",children:I?Object(R.jsx)(le.a,{className:"p-0 relative flex flex-col h-full",children:Object(R.jsx)(yc,{onMessageClick:function(e,t,n){},onMessageContextMenu:function(e,t,n){return(a="message",i=n,function(e){e.preventDefault(),D((function(t){return{type:a,entry:i,mouseX:e.clientX-2,mouseY:e.clientY-4}}))})(e);var a,i},conversation:I,messages:q,canShowMessageComposer:!0})}):Object(R.jsx)(Pn.a,{container:!0,spacing:2,className:"flex flex-col items-center justify-center h-full",children:Object(R.jsxs)(Pn.a,{item:!0,md:12,className:"flex flex-col items-center relative p-0 px-4 my-4 justify-center h-full",children:[Object(R.jsx)("span",{"data-testid":"intro-md-beta-logo-light",children:Object(R.jsx)("img",{src:"".concat("","/img/svg/empty-conversations-state.svg"),alt:"Web Conversations"})}),Object(R.jsx)(Tt.a,{color:"textSecondary",className:"mx-0 mt-12 text-lg",children:"Messaging Web"}),Object(R.jsx)(Tt.a,{color:"textSecondary",variant:"body2",className:"mx-0 mt-4 text-xs",children:"Select or start a conversation to start sending messages via web"})]})})})}),Object(R.jsxs)(at.a,{keepMounted:!0,open:null!==P.mouseY,onClose:L,anchorReference:"anchorPosition",anchorPosition:null!==P.mouseY&&null!==P.mouseX?{top:P.mouseY,left:P.mouseX}:void 0,children:["conversation"===P.type&&Object(R.jsx)(it.a,{onClick:function(e){var t;j(Object(C.Bb)(null===P||void 0===P||null===(t=P.entry)||void 0===t?void 0:t.uuid)),L()},children:"Open Conversation"}),"conversation"===P.type&&Object(R.jsx)(it.a,{onClick:function(e){P.entry,L()},children:"Archive Conversation"}),"conversation"===P.type&&Object(R.jsx)(it.a,{onClick:function(e){P.entry,L()},children:"Delete Conversation"}),"message"===P.type&&P.entry.sender._id!==(null===(t=p.user)||void 0===t?void 0:t._id)&&P.entry.sender!==(null===(n=p.user)||void 0===n?void 0:n._id)&&Object(R.jsx)(it.a,{onClick:function(e){L()},children:"Reply Message"}),"message"===P.type&&(P.entry.sender._id===(null===(i=p.user)||void 0===i?void 0:i._id)||P.entry.sender===(null===(r=p.user)||void 0===r?void 0:r._id))&&Object(R.jsx)(it.a,{onClick:function(e){var t,n;L(),f(Object(l.a)(Object(l.a)({},P.entry),{},{state:"deleted-for-sender",deletions:Array.isArray(P.entry.deletions)?P.entry.deletions.concat([null===(t=p.user)||void 0===t?void 0:t._id]):[null===(n=p.user)||void 0===n?void 0:n._id]})),h.emit("delete-message-for-user",{message:P.entry,user:p.user})},children:"Delete For Me"}),"message"===P.type&&(P.entry.sender._id===(null===(o=p.user)||void 0===o?void 0:o._id)||P.entry.sender===(null===(c=p.user)||void 0===c?void 0:c._id))&&Object(R.jsx)(it.a,{onClick:function(e){L(),f(Object(l.a)(Object(l.a)({},P.entry),{},{state:"deleted-for-all",deletions:I.recipients.concat([I.owner])})),h.emit("delete-message-for-all",{message:P.entry,user:p.user})},children:"Delete For All"})]}),k&&Object(R.jsx)(zo.a,{open:Boolean(k),autoHideDuration:1e4,onClose:function(){return N(!1)},children:Object(R.jsx)(kc,{onClose:function(){return N(!1)},severity:"error",children:k})})]})}Nc.defaultProps={layout:"full",firstView:"conversations"};var _c=Ie()(Object(s.b)((function(e){return{auth:e.auth,communication:e.communication,device:e.device}}),{apiCallRequest:C.hb,sendMessage:C.zb,fetchMessages:C.rb,ensureMessage:C.ob,fetchContacts:C.pb,fetchInbox:C.qb,createConversation:C.mb}),ot.a)(Nc),Sc=n(745),Cc=n.n(Sc),Ac=["className"],Fc=function(e){var t,n,a,i,r,o,c=e.className,u=Object(T.a)(e,Ac),d=Object(oe.a)(),p=Object(re.g)(),b=Object(s.d)((function(e){return e.auth})),f=Object(E.c)(),j=(f.SocketIO,f.Api);return Object(R.jsxs)(le.a,Object(l.a)(Object(l.a)({},u),{},{className:"w-full flex flex-row items-center ".concat(c||""),children:[Object(R.jsx)(le.a,{className:"mr-2",children:Object(R.jsx)(je.a,{size:"small",children:(null===(t=b.user)||void 0===t?void 0:t.avatar)?Object(R.jsx)(Ol.a,{alt:null===(n=b.user)||void 0===n?void 0:n.first_name,className:"text-sm",src:j.getAttachmentFileUrl(null===(a=b.user)||void 0===a?void 0:a.avatar),sx:{width:32,height:32,backgroundColor:d.palette.action.hover,color:d.palette.text.primary}}):Object(R.jsx)(Ol.a,{className:"text-sm",sx:{color:function(e){return e.palette.text.primary},backgroundColor:function(e){return e.palette.action.hover},width:32,height:32},children:null===(i=b.user)||void 0===i||null===(r=i.first_name)||void 0===r||null===(o=r.charAt(0))||void 0===o?void 0:o.toUpperCase()})})}),Object(R.jsx)(le.a,{className:"flex flex-row items-center flex-1 mx-2",children:Object(R.jsx)(Tt.a,{variant:"body1",children:" Conversations "})}),Object(R.jsx)(le.a,{className:"flex flex-row items-center",children:Object(R.jsx)(je.a,{sx:{color:"inherit"},className:"text-sm",onClick:function(){return p("".concat("/messaging/contacts".toUriWithDashboardPrefix()))},title:"New Chat","aria-label":"New Chat",children:Object(R.jsx)(Cc.a,{fontSize:"inherit"})})})]}))},Pc=["className"],Dc=function(e){var t=e.className,n=Object(T.a)(e,Pc),a=Object(oe.a)(),i=Object(re.g)();Object(s.d)((function(e){return e.auth}));return Object(R.jsxs)(le.a,Object(l.a)(Object(l.a)({},n),{},{className:"w-full flex flex-row items-center ".concat(t||""),children:[Object(R.jsx)(le.a,{className:"mr-2",children:Object(R.jsx)(je.a,{sx:{color:"inherit",fontSize:a.spacing(2)},onClick:function(){return i("".concat("/messaging/conversations".toUriWithDashboardPrefix()))},title:"Back to conversations","aria-label":"Back to conversations",children:Object(R.jsx)(he.a,{fontSize:"inherit"})})}),Object(R.jsx)(le.a,{className:"flex flex-row items-center flex-1 mx-2",children:Object(R.jsx)(Tt.a,{variant:"body1",children:" New Chat "})}),Object(R.jsx)(le.a,{className:"flex flex-row items-center"})]}))},Ec=Object(Aa.a)("div")((function(e){var t=e.theme;return Object(l.a)(Object(l.a)({display:"flex",alignItems:"center",padding:t.spacing(0,1),backgroundColor:t.palette.action.disabledBackground,color:t.palette.text.secondary},t.mixins.toolbar),{},{justifyContent:"flex-start"})})),Tc=function(e){var t=Object(re.f)();return Object(R.jsx)(Ec,Object(l.a)(Object(l.a)({},e),{},{children:"/dashboard/messaging/contacts"!==t.pathname?Object(R.jsx)(Fc,{}):Object(R.jsx)(Dc,{})}))},qc=["sx","className"],Mc=function(e){var t,n=e.sx,a=e.className,i=Object(T.a)(e,qc),r=Object(oe.a)();return Object(R.jsxs)(ka.a,Object(l.a)(Object(l.a)({sx:Object(l.a)({flexShrink:0,width:(null===(t=r.appDrawer)||void 0===t?void 0:t.width)||320,backgroundColor:r.palette.background.default},n),className:"h-full flex flex-col box-border border-0 ".concat("ltr"===r.direction?"rounded-tr-none rounded-br-none":"rounded-tl-none rounded-bl-none"," ").concat(a||"")},i),{},{children:[Object(R.jsx)(Tc,{}),Object(R.jsx)(le.a,{className:"flex-1 relative overflow-hidden",children:Object(R.jsx)(re.a,{})})]}))},Ic=["className"];function Rc(e){var t=e.className,n=(Object(T.a)(e,Ic),Object(oe.a)()),i=Object(s.c)(),r=Object(re.g)(),o=Object(s.d)((function(e){return e.auth})),l=o.user,c=Object(E.c)(),d=c.network,p=c.SocketIO,b=c.Api,f=Object(g.d)(),j=Object(u.a)(f,2),m=j[0],h=(j[1],m.get("with")),v=Object(ie.p)({loading:!1}),O=Object(u.a)(v,2),w=O[0],k=O[1],N=Object(a.useCallback)(function(){var e=Object(y.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k({loading:!0}),e.next=3,gc.a.conversations.filter((function(e){var n,a,i,r,o,s,c,u;return"individual"===(null===e||void 0===e?void 0:e.type)&&(((null===e||void 0===e||null===(n=e.started_by)||void 0===n?void 0:n._id)===t||(null===e||void 0===e||null===(a=e.started_by)||void 0===a?void 0:a.email_address)===t||(null===e||void 0===e||null===(i=e.started_by)||void 0===i?void 0:i.uuid)===t)&&Array.isArray(null===e||void 0===e?void 0:e.participants)&&(null===(r=e.participants[0])||void 0===r?void 0:r._id)===(null===l||void 0===l?void 0:l._id)||Array.isArray(null===e||void 0===e?void 0:e.participants)&&((null===(o=e.participants[0])||void 0===o?void 0:o._id)===t||(null===e||void 0===e||null===(s=e.participants[0])||void 0===s?void 0:s.email_address)===t||(null===e||void 0===e||null===(c=e.participants[0])||void 0===c?void 0:c.uuid)===t)&&(null===(u=e.started_by)||void 0===u?void 0:u._id)===(null===l||void 0===l?void 0:l._id))})).last();case 3:if(!(n=e.sent)){e.next=9;break}i(Object(C.Bb)(n)),k({loading:!1}),e.next=11;break;case 9:return e.next=11,b.get("/contacts",{params:{q:t}}).then((function(e){var t,n;if(1===(null===e||void 0===e||null===(t=e.body)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.length)){var a,i={owner:l._id,recipients:[null===e||void 0===e||null===(a=e.body)||void 0===a?void 0:a.data[0]._id],uuid:String.uuid(),type:"individual"};p.emit("create-conversation",i)}else Zo.a.emit("notification",{title:"Create Conversation error",content:"Error creating conversation. O or > 1 contancts found with such details",type:"error",mode:"snackbar",icon:"error"})})).catch((function(e){console.error(e),Zo.a.emit("notification",{title:"Conversation error",content:"Error creating conversation",type:"error",mode:"snackbar",icon:"error"})}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[l]),_=Object(a.useCallback)((function(e){k({loading:!1}),r("/messaging/conversations".toUriWithDashboardPrefix())}),[]);return Object(a.useEffect)((function(){String.isEmpty(h)||(console.log("searchParams",m),N(h))}),[h]),Object(a.useEffect)((function(){d.online&&i(Object(C.Ab)())}),[d.online]),Object(ie.c)((function(){return p.on("conversation-created",_),p.on("create-conversation-error",_),p.on("new-conversation",_),function(){p.off("conversation-created",_),p.off("create-conversation-error",_),p.off("new-conversation",_)}})),Object(R.jsx)(ka.a,{className:Te()(Object(ue.a)({"p-0 m-0 relative overflow-x-hidden overflow-y-visible ":!0},t,!!t)),children:Object(R.jsxs)(le.a,{className:"flex flex-row w-full",sx:{height:"calc(100vh - ".concat(n.spacing(20),")")},children:[Object(R.jsx)(Mc,{className:""}),Object(R.jsx)(_c,{className:"flex-1"}),Object(R.jsxs)(q.a,{onClose:function(){return k({loading:!1})},open:w.loading,children:[Object(R.jsx)(Pt.a,{children:"A moment..."}),Object(R.jsx)(M.a,{className:"flex items-center justify-center",children:Object(R.jsx)(mn.a,{})})]})]})})}Rc.defaultProps={layout:"full",firstView:"conversations",activeConversation:void 0};var Lc=i.a.memo(Rc),zc=function(e){Object(_.a)(n,e);var t=Object(S.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(N.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.location,n=e.appendNavHistory,a=e.theme;n&&t&&n({name:"messages",uri:t.pathname,title:"Messages",view:null,color:a.palette.primary,scrollTop:0})}},{key:"render",value:function(){this.props.classes;return Object(R.jsx)(Nt.a,{className:"m-0 p-0",children:Object(R.jsx)(_t.a,{xs:12,children:Object(R.jsx)(Lc,{})})})}}]),n}(a.Component),Vc=Ie()(Object(s.b)((function(e){return{auth:e.auth}}),{appendNavHistory:C.ib}),ot.a)(zc),Wc=n(423),Jc=(n(749),function(e){Object(_.a)(a,e);var t=Object(S.a)(a);function a(e){var n,i;return Object(k.a)(this,a),(i=t.call(this,e)).state={mainMapInFullWidth:!0,counts_overview_contexts:{surveys:{type:"count",query:{}},commissions:{type:"count",query:{}},responses:{type:"count",query:{}},tracks:{type:"count",query:{}}}},(null===(n=e.auth.user)||void 0===n?void 0:n.isAdmin)&&(i.state.counts_overview_contexts={surveys:{type:"count",query:{}},commissions:{type:"count",query:{}},responses:{type:"count",query:{}},queries:{type:"count",query:{}},tracks:{type:"count",query:{}},applications:{type:"count",query:{}},users:{type:"aggregates",query:{group:"gender",role:"collector"},title:function(e){var t="";return Array.isArray(e)&&e.map((function(e){e._id&&(t=t+(t.length>0?" / ":"")+e._id.humanize())})),t},description:function(e){var t="";return Array.isArray(e)&&e.map((function(e){e._id&&(t=t+(t.length>0?" / ":"")+e._id.humanize())})),"Total "+t},resolveValue:function(e){var t="";return Array.isArray(e)&&e.map((function(e){e._id&&e.count&&(t=t+(t.length>0?" / ":"")+e.count)})),t}}}),i}return Object(N.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.location,n=e.appendNavHistory;n&&t&&n({name:"dashboard",uri:t.pathname,title:"Dashboard",view:null,color:A.b.hex.primary,scrollTop:0})}},{key:"render",value:function(){var e=this,t=this.props,a=(t.app.preferences,t.auth,t.location,t.theme),i=t.device,r=$e.responses.views.dashboard.counts;return Object(R.jsxs)(Nt.a,{children:[Object(R.jsx)(_t.a,{xs:12,lg:this.state.mainMapInFullWidth?12:7,className:"p-2",children:Object(R.jsx)(ts.a,{children:Object(R.jsx)(Wc.a,{resolve:function(){return Promise.resolve().then(n.bind(null,749))},placeholderType:"skeleton",placeholder:[[{variant:"circle",width:40,height:40,className:"mt-2 ml-4"},{variant:"text",width:100,className:"mx-2 mt-4"}],{variant:"rect",width:"100%",height:600,className:"mt-4"}],actions:i.window_size.width>1280?[{icon:Object(R.jsx)(tt.a,{path:this.state.mainMapInFullWidth?nt.b:nt.h,title:"Toggle size",className:"invisible xl:visible",size:.8,color:a.palette.text.primary}),onClick:function(){e.setState((function(e){return{mainMapInFullWidth:!e.mainMapInFullWidth}}))}}]:[]})})}),Object(R.jsx)(_t.a,{xs:12,className:"p-2",children:Object(R.jsx)(ts.a,{children:Object(R.jsx)(r,{})})}),Object(R.jsxs)(_t.a,{xs:12,lg:this.state.mainMapInFullWidth?12:5,className:"p-2",children:[Object(R.jsx)(Nt.a,{className:"p-0 m-0",children:Object(R.jsx)(Wc.a,{resolve:function(){return n.e(14).then(n.bind(null,2074))},placeholderType:"skeleton",placeholder:[{variant:"text",width:"100%",className:"mx-2 mt-4"},{variant:"rect",width:40,height:40,className:"mt-2 ml-4"}],contexts:this.state.counts_overview_contexts,wrapperSize:this.state.mainMapInFullWidth?12:5})}),Object(R.jsx)(Nt.a,{className:"p-0 m-0",children:Object(R.jsx)(Wc.a,{resolve:function(){return n.e(3).then(n.bind(null,2075))},placeholder:[{variant:"rect",width:"100%",height:200,className:"mt-4"},{variant:"rect",width:"100%",height:200,className:"mt-4"},{variant:"rect",width:"100%",height:200,className:"mt-4"}],chartType:"bar",contexts:["responses"]})})]}),Object(R.jsx)(_t.a,{xs:12,className:"p-2",children:Object(R.jsx)(Wc.a,{resolve:function(){return n.e(13).then(n.bind(null,2076))},placeholder:[{variant:"rect",width:"100%",height:200,className:"mt-4"},{variant:"rect",width:"100%",height:200,className:"mt-4"},{variant:"rect",width:"100%",height:200,className:"mt-4"}],gridSize:4})})]})}}]),a}(i.a.Component)),Bc=Ie()(Object(s.b)((function(e){return{app:e.app,auth:e.auth,nav:e.nav,device:e.device}}),{appendNavHistory:vs.a}),ot.a)(Jc),Uc=n(1100),Gc=n.n(Uc),Hc=n(1101),Kc=n.n(Hc),Yc=n(2008),Qc=n(1102),Zc=n.n(Qc),Xc=["data","className","selected","focused","onClick","onContextMenu"],$c=function(e,t){var n=e.data,i=e.className,r=e.selected,o=e.focused,c=e.onClick,d=e.onContextMenu,p=Object(T.a)(e,Xc),b=(Object(oe.a)(),Object(s.c)(),Object(s.d)((function(e){return e.auth})),Object(E.c)()),f=(b.SocketIO,b.Api),j=Object(ie.p)({selected:r,focused:o}),m=Object(u.a)(j,2),h=m[0],v=m[1],g=Object(ie.b)((function(){var e,t="".concat((null===n||void 0===n?void 0:n.first_name)||""," ").concat((null===n||void 0===n?void 0:n.last_name)||""),a=(null===(e=n.avatar)||void 0===e?void 0:e._id)||n.avatar,i=(n.role||"Contact").humanize(),r=(n.presence||"offline").humanize();return{primaryText:String.capitalize(t),avatar:a,secondaryText:i,presence:r}}),[n]),O=Object(a.useCallback)((function(e){v((function(e){return{selected:!e.selected,focused:!e.selected}})),Function.isFunction(c)&&c(e)}),[c]),x=Object(a.useCallback)((function(e){v((function(e){return{focused:!0}})),Function.isFunction(d)&&d(e)}),[d]);return Object(R.jsxs)(Yc.a,Object(l.a)(Object(l.a)({className:" transition transition-colors bg-transparent focus:bg-opacity-10 ".concat(h.focused?"bg-gray-400 bg-opacity-5":"","  ").concat(i||""," ").concat(h.selected?"bg-gray-400 bg-opacity-25 focus:bg-opacity-25":""," "),onClick:O,onContextMenu:x},p),{},{ref:t,children:[Object(R.jsx)(gr.a,{children:Object(R.jsxs)(Ge.a,{variant:"dot",badgeContent:" ",anchorOrigin:{vertical:"bottom",horizontal:"right"},classes:{dot:"online"===(null===g||void 0===g?void 0:g.presence)?"bg-green-600":"away"===(null===g||void 0===g?void 0:g.presence)?"bg-yellow-600":"hidden"},children:[g.avatar&&Object(R.jsx)(Ol.a,{src:f.getAttachmentFileUrl(g.avatar),alt:g.primaryText,className:"text-base",sx:{backgroundColor:function(e){return e.palette.action.selected},color:function(e){return e.palette.text.primary}}}),!g.avatar&&Object(R.jsx)(Ol.a,{sx:{backgroundColor:function(e){return e.palette.action.selected},color:function(e){return e.palette.text.primary}},className:"text-sm",children:g.primaryText.length>0?g.primaryText.charAt(0).toUpperCase():Object(R.jsx)(Jl.a,{fontSize:"inherit"})})]})}),Object(R.jsx)(De.a,{className:"flex flex-col justify-center flex-1",primary:Object(R.jsx)(Tt.a,{variant:"caption",color:"textPrimary",className:"capitalize font-bold",children:g.primaryText}),secondary:Object(R.jsxs)("div",{className:"w-full flex flex-col",children:[g.secondaryText&&Object(R.jsx)(Tt.a,{variant:"body2",component:"div",className:"text-muted",sx:{fontSize:"0.7rem"},children:g.secondaryText}),Object(R.jsxs)(Tt.a,{variant:"caption",component:"div",sx:{fontSize:"0.7rem"},children:[Object(R.jsx)("span",{children:"Staff ID"}),Object(R.jsx)("span",{className:"px-2 text-bold",children:n.staff_id})]})]})}),("online"===g.presence||"away"===g.presence||h.selected)&&Object(R.jsx)(Fe.a,{className:"flex justify-end ".concat("online"===g.presence?"text-green-500":"away"===g.presence?"text-yellow-500":"text-gray-600"),children:h.selected?Object(R.jsx)(nr.a,{fontSize:"inherit"}):Object(R.jsx)(Zc.a,{fontSize:"inherit"})})]}))},eu=i.a.forwardRef($c),tu=["loadData","className","onClick","onContextMenu","keyword"],nu=["data","index"],au=function(e){var t=e.loadData,n=(e.className,e.onClick),i=e.onContextMenu,r=e.keyword,o=Object(T.a)(e,tu),c=(Object(oe.a)(),Object(s.c)(),Object(s.d)((function(e){return e.auth}))),d=(c.isAuthenticated,c.user,Object(E.c)().Api),p=Object(re.g)(),b=Object(ie.p)({selections:[],pagination:{page:1,pagination:10},loading:!1,focused:[],noDataText:"No Contacts available"}),f=Object(u.a)(b,3),j=f[0],m=f[1],h=f[2],v=Object(a.useRef)({sort:"first_name,last-name"}),g=(Object(a.useRef)(r),Object(a.useRef)(null)),O=Object(a.useRef)(null),x=Object(a.useRef)(!0),y=Object(a.useRef)(!1),w=Object(a.useRef)(64),k=Object(a.useRef)(null),N=Object(bt.useLiveQuery)((function(){return gc.a.contacts.toArray()}),[],[]),_=Object(ie.b)((function(e){var t=[];return Array.isArray(N)&&(t=String.isEmpty(j.keyword)?N:N.filter((function(e){return-1!=="".concat(e.first_name||""," ").concat(e.last_name||"").search(new RegExp("".concat(j.keyword),"i"))}))),t}),[N,j.keyword]),S=Object(a.useCallback)((function(e){return function(t){t.preventDefault(),_[e]&&p("/messaging/conversations?with=".concat(_[e].email_address||_[e]._id).toUriWithDashboardPrefix())}}),[n,_]),C=Object(a.useCallback)((function(e){return function(t){t.preventDefault(),m((function(t){var n,a;return{focused:-1===t.focused.indexOf(null===(n=_[e])||void 0===n?void 0:n._id)?t.focused.concat([null===(a=_[e])||void 0===a?void 0:a._id]):t.focused.filter((function(t){var n;return t!==(null===(n=_[e])||void 0===n?void 0:n._id)}))}})),Function.isFunction(i)&&i(t,e,_[e])}}),[i,_]);Object(ie.c)((function(){return k.current=Zo.a.on("clear-contacts-selection",(function(e){console.log("clear-contacts-selection called event",e),m({selections:[]})})),(0===_.length||t)&&(m({loading:!0}),d.get("/contacts",{params:Object(l.a)({},v.current)}).then((function(e){var t=e.body,n=t.data,a=t.page,i=t.pages,r=t.count;m((function(e){return{loading:!1,pagination:Object(l.a)(Object(l.a)({},e.pagination),{},{page:a,pages:i,count:r})}})),Object(gc.b)(n)})).catch((function(e){console.error("Get Contacts error",e),m({loading:!1})}))),function(){var e;Function.isFunction(null===(e=k.current)||void 0===e?void 0:e.remove)&&k.current.remove()}}));var A=Object(a.useCallback)((function(e){var t;e.preventDefault();var n=h().loading;console.log("onSearchFormSubmit searchInputRef.current.val",g.current.value),n||String.isEmpty(null===(t=g.current)||void 0===t?void 0:t.value)||(m({loading:!0}),d.get("/contacts",{params:Object(l.a)(Object(l.a)({},v.current),{},{q:g.current.value})}).then((function(e){var t=e.body,n=t.data;t.page,t.pages,t.count;console.log("onSearchFormSubmit res",e),m((function(e){return{loading:!1}})),Object(gc.b)(n)})).catch((function(e){console.error("Get Contacts error",e),m({loading:!1})})))}),[]),F=Object(a.useCallback)((function(e){e.index;return w.current}),[]),P=Object(a.useCallback)((function(e){var t=e.clientHeight,n=e.scrollHeight,a=e.scrollTop,i=h(),r=i.loading,o=i.pagination,s=i.keyword;if(console.log("handleOnScroll pagination",o),console.log("handleOnScroll loading",r),!r){var c=Math.round(n-a)-Math.round(t);x.current=c<=w.current,x.current?y.current=!1:y.current=a<=w.current,x.current&&o.page<o.pages&&String.isEmpty(s)&&(m({loading:!0}),d.get("/contacts",{params:Object(l.a)(Object(l.a)({},v.current),{},{page:o.page+1})}).then((function(e){var t=e.body,n=t.data,a=t.page,i=t.pages,r=t.count;m((function(e){return{loading:!1,pagination:Object(l.a)(Object(l.a)({},e.pagination),{},{page:a,pages:i,count:r})}})),Object(gc.b)(n),console.log("handleOnScroll res",e)})).catch((function(e){console.error("On Contacts Scroll error",e),m({loading:!1})})))}}),[]),D=Object(a.useCallback)((function(e){e.data;var t,n,a=e.index,i=Object(T.a)(e,nu),r=h(),o=r.selections,s=r.focused;r.keyword;if(a<_.length)return Object(R.jsx)(eu,Object(l.a)({data:_[a],onClick:S(a),onContextMenu:C(a),selected:-1!==o.indexOf(null===(t=_[a])||void 0===t?void 0:t._id),focused:-1!==s.indexOf(null===(n=_[a])||void 0===n?void 0:n._id)},i));le.a,Object(l.a)(Object(l.a)({className:"flex item-center justify-center"},i),{},{children:Object(R.jsx)(mn.a,{color:"accent"})})}),[_]),q=Object(a.useCallback)((function(){return Object(R.jsx)(Pn.a,{container:!0,spacing:2,className:"flex flex-col items-center justify-center h-full",children:Object(R.jsxs)(Pn.a,{item:!0,md:12,className:"flex flex-col items-center relative p-0 px-4 my-4 justify-center h-full",children:[Object(R.jsx)(Tt.a,{variant:"subtitle1",color:"textSecondary",className:"mx-0 my-12 h-20 w-20 md:w-40  md:h-40 rounded-full text-4xl md:text-6xl flex flex-row items-center justify-center",sx:{color:function(e){return e.palette.text.disabled},backgroundColor:function(e){return e.palette.background.paper}},children:Object(R.jsx)(Hl.a,{fontSize:"inherit"})}),Object(R.jsx)(Tt.a,{variant:"body2",color:"textSecondary",className:"mx-0",sx:{color:function(e){return e.palette.text.disabled}},children:j.noDataText})]})})}),[]),M=Object(a.useCallback)(Function.debounce((function(e){m({keyword:e.target.value,noDataText:String.isEmpty(e.target.value)?"No Contacts available":"No Results"})}),500),[]);return Object(R.jsxs)(le.a,{className:"flex flex-col h-full",children:[Object(R.jsx)(le.a,{children:Object(R.jsxs)(ka.a,{component:"form",className:"flex items-center mx-2 p-1 mt-2",onSubmit:A,children:[Object(R.jsx)(Na.c,{sx:{ml:1,flex:1},placeholder:"Search Contacts",defaultValue:j.keyword,onChange:M,inputProps:{"aria-label":"search contacts"},inputRef:g}),j.loading?Object(R.jsx)(mn.a,{size:18}):Object(R.jsx)(je.a,{type:"submit",size:"small","aria-label":"search",children:Object(R.jsx)(Ja.a,{fontSize:"inherit"})})]})}),Object(R.jsx)(le.a,{className:"flex-1 py-1",children:Object(R.jsx)(Gc.a,{className:"w-full",children:function(e){var t=e.width,n=e.height;return Object(R.jsx)(Kc.a,Object(l.a)(Object(l.a)({rowCount:j.loading?_.length+1:_.length,onScroll:P,rowHeight:F,height:n,width:t,rowRenderer:D,noRowsRenderer:q},o),{},{ref:O}))}})})]})},iu=i.a.memo(au),ru=n(1103),ou=n.n(ru),su=n(2039),lu=["data","className","selected","focused"],cu={video:nt.j,audio:nt.k,image:nt.g,file:nt.i},uu=i.a.forwardRef((function(e,t){var n,a,i,r,o,c,d,p,b,f,j,m,h,v,g,O,w,k,N,_=e.data,S=e.className,C=e.selected,A=e.focused,F=Object(T.a)(e,lu),P=Object(oe.a)(),D=(Object(s.c)(),Object(s.d)((function(e){return e.auth}))),q=Object(E.c)(),M=(q.SocketIO,q.Api),I=Object(ie.p)({loading:!1,primaryText:"",recipients:[],avatars:[],owner:!1,lastMessageContent:!1,lastMessageDeleted:!1,lastMessageSenderName:!1}),L=Object(u.a)(I,3),z=L[0],V=L[1],W=(L[2],(null===_||void 0===_?void 0:_.uuid)||(null===_||void 0===_?void 0:_._id)||_),J=Object(bt.useLiveQuery)(Object(y.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return V({loading:!0}),e.next=3,ut.a.messages.filter((function(e){return(null===e||void 0===e?void 0:e.conversation)===W||(null===e||void 0===e?void 0:e.conversation_uuid)===W})).last();case 3:return t=e.sent,V({loading:!1}),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)}))),[W],null),B=Object(bt.useLiveQuery)((function(){return ut.a.messages.where("conversation").equalsIgnoreCase(W).or("conversation_uuid").equalsIgnoreCase(W).and((function(e){var t,n="sent"===e.state&&e.sender!==(null===(t=D.user)||void 0===t?void 0:t._id);return n&&Array.isArray(e.reads)&&-1!==e.reads.indexOf(D.user)&&(n=!1),n})).count()}),[W,D],0),U=Object(ie.b)((function(){var e,t,n,a,i,r="",o=!1,s=!1,l=!1,c=!1,u=!1;J&&(l=J.content,(null===J||void 0===J?void 0:J.sender)===(null===(e=D.user)||void 0===e?void 0:e._id)||(null===J||void 0===J||null===(t=J.sender)||void 0===t?void 0:t._id)===(null===(n=D.user)||void 0===n?void 0:n._id)?u="You":(null===_||void 0===_?void 0:_.owner)===(null===J||void 0===J?void 0:J.sender)?u=_.started_by.first_name:Array.isArray(null===_||void 0===_?void 0:_.participants)&&(null===_||void 0===_||_.participants.map((function(e){e._id===J.sender&&(u=e.first_name)}))),("deleted-for-sender"!==(null===J||void 0===J?void 0:J.state)||(null===J||void 0===J?void 0:J.sender._id)!==(null===(a=D.user)||void 0===a?void 0:a._id)&&(null===J||void 0===J?void 0:J.sender)!==(null===(i=D.user)||void 0===i?void 0:i._id))&&"deleted-for-all"!==(null===J||void 0===J?void 0:J.state)||(c=!0));if("individual"==(null===_||void 0===_?void 0:_.type)){var d,p,b,f,j,m=(null===_||void 0===_||null===(d=_.owner)||void 0===d?void 0:d._id)||(null===_||void 0===_?void 0:_.owner);if((null===(p=D.user)||void 0===p?void 0:p._id)===m)Array.isArray(null===_||void 0===_?void 0:_.participants)&&(null===_||void 0===_?void 0:_.participants.length)>0&&(o=null===_||void 0===_?void 0:_.participants[0],r=(null===_||void 0===_?void 0:_.participants[0].first_name)+" "+(null===_||void 0===_?void 0:_.participants[0].last_name),s=null===_||void 0===_?void 0:_.participants[0].avatar);else if(null===_||void 0===_?void 0:_.started_by)o=null===_||void 0===_?void 0:_.started_by,r=(null===_||void 0===_||null===(b=_.started_by)||void 0===b?void 0:b.first_name)+" "+(null===_||void 0===_||null===(f=_.started_by)||void 0===f?void 0:f.last_name),s=null===_||void 0===_||null===(j=_.started_by)||void 0===j?void 0:j.avatar}else"group"==(null===_||void 0===_?void 0:_.type)&&(r=null===_||void 0===_?void 0:_.group_name,s=null===_||void 0===_?void 0:_.group_avatar);return{primaryText:"".concat(String.isEmpty(r)?"Unknown":r).capitalize(),avatar:s,owner:o,lastMessage:J,lastMessageContent:l,lastMessageDeleted:c,lastMessageSenderName:u}}),[_,J]);return Object(R.jsxs)(Yc.a,Object(l.a)(Object(l.a)({className:"px-8 transition transition-colors bg-transparent focus:bg-gray-300 focus:bg-opacity-10  ".concat(S||""," ").concat(C?"bg-gray-400 bg-opacity-25":""," ").concat(A?"bg-gray-300 bg-opacity-25":"")},F),{},{ref:t,children:[Object(R.jsx)(gr.a,{children:Object(R.jsxs)(Ge.a,{variant:"dot",badgeContent:" ",anchorOrigin:{vertical:"bottom",horizontal:"right"},classes:{dot:"online"===(null===(n=U.owner)||void 0===n?void 0:n.presence)?"bg-green-600":"away"==(null===(a=U.owner)||void 0===a?void 0:a.presence)?"bg-orange-500":"hidden"},children:[U.avatar&&Object(R.jsx)(Ol.a,{src:M.getAttachmentFileUrl(U.avatar),alt:U.primaryText,className:"text-base",sx:{backgroundColor:function(e){return e.palette.action.selected},color:function(e){return e.palette.text.primary}}}),!U.avatar&&Object(R.jsx)(Ol.a,{sx:{backgroundColor:function(e){return e.palette.action.selected},color:function(e){return e.palette.text.primary}},className:"text-sm",children:"group"===(null===_||void 0===_?void 0:_.type)?Object(R.jsx)(Ul.a,{fontSize:"inherit"}):Object(R.jsx)(Jl.a,{fontSize:"inherit"})})]})}),Object(R.jsx)(De.a,{className:"flex flex-col justify-center",primary:Object(R.jsx)(Tt.a,{variant:"body1",color:"textPrimary",className:"capitalize font-bold",children:U.primaryText}),secondary:Object(R.jsxs)("div",{className:"w-full flex flex-row",children:[Array.isArray(null===_||void 0===_?void 0:_.typing)&&Object(R.jsx)(Tt.a,{variant:"body2",color:"primary",className:"mx-0",children:(null===_||void 0===_?void 0:_.typing.length)>1?(null===_||void 0===_?void 0:_.typing.length)+" people are typing...":1===(null===_||void 0===_?void 0:_.typing.length)?(null===_||void 0===_?void 0:_.typing[0].first_name)+" is typing...":""}),(!Array.isArray(null===_||void 0===_?void 0:_.typing)||0===(null===_||void 0===_?void 0:_.typing.length))&&Object(R.jsxs)("div",{className:"w-full flex flex-row items-center",children:[Object(R.jsx)(Tt.a,{variant:"body2",color:"textPrimary",className:"font-bold mr-2",children:U.lastMessageSenderName||""}),!U.lastMessageDeleted&&Object(R.jsxs)(Tt.a,{variant:"body2",className:"flex-initial truncate mr-2 text-xs",sx:{color:function(e){return String.isEmpty(U.lastMessageContent)?e.palette.action.disabled:e.palette.text.primary}},children:[((null===(i=U.lastMessage)||void 0===i?void 0:i.type)in cu||z.loading)&&Object(R.jsx)(tt.a,{size:.5,path:z.loading?nt.d:cu[null===(r=U.lastMessage)||void 0===r?void 0:r.type],color:P.palette.text.disabled}),!z.loading&&U.lastMessageContent?U.lastMessageContent:!z.loading&&JSON.isEmpty(null===U||void 0===U?void 0:U.lastMessage)?"No messages yet":""]}),U.lastMessageDeleted&&Object(R.jsxs)("div",{className:"flex flex-row items-center flex-initial",style:{color:P.palette.divider},children:[Object(R.jsx)(Tt.a,{variant:"body1",color:"inherit",className:"flex-grow",children:"Message deleted"}),Object(R.jsx)(Cl.a,{className:"mx-1 text-xs",fontSize:"small"})]}),!U.lastMessageDeleted&&U.lastMessage&&Object(R.jsxs)("div",{className:"flex flex-row items-center ",style:{color:P.palette.text.disabled},children:["pending"===(null===(o=U.lastMessage)||void 0===o?void 0:o.state)&&!!(null===(c=U.lastMessage)||void 0===c?void 0:c.sender)&&(U.lastMessage.sender===(null===(d=D.user)||void 0===d?void 0:d._id)||U.lastMessage.sender._id===(null===(p=D.user)||void 0===p?void 0:p._id))&&Object(R.jsx)(Dl.a,{className:"mx-1 text-xs",fontSize:"small"}),"sent"===(null===(b=U.lastMessage)||void 0===b?void 0:b.state)&&U.lastMessage.sender===(null===(f=D.user)||void 0===f?void 0:f._id)&&Object(R.jsx)(Ha.a,{className:"mx-1 text-xs",fontSize:"small"}),("partially-received"===(null===(j=U.lastMessage)||void 0===j?void 0:j.state)||"received"===U.lastMessage.state)&&((null===(m=U.lastMessage)||void 0===m?void 0:m.sender)===(null===(h=D.user)||void 0===h?void 0:h._id)||(null===(v=U.lastMessage)||void 0===v?void 0:v.sender._id)===(null===(g=D.user)||void 0===g?void 0:g._id))&&Object(R.jsx)(Fl.a,{className:"mx-1 text-xs",fontSize:"small"}),("partially-read"===(null===(O=U.lastMessage)||void 0===O?void 0:O.state)||"read"===U.lastMessage.state)&&!!(null===(w=U.lastMessage)||void 0===w?void 0:w.sender)&&(U.lastMessage.sender===(null===(k=D.user)||void 0===k?void 0:k._id)||U.lastMessage.sender._id===(null===(N=D.user)||void 0===N?void 0:N._id))&&Object(R.jsx)(Fl.a,{className:"mx-1 text-xs",color:"secondary",fontSize:"small"})]})]}),(!Array.isArray(null===_||void 0===_?void 0:_.typing)||0===(null===_||void 0===_?void 0:_.typing.length))&&Object(R.jsx)(Tt.a,{variant:"body2",color:"secondary",className:"mx-2"})]})}),B>0&&Object(R.jsx)(su.a,{children:Object(R.jsx)(Ol.a,{className:"bg-transparent primary-text h-4 w-4 text-xs",children:B})})]}))})),du=i.a.memo(uu),pu=["fetchData","className","onConversationContextMenu","typing"],bu=function(e){var t=e.fetchData,n=e.className,i=e.onConversationContextMenu,r=(e.typing,Object(T.a)(e,pu),Object(oe.a)(),Object(s.c)()),o=Object(s.d)((function(e){return e.auth})),l=(o.isAuthenticated,o.user,Object(a.useRef)(null)),c=Object(bt.useLiveQuery)((function(){return ut.a.conversations.toArray()}),[],[]),d=Object(ie.b)((function(){return c.sort((function(e,t){return Date.parseFrom(t.last_used||t.created_on)-Date.parseFrom(e.last_used||e.created_on)}))}),[c]),p=Object(ie.p)({loading:Boolean(t),selected:-1,focused:-1}),b=Object(u.a)(p,3),f=(b[0],b[1]),j=b[2],m=(Object(a.useRef)(62),Object(a.useRef)(null),new ua.c({defaultHeight:30,fixedWidth:!1})),h=(Object(a.useCallback)((function(e,t){}),[]),Object(a.useCallback)((function(e){return function(t){r(Object(C.Bb)(d[e])),f({focused:e})}}),[d])),v=Object(a.useCallback)((function(e){return function(t){f({focused:e}),Function.isFunction(i)&&i(t,e,d[e])}}),[i,d]),g=Object(a.useCallback)((function(e){e.data;var t=e.index,n=(e.isScrolling,e.key),a=e.parent,i=e.style,r=j(),o=r.selected,s=r.focused;return Object(R.jsx)(ua.b,{cache:m,columnIndex:0,parent:a,rowIndex:t,children:function(e){var n=e.measure,a=e.registerChild;return Object(R.jsx)(du,{data:d[t],onClick:h(t),onContextMenu:v(t),selected:t===o,focused:t===s,onLoad:n,style:i,ref:a})}},n)}),[d,m]);Object(ie.c)((function(){var e=Zo.a.on("clear-conversation-selection",(function(e){console.log("clear-conversation-selection called event",e),f({focused:-1})}));return r(Object(C.qb)()),function(){e.remove()}}));var O=Object(a.useCallback)((function(){return Object(R.jsx)(Pn.a,{container:!0,spacing:2,className:"flex flex-col items-center justify-center h-full",children:Object(R.jsxs)(Pn.a,{item:!0,md:12,className:"flex flex-col items-center relative p-0 px-4 my-4 justify-center h-full",children:[Object(R.jsx)(Tt.a,{variant:"subtitle1",color:"textSecondary",className:"mx-0 my-12 h-20 w-20 md:w-40  md:h-40 rounded-full text-4xl md:text-6xl flex flex-row items-center justify-center",sx:{color:function(e){return e.palette.text.disabled},backgroundColor:function(e){return e.palette.background.paper}},children:Object(R.jsx)(ou.a,{fontSize:"inherit"})}),Object(R.jsx)(Tt.a,{variant:"body2",color:"textSecondary",className:"mx-0",sx:{color:function(e){return e.palette.text.disabled}},children:"You don't have any conversations yet"})]})})}),[]);return Object(R.jsx)(ua.a,{className:"w-full relative ".concat(n||""),children:function(e){var t=e.height,n=e.width;return Object(R.jsx)(ua.f,{rowCount:Array.isArray(d)?null===d||void 0===d?void 0:d.length:0,deferredMeasurementCache:m,rowHeight:m.rowHeight,width:n,height:t,rowRenderer:g,noRowsRenderer:O,ref:l})}})},fu=i.a.memo(bu),ju=n(429),mu=n.n(ju),hu=n(2043),vu=function(e){var t=Object(E.c)().Api,n=Object(ie.p)({records:[],loading:!1,error:!1}),i=Object(u.a)(n,2),r=i[0],o=i[1],s=Object(a.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o({loading:!0,error:!1}),t.get("/posts",{params:Object(l.a)(Object(l.a)({},e),{},{is:"type=blog",sort:"-created_on",pagination:"-1"})}).then((function(e){var t=Object(l.a)({},null===e||void 0===e?void 0:e.body).data;o({records:Array.isArray(t)?t:[],loading:!1,error:!1})})).catch((function(e){o({loading:!1,error:e})}))}),[]);return Object(ie.c)((function(){s({})})),Object(R.jsx)(Pn.a,{container:!0,className:"p-0 py-8",children:Object(R.jsxs)(Pn.a,{container:!0,className:"p-0",children:[r.loading&&Object(R.jsxs)(Pn.a,{item:!0,xs:12,className:"flex items-center flex-col justify-center",children:[Object(R.jsx)(I.a,{}),Object(R.jsx)(Tt.a,{color:"text.secondary",variant:"subtitle2",paragraph:!0,children:"Loading..."})]}),r.error&&Object(R.jsx)(Pn.a,{item:!0,xs:12,className:"flex items-center justify-center",children:Object(R.jsx)(Tt.a,{color:"error",variant:"subtitle2",paragraph:!0,children:r.error.msg})}),!r.loading&&0===r.records.length&&Object(R.jsxs)(Pn.a,{container:!0,sx:{color:function(e){return e.palette.text.secondary}},className:"p-0",children:[Object(R.jsx)(Pn.a,{item:!0,xs:12,sx:{fontSize:function(e){return e.spacing(10)}},className:"flex items-center flex-col justify-center",children:Object(R.jsx)(mu.a,{fontSize:"inherit"})}),Object(R.jsx)(Pn.a,{item:!0,xs:12,className:"flex items-center flex-col justify-center py-8",children:Object(R.jsx)(Tt.a,{color:"text.secondary",variant:"subtitle2",paragraph:!0,children:"No Posts yet"})})]}),Object(R.jsx)(Pn.a,{container:!0,sx:{color:function(e){return e.palette.text.secondary}},className:"p-0",children:!r.loading&&r.records.length>0&&r.records.map((function(e){return Object(R.jsx)(Pn.a,{item:!0,xs:12,md:4,className:"flex flex-row ",children:Object(R.jsxs)(ma.a,{children:[e.featured_image&&Object(R.jsx)(va.a,{component:"img",height:"140",image:t.getAttachmentFileUrl(e.featured_image),alt:"Featured Image"}),Object(R.jsxs)(ga.a,{children:[Object(R.jsx)(Tt.a,{gutterBottom:!0,variant:"h5",component:"div",children:e.title}),Object(R.jsx)(Tt.a,{gutterBottom:!0,variant:"caption",component:"div",children:Date.prose(Date.parseFrom(e.created_on))}),Object(R.jsx)(Tt.a,{variant:"body2",color:"text.secondary",children:e.content.truncate(100)})]}),Object(R.jsx)(hu.a,{children:Object(R.jsx)(g.b,{className:"flex flex-col",to:"/community/posts/".concat(e._id).toUriWithLandingPagePrefix(),color:"inherit",children:Object(R.jsx)(mt.a,{size:"small",children:"Read More"})})})]})},"post-".concat(e._id))}))})]})})},gu=i.a.memo(vu),Ou=n(1104),xu=n.n(Ou),yu=function(e){var t,n,i,r,o=Object(E.c)().Api,s=Object(re.f)(),c=Object(ie.p)({record:null,loading:!0,error:!1,comments:[]}),d=Object(u.a)(c,2),p=d[0],b=d[1],f=Object(a.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};b({loading:!0,error:!1}),o.get("/posts/".concat(e),{params:Object(l.a)(Object(l.a)({},t),{},{populate:"1"})}).then((function(e){var t=Object(l.a)({},null===e||void 0===e?void 0:e.body).data;document.title=A.a.title(t.title||"Post"),b({record:JSON.isJSON(t)?t:null,loading:!1,error:!1})})).catch((function(e){b({loading:!1,error:e})}))}),[]);return Object(a.useEffect)((function(){var e=s.pathname.split("/"),t=e[e.length-1];f(t,{}),console.log("slugId",t)}),[s.pathname]),Object(R.jsx)(Pn.a,{container:!0,className:"p-0 py-8",children:Object(R.jsxs)(Pn.a,{container:!0,className:"p-0",children:[p.loading&&Object(R.jsxs)(Pn.a,{item:!0,xs:12,className:"flex items-center flex-col justify-center",children:[Object(R.jsx)(I.a,{}),Object(R.jsx)(Tt.a,{color:"text.secondary",variant:"subtitle2",paragraph:!0,children:"Loading..."})]}),p.error&&Object(R.jsx)(Pn.a,{item:!0,xs:12,className:"flex items-center justify-center",children:Object(R.jsx)(Tt.a,{color:"error",variant:"subtitle2",paragraph:!0,children:p.error.msg})}),!p.loading&&JSON.isEmpty(p.record)&&Object(R.jsxs)(Pn.a,{container:!0,sx:{color:function(e){return e.palette.text.secondary}},className:"p-0",children:[Object(R.jsx)(Pn.a,{item:!0,xs:12,sx:{fontSize:function(e){return e.spacing(10)}},className:"flex items-center flex-col justify-center",children:Object(R.jsx)(mu.a,{fontSize:"inherit"})}),Object(R.jsx)(Pn.a,{item:!0,xs:12,className:"flex items-center flex-col justify-center py-8",children:Object(R.jsx)(Tt.a,{color:"text.secondary",variant:"subtitle2",paragraph:!0,children:"Post not found"})})]}),p.record&&Object(R.jsxs)(Pn.a,{container:!0,sx:{color:function(e){return e.palette.text.secondary}},className:"p-0",children:[Object(R.jsx)(Pn.a,{item:!0,xs:12,md:8,sx:{fontSize:function(e){return e.spacing(10)}},className:"flex items-center flex-col justify-center",children:Object(R.jsxs)(Pn.a,{container:!0,className:"p-0",children:[Object(R.jsxs)(Pn.a,{item:!0,xs:12,children:[Object(R.jsx)(Tt.a,{color:"text.disabled",variant:"body2",paragraph:!0,children:Date.prose(Date.parseFrom(p.record.created_on))}),Object(R.jsx)(Tt.a,{color:"text.secondary",variant:"h4",paragraph:!0,children:p.record.title}),Object(R.jsx)(Tt.a,{color:"accent.main",variant:"subtitle2",paragraph:!0,children:"By ".concat((null===(t=p.record.author)||void 0===t?void 0:t.first_name)||""," ").concat((null===(n=p.record.author)||void 0===n?void 0:n.last_name)||"")})]}),Object(R.jsx)(Pn.a,{item:!0,xs:12,children:Object(R.jsx)(Tt.a,{variant:"body1",color:"text.secondary",component:"div",children:p.record.content})})]})}),Object(R.jsx)(Pn.a,{item:!0,xs:12,md:4,className:"p-0 md:pt-16 md:pl-6",children:Object(R.jsx)(ma.a,{children:Object(R.jsxs)(ga.a,{children:[Object(R.jsx)(Pn.a,{container:!0,className:"p-0",children:Object(R.jsx)(Pn.a,{item:!0,xs:12,children:Object(R.jsx)(Tt.a,{color:"accent.main",variant:"subtitle2",paragraph:!0,children:"Comments (".concat((null===(i=p.comments)||void 0===i?void 0:i.length)||0,")")})})}),Object(R.jsx)(Pn.a,{container:!0,className:"p-0",children:0===(null===(r=p.comments)||void 0===r?void 0:r.length)&&Object(R.jsxs)(Pn.a,{item:!0,xs:12,className:"flex flex-col items-center p-4",sx:{fontSize:function(e){return e.spacing(10)},color:function(e){return e.palette.text.disabled}},children:[Object(R.jsx)(xu.a,{fontSize:"inherit"}),Object(R.jsx)(Tt.a,{color:"text.disabled",variant:"caption",paragraph:!0,children:"No Comments yet"})]})})]})})})]})]})})},wu=i.a.memo(yu),ku=function(e){return Object(ie.c)((function(){document.title=A.a.title("Community")})),Object(R.jsxs)(Pn.a,{container:!0,className:"md:px-32 py-20",children:[Object(R.jsxs)(Pn.a,{container:!0,className:"p-0 ",sx:{background:function(e){return e.palette.background.paper}},children:[Object(R.jsx)(Pn.a,{item:!0,xs:12,children:Object(R.jsx)(Tt.a,{variant:"h3",sx:{color:function(e){return e.palette.accent.main}},color:"accent",children:"Realfield Community"})}),Object(R.jsx)(Pn.a,{item:!0,xs:12,className:"my-8",children:Object(R.jsx)(Tt.a,{variant:"subtitle2",sx:{color:function(e){return e.palette.accent.main}},color:"accent",children:"Welcome to the Realfield Community Page! We hope you enjoy the content and invite you to share your thoughts on the articles we post in the comments section"})})]}),Object(R.jsx)(Pn.a,{container:!0,className:"p-0 ",sx:{background:function(e){return e.palette.background.paper}},children:Object(R.jsx)(Pn.a,{item:!0,xs:12,children:Object(R.jsx)("img",{src:"/img/map_with_fielders.png",alt:"Fielders Map",className:"w-full h-auto"})})}),Object(R.jsx)(Pn.a,{container:!0,className:"p-0",sx:{background:function(e){return e.palette.background.paper}},children:Object(R.jsx)(re.a,{})})]})},Nu=i.a.memo(ku),_u=["events","notifications","surveys","queries","commissions","responses","teams","tracks","invoices","payments","orders","orderitems","retailitems","coupons","currencies","fulfilments","vacancies","applications","users","forms","attachments","actionlogs","responses","posts","demorequests","quoterequests","courses","quizes","questions","answers","results"],Su=function(){return Object(R.jsxs)(re.d,{children:[Object(R.jsxs)(re.b,{path:"/".toUriWithLandingPagePrefix(),element:Object(R.jsx)(Fn,{routing:"landingpage",layout:"landingpage",layoutProps:{showHeader:!0,showFooter:!0}}),children:[Object(R.jsx)(re.b,{exact:!0,path:"/home".toUriWithLandingPagePrefix(),element:Object(R.jsx)(qi,{})}),Object(R.jsx)(re.b,{exact:!0,path:"/recruitment".toUriWithLandingPagePrefix(),element:Object(R.jsx)(zi,{})}),Object(R.jsx)(re.b,{exact:!0,path:"/jobs".toUriWithLandingPagePrefix(),element:Object(R.jsx)(zi,{})}),Object(R.jsx)(re.b,{exact:!0,path:"/apply".toUriWithLandingPagePrefix(),element:Object(R.jsx)(Gi,{})}),Object(R.jsx)(re.b,{exact:!0,path:"/order".toUriWithLandingPagePrefix(),element:Object(R.jsx)(vr,{})}),Object(R.jsx)(re.b,{exact:!0,path:"/catalog".toUriWithLandingPagePrefix(),element:Object(R.jsx)(Tr,{})}),Object(R.jsx)(re.b,{exact:!0,path:"/catalog/:id".toUriWithLandingPagePrefix(),element:Object(R.jsx)(co,{})}),Object(R.jsx)(re.b,{exact:!0,path:"/request-quote".toUriWithLandingPagePrefix(),element:Object(R.jsx)(vr,{})}),Object(R.jsx)(re.b,{exact:!0,path:"/faqs".toUriWithLandingPagePrefix(),element:Object(R.jsx)(Gr,{})}),Object(R.jsx)(re.b,{exact:!0,path:"/about-us".toUriWithLandingPagePrefix(),element:Object(R.jsx)(Xr,{})}),Object(R.jsx)(re.b,{exact:!0,path:"/why-us".toUriWithLandingPagePrefix(),element:Object(R.jsx)(ao,{})}),Object(R.jsx)(re.b,{exact:!0,path:"/cart".toUriWithLandingPagePrefix(),element:Object(R.jsx)(_r,{})}),Object(R.jsx)(re.b,{exact:!0,path:"/checkout".toUriWithLandingPagePrefix(),element:Object(R.jsx)(fo,{})}),Object(R.jsx)(re.b,{exact:!0,path:"/privacy-policy".toUriWithLandingPagePrefix(),element:Object(R.jsx)(ko,{})}),Object(R.jsx)(re.b,{exact:!0,path:"/ethical-principles".toUriWithLandingPagePrefix(),element:Object(R.jsx)(Ao,{})}),Object(R.jsx)(re.b,{exact:!0,path:"/thankyou".toUriWithLandingPagePrefix(),element:Object(R.jsx)(go,{})}),Object(R.jsx)(re.b,{exact:!0,path:"/request-demo".toUriWithLandingPagePrefix(),element:Object(R.jsx)(Eo,{})}),Object(R.jsx)(re.b,{exact:!0,path:"/compose-project".toUriWithLandingPagePrefix(),element:Object(R.jsx)(To,{})}),Object(R.jsxs)(re.b,{exact:!0,path:"/community".toUriWithLandingPagePrefix(),element:Object(R.jsx)(Nu,{}),children:[Object(R.jsx)(re.b,{path:"/community/".toUriWithLandingPagePrefix(),element:Object(R.jsx)(gu,{})}),Object(R.jsx)(re.b,{path:"/community/posts".toUriWithLandingPagePrefix(),element:Object(R.jsx)(gu,{})}),Object(R.jsx)(re.b,{path:"/community/posts/:id".toUriWithLandingPagePrefix(),element:Object(R.jsx)(wu,{})}),Object(R.jsx)(re.b,{path:"/community/post/:id".toUriWithLandingPagePrefix(),element:Object(R.jsx)(wu,{})})]}),Object(R.jsx)(re.b,{path:"*".toUriWithLandingPagePrefix(),element:Object(R.jsx)(Lo,{})})]}),Object(R.jsxs)(re.b,{path:"/auth",element:Object(R.jsx)(Io,{}),children:[Object(R.jsx)(re.b,{index:!0,path:"/auth/login",element:Object(R.jsx)(yr.a,{})}),Object(R.jsx)(re.b,{path:"/auth/signin",element:Object(R.jsx)(yr.a,{})}),Object(R.jsx)(re.b,{path:"/auth/forgot-password",element:Object(R.jsx)(Uo,{})}),Object(R.jsx)(re.b,{path:"/auth/recover-account",element:Object(R.jsx)(Uo,{})}),Object(R.jsx)(re.b,{path:"/auth/reset-password",element:Object(R.jsx)(Ko,{})}),Object(R.jsx)(re.b,{path:"/auth/signup/:role",element:Object(R.jsx)(Yn,{})}),Object(R.jsx)(re.b,{path:"/auth/register/:role",element:Object(R.jsx)(Yn,{})})]}),Object(R.jsxs)(re.b,{path:"/".toUriWithDashboardPrefix(),element:Object(R.jsx)(Fn,{routing:"dashboard",layout:"dashboard",layoutProps:{showHeader:!0,showFooter:!0}}),children:[Object(R.jsx)(re.b,{path:"/home".toUriWithDashboardPrefix(),element:Object(R.jsx)(Bc,{})}),Object(R.jsx)(re.b,{exact:!0,path:"/calendar".toUriWithDashboardPrefix(),element:Object(R.jsx)(Hs,{context:"events"})}),Object(R.jsxs)(re.b,{exact:!0,path:"/messaging".toUriWithDashboardPrefix(),element:Object(R.jsx)(Lc,{}),children:[Object(R.jsx)(re.b,{index:!0,path:"/messaging/conversations".toUriWithDashboardPrefix(),element:Object(R.jsx)(fu,{})}),Object(R.jsx)(re.b,{index:!0,path:"/messaging/contacts".toUriWithDashboardPrefix(),element:Object(R.jsx)(iu,{})}),Object(R.jsx)(re.b,{index:!0,path:"/messaging/".toUriWithDashboardPrefix(),element:Object(R.jsx)(fu,{})}),Object(R.jsx)(re.b,{index:!0,path:"/messaging/*".toUriWithDashboardPrefix(),element:Object(R.jsx)(fu,{})})]}),Object(R.jsx)(re.b,{exact:!0,path:"/messages".toUriWithDashboardPrefix(),element:Object(R.jsx)(Vc,{})}),_u.map((function(e,t){return Object(R.jsxs)(re.b,{exact:!0,path:"".concat(e).toUriWithDashboardPrefix(),element:Object(R.jsx)(Ws,{context:e}),children:[Object(R.jsx)(re.b,{path:"".concat(e,"/view/:id").toUriWithDashboardPrefix(),element:Object(R.jsx)(nl,{context:e})}),Object(R.jsx)(re.b,{exact:!0,path:"".concat(e,"/edit/:id").toUriWithDashboardPrefix(),element:Object(R.jsx)(zs,{context:e})}),Object(R.jsx)(re.b,{path:"".concat(e,"/add").toUriWithDashboardPrefix(),element:Object(R.jsx)(zs,{context:e})}),Object(R.jsx)(re.b,{path:"".concat(e,"/new").toUriWithDashboardPrefix(),element:Object(R.jsx)(zs,{context:e})}),Object(R.jsx)(re.b,{index:!0,path:"".concat(e,"/*").toUriWithDashboardPrefix(),element:Object(R.jsx)(Hs,{context:e})})]},"context-route-"+e)})),Object(R.jsx)(re.b,{path:"/account".toUriWithDashboardPrefix(),element:Object(R.jsx)(gl,{})}),Object(R.jsx)(re.b,{path:"/preferences".toUriWithDashboardPrefix(),element:Object(R.jsx)(hs,{})}),Object(R.jsx)(re.b,{path:"/settings".toUriWithDashboardPrefix(),element:Object(R.jsx)(Ls,{})}),Object(R.jsx)(re.b,{path:"/*".toUriWithDashboardPrefix(),element:Object(R.jsx)(Lo,{})})]}),Object(R.jsx)(re.b,{path:"*",element:Object(R.jsx)(Fn,{routing:"landingpage",layout:"landingpage",layoutProps:{showHeader:!0,showFooter:!0}}),children:Object(R.jsx)(re.b,{path:"*",element:Object(R.jsx)(Lo,{})})})]})},Cu=(n(1757),n(1758),n(1759),Object(z.d)());Cu.use(Object(J.a)(),Object(B.a)());var Au=function(){Cu.setup(Object(V.a)());var e=new z.c,t=Cu.createStyleSheet({"@global":Object(l.a)({},ae)}).attach();return e.add(t),e}(),Fu=Object(s.b)((function(e){return{app:e.app}}),{})((function(e){var t=e.app,n=t.preferences,a=(t.initialized,Object(U.a)("(prefers-color-scheme: dark)")),i=Object(ie.b)((function(){var e=a||"dark"===n.theme?"dark":"light",t=A.e;return t.palette.mode=e,t.palette.background={default:"dark"===e?"#2b2b2b":"#f3f3f3",paper:"dark"===e?"#121212":"#ffffff"},t.palette.text={primary:"dark"===e?"#ffffff":"#424242",contrast:"dark"===e?"#1a1a1a":"#ffffff",contrastDark:"dark"===e?"#ffffff":"#141414",secondary:"dark"===e?"#d4d4d4":"#737373",disabled:"#999999"},Object(P.a)(Object(l.a)(Object(l.a)({},t),{},{components:{MuiButton:{styleOverrides:function(e){var t=e.ownerState;return console.log("MuiButton styleOverrides style",e),Object(l.a)({},t.rounded&&{backgroundColor:"#202020",color:"#fff"})}}}}))}),[a,n.theme]);return Object(R.jsx)(D.a,{theme:i,children:Object(R.jsx)(W.a,{jss:Cu,registry:Au,children:Object(R.jsx)(E.a,{children:Object(R.jsx)(E.b,{children:Object(R.jsx)(g.a,{children:Object(R.jsx)(Su,{})})})})})})}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Pu=n(746);o.a.render(Object(R.jsx)(s.a,{store:Pu.a,children:Object(R.jsx)(Fu,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.register("".concat("","/firebase-messaging-sw.js")).then((function(e){})).catch((function(e){})),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},177:function(e,t,n){"use strict";var a=n(2),i=n(4),r=n(15),o=n(24),s=n(66),l=n.n(s),c=(n(1),n(0)),u=["className","size","color","text","text_color"],d={sm:"h-2 w-2",md:"h-2 w-2",lg:"h-4 w-4"},p=function(e){var t,n,s=e.className,p=e.size,b=e.color,f=e.text,j=e.text_color,m=Object(r.a)(e,u),h=l()((t={},Object(i.a)(t,"flex my-4 rounded-full items-center",!0),Object(i.a)(t,s,s),t)),v=l()((n={},Object(i.a)(n,"my-4 mx-1 rounded-full h-2 w-2",!0),Object(i.a)(n,d[p],!!p),n));return Object(c.jsxs)("span",Object(a.a)(Object(a.a)({},m),{},{className:h,children:[Object(c.jsx)("span",{className:v,style:{backgroundColor:b,boxShadow:"0 0 0 2px "+o.b.hex.inverse}}),Object(c.jsx)("span",{style:{color:j},children:f})]}))};p.defaultProps={size:"md",text:"",color:o.b.hex.primary,text_color:o.b.hex.default},t.a=p},199:function(e,t,n){"use strict";var a=n(1),i=n.n(a),r=n(1045),o=(n(1428),n(18)),s=n(9),l=n(0),c={"ps-scroll-y":"onScrollY","ps-scroll-x":"onScrollX","ps-scroll-up":"onScrollUp","ps-scroll-down":"onScrollDown","ps-scroll-left":"onScrollLeft","ps-scroll-right":"onScrollRight","ps-y-reach-start":"onYReachStart","ps-y-reach-end":"onYReachEnd","ps-x-reach-start":"onXReachStart","ps-x-reach-end":"onXReachEnd"};Object.freeze(c);var u=i.a.forwardRef((function(e,t){t=t||Object(a.createRef)();var n=Object(a.useRef)(null),i=Object(a.useRef)(new Map),o=e.customScrollbars,u=e.device,d="mobile"===u.type||"tablet"===u.type,p=Object(a.useCallback)((function(){Object.keys(c).forEach((function(n){var a=e[c[n]];if(a){var r=function(){return a(t.current)};i.current.set(n,r),t.current.addEventListener(n,r,!1)}}))}),[t]),b=Object(a.useCallback)((function(){Object.keys(i.current).forEach((function(e,n){t.current&&t.current.removeEventListener(n,e,!1)})),i.current.clear()}),[t]),f=Object(a.useCallback)((function(){b(),n.current&&(n.current.destroy(),n.current=null)}),[b]),j=Object(a.useCallback)((function(){d||!t||n.current||(n.current=new r.a(t.current,e.option),p())}),[p,e.option,t]);return Object(a.useEffect)((function(){n.current&&n.current.update()})),Object(a.useEffect)((function(){o?j():f()}),[j,o,f]),Object(a.useEffect)((function(){e.scrollToTopOnChildChange&&(t.current.scrollTop=0),e.scrollToBottomOnChildChange&&(t.current.scrollTop=t.current.scrollHeight-t.current.getBoundingClientRect().height)}),[e.children,e.scrollToTopOnChildChange,e.scrollToBottomOnChildChange,t]),Object(a.useEffect)((function(){return function(){f()}}),[f]),Object(l.jsx)("div",{id:e.id,className:Object(s.default)(e.className),style:e.customScrollbars&&(e.enable,1)&&!d?{position:"relative",overflowY:"hidden",overflowX:"hidden"}:{},ref:t,children:e.children})}));u.defaultProps={customScrollbars:!0,className:"",enable:!0,scrollToTopOnChildChange:!1,scrollToBottomOnChildChange:!1,option:{wheelPropagation:!0}},t.a=Object(o.b)((function(e){return{device:e.device}}),null,null,{forwardRef:!0})(i.a.memo(u))},21:function(e,t,n){"use strict";n.d(t,"Q",(function(){return a.Z})),n.d(t,"eb",(function(){return a.tb})),n.d(t,"W",(function(){return a.jb})),n.d(t,"bb",(function(){return a.qb})),n.d(t,"Z",(function(){return a.nb})),n.d(t,"B",(function(){return a.I})),n.d(t,"cb",(function(){return a.rb})),n.d(t,"db",(function(){return a.sb})),n.d(t,"K",(function(){return a.S})),n.d(t,"L",(function(){return a.T})),n.d(t,"G",(function(){return a.O})),n.d(t,"H",(function(){return a.P})),n.d(t,"I",(function(){return a.Q})),n.d(t,"N",(function(){return a.V})),n.d(t,"J",(function(){return a.R})),n.d(t,"M",(function(){return a.U})),n.d(t,"S",(function(){return a.bb})),n.d(t,"T",(function(){return a.cb})),n.d(t,"U",(function(){return a.db})),n.d(t,"R",(function(){return a.ab})),n.d(t,"t",(function(){return a.A})),n.d(t,"r",(function(){return a.u})),n.d(t,"D",(function(){return a.L})),n.d(t,"a",(function(){return a.b})),n.d(t,"x",(function(){return a.E})),n.d(t,"s",(function(){return a.w})),n.d(t,"Y",(function(){return a.mb})),n.d(t,"X",(function(){return a.lb})),n.d(t,"E",(function(){return a.M})),n.d(t,"F",(function(){return a.N})),n.d(t,"A",(function(){return a.H})),n.d(t,"O",(function(){return a.W})),n.d(t,"v",(function(){return a.C})),n.d(t,"n",(function(){return a.p})),n.d(t,"ab",(function(){return a.ob})),n.d(t,"z",(function(){return a.G})),n.d(t,"q",(function(){return a.t})),n.d(t,"C",(function(){return a.J})),n.d(t,"u",(function(){return a.B})),n.d(t,"k",(function(){return a.m})),n.d(t,"l",(function(){return a.n})),n.d(t,"V",(function(){return a.gb})),n.d(t,"y",(function(){return a.F})),n.d(t,"p",(function(){return a.r})),n.d(t,"P",(function(){return a.X})),n.d(t,"w",(function(){return a.D})),n.d(t,"o",(function(){return a.q})),n.d(t,"m",(function(){return a.o})),n.d(t,"c",(function(){return a.d})),n.d(t,"h",(function(){return a.i})),n.d(t,"b",(function(){return a.c})),n.d(t,"e",(function(){return a.f})),n.d(t,"d",(function(){return a.e})),n.d(t,"i",(function(){return a.j})),n.d(t,"f",(function(){return a.g})),n.d(t,"g",(function(){return a.h})),n.d(t,"j",(function(){return a.l})),n.d(t,"Gb",(function(){return i.c})),n.d(t,"Vb",(function(){return i.e})),n.d(t,"Jb",(function(){return i.d})),n.d(t,"tb",(function(){return i.b})),n.d(t,"lb",(function(){return r})),n.d(t,"ub",(function(){return o})),n.d(t,"ib",(function(){return s.a})),n.d(t,"gb",(function(){return l})),n.d(t,"wb",(function(){return c})),n.d(t,"Hb",(function(){return u})),n.d(t,"nb",(function(){return d})),n.d(t,"Rb",(function(){return p})),n.d(t,"Qb",(function(){return b})),n.d(t,"Ib",(function(){return f})),n.d(t,"yb",(function(){return j})),n.d(t,"Kb",(function(){return m})),n.d(t,"Tb",(function(){return h})),n.d(t,"xb",(function(){return v})),n.d(t,"Lb",(function(){return g})),n.d(t,"kb",(function(){return O})),n.d(t,"hb",(function(){return x})),n.d(t,"Eb",(function(){return y})),n.d(t,"fb",(function(){return w})),n.d(t,"vb",(function(){return k})),n.d(t,"Fb",(function(){return N})),n.d(t,"Cb",(function(){return _})),n.d(t,"Db",(function(){return S})),n.d(t,"Pb",(function(){return C})),n.d(t,"Wb",(function(){return A})),n.d(t,"Nb",(function(){return F})),n.d(t,"Ub",(function(){return P})),n.d(t,"Sb",(function(){return D})),n.d(t,"jb",(function(){return E})),n.d(t,"sb",(function(){return T.a})),n.d(t,"ob",(function(){return V})),n.d(t,"mb",(function(){return Y})),n.d(t,"pb",(function(){return Q})),n.d(t,"qb",(function(){return U})),n.d(t,"rb",(function(){return G})),n.d(t,"zb",(function(){return $})),n.d(t,"Ab",(function(){return X})),n.d(t,"Bb",(function(){return K})),n.d(t,"Mb",(function(){return ee})),n.d(t,"Ob",(function(){return te}));var a=n(71),i=n(232);function r(){return{type:a.u}}function o(e){return{type:a.A,options:e}}var s=n(268);function l(e){return{type:a.b,entry:e}}function c(e){return{type:a.E,entry:e}}function u(e){return{type:a.M,note:e}}function d(){return{type:a.w}}function p(e){return{type:a.mb,order_progress:e}}function b(e){return{type:a.lb,order:e}}function f(e){return{type:a.N,checkout_data:e}}function j(){return{type:a.H}}function m(e,t){return{type:a.W,key:e,data:t}}function h(e,t){return{type:a.ob,key:e,res:t}}function v(e){return{type:a.G,key:e}}function g(e,t){return{type:a.X,key:e,emailing:t}}function O(){return{type:a.q}}function x(e,t){return{type:a.d,key:e,options:t}}function y(e,t){return{type:a.i,key:e,loading:t}}function w(e){return{type:a.c,task:e}}function k(e){return{type:a.f,task:e}}function N(e,t){return{type:a.j,key:e,response:t}}function _(e,t){return{type:a.g,key:e,complete:t}}function S(e,t){return{type:a.h,key:e,error:t}}function C(e){return{type:a.jb,onboarded:e}}function A(e){return{type:a.tb,version:e}}function F(e){return{type:a.Z,initialized:e}}function P(e){return{type:a.qb,settings:e}}function D(e){return{type:a.nb,preferences:e}}function E(){return{type:a.l}}var T=n(250),q=n(5),M=n.n(q),I=n(2),R=n(10),L=n(35),z=n(117);function V(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(){var n=Object(R.a)(M.a.mark((function n(a,i){var r,o,s,l,c,u;return M.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=i(),!r.auth.isAuthenticated){n.next=11;break}if(l=JSON.isJSON(e),c=(null===(o=e)||void 0===o?void 0:o._id)||(null===(s=e)||void 0===s?void 0:s.uuid)||e,!JSON.isJSON(e)){n.next=9;break}return n.next=7,L.a.get("/messages/".concat(c),{params:l?{}:{populate:"sender"}}).then((function(e){return e.body.data})).catch((function(e){return!1}));case 7:u=n.sent,JSON.isJSON(u)&&(e=l?Object(I.a)(Object(I.a)({},e),u):u);case 9:if(JSON.isJSON(e))try{Object(z.e)(e)}catch(error){console.error("message error",error)}else t&&c&&l&&L.a.put("/messages/"+c,e).then((function(e){var t,n;if(JSON.isJSON(null===e||void 0===e||null===(t=e.body)||void 0===t?void 0:t.data)&&!JSON.isEmpty(null===e||void 0===e||null===(n=e.body)||void 0===n?void 0:n.data))try{Object(z.e)(e.body.data)}catch(error){console.error("persist onMessage message error",error)}})).catch((function(e){return console.error("persist message error",error),!1}));return n.abrupt("return",e);case 11:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}var W=n(30);function J(e,t){return{type:a.gb,key:e,messaging:t}}var B=n(413);function U(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var t=Object(R.a)(M.a.mark((function t(n,a){var i,r,o,s;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=a(),r=i.auth,i.communication.messaging.conversations,o=[],!r.isAuthenticated){t.next=8;break}return n(J("fetching_inbox",!0)),t.next=6,L.a.get("/inbox",{params:Object(I.a)({},e)}).then((function(e){return e.body.data})).catch((function(e){return!1}));case 6:s=t.sent,Array.isArray(s)&&Object(B.c)(s);case 8:return n(J("fetching_inbox",!1)),t.abrupt("return",o);case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}function G(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function(){var a=Object(R.a)(M.a.mark((function a(i,r){var o,s,l,c;return M.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,o=r(),s=o.auth,o.communication.messaging.active_conversation,!s.isAuthenticated){a.next=12;break}if(l=(null===e||void 0===e?void 0:e._id)||e.uuid||e,c=Object(I.a)({sort:"-timestamp",pagination:50,page:1,conversation:l,populate:"sender,conversation"},t),!l){a.next=9;break}L.a.get("/messages",{params:Object(I.a)({},c)}).then((function(e){var t=Object(I.a)({},e.body).data;Array.isArray(t)&&n&&Object(B.e)(t)})).catch((function(e){return{}})),a.next=10;break;case 9:throw"Conversation ID is missing";case 10:a.next=13;break;case 12:throw"Unauthorized";case 13:a.next=17;break;case 15:a.prev=15,a.t0=a.catch(0);case 17:case"end":return a.stop()}}),a,null,[[0,15]])})));return function(e,t){return a.apply(this,arguments)}}()}var H=n(136);function K(e){return function(){var t=Object(R.a)(M.a.mark((function t(n,a){var i,r,o,s,l;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=a(),r=i.auth,o=i.communication.messaging.active_conversation,!e){t.next=8;break}return t.next=4,H.a.conversations.where("status").equalsIgnoreCase("available").toArray();case 4:s=t.sent,Array.isArray(s)?(l=Object(T.a)(s,e),r.isAuthenticated&&-1!==l&&s[l].uuid!==o&&s[l]._id!==o&&(n(J("active_conversation",s[l].uuid||s[l]._id)),n(G(s[l],{})))):n(J("active_conversation",null)),t.next=9;break;case 8:n(J("active_conversation",null));case 9:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}function Y(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(){var n=Object(R.a)(M.a.mark((function n(a,i){var r,o,s,l,c;return M.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=i(),o=r.auth,s=r.communication.messaging.conversations,!o.isAuthenticated){n.next=10;break}return a(J("creating_conversation",!0)),l=Object(I.a)({uuid:String.uuid()},e),n.next=6,L.a.post("/conversations",l).then(function(){var e=Object(R.a)(M.a.mark((function e(t){var n,i,r;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.body.data,i=n,r=s,Array.isArray(r)?r.unshift(i):r=[i],e.next=7,a(U());case 7:return a(J("creating_conversation",!1)),e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){if(409===e.status&&e.body&&JSON.isJSON(e.body.data)){var n,i,r,o=Object(I.a)(Object(I.a)({},null===e||void 0===e||null===(n=e.body)||void 0===n?void 0:n.data),{},{state:JSON.merge({conversation:e.body.data._id,total:0,read:0,unread:0,incoming_total:0,incoming_read:0,incoming_unread:0,outgoing_total:0,outgoing_read:0,outgoing_unread:0,last_message:{content:"",sender:null,type:"text",context:null,record:null,attachments:[],status:"available",reads:[],receipts:[],is_reply:!1,reply_for:null,timestamp:new Date}},(null===e||void 0===e||null===(i=e.body)||void 0===i||null===(r=i.data)||void 0===r?void 0:r.state)||{})}),c=Object(W.a)(s),u=Object(T.a)(c,o);return Array.isArray(s)?-1===u&&(c.unshift(o),u=0):(c=[o],u=0),a(J("conversations",c)),t&&a(K(l.uuid)),a(J("creating_conversation",!1)),c[u]}throw e}));case 6:return c=n.sent,n.abrupt("return",c);case 10:return n.abrupt("return",!1);case 11:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}function Q(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(){var n=Object(R.a)(M.a.mark((function n(a,i){var r,o,s;return M.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=i(),!r.auth.isAuthenticated){n.next=8;break}return o=!1,n.next=5,L.a.get("/contacts",{params:Object(I.a)(Object(I.a)({pagination:50},e),{},{fields:"_id,avatar,first_name,last_name,email_address,phone_number,admin_level_1,admin_level_2,admin_level_3,rating,tokens,presence,gender,last_known_position"})}).then((function(e){return e.body.data})).catch((function(e){return o=error,[]}));case 5:return s=n.sent,Array.isArray(s)&&(t||JSON.isEmpty(e))&&!o&&a(J("contacts",s)),n.abrupt("return",s);case 8:return n.abrupt("return",[]);case 9:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}function Z(){return function(){var e=Object(R.a)(M.a.mark((function e(t,n){var a,i,r;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n(),i=a.auth,r=[],!i.isAuthenticated){e.next=6;break}return e.next=5,z.a.messages.filter((function(e){return(null===e||void 0===e?void 0:e.sender)===(null===i||void 0===i?void 0:i.user._id)&&"pending"===e.state})).toArray();case 5:r=e.sent;case 6:return e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}function X(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(){var t=Object(R.a)(M.a.mark((function t(n,a){var i,r,o;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=a(),!i.auth.isAuthenticated){t.next=14;break}return t.next=4,n(Z(e));case 4:if(!((r=t.sent).length>0)){t.next=14;break}o=0;case 7:if(!(o<r.length)){t.next=14;break}return t.next=10,n($(r[o]));case 10:t.sent;case 11:o++,t.next=7;break;case 14:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}function $(e){return function(){var t=Object(R.a)(M.a.mark((function t(n,a){var i,r,o,s,l,c,u,d,p,b,f;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=a(),r=i.auth,i.communication.messaging.active_conversation,!r.isAuthenticated||!e){t.next=33;break}return t.next=4,z.a.conversations.toArray();case 4:if(s=t.sent,l=Object(T.a)(s,e.conversation_uuid||(null===(o=e.conversation)||void 0===o?void 0:o._id)||e.conversation),c=s[l],-1===l){t.next=33;break}if(u=(null===c||void 0===c?void 0:c._id)||e.conversation,d=(null===c||void 0===c?void 0:c.uuid)||e.conversation_uuid,String.isEmpty(u)&&String.isEmpty(d)){t.next=33;break}return delete(b=Object(I.a)(Object(I.a)({uuid:String.uuid()},e),{},{conversation_uuid:d,conversation:u,sender:null===(p=r.user)||void 0===p?void 0:p._id,timestamp:new Date})).state,t.next=15,Object(z.e)(Object(I.a)(Object(I.a)({},b),{},{state:"pending"}));case 15:return z.a.conversations.put(Object(I.a)(Object(I.a)({},c),{},{last_used:new Date})),f=null,t.prev=17,t.next=20,L.a.post("/messages",b).then((function(e){var t;return JSON.isEmpty(null===e||void 0===e||null===(t=e.body)||void 0===t?void 0:t.data)?null:e.body.data}));case 20:f=t.sent,t.next=26;break;case 23:t.prev=23,t.t0=t.catch(17),console.error("sendMessage error",t.t0);case 26:if(JSON.isEmpty(f)){t.next=32;break}return delete f.__v,f.conversation=b.conversation,f.sender=b.sender,t.next=32,Object(z.e)(f);case 32:return t.abrupt("return",f);case 33:case"end":return t.stop()}}),t,null,[[17,23]])})));return function(e,n){return t.apply(this,arguments)}}()}function ee(e,t){return{type:a.z,name:e,payload:t}}function te(e){return{type:a.eb,payload:String.isString(e)||!e?{src:e,alt:void 0,next:void 0,prev:void 0}:Object(I.a)({},e)}}},213:function(e,t,n){"use strict";var a,i=n(2),r=n(6),o=n(15),s=n(137),l=n(1),c=n.n(l),u=n(1052),d=n(17),p=n(18),b=n(21),f=n(1808),j=n(0),m=["src","alt","onClick","prev","next","lightbox","Component","className"],h=u.a.img(a||(a=Object(s.a)(['\n\tdisplay: block;\n\twidth: 100%;\n\theight: 100%;\n\t@keyframes loaded {\n\t\t0% {\n\t\t\topacity: 0.1;\n\t\t}\n\t\t100% {\n\t\t\topacity: 1;\n\t\t}\n\t}\n\n\t&.loaded:not(.has-error) {\n\t\tanimation: loaded 300ms ease-in-out;\n\t}\n\t&.has-error {\n\t\tcontent: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAQAAAAnOwc2AAAAD0lEQVR42mNkwAIYh7IgAAVVAAuInjI5AAAAAElFTkSuQmCC");\n\t}\n']))),v=Object(f.a)((function(e){return{}})),g=c.a.forwardRef((function(e,t){var n=e.src,a=e.alt,s=e.onClick,c=e.prev,u=e.next,f=e.lightbox,h=e.Component,g=e.className,O=Object(o.a)(e,m),x=Object(p.c)(),y=(v(),Object(d.k)({src:n,ref:t})),w=Object(r.a)(y,2),k=w[0],N=w[1],_=N.ref,S=N.error,C=N.loading,A=Object(l.useCallback)((function(e){e.preventDefault(),f&&x(Object(b.Ob)({src:n,prev:c,next:u,alt:a})),Function.isFunction(s)&&s(e)}),[s,f,n,c,u,a]);return Object(j.jsx)(h,Object(i.a)({ref:_,src:k,onClick:A,className:"cursor-auto ".concat(f?"cursor-pointer ":""," ").concat(g||"").concat(C?"":"loaded"," ").concat(S?"has-error":"")},O))}));g.defaultProps={lightbox:!0,Component:h},t.a=c.a.memo(g)},215:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return b}));n(45);var a=n(33),i=n(59),r=n(49),o=n.n(r),s=function(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)},l=function(e,t,n){return"func"==t?c(e,n):e},c=function(e,t){return function(e){if(e){var n=e.get("func"),r=n&&Object(a.getFuncConfig)(t,n);if(r){var o=e,c=!1;for(var u in r.args){var p=r.args[u],b=p.valueSources,f=p.isOptional,j=p.defaultValue,m=Object(i.a)(t,b,p),h=o.get("args"),v=1==m.length?m[0]:void 0,g=h?h.get(u):void 0,O=g?g.get("value"):void 0,x=(g?g.get("valueSrc"):void 0)||v;if(void 0!==O){var y=l(O,x,t);if(void 0===y)return;if(y!==O&&(o=o.setIn(["args",u,"value"],y)),c)return}else if(void 0===j||s(j)){if(!f)return;c=!0}else o=(o=o.setIn(["args",u,"value"],d(p))).setIn(["args",u,"valueSrc"],"value")}return o}}}(e)},u=function(e,t,n){var r=n.settings.fieldSeparator;e=e||new o.a.Map,Array.isArray(t)&&(t=t.join(r)),e=(e=e.set("func",t)).set("args",new o.a.Map);var l=t&&Object(a.getFuncConfig)(n,t);if(l)for(var c in l.args){var u=l.args[c],p=u.valueSources,b=u.defaultValue,f=Object(i.a)(n,p,u),j=f.length?f[0]:void 0,m=(b?s(b)&&b.func?"func":"value":void 0)||j;void 0!==b&&(e=e.setIn(["args",c,"value"],d(u))),m&&(e=e.setIn(["args",c,"valueSrc"],m))}return e},d=function(e){var t=e.defaultValue;return s(t)&&!o.a.Map.isMap(t)&&t.func?o.a.fromJS(t,(function(e,t){return o.a.Iterable.isIndexed(t)?t.toList():t.toOrderedMap()})):t},p=function(e,t,n,a,r){if(e&&e.get("func")){e=e.setIn(["args",t,"value"],n);var o=a.valueSources,s=Object(i.a)(r,o,a),l=1==s.length?s[0]:void 0;l&&(e=e.setIn(["args",t,"valueSrc"],l))}return e},b=function(e,t,n,a,i){return e&&e.get("func")&&(e=e.setIn(["args",t],new o.a.Map({valueSrc:n}))),e}},230:function(e,t,n){"use strict";var a=n(2),i=n(15),r=(n(24),n(66),n(1),n(0)),o=["children"];t.a=function(e){var t=e.children,n=Object(i.a)(e,o);return Object(r.jsx)("div",Object(a.a)(Object(a.a)({},n),{},{children:t}))}},231:function(e,t,n){"use strict";var a=n(2),i=n(15),r=n(1822),o=(n(24),n(66),n(1),n(0)),s=["children"];t.a=function(e){var t=Object.assign({},e),n=t.children,l=Object(i.a)(t,s);return Object(o.jsx)(r.a,Object(a.a)(Object(a.a)({},l),{},{children:n}))}},232:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"f",(function(){return p})),n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return f}));var a=n(5),i=n.n(a),r=n(2),o=n(10),s=n(35),l=n(21);function c(e){return{type:l.B,authenticated:e}}function u(e){return{type:l.cb,token:e}}function d(e){return{type:l.db,user:e}}function p(e){return function(){var t=Object(o.a)(i.a.mark((function t(n,a){var o,l,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=a(),l=o.auth,c=o.user,!l.isAuthenticated){t.next=6;break}return n(d(e)),t.next=5,s.a.post("/profile",Object(r.a)(Object(r.a)({},c),e)).then((function(e){return e.body.data})).catch((function(e){return!1}));case 5:t.sent;case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}function b(){return function(e){return s.a.logout().then((function(e){})).catch((function(e){throw e}))}}function f(e){return function(t){return s.a.login(e).then((function(e){return e})).catch((function(e){throw e}))}}},237:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c}));var a=n(1801),i=n(1802),r=n(1800),o=n(32),s=(n(1),n(0)),l=[{icon:Object(s.jsx)(a.a,{}),text:"Dashboard",route:"/home".toUriWithDashboardPrefix()},{icon:o.events.icon,text:"Apps",section:!0,links:[{icon:o.conversations.icon,text:"Messages",route:"/messaging/conversations".toUriWithDashboardPrefix(),restricted:!1},{icon:o.events.icon,text:"Calendar",route:"/calendar".toUriWithDashboardPrefix(),restricted:function(e){return!((null===e||void 0===e?void 0:e.isAdmin)||(null===e||void 0===e?void 0:e.isCollector))}}]},{icon:o.surveys.icon,text:o.surveys.label,section:!0,links:[{icon:o.surveys.icon,text:o.surveys.label,route:"/surveys".toUriWithDashboardPrefix(),restricted:function(e){return!((null===e||void 0===e?void 0:e.isAdmin)||(null===e||void 0===e?void 0:e.isCustomer))}},{icon:o.queries.icon,text:o.queries.label,route:"/queries".toUriWithDashboardPrefix(),restricted:function(e){return!((null===e||void 0===e?void 0:e.isAdmin)||(null===e||void 0===e?void 0:e.isCustomer))}},{icon:o.responses.icon,text:o.responses.label,route:"/responses".toUriWithDashboardPrefix()}]},{text:"Training",section:!0,restricted:function(e){return!(null===e||void 0===e?void 0:e.isAdmin)},links:[{icon:o.courses.icon,text:o.courses.label,route:"courses".toUriWithDashboardPrefix()},{icon:o.quizes.icon,text:o.quizes.label,route:"quizes".toUriWithDashboardPrefix()},{icon:o.questions.icon,text:o.questions.label,route:"questions".toUriWithDashboardPrefix()},{icon:o.answers.icon,text:o.answers.label,route:"answers".toUriWithDashboardPrefix()},{icon:o.results.icon,text:o.results.label,route:"results".toUriWithDashboardPrefix()}]},{text:o.commissions.label,section:!0,restricted:function(e){return!((null===e||void 0===e?void 0:e.isAdmin)||(null===e||void 0===e?void 0:e.isCollector)||(null===e||void 0===e?void 0:e.isCustomer))},links:[{icon:o.commissions.icon,text:o.commissions.label,route:"/commissions".toUriWithDashboardPrefix(),restricted:function(e){return!((null===e||void 0===e?void 0:e.isAdmin)||(null===e||void 0===e?void 0:e.isCollector)||(null===e||void 0===e?void 0:e.isCustomer))}},{icon:o.teams.icon,text:o.teams.label,route:"/teams".toUriWithDashboardPrefix(),restricted:function(e){return!((null===e||void 0===e?void 0:e.isAdmin)||(null===e||void 0===e?void 0:e.isCollector))}},{icon:o.tracks.icon,text:o.tracks.label,route:"/tracks".toUriWithDashboardPrefix(),restricted:["collector","admin"]}]},{text:"Financial",section:!0,restricted:function(e){return!((null===e||void 0===e?void 0:e.isAdmin)||(null===e||void 0===e?void 0:e.isCustomer))},links:[{icon:o.invoices.icon,text:o.invoices.label,route:"/invoices".toUriWithDashboardPrefix(),restricted:function(e){return!((null===e||void 0===e?void 0:e.isAdmin)||(null===e||void 0===e?void 0:e.isCustomer))}},{icon:o.payments.icon,text:o.payments.label,route:"/payments".toUriWithDashboardPrefix(),restricted:function(e){return!((null===e||void 0===e?void 0:e.isAdmin)||(null===e||void 0===e?void 0:e.isCustomer))}}]},{text:"Orders",section:!0,restricted:function(e){return!(null===e||void 0===e?void 0:e.isCustomer)},links:[{icon:o.orders.icon,text:"My "+o.orders.label,route:"/orders".toUriWithDashboardPrefix(),restricted:function(e){return!(null===e||void 0===e?void 0:e.isCustomer)}},{icon:o.fulfilments.icon,text:"Order "+o.fulfilments.label,route:"/fulfilments".toUriWithDashboardPrefix(),restricted:function(e){return!(null===e||void 0===e?void 0:e.isCustomer)}},{icon:o.coupons.icon,text:"My "+o.coupons.label,route:"/coupons".toUriWithDashboardPrefix(),restricted:function(e){return!(null===e||void 0===e?void 0:e.isCustomer)}}]},{text:"Retail",section:!0,restricted:function(e){return!(null===e||void 0===e?void 0:e.isAdmin)},links:[{icon:o.retailitems.icon,text:o.retailitems.label,route:"/retailitems".toUriWithDashboardPrefix(),restricted:function(e){return!(null===e||void 0===e?void 0:e.isAdmin)}},{icon:o.orders.icon,text:o.orders.label,route:"/orders".toUriWithDashboardPrefix(),restricted:function(e){return!(null===e||void 0===e?void 0:e.isAdmin)}},{icon:o.fulfilments.icon,text:"Order "+o.fulfilments.label,route:"/fulfilments".toUriWithDashboardPrefix(),restricted:function(e){return!(null===e||void 0===e?void 0:e.isAdmin)}},{icon:o.demorequests.icon,text:o.demorequests.label,route:"/demorequests".toUriWithDashboardPrefix(),restricted:function(e){return!(null===e||void 0===e?void 0:e.isAdmin)}},{icon:o.quoterequests.icon,text:o.quoterequests.label,route:"/quoterequests".toUriWithDashboardPrefix(),restricted:function(e){return!(null===e||void 0===e?void 0:e.isAdmin)}},{icon:o.coupons.icon,text:o.coupons.label,route:"/coupons".toUriWithDashboardPrefix(),restricted:function(e){return!(null===e||void 0===e?void 0:e.isAdmin)}},{icon:o.currencies.icon,text:o.currencies.label,route:"/currencies".toUriWithDashboardPrefix(),restricted:function(e){return!(null===e||void 0===e?void 0:e.isAdmin)}}]},{text:"Recruitment",section:!0,restricted:function(e){return!(null===e||void 0===e?void 0:e.isAdmin)},links:[{icon:o.vacancies.icon,text:o.vacancies.label,route:"/vacancies".toUriWithDashboardPrefix()},{icon:o.applications.icon,text:o.applications.label,route:"/applications".toUriWithDashboardPrefix()}]},{text:"Other",section:!0,restricted:!1,links:[{icon:o.attachments.icon,text:o.attachments.label,route:"/attachments".toUriWithDashboardPrefix()},{icon:o.posts.icon,text:o.posts.label,route:"/posts".toUriWithDashboardPrefix(),restricted:function(e){return!(null===e||void 0===e?void 0:e.isAdmin)}},{icon:o.actionlogs.icon,text:o.actionlogs.label,route:"/actionlogs".toUriWithDashboardPrefix(),restricted:function(e){return!(null===e||void 0===e?void 0:e.isAdmin)}}]},{text:"Account",section:!0,restricted:!1,links:[{icon:Object(s.jsx)(i.a,{}),text:"Profile",route:"/account".toUriWithDashboardPrefix()},{icon:Object(s.jsx)(r.a,{}),text:"Preferences",route:"/preferences".toUriWithDashboardPrefix()}]},{text:"Administration",section:!0,restricted:function(e){return!(null===e||void 0===e?void 0:e.isAdmin)},links:[{icon:o.users.icon,text:o.users.label,route:"/users".toUriWithDashboardPrefix()},{icon:o.forms.icon,text:o.forms.label,route:"/forms".toUriWithDashboardPrefix()},{icon:o.settings.icon,text:o.settings.label,route:"/settings".toUriWithDashboardPrefix()}]}],c=320},24:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"e",(function(){return D})),n.d(t,"b",(function(){return F})),n.d(t,"c",(function(){return T})),n.d(t,"d",(function(){return E}));var a,i=n(4),r=n(2),o=n(27),s=n(76),l=n.n(s),c=n(778),u={name:o.d,description:o.b,logo:o.c,drawer:{width:280},title:function(){for(var e="",t=0;t<arguments.length;t++)e+="-"+(t<0||arguments.length<=t?void 0:arguments[t]);return o.d+e}},d=l()(o.l).rgb().array().join(","),p=l()(o.G).rgb().array().join(","),b=l()(o.H).rgb().array().join(","),f=l()(o.J).rgb().array().join(","),j=l()(o.a).rgb().array().join(","),m=l()(o.B).rgb().array().join(","),h=l()(o.L).rgb().array().join(","),v=l()(o.N).rgb().array().join(","),g=l()(o.j).rgb().array().join(","),O=l()(o.o).rgb().array().join(","),x=l()(o.K).rgb().array().join(","),y=l()(o.z).rgb().array().join(","),w=l()(o.I).rgb().array().join(","),k=l()(o.y).rgb().array().join(","),N=l()(o.M).rgb().array().join(","),_=l()(o.p).rgb().array().join(","),S=l()(o.u).rgb().array().join(","),C=l()(o.s).rgb().array().join(","),A=l()(o.D).rgb().array().join(","),F={names:["default","primary","primarydark","secondary","accent","inverse","error","info","success","warning","danger","rose","grey","facebook","twitter","google","github","linkedin","inherit"],hex:{default:o.l,primary:o.G,primarydark:o.H,secondary:o.J,accent:o.a,inverse:o.B,warning:o.N,danger:o.j,error:o.o,success:o.K,info:o.z,rose:o.I,grey:o.y,twitter:o.M,facebook:o.p,google:o.u,github:o.s,linkedin:o.D},rgb:{default:d,primary:p,primarydark:b,secondary:f,accent:j,inverse:m,warning:v,danger:g,error:O,success:x,info:y,rose:w,grey:k,twitter:N,facebook:_,google:S,github:C,linkedin:A}},P={red:{main:"#f44336",lighten_5:"#ffebee",lighten_4:"#ffcdd2",lighten_3:"#ef9a9a",lighten_2:"#e57373",lighten_1:"#ef5350",darken_1:"#e53935",darken_2:"#d32f2f",darken_3:"#c62828",darken_4:"#b71c1c",accent_1:"#ff8a80",accent_2:"#ff5252",accent_3:"#ff1744",accent_4:"#d50000"},pink:{main:"#e91e63",lighten_5:"#fce4ec",lighten_4:"#f8bbd0",lighten_3:"#f48fb1",lighten_2:"#f06292",lighten_1:"#ec407a",darken_1:"#d81b60",darken_2:"#c2185b",darken_3:"#ad1457",darken_4:"#880e4f",accent_1:"#ff80ab",accent_2:"#ff4081",accent_3:"#f50057",accent_4:"#c51162"},purple:{main:"#9c27b0",lighten_5:"#f3e5f5",lighten_4:"#e1bee7",lighten_3:"#ce93d8",lighten_2:"#ba68c8",lighten_1:"#ab47bc",darken_1:"#8e24aa",darken_2:"#7b1fa2",darken_3:"#6a1b9a",darken_4:"#4a148c",accent_1:"#ea80fc",accent_2:"#e040fb",accent_3:"#d500f9",accent_4:"#aa00ff"},deep_purple:{main:"#673ab7",lighten_5:"#ede7f6",lighten_4:"#d1c4e9",lighten_3:"#b39ddb",lighten_2:"#9575cd",lighten_1:"#7e57c2",darken_1:"#5e35b1",darken_2:"#512da8",darken_3:"#4527a0",darken_4:"#311b92",accent_1:"#b388ff",accent_2:"#7c4dff",accent_3:"#651fff",accent_4:"#6200ea"},indigo:{main:"#3f51b5",lighten_5:"#e8eaf6",lighten_4:"#c5cae9",lighten_3:"#9fa8da",lighten_2:"#7986cb",lighten_1:"#5c6bc0",darken_1:"#3949ab",darken_2:"#303f9f",darken_3:"#283593",darken_4:"#1a237e",accent_1:"#8c9eff",accent_2:"#536dfe",accent_3:"#3d5afe",accent_4:"#304ffe"},blue:{main:"#2196f3",lighten_5:"#e3f2fd",lighten_4:"#bbdefb",lighten_3:"#90caf9",lighten_2:"#64b5f6",lighten_1:"#42a5f5",darken_1:"#1e88e5",darken_2:"#1976d2",darken_3:"#1565c0",darken_4:"#0d47a1",accent_1:"#82b1ff",accent_2:"#448aff",accent_3:"#2979ff",accent_4:"#2962ff"},light_blue:{main:"#03a9f4",lighten_5:"#e1f5fe",lighten_4:"#b3e5fc",lighten_3:"#81d4fa",lighten_2:"#4fc3f7",lighten_1:"#29b6f6",darken_1:"#039be5",darken_2:"#0288d1",darken_3:"#0277bd",darken_4:"#01579b",accent_1:"#80d8ff",accent_2:"#40c4ff",accent_3:"#00b0ff",accent_4:"#0091ea"},cyan:{main:"#00bcd4",lighten_5:"#e0f7fa",lighten_4:"#b2ebf2",lighten_3:"#80deea",lighten_2:"#4dd0e1",lighten_1:"#26c6da",darken_1:"#00acc1",darken_2:"#0097a7",darken_3:"#00838f",darken_4:"#006064",accent_1:"#84ffff",accent_2:"#18ffff",accent_3:"#00e5ff",accent_4:"#00b8d4"},teal:{main:"#009688",lighten_5:"#e0f2f1",lighten_4:"#b2dfdb",lighten_3:"#80cbc4",lighten_2:"#4db6ac",lighten_1:"#26a69a",darken_1:"#00897b",darken_2:"#00796b",darken_3:"#00695c",darken_4:"#004d40",accent_1:"#a7ffeb",accent_2:"#64ffda",accent_3:"#1de9b6",accent_4:"#00bfa5"},green:{main:"#4caf50",lighten_5:"#e8f5e9",lighten_4:"#c8e6c9",lighten_3:"#a5d6a7",lighten_2:"#81c784",lighten_1:"#66bb6a",darken_1:"#43a047",darken_2:"#388e3c",darken_3:"#2e7d32",darken_4:"#1b5e20",accent_1:"#b9f6ca",accent_2:"#69f0ae",accent_3:"#00e676",accent_4:"#00c853"},light_green:{main:"#8bc34a",lighten_5:"#f1f8e9",lighten_4:"#dcedc8",lighten_3:"#c5e1a5",lighten_2:"#aed581",lighten_1:"#9ccc65",darken_1:"#7cb342",darken_2:"#689f38",darken_3:"#558b2f",darken_4:"#33691e",accent_1:"#ccff90",accent_2:"#b2ff59",accent_3:"#76ff03",accent_4:"#64dd17"},lime:{main:"#cddc39",lighten_5:"#f9fbe7",lighten_4:"#f0f4c3",lighten_3:"#e6ee9c",lighten_2:"#dce775",lighten_1:"#d4e157",darken_1:"#c0ca33",darken_2:"#afb42b",darken_3:"#9e9d24",darken_4:"#827717",accent_1:"#f4ff81",accent_2:"#eeff41",accent_3:"#c6ff00",accent_4:"#aeea00"},yellow:{main:"#ffeb3b",lighten_5:"#fffde7",lighten_4:"#fff9c4",lighten_3:"#fff59d",lighten_2:"#fff176",lighten_1:"#ffee58",darken_1:"#fdd835",darken_2:"#fbc02d",darken_3:"#f9a825",darken_4:"#f57f17",accent_1:"#ffff8d",accent_2:"#ffff00",accent_3:"#ffea00",accent_4:"#ffd600"},amber:{main:"#ffc107",lighten_5:"#fff8e1",lighten_4:"#ffecb3",lighten_3:"#ffe082",lighten_2:"#ffd54f",lighten_1:"#ffca28",darken_1:"#ffb300",darken_2:"#ffa000",darken_3:"#ff8f00",darken_4:"#ff6f00",accent_1:"#ffe57f",accent_2:"#ffd740",accent_3:"#ffc400",accent_4:"#ffab00"},facebook:{main:o.p},google:{main:o.u},github:{main:o.s},linkedin:{main:o.D}},D=Object(c.a)({palette:Object(r.a)({primary:{contrastText:o.B,main:o.G},secondary:{contrastText:o.B,main:o.J,light:l()(o.J).lighten(.3).hex()},accent:{main:o.a,contrastText:o.B,light:l()(o.a).lighten(.3).hex()},inverse:{main:o.B,contrastText:o.l},default:{main:"inherit"},white:{main:"#FFFFFF"},success:{main:"#00AF41"}},P),typography:(a={fontSize:16,fontFamily:["Muli SemiBold","-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Helvetica Neue","Arial","sans-serif","Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"].join(",")},Object(i.a)(a,"fontFamily","Muli"),Object(i.a)(a,"htmlFontSize",16),Object(i.a)(a,"h1",{fontWeight:700,fontSize:"60px",lineHeight:"68px",marginBlockStart:0,marginBlockEnd:0}),Object(i.a)(a,"h2",{fontWeight:700,fontSize:"48px",lineHeight:"54px",marginBlockStart:0,marginBlockEnd:0}),Object(i.a)(a,"h3",{fontWeight:700,fontSize:"32px",lineHeight:"38px"}),Object(i.a)(a,"h4",{fontWeight:700,fontSize:"24px",lineHeight:"28px"}),Object(i.a)(a,"h5",{fontWeight:700,fontSize:"20px",lineHeight:"24px"}),Object(i.a)(a,"h6",{fontWeight:700,fontSize:"18px",lineHeight:"20px"}),Object(i.a)(a,"subtitle1",{fontWeight:800,fontSize:"18px",lineHeight:"25px"}),Object(i.a)(a,"subtitle2",{fontSize:"16px",letterSpacing:0,lineHeight:"18px"}),Object(i.a)(a,"body1",{fontSize:14,lineHeight:"21px"}),Object(i.a)(a,"body2",{fontWeight:600,fontSize:12}),Object(i.a)(a,"button",{fontWeight:400,fontSize:"14px"}),Object(i.a)(a,"caption",{fontWeight:400,fontSize:10,lineHeight:"12px"}),a),appDrawer:{width:u.drawer.width}}),E=(Object(r.a)({centerAlign:{textAlign:"center"},leftAlign:{textAlign:"left"},rightAlign:{textAlign:"center"},singlespaced:{lineHeight:"1"},onehalfspaced:{lineHeight:"1.5"},doublespaced:{lineHeight:"2"},underline:{textDecoration:"underline"},overline:{textDecoration:"overline"},overlineunderline:{textDecoration:"underline overline"},strikethrough:{textDecoration:"line-through"},bold:{fontWeight:"700"},italic:{fontStyle:"italic"},oblique:{fontStyle:"oblique"}},{lowercase:{textTransform:[["lowercase"],"!important"]},uppercase:{textTransform:[["uppercase"],"!important"]},wordcase:{textTransform:[["capitalize"],"!important"]},nocase:{textTransform:[["none"],"!important"]},inheritcase:{textTransform:[["inherit"],"!important"]}}),{sm:{default:"0 12px 20px -10px rgba("+h+", 0.28), 0 4px 20px 0px rgba("+h+", 0.12), 0 7px 8px -5px rgba("+h+", 0.2)",primary:"0 12px 20px -10px rgba("+p+", 0.28), 0 4px 20px 0px rgba("+m+", 0.12), 0 7px 8px -5px rgba("+p+", 0.2)",primarydark:"0 12px 20px -10px rgba("+b+", 0.28), 0 4px 20px 0px rgba("+h+", 0.12), 0 7px 8px -5px rgba("+b+", 0.2)",secondary:"0 12px 20px -10px rgba("+f+", 0.28), 0 4px 20px 0px rgba("+h+", 0.12), 0 7px 8px -5px rgba("+f+", 0.2)",accent:"0 12px 20px -10px rgba("+j+", 0.28), 0 4px 20px 0px rgba("+h+", 0.12), 0 7px 8px -5px rgba("+j+", 0.2)",inverse:"0 12px 20px -10px rgba("+m+", 0.28), 0 4px 20px 0px rgba("+h+", 0.12), 0 7px 8px -5px rgba("+m+", 0.2)",warning:"0 12px 20px -10px rgba("+v+", 0.28), 0 4px 20px 0px rgba("+h+", 0.12), 0 7px 8px -5px rgba("+v+", 0.2)",danger:"0 12px 20px -10px rgba("+g+", 0.28), 0 4px 20px 0px rgba("+h+", 0.12), 0 7px 8px -5px rgba("+g+", 0.2)",error:"0 12px 20px -10px rgba("+O+", 0.28), 0 4px 20px 0px rgba("+h+", 0.12), 0 7px 8px -5px rgba("+O+", 0.2)",success:"0 12px 20px -10px rgba("+x+", 0.28), 0 4px 20px 0px rgba("+h+", 0.12), 0 7px 8px -5px rgba("+x+", 0.2)",info:"0 12px 20px -10px rgba("+y+", 0.28), 0 4px 20px 0px rgba("+h+", 0.12), 0 7px 8px -5px rgba("+y+", 0.2)",rose:"0 12px 20px -10px rgba("+w+", 0.28), 0 4px 20px 0px rgba("+h+", 0.12), 0 7px 8px -5px rgba("+w+", 0.2)",gray:"0 12px 20px -10px rgba("+k+", 0.28), 0 4px 20px 0px rgba("+h+", 0.12), 0 7px 8px -5px rgba("+k+", 0.2)",twitter:"0 12px 20px -10px rgba("+N+", 0.28), 0 4px 20px 0px rgba("+h+", 0.12), 0 7px 8px -5px rgba("+N+", 0.2)",facebook:"0 12px 20px -10px rgba("+_+", 0.28), 0 4px 20px 0px rgba("+h+", 0.12), 0 7px 8px -5px rgba("+_+", 0.2)",google:"0 12px 20px -10px rgba("+S+", 0.28), 0 4px 20px 0px rgba("+h+", 0.12), 0 7px 8px -5px rgba("+S+", 0.2)",github:"0 12px 20px -10px rgba("+C+", 0.28), 0 4px 20px 0px rgba("+h+", 0.12), 0 7px 8px -5px rgba("+C+", 0.2)",linkedin:"0 12px 20px -10px rgba("+A+", 0.28), 0 4px 20px 0px rgba("+h+", 0.12), 0 7px 8px -5px rgba("+A+", 0.2)"},md:{default:"0 14px 26px -12px rgba("+h+", 0.42), 0 4px 23px 0px rgba("+h+", 0.12), 0 8px 10px -5px rgba("+h+", 0.2)",primary:"0 14px 26px -12px rgba("+p+", 0.42), 0 4px 23px 0px rgba("+m+", 0.12), 0 8px 10px -5px rgba("+p+", 0.2)",primarydark:"0 14px 26px -12px rgba("+b+", 0.42), 0 4px 23px 0px rgba("+h+", 0.12), 0 8px 10px -5px rgba("+b+", 0.2)",secondary:"0 14px 26px -12px rgba("+f+", 0.42), 0 4px 23px 0px rgba("+h+", 0.12), 0 8px 10px -5px rgba("+f+", 0.2)",accent:"0 14px 26px -12px rgba("+j+", 0.42), 0 4px 23px 0px rgba("+h+", 0.12), 0 8px 10px -5px rgba("+j+", 0.2)",inverse:"0 14px 26px -12px rgba("+m+", 0.42), 0 4px 23px 0px rgba("+h+", 0.12), 0 8px 10px -5px rgba("+m+", 0.2)",warning:"0 14px 26px -12px rgba("+v+", 0.42), 0 4px 23px 0px rgba("+h+", 0.12), 0 8px 10px -5px rgba("+v+", 0.2)",danger:"0 14px 26px -12px rgba("+g+", 0.42), 0 4px 23px 0px rgba("+h+", 0.12), 0 8px 10px -5px rgba("+g+", 0.2)",error:"0 14px 26px -12px rgba("+O+", 0.42), 0 4px 23px 0px rgba("+h+", 0.12), 0 8px 10px -5px rgba("+O+", 0.2)",success:"0 14px 26px -12px rgba("+x+", 0.42), 0 4px 23px 0px rgba("+h+", 0.12), 0 8px 10px -5px rgba("+x+", 0.2)",info:"0 14px 26px -12px rgba("+y+", 0.42), 0 4px 23px 0px rgba("+h+", 0.12), 0 8px 10px -5px rgba("+y+", 0.2)",rose:"0 14px 26px -12px rgba("+w+", 0.42), 0 4px 23px 0px rgba("+h+", 0.12), 0 8px 10px -5px rgba("+w+", 0.2)",gray:"0 14px 26px -12px rgba("+k+", 0.42), 0 4px 23px 0px rgba("+h+", 0.12), 0 8px 10px -5px rgba("+k+", 0.2)",twitter:"0 14px 26px -12px rgba("+N+", 0.42), 0 4px 23px 0px rgba("+h+", 0.12), 0 8px 10px -5px rgba("+N+", 0.2)",facebook:"0 14px 26px -12px rgba("+_+", 0.42), 0 4px 23px 0px rgba("+h+", 0.12), 0 8px 10px -5px rgba("+_+", 0.2)",google:"0 14px 26px -12px rgba("+S+", 0.42), 0 4px 23px 0px rgba("+h+", 0.12), 0 8px 10px -5px rgba("+S+", 0.2)",github:"0 14px 26px -12px rgba("+C+", 0.42), 0 4px 23px 0px rgba("+h+", 0.12), 0 8px 10px -5px rgba("+C+", 0.2)",linkedin:"0 14px 26px -12px rgba("+A+", 0.42), 0 4px 23px 0px rgba("+h+", 0.12), 0 8px 10px -5px rgba("+A+", 0.2)"}}),T={default:"linear-gradient(60deg, "+o.L+", "+l()(o.L).darken(.5).hex()+")",primary:"linear-gradient(60deg, "+o.G+", "+l()(o.G).darken(.5).hex()+")",primarydark:"linear-gradient(60deg, "+o.H+", "+l()(o.H).darken(.5).hex()+")",secondary:"linear-gradient(60deg, "+o.J+", "+l()(o.J).darken(.5).hex()+")",accent:"linear-gradient(60deg, "+o.a+", "+l()(o.a).darken(.5).hex()+")",inverse:"linear-gradient(60deg, "+o.B+", "+l()(o.B).darken(.5).hex()+")",warning:"linear-gradient(60deg, "+o.N+", "+l()(o.N).darken(.5).hex()+")",danger:"linear-gradient(60deg, "+o.j+", "+l()(o.j).darken(.5).hex()+")",error:"linear-gradient(60deg, "+o.o+", "+l()(o.o).darken(.5).hex()+")",success:"linear-gradient(60deg, "+o.K+", "+l()(o.K).darken(.5).hex()+")",info:"linear-gradient(60deg, "+o.z+", "+l()(o.z).darken(.5).hex()+")",rose:"linear-gradient(60deg, "+o.I+", "+l()(o.I).darken(.5).hex()+")",gray:"linear-gradient(60deg, "+o.y+", "+l()(o.y).darken(.5).hex()+")",twitter:"linear-gradient(60deg, "+o.M+", "+l()(o.M).darken(.5).hex()+")",facebook:"linear-gradient(60deg, "+o.p+", "+l()(o.p).darken(.5).hex()+")",google:"linear-gradient(60deg, "+o.u+", "+l()(o.u).darken(.5).hex()+")",github:"linear-gradient(60deg, "+o.s+", "+l()(o.s).darken(.5).hex()+")",linkedin:"linear-gradient(60deg, "+o.D+", "+l()(o.D).darken(.5).hex()+")"}},250:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(30);var a=function(e,t){var n=-1;if(Array.isArray(e)&&t){var a=(null===t||void 0===t?void 0:t._id)||t,i=(null===t||void 0===t?void 0:t.uuid)||t;n=e.findIndex((function(e){return!String.isEmpty(e.uuid)&&e.uuid===i||!String.isEmpty(e._id)&&e._id===a}))}return n}},26:function(e,t,n){"use strict";var a=n(2),i=n(15),r=(n(1),n(501)),o=n.n(r),s=n(190),l=n(0),c=["children"];t.a=function(e){var t=e.children,n=Object(i.a)(e,c),r=!1;return String.isString(t)&&(r=t.hasHTML(),-1===t.indexOf("\t")&&-1===t.indexOf("\n")||(r=!0,t=(t=t.replaceAll("\n","<br />")).replaceAll("\t","&nbsp; &nbsp;"))),Object(l.jsx)(s.a,Object(a.a)(Object(a.a)({},n),{},{children:r?o()(t):t}))}},268:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(71);function i(e){return{type:a.k,nav:e}}},269:function(e,t,n){"use strict";var a=n(4),i=n(5),r=n.n(i),o=n(10),s=n(6),l=n(11),c=n(12),u=n(31),d=n(19),p=n(20),b=n(2),f=n(15),j=n(1),m=n.n(j),h=n(18),v=n(48),g=n.n(v),O=n(1120),x=n(1112),y=n(1111),w=n(93),k=n(24),N=n(66),_=n.n(N),S=n(78),C=n(61),A=n(84),F=n(399),P=n(230),D=n(231),E=n(1123),T=n(1124),q=n(788),M=n(789),I=n(13),R=n(7),L=n(578),z=n(35),V=n(32),W=n(99),J=n(747),B=n(131),U=n(67),G=n(0),H=["component"],K=["className","defination","record","form","fields","exclude","show_title","show_submit","show_discard","SubmitBtn","submitBtnProps","DiscardBtn","discardBtnProps","submit_btn_text","pristine","layout"],Y=function(e){var t=e.component,n=Object(f.a)(e,H);return Object(G.jsx)(t,Object(b.a)({},n))},Q=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var a;Object(l.a)(this,n),(a=t.call(this,e)).state={record:!1,loading:{},load_error:!1,submitting:!1,submit_error:!1,fields:{},onChangeEffects:{},onChangeEffectsFields:{},evaluating:!0,field_values:{},default_field_values:{},last_field_changed:!1,show_passwords:{},value_possibilities:{},openSnackBar:!1,snackbarMessage:"",snackbarColor:"success"},a.handleChange=function(e){return function(t){a.setFieldValue(e,t)}};var i=e.defination,r=e.record;return a.creatingNew=!r,a.defination=i,a.ref_input_types=["select","transferlist","multiselect","radio","checkbox","dynamic"],a.handleChange=a.handleChange.bind(Object(u.a)(a)),a.setFieldValue=a.setFieldValue.bind(Object(u.a)(a)),a.unSetFieldValue=a.unSetFieldValue.bind(Object(u.a)(a)),a.onCloseSnackbar=a.onCloseSnackbar.bind(Object(u.a)(a)),a.applyChangeEffects=a.applyChangeEffects.bind(Object(u.a)(a)),a.callDefinationMethod=a.callDefinationMethod.bind(Object(u.a)(a)),a.handleResetForm=a.handleResetForm.bind(Object(u.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(u.a)(a)),a.handleKeyPress=a.handleKeyPress.bind(Object(u.a)(a)),a.mounted=!1,a.prepareForForm(),a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"getSnapshotBeforeUpdate",value:function(e,t){return this.mounted=!1,{preparationRequired:!Object.areEqual(e.defination,this.props.defination),applyChangeEffectsRequired:!Object.areEqual(t.field_values,this.state.field_values),loadPossibilitesRequired:Object.size(this.state.onChangeEffectsFields)>0}}},{key:"componentDidUpdate",value:function(e,t,n){this.mounted=!0,n.preparationRequired&&(this.prepareForForm(),this.loadFieldValuePosibilities()),n.applyChangeEffectsRequired&&this.applyChangeEffects(),n.loadPossibilitesRequired&&this.loadFieldValuePosibilities()}},{key:"prepareForForm",value:function(){var e=this,t=this.props,n=t.defination,a=t.initialValues,i=t.initialize,r=t.exclude,o=t.record,l=t.fields,c=t.form_state,u=(t.auth,t.change,t.onValuesChange);this.defination=n;var d={},p=!0;if(c){if(JSON.isJSON(c.values)&&(d=c.values,p=!1,Function.isFunction(u))){for(var b={},f=0,j=Object.keys(d);f<j.length;f++){var m=j[f];m in this.state.value_possibilities?b[m]=this.state.value_possibilities[m][d[m]]:m in n.scope.columns&&(b[m]=d[m])}u(d,b)}}else JSON.isJSON(a)&&Object.size(a)>0&&(d=a);this.state.field_values=d,this.evaluateFields().then((function(t){for(var n=t.evaluatedFields,a=t.onChangeEffects,c=0,u=Object.entries(n);c<u.length;c++){var b=Object(s.a)(u[c],2),f=b[0],j=b[1];(Array.isArray(l)&&l.includes(f)&&!r||!Array.isArray(l)&&!r)&&e.creatingNew&&(j.input.default||j.input.value)&&!(f in d)&&(j.input.value?d[f]=j.input.value:d[f]=j.input.default,p||(p=!0))}p&&i(d),e.setState({record:o,fields:n,arrangedFields:{unpositioned:{}},onChangeEffects:a,evaluating:!1},(function(){e.loadFieldValuePosibilities()}))}))}},{key:"applyChangeEffects",value:function(){var e=Object(o.a)(r.a.mark((function e(){var t,n,a,i,o,l,c,u,d,p,b,f,j,m,h=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=!(h.length>0&&void 0!==h[0])||h[0],n=this.props.initialize,a=this,i={},o=JSON.parse(JSON.stringify(this.state.fields)),l=this.state.field_values,c=this.state.value_possibilities,u=!1,d=0,p=Object.entries(this.state.onChangeEffects);case 9:if(!(d<p.length)){e.next=19;break}if(b=Object(s.a)(p[d],2),f=b[0],j=b[1],!Function.isFunction(j)){e.next=16;break}return e.next=14,j(a);case 14:m=e.sent,JSON.isJSON(m)&&(o[f]=m,m.possibilities&&!Object.areEqual(m.possibilities,c)?(l[f]&&!(l[f]in m.possibilities)&&(l[f]=m.input.value),c[f]=m.possibilities):m.input.value&&l[f]!==m.input.value&&(l[f]=m.input.value,u=!0),i[f]=m);case 16:d++,e.next=9;break;case 19:u&&n(l),Object.size(i)>0&&(t?this.setState({fields:o,field_values:l,value_possibilities:c,onChangeEffectsFields:i,evaluating:!1}):(this.state.fields=o,this.state.field_values=l,this.state.value_possibilities=c,this.state.onChangeEffectsFields=i,this.state.evaluating=!1));case 21:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadFieldValuePosibilities",value:function(){var e=this,t=this.props,n=t.auth,i=t.fields,r=t.exclude,o=(t.defination,{}),l={},c={};if(Object.size(this.state.onChangeEffectsFields)>0)for(var u=0,d=Object.entries(this.state.onChangeEffectsFields);u<d.length;u++){var p=Object(s.a)(d[u],2),f=p[0],j=p[1];if(JSON.isJSON(j.reference)&&!this.state.loading[f])o[f]=j,l[f]=!0;else if(JSON.isJSON(j.possibilities)&&!(f in this.state.value_possibilities)||!Object.areEqual(this.state.value_possibilities[f],j.possibilities))c[f]=j.possibilities;else if(Array.isArray(j.possibilities)&&!(f in this.state.value_possibilities)){for(var m={},h=0;h<j.possibilities.length;h++)m[j.possibilities[h]]=j.possibilities[h];c[f]=m}}else for(var v=0,g=Object.entries(this.state.fields);v<g.length;v++){var O=Object(s.a)(g[v],2),x=O[0],y=O[1];if(JSON.isJSON(y.reference)&&!this.state.loading[x])x in this.state.value_possibilities||(o[x]=y,l[x]=!0);else if(JSON.isJSON(y.possibilities)&&!(x in this.state.value_possibilities)||!Object.areEqual(this.state.value_possibilities[x],y.possibilities))c[x]=y.possibilities;else if(Array.isArray(y.possibilities)&&!(x in this.state.value_possibilities)){var w={};for(h=0;h<y.possibilities.length;h++)w[y.possibilities[h]]=y.possibilities[h];c[x]=w}}if(Object.size(c)>0&&(this.state.value_possibilities=Object(b.a)(Object(b.a)({},this.state.value_possibilities),c)),Object.size(o)>0){for(var k=function(){var t=Object(s.a)(_[N],2),l=t[0],c=t[1];if(Array.isArray(i)&&i.length>0&&(r&&i.includes(l)||!i.includes(l)))return"continue";if(JSON.isJSON(c.reference)&&String.isString(c.reference.name)&&JSON.isJSON(c.reference.service_query)){var u,d=c.reference.name,p=c.reference.service_query,f=!!V[d]&&z.a.getContextRequests(null===(u=V[d])||void 0===u?void 0:u.endpoint);f&&p&&e.state.last_field_changed!==l&&e.ref_input_types.includes(c.input.type)&&(e.setState((function(e){return{loading:Object(b.a)(Object(b.a)({},e.loading),{},Object(a.a)({},l,!0))}})),f.getRecords(p).then((function(t){var i=t.body.data,r={},s=c.reference.resolves,u=o;if(s.emulation)if(s.emulation.defination in V){if(Array.isArray(i)){for(var d=[],p=0;p<i.length;p++)s.emulation.key in i[p]&&(Array.isArray(i[p][s.emulation.key])?d=d.concat(i[p][s.emulation.key]):d.push(i[p][s.emulation.key]));i=d}u=V[s.emulation.defination].scope.columns}else i=[];if(i.length>0){for(var f=[],j=0;j<i.length;j++)f.push(Object(a.a)({},l,i[j]));for(var m=U.c.resolveReferenceColumnsDisplays(f,u,n.user),h=0;h<m.length;h++)r[m[h][l].value]=m[h][l].resolve}e.mounted?e.setState((function(e){return{value_possibilities:Object(b.a)(Object(b.a)({},e.value_possibilities),{},Object(a.a)({},l,r)),loading:Object(b.a)(Object(b.a)({},e.loading),{},Object(a.a)({},l,!1))}})):(e.state.value_possibilities=Object(b.a)(Object(b.a)({},e.state.value_possibilities),{},Object(a.a)({},l,r)),e.state.loading=Object(b.a)(Object(b.a)({},e.state.loading),{},Object(a.a)({},l,!1)))})).catch((function(t){e.mounted?e.setState((function(e){return{loading:Object(b.a)(Object(b.a)({},e.loading),{},Object(a.a)({},l,!1)),openSnackBar:!0,snackbarMessage:"Error fetching "+c.label+" ::: "+t.msg,snackbarColor:"warning"}})):(e.state.loading=Object(b.a)(Object(b.a)({},e.state.loading),{},Object(a.a)({},l,!1)),e.state.openSnackBar=!0,e.state.snackbarMessage="Error fetching "+c.label+" ::: "+t.msg,e.state.snackbarColor="warning")})))}},N=0,_=Object.entries(o);N<_.length;N++)k();this.setState({onChangeEffectsFields:{}})}}},{key:"evaluateFields",value:function(){var e=Object(o.a)(r.a.mark((function e(){var t,n,a,i,l,c,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=(t=this).defination.scope.columns,a={},i={},l=r.a.mark((function e(){var n,l,d,p;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object(s.a)(u[c],2),l=n[0],d=n[1],p=JSON.parse(JSON.stringify(d)),!d.input.default){e.next=10;break}if(!Function.isFunction(d.input.default)){e.next=9;break}return e.next=6,t.callDefinationMethod(d.input.default);case 6:p.input.default=e.sent,e.next=10;break;case 9:p.input.default=d.input.default;case 10:if(!Function.isFunction(d.label)){e.next=14;break}return e.next=13,t.callDefinationMethod(d.label);case 13:p.label=e.sent;case 14:if(!Function.isFunction(d.input.type)){e.next=18;break}return e.next=17,t.callDefinationMethod(d.input.type);case 17:p.input.type=e.sent;case 18:if(!Function.isFunction(d.input.default)){e.next=22;break}return e.next=21,t.callDefinationMethod(d.input.default);case 21:p.input.value=e.sent;case 22:if(!Function.isFunction(d.input.value)){e.next=26;break}return e.next=25,t.callDefinationMethod(d.input.value);case 25:p.input.value=e.sent;case 26:if(!Function.isFunction(d.input.required)){e.next=30;break}return e.next=29,t.callDefinationMethod(d.input.required);case 29:p.input.required=e.sent;case 30:if(!Function.isFunction(d.input.props)){e.next=34;break}return e.next=33,t.callDefinationMethod(d.input.props);case 33:p.input.props=e.sent;case 34:if(!d.restricted){e.next=42;break}if(!Function.isFunction(d.restricted.input)){e.next=41;break}return e.next=38,t.callDefinationMethod(d.restricted.input);case 38:p.restricted.input=e.sent,e.next=42;break;case 41:Boolean.isBoolean(d.restricted.input)&&(p.restricted.input=d.restricted.input);case 42:if(!d.reference){e.next=86;break}if(!Function.isFunction(d.reference)){e.next=65;break}return e.next=46,t.callDefinationMethod(d.reference);case 46:if(p.reference=e.sent,!JSON.isJSON(p.reference)){e.next=62;break}if(!Function.isFunction(p.reference.name)){e.next=52;break}return e.next=51,t.callDefinationMethod(p.reference.name);case 51:p.reference.name=e.sent;case 52:if(!Function.isFunction(p.reference.resolves)){e.next=56;break}return e.next=55,t.callDefinationMethod(p.reference.resolves);case 55:p.reference.resolves=e.sent;case 56:if(!Function.isFunction(p.reference.service_query)){e.next=60;break}return e.next=59,t.callDefinationMethod(p.reference.service_query);case 59:p.reference.service_query=e.sent;case 60:e.next=63;break;case 62:delete p.reference;case 63:e.next=86;break;case 65:if(!Function.isFunction(d.reference.name)){e.next=71;break}return e.next=68,t.callDefinationMethod(d.reference.name);case 68:p.reference.name=e.sent,e.next=72;break;case 71:p.reference.name=d.reference.name;case 72:if(!Function.isFunction(d.reference.resolves)){e.next=78;break}return e.next=75,t.callDefinationMethod(d.reference.resolves);case 75:p.reference.resolves=e.sent,e.next=79;break;case 78:p.reference.resolves=d.reference.resolves;case 79:if(!Function.isFunction(d.reference.service_query)){e.next=85;break}return e.next=82,t.callDefinationMethod(d.reference.service_query);case 82:p.reference.service_query=e.sent,e.next=86;break;case 85:p.reference.service_query=d.reference.service_query;case 86:if(!d.possibilities){e.next=91;break}if(!Function.isFunction(d.possibilities)){e.next=91;break}return e.next=90,t.callDefinationMethod(d.possibilities);case 90:p.possibilities=e.sent;case 91:a[l]=p,i[l]=function(){var e=Object(o.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=JSON.parse(JSON.stringify(d)),!d.input.default){e.next=6;break}if(!Function.isFunction(d.input.default)){e.next=6;break}return e.next=5,t.callDefinationMethod(d.input.default);case 5:n.input.default=e.sent;case 6:if(!Function.isFunction(d.label)){e.next=10;break}return e.next=9,t.callDefinationMethod(d.label);case 9:n.label=e.sent;case 10:if(!Function.isFunction(d.input.type)){e.next=14;break}return e.next=13,t.callDefinationMethod(d.input.type);case 13:n.input.type=e.sent;case 14:if(!Function.isFunction(d.input.disabled)){e.next=18;break}return e.next=17,t.callDefinationMethod(d.input.disabled);case 17:n.input.disabled=e.sent;case 18:if(!Function.isFunction(d.input.default)){e.next=22;break}return e.next=21,t.callDefinationMethod(d.input.default);case 21:n.input.default=e.sent;case 22:if(!Function.isFunction(d.input.value)){e.next=26;break}return e.next=25,t.callDefinationMethod(d.input.value);case 25:n.input.value=e.sent;case 26:if(!Function.isFunction(d.input.required)){e.next=30;break}return e.next=29,t.callDefinationMethod(d.input.required);case 29:n.input.required=e.sent;case 30:if(!Function.isFunction(d.input.props)){e.next=34;break}return e.next=33,t.callDefinationMethod(d.input.props);case 33:n.input.props=e.sent;case 34:if(!d.restricted){e.next=42;break}if(!Function.isFunction(d.restricted.input)){e.next=41;break}return e.next=38,t.callDefinationMethod(d.restricted.input);case 38:n.restricted.input=e.sent,e.next=42;break;case 41:Boolean.isBoolean(d.restricted.input)?n.restricted.input=d.restricted.input:n.restricted.input=!1;case 42:if(!d.reference){e.next=86;break}if(!Function.isFunction(d.reference)){e.next=65;break}return e.next=46,t.callDefinationMethod(d.reference);case 46:if(n.reference=e.sent,!JSON.isJSON(n.reference)){e.next=62;break}if(!Function.isFunction(n.reference.name)){e.next=52;break}return e.next=51,t.callDefinationMethod(n.reference.name);case 51:n.reference.name=e.sent;case 52:if(!Function.isFunction(n.reference.resolves)){e.next=56;break}return e.next=55,t.callDefinationMethod(n.reference.resolves);case 55:n.reference.resolves=e.sent;case 56:if(!Function.isFunction(n.reference.service_query)){e.next=60;break}return e.next=59,t.callDefinationMethod(n.reference.service_query);case 59:n.reference.service_query=e.sent;case 60:e.next=63;break;case 62:delete n.reference;case 63:e.next=86;break;case 65:if(!Function.isFunction(d.reference.name)){e.next=71;break}return e.next=68,t.callDefinationMethod(d.reference.name);case 68:n.reference.name=e.sent,e.next=72;break;case 71:n.reference.name=d.reference.name;case 72:if(!Function.isFunction(d.reference.resolves)){e.next=78;break}return e.next=75,t.callDefinationMethod(d.reference.resolves);case 75:n.reference.resolves=e.sent,e.next=79;break;case 78:n.reference.resolves=d.reference.resolves;case 79:if(!Function.isFunction(d.reference.service_query)){e.next=85;break}return e.next=82,t.callDefinationMethod(d.reference.service_query);case 82:n.reference.service_query=e.sent,e.next=86;break;case 85:n.reference.service_query=d.reference.service_query;case 86:if(!d.possibilities){e.next=91;break}if(!Function.isFunction(d.possibilities)){e.next=91;break}return e.next=90,t.callDefinationMethod(d.possibilities);case 90:n.possibilities=e.sent;case 91:if(Object.areEqual(t.state.fields[l],n)){e.next=95;break}return e.abrupt("return",n);case 95:return e.abrupt("return",!1);case 96:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();case 93:case"end":return e.stop()}}),e)})),c=0,u=Object.entries(n);case 6:if(!(c<u.length)){e.next=11;break}return e.delegateYield(l(),"t0",8);case 8:c++,e.next=6;break;case 11:return e.abrupt("return",{evaluatedFields:a,onChangeEffects:i});case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"unSetFieldValue",value:function(e){var t=this,n=this.props,a=n.change,i=n.onValuesChange;if(JSON.isJSON(this.state.field_values)){var r=JSON.parse(JSON.stringify(this.state.field_values));e in r&&(delete r[e],JSON.isJSON(r)||(r={}),this.setState({field_values:r},(function(){if(a(e,null),Function.isFunction(i)){for(var n={},o=0,s=Object.keys(r);o<s.length;o++){var l=s[o];l in t.state.value_possibilities&&l!==e&&(n[l]=t.state.value_possibilities[l][r[l]])}i(r,n)}})))}}},{key:"setFieldValue",value:function(e,t){var n=this,a=this.props,i=a.change,r=a.onValuesChange;i(e,t);var o=JSON.parse(JSON.stringify(this.state.field_values));JSON.isJSON(o)||(o={}),o[e]=t,this.setState({field_values:o,last_field_changed:e},(function(){if(Function.isFunction(r)){for(var e={},t=0,a=Object.keys(o);t<a.length;t++){var i=a[t];i in n.state.value_possibilities&&(e[i]=n.state.value_possibilities[i][o[i]])}r(o,e)}}))}},{key:"onCloseSnackbar",value:function(){this.setState({openSnackBar:!1})}},{key:"handleResetForm",value:function(){var e=this.props,t=e.reset,n=e.form,a=e.initialValues;this.setState((function(e){return{field_values:JSON.isJSON(a)?a:{}}})),Function.isFunction(t)&&String.isString(n)&&t(n)}},{key:"handleKeyPress",value:function(e){"s"!==e.key&&"S"!==e.key||!e.ctrlKey||(e.preventDefault(),this.handleSubmit(e))}},{key:"callDefinationMethod",value:function(){var e=Object(o.a)(r.a.mark((function e(t){var n,a,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.props,a=n.auth,n.form_state,n.initialValues,{},i=null,0===t.length?i=t():1===t.length?i=t(this):2===t.length?i=t(this.state.field_values,a.user):3===t.length&&(i=t(this.state.field_values,a.user,this)),e.abrupt("return",Promise.all([i]).then((function(e){return i})).catch((function(e){})));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"renderFieldInput",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.props,r=(i.auth,i.form_state,i.record,i.initialValues,i.change,i.text_fields_variant),o=i.validation,l=i.layout,c=i.textFieldsProps,u=i.selectFieldsProps,d=i.textareaFieldsProps,p=Object(b.a)(Object(b.a)({},this.state.default_field_values),this.state.field_values),f=void 0;e in p&&(f=p[e]);var j,m,h,v={};if(t.input.props&&(v=t.input.props),"radio"===t.input.type)return"inline"==l?Object(G.jsx)(Y,Object(b.a)((j={name:e,component:w.j,disabled:n,value:f,validate:o,variant:r,required:o&&t.input.required},Object(a.a)(j,"disabled",n),Object(a.a)(j,"margin","dense"),Object(a.a)(j,"onChange",this.handleChange(e)),Object(a.a)(j,"options",this.state.value_possibilities[e]?this.state.value_possibilities[e]:{}),Object(a.a)(j,"placeholder","Select "+t.label.singularize()),Object(a.a)(j,"validate",o),Object(a.a)(j,"size","small"),j),v)):Object(G.jsx)(Y,Object(b.a)({name:e,component:w.i,label:t.label,defaultValue:f,onChange:this.handleChange(e),required:t.input.required,disabled:n,options:this.state.value_possibilities[e]?this.state.value_possibilities[e]:{},validate:o},v));if("select"===t.input.type)return Object(G.jsx)(Y,Object(b.a)(Object(b.a)((m={name:e,component:w.j,disabled:n,value:f,onChange:this.handleChange(e),options:this.state.value_possibilities[e]?this.state.value_possibilities[e]:{},placeholder:"Select "+t.label.singularize(),validate:!0,variant:r,required:o&&t.input.required},Object(a.a)(m,"disabled",n),Object(a.a)(m,"label",t.label),Object(a.a)(m,"loading",this.state.loading[e]),Object(a.a)(m,"size","small"),m),u),v));if("multiselect"===t.input.type)return f=Array.isArray(f)?f:[],Object(G.jsx)(Y,Object(b.a)(Object(b.a)((h={name:e,component:w.h,disabled:n,value:f,label:t.label,onChange:this.handleChange(e),options:this.state.value_possibilities[e]?this.state.value_possibilities[e]:{},placeholder:"Select "+t.label,required:o&&t.input.required},Object(a.a)(h,"disabled",n),Object(a.a)(h,"variant",r),Object(a.a)(h,"isMulti",!0),Object(a.a)(h,"validate",o),Object(a.a)(h,"loading",this.state.loading[e]),h),u),v));if("transferlist"===t.input.type)return this.state.value_possibilities[e]?Object(G.jsx)(Y,Object(b.a)({name:e,component:w.o,label:t.label,defaultValue:f,onChange:this.handleChange(e),value_options:this.state.value_possibilities[e],validate:o},v)):"";if(["email","number","phone","text","password"].includes(t.input.type))return Object(G.jsx)(Y,Object(b.a)(Object(b.a)({name:e,type:t.input.type,disabled:n,component:w.n,defaultValue:f,label:t.label,variant:r,onChange:this.handleChange(e),required:t.input.required,fullWidth:!0,validate:o},c),v));if("textarea"===t.input.type)return Object(G.jsx)(Y,Object(b.a)(Object(b.a)({name:e,disabled:n,component:w.n,label:t.label,variant:r,multiline:!0,rows:4,defaultValue:f,onChange:this.handleChange(e),required:t.input.required,fullWidth:!0,validate:o},d),v));if("wysiwyg"===t.input.type)return Object(G.jsx)(Y,Object(b.a)({name:e,disabled:n,component:w.p,label:t.label,variant:r,defaultValue:f,onChange:this.handleChange(e),required:t.input.required,fullWidth:!0,validate:o},v));if("date"===t.input.type)return Object(G.jsx)(Y,Object(b.a)(Object(b.a)({fullWidth:!0,margin:"normal",name:e,label:t.label,disabled:n,component:w.b,autoOk:!0,variant:"inline",openTo:"date",invalidDateMessage:"",value:f,onChange:this.handleChange(e),required:t.input.required,inputVariant:r,format:"DD/MM/YYYY",color:"primary"},v),{},{validate:o}));if("datetime"===t.input.type)return Object(G.jsx)(Y,Object(b.a)({name:e,label:t.label,disabled:n,component:w.c,autoOk:!0,variant:"inline",inputVariant:r,value:f,onChange:this.handleChange(e),required:t.input.required,validate:o},v));if("checkbox"===t.input.type)return Object(G.jsx)(Y,Object(b.a)({name:e,disabled:n,checked:f,value:f,component:w.a,label:t.label,onChange:this.handleChange(e),required:t.input.required,validate:o},v));if("slider"===t.input.type){var g=void 0!==f&&f,O=5,x=!1,y=!1,k=[],N=[];if((String.isString(t.input.default)||Number.isNumber(t.input.default))&&t.input.default.length>0&&(g=Number.parseNumber(t.input.default)),this.state.value_possibilities[e]){for(var _=0,S=Object.entries(this.state.value_possibilities[e]);_<S.length;_++){var C=Object(s.a)(S[_],2),A=C[0],F=C[1];A=/[-+]?(?:\d*\.\d+\.?\d*)(?:[eE][-+]?\d+)?/gim.test(A)?parseFloat(A):!!/^[-+]?(\d*)?\d+$/gim.test(A)&&parseInt(A),O=N.length>0?Math.abs(A-N[N.length-1])<O?Math.abs(A-N[N.length-1]):O:g?O:A,g=g||A,x=x?A<x?A:x:A,y=y?A>y?A:y:A,N.push(A),k.push({value:A,label:F})}return x=x||0,y=y||1,g=g||x,Object(G.jsx)(Y,Object(b.a)({name:e,label:t.label,component:w.k,marks:!0,min:x,max:y,step:O,defaultValue:g,onChange:this.handleChange(e),validate:o},v))}return""}if("file"===t.input.type){var P={maxFileSize:3e8,upload:!0,filesLimit:Array.isArray(t.type)?20:1};return v=Object(b.a)(Object(b.a)({},P),v),Object(G.jsx)(Y,Object(b.a)({name:e,label:t.label,component:w.e,value:f,onChange:this.handleChange(e),required:t.input.required,validate:o,variant:r},v))}if("map"===t.input.type)return Object(G.jsx)(Y,Object(b.a)({name:e,label:t.label,component:w.g,value:f,onChange:this.handleChange(e),required:t.input.required,validate:o},v));if(["street_number","route","neighborhood","political","locality","administrative_area_level_1","administrative_area_level_2","administrative_area_level_3","administrative_area_level_4","sublocality_level_1","country","postal_code"].includes(t.input.type))return Object(G.jsx)(Y,Object(b.a)({name:e,type:t.input.type,label:t.label,component:w.f,value:f,onChange:this.handleChange(e),required:t.input.required,validate:o,variant:r},v));if("dynamic"===t.input.type){if(v.mode=["defination","generation"].includes(v.mode)?v.mode:"defination",v.blueprint=JSON.isJSON(v.blueprint)?v.blueprint:{},String.isString(f))try{f=JSON.parse(f)}catch(D){f={}}return Object(G.jsx)(Y,Object(b.a)({name:e,component:w.d,label:t.label,value:f,onChange:this.handleChange(e),disabled:n,variant:r,required:t.input.required,validate:o},v))}}},{key:"renderField",value:function(e){var t,n=this.props,a=n.layout,i=n.inputColumnSize,r=this.state.fields[e],o=this.state.submitting;return!this.state.submitting&&r.restricted&&(o=r.restricted.input),"inline"==a?Object(G.jsx)(q.a,{children:this.renderFieldInput(e,r,o)},"field_"+e):Object(G.jsx)(R.a,{className:"p-0 m-0 px-1 py-1",md:r.input.size?i<12&&r.input.size<i?i:r.input.size:i,style:"hidden"===(null===(t=r.input)||void 0===t?void 0:t.type)?{display:"none"}:{},children:this.renderFieldInput(e,r,o)},"field_"+e)}},{key:"handleSubmit",value:function(){var e=Object(o.a)(r.a.mark((function e(t){var n,a,i,o,s,l,c,u,d,p,b=this;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n=t,a=this.props,i=a.defination,o=a.record,a.fields,a.exclude,s=a.onSubmit,l=a.onSubmitSuccess,c=a.onSubmitSuccessMessage,u=this.state.field_values&&"object"===typeof this.state.field_values?this.state.field_values:{},s&&this.setState((function(e){return{submitting:!0}})),d=!!i&&z.a.getContextRequests(null===i||void 0===i?void 0:i.endpoint),s?(p=s(u,n),Promise.all([p]).then((function(e){b.setState({openSnackBar:!0,snackbarMessage:c||U.d.singularize(b.defination.label)+" changes saved",snackbarColor:"success",submitting:!1}),Function.isFunction(l)&&l(e)})).catch((function(e){b.setState({openSnackBar:!0,snackbarMessage:"object"===typeof e.msg?JSON.stringify(e.msg):e.msg,snackbarColor:"error",submitting:!1})}))):d&&(o?d.update(o,u).then((function(e){b.setState({openSnackBar:!0,snackbarMessage:c||U.d.singularize(b.defination.label)+" changes saved",snackbarColor:"success",submitting:!1}),Function.isFunction(l)&&l(e.body.data)})).catch((function(e){b.setState({openSnackBar:!0,snackbarMessage:"object"===typeof e.msg?JSON.stringify(e.msg):e.msg,snackbarColor:"error",submitting:!1})})):d.create(u).then((function(e){b.setState({openSnackBar:!0,snackbarMessage:c||"New "+U.d.singularize(b.defination.label)+" added",snackbarColor:"success",submitting:!1}),Function.isFunction(l)&&l(e.body.data)})).catch((function(e){b.setState({openSnackBar:!0,snackbarMessage:"object"===typeof e.msg?JSON.stringify(e.msg):e.msg,snackbarColor:"error",submitting:!1})})));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t=this,n=this.props,i=n.className,r=(n.defination,n.record),o=n.form,s=n.fields,l=n.exclude,c=n.show_title,u=n.show_submit,d=n.show_discard,p=n.SubmitBtn,j=n.submitBtnProps,m=n.DiscardBtn,h=n.discardBtnProps,v=n.submit_btn_text,g=(n.pristine,n.layout),w=(Object(f.a)(n,K),_()((e={},Object(a.a)(e,"p-0",!0),Object(a.a)(e,i,i),Object(a.a)(e,"cursor-wait",this.state.submitting),e)));return Object(G.jsxs)("form",{className:w,id:o||"".concat(this.defination.name,"-form"),autoComplete:"off",onKeyDown:this.handleKeyPress,onSubmit:this.handleSubmit,children:[Object(G.jsxs)(A.a,{elevation:0,className:"p-0 bg-transparent",children:[c?Object(G.jsx)(D.a,{avatar:Object(G.jsx)(S.a,{"aria-label":"Password",color:this.defination?this.defination.color:k.b.hex.default,children:r?Object(G.jsx)(x.a,{}):Object(G.jsx)(y.a,{})}),title:this.defination?U.d.singularize(this.defination.label):"Record",subheader:r?"Update ":"New "}):"",Object(G.jsxs)(P.a,{className:"m-0 p-0 py-4",children:["normal"==g&&Object(G.jsx)(I.a,{className:"m-0 p-0",children:Object.keys(this.state.fields).map((function(e,n){return Array.isArray(s)&&s.length>0?l?s.includes(e)?"":t.renderField(e):s.includes(e)?t.renderField(e):"":t.renderField(e)}))}),"inline"==g&&Object(G.jsx)(I.a,{className:"m-0 p-0",children:Object(G.jsx)(R.a,{xs:12,children:Object(G.jsx)(E.a,{className:"w-full ",children:Object(G.jsx)(T.a,{children:Object(G.jsx)(M.a,{children:Object.keys(this.state.fields).map((function(e,n){return Array.isArray(s)&&!s.includes(e)||(Array.isArray(l)?l.includes(e):l)?"":t.renderField(e)}))})})})})})]}),(d||u)&&Object.keys(this.state.fields).length>0&&Object(G.jsx)(F.a,{children:Object(G.jsxs)(I.a,{className:"m-0 p-0",children:[d&&Object(G.jsxs)(R.a,{xs:12,md:6,className:"flex flex-row items-center justify-center md:items-start md:justify-start",children:[!m&&Object(G.jsxs)(C.a,{className:"sm:w-full md:w-auto",variant:"text",outlined:!0,onClick:this.handleResetForm,children:[" ","Discard changes"," "]}),m&&Object(G.jsx)(m,Object(b.a)({className:"sm:w-full md:w-auto",variant:"text",outlined:!0,onClick:this.handleResetForm},h||{}))]}),u&&Object(G.jsxs)(R.a,{xs:12,md:d?6:12,className:"flex flex-row items-center justify-center md:items-end md:justify-end",children:[!p&&Object(G.jsxs)(C.a,{type:"submit",className:"sm:w-full md:w-auto",color:"primary",outlined:!0,children:[" ",v||"Save Changes"," "]}),p&&Object(G.jsx)(p,Object(b.a)({type:"submit",className:"sm:w-full md:w-auto",color:"primary",outlined:!0},j||{}))]})]})})]}),Object(G.jsx)(O.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:this.state.openSnackBar,autoHideDuration:6e3,onClose:this.onCloseSnackbar,children:Object(G.jsx)(L.a,{onClose:this.onCloseSnackbar,color:this.state.snackbarColor,message:this.state.snackbarMessage})})]})}}]),n}(m.a.Component);Q.defaultProps={text_fields_variant:"filled",layout:"normal",exclude:!1,show_title:!0,show_submit:!0,show_discard:!0,validation:!0,inputColumnSize:12};t.a=Object(B.c)(g()(Object(h.b)((function(e,t){return{auth:e.auth,form_state:e.form[t.form]}}),{change:W.change,reset:W.reset}))(Object(J.a)({enableReinitialize:!0})(Q)))},27:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"l",(function(){return o})),n.d(t,"G",(function(){return s})),n.d(t,"H",(function(){return l})),n.d(t,"J",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"B",(function(){return d})),n.d(t,"L",(function(){return p})),n.d(t,"N",(function(){return b})),n.d(t,"j",(function(){return f})),n.d(t,"o",(function(){return j})),n.d(t,"K",(function(){return m})),n.d(t,"z",(function(){return h})),n.d(t,"I",(function(){return v})),n.d(t,"y",(function(){return g})),n.d(t,"M",(function(){return O})),n.d(t,"p",(function(){return x})),n.d(t,"u",(function(){return y})),n.d(t,"s",(function(){return w})),n.d(t,"D",(function(){return k})),n.d(t,"e",(function(){return N})),n.d(t,"f",(function(){return _})),n.d(t,"n",(function(){return S})),n.d(t,"h",(function(){return C})),n.d(t,"i",(function(){return A})),n.d(t,"q",(function(){return F})),n.d(t,"r",(function(){return P})),n.d(t,"g",(function(){return D})),n.d(t,"x",(function(){return E})),n.d(t,"m",(function(){return T})),n.d(t,"v",(function(){return q})),n.d(t,"w",(function(){return M})),n.d(t,"A",(function(){return I})),n.d(t,"k",(function(){return R})),n.d(t,"C",(function(){return L})),n.d(t,"F",(function(){return z})),n.d(t,"E",(function(){return V})),n.d(t,"t",(function(){return W}));var a="Realfield",i="Realfield Dashboard",r="https://realfield.nyc3.cdn.digitaloceanspaces.com/public/img/realfield/logo.svg",o="#000000",s="#00AF41",l="#006D28",c="#76C4D5",u="#8C189B",d="#FFFFFF",p=o,b="#F38B00",f="#f44336",j="#EB0029",m="#00AF41",h="#00acc1",v="#e91e63",g="#999999",O="#55ACEE",x="#3B5998",y="#DD4B39",w="#333333",k="#0e76a8",N="cookie",_="rf_auth",S="production",C="YBpmgdvRnmr6Lxrx9gknHPlSx0fmOfSNDe4Qq5seL3HbBkvX3J",A="AjGRyyLAopEem0VO6z7wJz7ZpSM8WAWEwVVIGOfsKQBrSQtqg6tmKJFDSV696cIwTSrej6h8RVzatg5LJVGVnbj9unsqLuHnLH4psYoDYlkE2srxk2H3Th5dwFYT",F={apiKey:"AIzaSyDnzjktxxiPEcfjmkxgxcTT0U1D70c-h9U",authDomain:"realfield-io.firebaseapp.com",databaseURL:"https://realfield-io.firebaseio.com",projectId:"realfield-io",storageBucket:"realfield-io.appspot.com",messagingSenderId:"47480102815",appId:"1:47480102815:web:aef14d1c29e4832f97a7aa",measurementId:"G-SPZ1031JXB"},P="BCRs2cCvL59gp6AyJybuna4N7migtv4c6O6Twvgpg0-FE8yAhAmEpYNRc7YwV4T4QjhLQkds8U2NUS6ZVxVChXw",D={domain:"development"==S?"realfield.local":"realfield.io",host:"development"==S?"realfield.local":"api.realfield.io",api:"development"==S?"http://localhost:8000":"https://api.realfield.io",api_socket_io:"development"==S?"ws://localhost:8000":"wss://api.realfield.io"},E="https://maps.googleapis.com/maps/api/js?key=AIzaSyB1Kfvlg6orolTJR4QIvC4hgiQJeQqNhlQ&v=3.exp&libraries=geometry,drawing,places",T={lat:-1.2921,lng:36.8219},q={url:"https://maps.googleapis.com/maps/api/js?key=AIzaSyB1Kfvlg6orolTJR4QIvC4hgiQJeQqNhlQ&v=3.exp&libraries=geometry,drawing,places",default_center:{lat:-1.2921,lng:36.8219}},M="AIzaSyB1Kfvlg6orolTJR4QIvC4hgiQJeQqNhlQ",I={app:{id:"z8szdn34"},user:{user_id:"5c65a1b87908a0602d297964",email:"donald@realfield.io",name:"Donald Bray"}},R="/dashboard",L="/page",z=!1,V={en:"English(UK)","en-us":"English(US)"},W="47480102815-0e7aff3oisoii0a2t20gc6ct7585i23e.apps.googleusercontent.com"},270:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return b}));var a=n(6),i=n(33),r=n(59),o=n(43),s=n(92),l=n(112),c=n.n(l),u=function(e,t){return function(e){return"object"==typeof e&&null!==e&&Array.isArray(e)?"array":typeof e}(e)==t||"number"==t&&!isNaN(e)},d=function(e,t,n,a){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o={config:n,oldConfig:a,removeEmptyGroups:i,removeInvalidRules:r};return p(e,[],null,{},o)};function p(e,t,n,a,l){var c=e.get("type"),u=e.get("children1");return("group"===c||"rule_group"===c)&&u&&u.size?function(e,t,n,a,i){var r=i.removeEmptyGroups,o=e.get("id"),s=e.get("children1"),l=s;!o&&n&&(o=n,e=e.set("id",o),a.sanitized=!0);var c={};s=s.map((function(e,n){return p(e,t.concat(o),n,c,i)})),r&&(s=s.filter((function(e){return void 0!=e})));var u=c.sanitized||l.size!=s.size;!s.size&&r&&t.length&&(u=!0,e=void 0);u&&(a.sanitized=!0);u&&e&&(e=e.set("children1",s));return e}(e,t,n,a,l):"rule"===c?function(e,t,n,a,l){var c=l.removeInvalidRules,u=l.config,d=l.oldConfig,p=u.settings.showErrorMessage,b=e.get("id"),f=e.get("properties"),j=f.get("field"),m=f.get("operator"),h=f.get("operatorOptions"),v=f.get("valueSrc"),g=f.get("value"),O=f.get("valueError"),x={field:j,operator:m,operatorOptions:h?h.toJS():{},valueSrc:v?v.toJS():null,value:g?g.toJS():null,valueError:O?O.toJS():null};j&&m&&g&&g.find((function(e,t){return void 0===e}));!b&&n&&(b=n,e=e.set("id",b),a.sanitized=!0);j&&Object(i.getFieldConfig)(u,j)||(j=null);null==j&&(f=["operator","operatorOptions","valueSrc","value"].reduce((function(e,t){return e.delete(t)}),f),m=null);"range_between"!=(m=f.get("operator"))&&"range_not_between"!=m||(m="range_between"==m?"between":"not_between",f=f.set("operator",m));var y=m?Object(i.getOperatorConfig)(u,m,j):null;y||(m=null);var w=j?Object(r.i)(u,j):[];w?-1==w.indexOf(m)&&(m=null):(console.warn("Type of field ".concat(j," is not supported")),m=null);null==m&&(f=(f=(f=f.delete("operatorOptions")).delete("valueSrc")).delete("value"));h=f.get("operatorOptions");m&&Object(o.c)(y.cardinality,1);!m||h&&!y.options?(h=null,f=f.delete("operatorOptions")):m&&!h&&y.options&&(h=Object(s.defaultOperatorOptions)(u,m,j),f=f.set("operatorOptions",h));v=f.get("valueSrc"),g=f.get("value");var k=Object(r.h)(u,d,f,j,m,null,!0),N=k.newValue,_=k.newValueSrc,S=k.newValueError;g=N,v=_,O=S,f=(f=f.set("value",g)).set("valueSrc",v),p&&(f=f.set("valueError",O));var C={field:j,operator:m,operatorOptions:h?h.toJS():{},valueSrc:v?v.toJS():null,value:g?g.toJS():null,valueError:O?O.toJS():null},A=!Object(o.b)(x,C),F=j&&m&&g&&!g.find((function(e,t){return void 0===e}));A&&(a.sanitized=!0);A&&!F&&c&&(e=void 0);A&&e&&(e=e.set("properties",f));return e}(e,0,n,a,l):e}var b=function(e,t,n,o,s,l,u,d){var p=arguments.length>8&&void 0!==arguments[8]&&arguments[8],b=arguments.length>9&&void 0!==arguments[9]&&arguments[9],f=!(arguments.length>10&&void 0!==arguments[10])||arguments[10],v=null,g=s;if(null!=s){if("field"==u){var O=m(t,n,s,u,l,d,e,o,b,p),x=Object(a.a)(O,2);v=x[0],g=x[1]}else if("func"==u){var y=h(t,n,s,u,l,d,e,o,b,p),w=Object(a.a)(y,2);v=w[0],g=w[1]}else if("value"==u||!u){var k=j(t,n,s,u,l,d,e,o,b,p),N=Object(a.a)(k,2);v=N[0],g=N[1]}if(!v){Object(i.getFieldConfig)(e,n);var _=Object(r.l)(e,n,o,u),S=c()(Object(i.getFieldWidgetConfig)(e,n,o,_,u),["factory"]),C="field"==u?Object(i.getFieldConfig)(e,s):null,A=S,F=S.validateValue;if("function"==typeof F){var P=[g,A];"field"==u&&P.push(C);var D=F.apply(void 0,P);"boolean"==typeof D?0==D&&(v="Invalid value"):v=D}}}return f&&v&&console.warn("[RAQB validate]","Field ".concat(n,": ").concat(v)),[v,v?s:g]},f=function(e,t){if(e instanceof Array)for(var n=0;n<e.length;n++){var a=Object(o.e)(t,e[n]);if(void 0==a)return["Value ".concat(e[n]," is not in list of values"),e];e[n]=a.value}else{var i=Object(o.e)(t,e);if(void 0==i)return["Value ".concat(e," is not in list of values"),e];e=i.value}return[null,e]},j=function(e,t,n,a,o,s,l){var c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,d=Object(i.getFieldConfig)(l,t),p=Object(r.l)(l,t,c,a),b=l.widgets[p],j=b.type,m=b.jsType,h=d.fieldSettings;if(o!=j)return["Value should have type ".concat(j,", but got value of type ").concat(o),n];if(m&&!u(n,m)&&!h.listValues)return["Value should have JS type ".concat(m,", but got value of type ").concat(typeof n),n];if(h){var v=s||h.listValues;if(v&&!h.allowCustomValues)return f(n,v);if(null!=h.min&&n<h.min)return["Value ".concat(n," < min ").concat(h.min),n];if(null!=h.max&&n>h.max)return["Value ".concat(n," > max ").concat(h.max),n]}return[null,n]},m=function(e,t,n,a,r,o,s){var l=s.settings.fieldSeparator,c=Array.isArray(e)?e.join(l):e,u=Array.isArray(n)?n.join(l):n,d=Object(i.getFieldConfig)(s,n);return d?u==c?["Can't compare field ".concat(e," with itself"),n]:r&&r!=d.type?["Field ".concat(n," is of type ").concat(d.type,", but expected ").concat(r),n]:[null,n]:["Unknown field ".concat(n),n]},h=function(e,t,n,r,o,s,l){var c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,u=arguments.length>8&&void 0!==arguments[8]&&arguments[8],d=arguments.length>9&&void 0!==arguments[9]&&arguments[9],p=n;if(n){var f=n.get("func");if(f){var j=Object(i.getFuncConfig)(l,f);if(!j)return["Unknown function ".concat(f),n];if(o&&j.returnType!=o)return["Function ".concat(f," should return value of type ").concat(j.returnType,", but got ").concat(o),n];for(var m in j.args){var h=j.args[m],v=p.get("args"),g=v?v.get(m):void 0,O=Object(i.getFieldConfig)(l,h),x=g?g.get("value"):void 0,y=g?g.get("valueSrc"):void 0;if(void 0!==x){var w=b(l,e,O,c,x,h.type,y,s,d,u,!1),k=Object(a.a)(w,2),N=k[0],_=k[1];if(null!==N){if(!d)return["Invalid value of arg ".concat(m," for func ").concat(f,": ").concat(N),n];p=p.deleteIn(["args",m]),void 0!==h.defaultValue&&(p=(p=p.setIn(["args",m,"value"],h.defaultValue)).setIn(["args",m,"valueSrc"],"value"))}else _!==x&&(p=p.setIn(["args",m,"value"],_))}else if(u&&void 0===h.defaultValue&&!d)return["Value of arg ".concat(m," for func ").concat(f," is required"),n]}}}return[null,p]}},278:function(e,t,n){"use strict";n.d(t,"a",(function(){return q}));var a=n(2),i=n(6),r=n(15),o=n(1),s=n.n(o),l=n(657),c=(n(1780),n(349)),u=n(190),d=n(124),p=n(1810),b=n(787),f=n(424),j=n.n(f),m=n(656),h=n(1117),v=n(1116),g=n(1122),O=n(786),x=n(199),y=n(612),w=n(1048),k=n.n(w),N=n(1047),_=n.n(N),S=n(17),C=n(0),A=["src","name","humanize"],F=["src","enableClipboard","displayDataTypes","name","view","showTabs","className","humanize"],P=["onClose","title","src","name","media","children","actions","humanize","fullScreen","open","view"],D=["content"],E=s.a.memo(s.a.forwardRef((function(e,t){var n=e.src,s=e.name,l=e.humanize,c=Object(r.a)(e,A),p=Object(o.useMemo)((function(){var e=[];return JSON.isJSON(n)&&(e=Object.entries(n)),e}),[n]),b=Object(o.useCallback)((function(e){var t=[];return JSON.isJSON(n)&&(t=Object.entries(e)),t.map((function(e){var t=Object(i.a)(e,2),n=t[0],a=t[1];return Object(C.jsx)(E,{humanize:l,src:a,name:n,title:n.humanize(),showTabs:!1})}))}),[l]),f=Object(o.useCallback)((function(e){return(e||[]).map((function(e){return JSON.isJSON(e)?b(e):Object(C.jsx)(u.a,{children:e})}))}),[l]);return Object(C.jsx)(d.a,Object(a.a)(Object(a.a)({container:!0,spacing:2},c),{},{ref:t,children:p.map((function(e,t){var n=Object(i.a)(e,2),a=n[0],r=n[1];return Object(C.jsxs)(d.a,{container:!0,className:"p-2 transition-all hover:bg-gray-600 hover:bg-opacity-5",children:[Object(C.jsx)(d.a,{item:!0,xs:5,sm:4,children:Object(C.jsx)(u.a,{className:"truncate pr-4 break-normal",sx:{color:function(e){return e.palette.text.placeholder}},color:"text.placeholder",children:l?a.humanize():a})}),Object(C.jsx)(d.a,{item:!0,xs:7,sm:8,className:"flex-wrap ",children:JSON.isJSON(r)?Object(C.jsx)(d.a,{container:!0,children:Object(C.jsx)(d.a,{item:!0,xs:12,children:Object(C.jsx)(T,{humanize:l,src:r,name:a,title:a.humanize()})})}):Array.isArray(r)?Object(C.jsx)(d.a,{container:!0,children:Object(C.jsx)(d.a,{item:!0,xs:12,children:f(r)})}):r})]},"".concat(s,"-").concat(a,"-").concat(t))}))}))}))),T=function(e){var t=e.src,n=e.enableClipboard,o=e.displayDataTypes,s=e.name,c=e.view,u=void 0===c?"prose":c,f=e.showTabs,m=void 0===f||f,h=e.className,v=e.humanize,g=Object(r.a)(e,F),O=Object(S.p)({view:u}),y=Object(i.a)(O,3),w=y[0],k=y[1];y[2];return Object(C.jsx)(l.a,Object(a.a)(Object(a.a)({className:"bg-transparent relative ".concat(h||"")},g),{},{children:Object(C.jsxs)(d.a,{container:!0,sx:{position:"relative"},className:" h-full relative",children:[m&&Object(C.jsx)(d.a,{item:!0,xs:12,className:"bg-transparent",children:Object(C.jsxs)(p.a,{value:w.view,onChange:function(e,t){k({view:t})},centered:!0,children:[Object(C.jsx)(b.a,{label:"Prose",value:"prose"}),Object(C.jsx)(b.a,{label:"Decorated",value:"decorated"}),Object(C.jsx)(b.a,{label:"Raw",value:"raw"})]})}),Object(C.jsx)(d.a,{item:!0,xs:12,className:"px-4",sx:{backgroundColor:function(e){return"raw"===w.view?e.palette.common.black:"transparent"},color:function(e){return"raw"===w.view?e.palette.text.contrast:e.palette.text.primary}},children:Object(C.jsx)(x.a,{className:" bg-transparent overflow-scroll ",children:Object(C.jsxs)(l.a,{className:"bg-transparent w-full p-4",children:["prose"===w.view&&Object(C.jsx)(E,{name:s,src:t,humanize:v}),"decorated"===w.view&&Object(C.jsx)(j.a,Object(a.a)({name:!1,src:t,enableClipboard:n,displayDataTypes:o},g)),"raw"===w.view&&Object(C.jsx)("pre",{className:"w-full break-normal",children:JSON.stringify(t,null,4)})]})})})]})}))},q=function(e){var t=e.onClose,n=e.title,s=e.src,l=e.name,d=(e.media,e.children,e.actions),p=e.humanize,b=e.fullScreen,f=e.open,j=e.view,x=void 0===j?"prose":j,w=Object(r.a)(e,P),N=Object(S.p)({fullScreen:Boolean(b)}),A=Object(i.a)(N,2),F=A[0],E=A[1],q=Object(o.useCallback)((function(){Function.isFunction(t)&&t()}),[t]);return Object(C.jsxs)(v.a,Object(a.a)(Object(a.a)({onClose:q,fullScreen:F.fullScreen,open:f},w),{},{children:[Object(C.jsx)(h.a,{children:n&&Object(C.jsx)(u.a,{variant:"subtitle1",className:"mb-4",paragraph:!0,children:n})}),Object(C.jsx)(O.a,{className:"p-0",children:Object(C.jsx)(T,{src:s,name:l,view:x,humanize:p})}),Object(C.jsxs)(g.a,{children:[Array.isArray(d)&&d.map((function(e,t){var n=e.content,i=Object(r.a)(e,D);return Object(o.createElement)(c.a,Object(a.a)(Object(a.a)({},i),{},{key:"action-".concat(t)}),n)})),Object(C.jsx)(y.a,{className:"mx-1",color:"accent",size:"small",fontSize:"inherit",value:JSON.stringify(s,null,4)}),Object(C.jsx)(m.a,{color:"indigo",className:"mx-1",size:"small",onClick:function(){return E((function(e){return{fullScreen:!e.fullScreen}}))},"aria-label":"".concat(F.fullScreen?"Exit Fullscreen":"Enter Fullscreen"),title:"".concat(F.fullScreen?"Exit Fullscreen":"Enter Fullscreen"),children:F.fullScreen?Object(C.jsx)(_.a,{fontSize:"inherit"}):Object(C.jsx)(k.a,{fontSize:"inherit"})}),Object(C.jsx)(c.a,{color:"error",className:"mx-1",onClick:q,"aria-label":"Close Dialog",title:"Close Dialog",autoFocus:!0,children:"Dismiss"})]})]}))};t.b=s.a.memo(T)},279:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n(2),i=n(138),r=(n(1),n(0)),o=i.i,s=i.f,l=i.d,c=i.e,u=i.l,d=i.s,p=i.t,b=i.o,f={formatField:function(e,t,n,a,i,r){return r?n:e},renderField:function(e){return Object(r.jsx)(o,Object(a.a)({},e))},renderOperator:function(e){return Object(r.jsx)(o,Object(a.a)({},e))},renderFunc:function(e){return Object(r.jsx)(o,Object(a.a)({},e))},renderConjs:function(e){return Object(r.jsx)(s,Object(a.a)({},e))},renderSwitch:function(e){return Object(r.jsx)(b,Object(a.a)({},e))},renderButton:function(e){return Object(r.jsx)(l,Object(a.a)({},e))},renderButtonGroup:function(e){return Object(r.jsx)(c,Object(a.a)({},e))},renderProvider:function(e){return Object(r.jsx)(u,Object(a.a)({},e))},renderValueSources:function(e){return Object(r.jsx)(d,Object(a.a)({},e))},renderConfirm:p,valueSourcesInfo:{value:{}},fieldSeparator:".",fieldSeparatorDisplay:".",renderSize:"small",maxLabelsLength:100,canReorder:!0,canRegroup:!0,showLock:!1,canDeleteLocked:!1,showNot:!0,canLeaveEmptyGroup:!0,shouldCreateEmptyGroup:!1,forceShowConj:!1,canShortMongoQuery:!0,groupActionsPosition:"topRight",setOpOnChangeField:["keep","default"],groupOperators:["some","all","none"],convertableWidgets:{number:["slider","rangeslider"],slider:["number","rangeslider"],rangeslider:["number","slider"],text:["textarea"],textarea:["text"]},locale:{moment:"en"},valueLabel:"Value",valuePlaceholder:"Value",fieldLabel:"Field",operatorLabel:"Operator",funcLabel:"Function",fieldPlaceholder:"Select field",funcPlaceholder:"Select function",operatorPlaceholder:"Select operator",lockLabel:"Lock",lockedLabel:"Locked",deleteLabel:null,addGroupLabel:"Add group",addRuleLabel:"Add rule",addSubRuleLabel:"Add sub rule",delGroupLabel:"",notLabel:"Not",valueSourcesPopupTitle:"Select value source",removeRuleConfirmOptions:null,removeGroupConfirmOptions:null,defaultGroupConjunction:"AND",jsonLogic:{groupVarKey:"var",altVarKey:"var",lockedOp:"locked"}}},288:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o}));var a={};n.r(a),n.d(a,"setTree",(function(){return d})),n.d(a,"addRule",(function(){return p})),n.d(a,"removeRule",(function(){return b})),n.d(a,"addGroup",(function(){return f})),n.d(a,"removeGroup",(function(){return j})),n.d(a,"moveItem",(function(){return m}));var i={};n.r(i),n.d(i,"setConjunction",(function(){return h})),n.d(i,"setNot",(function(){return v})),n.d(i,"setLock",(function(){return g}));var r={};n.r(r),n.d(r,"setField",(function(){return O})),n.d(r,"setOperator",(function(){return x})),n.d(r,"setValue",(function(){return y})),n.d(r,"setValueSrc",(function(){return w})),n.d(r,"setOperatorOption",(function(){return k}));var o={};n.r(o),n.d(o,"setDragProgress",(function(){return N})),n.d(o,"setDragStart",(function(){return _})),n.d(o,"setDragEnd",(function(){return S}));var s=n(132),l=n(43),c=n(92),u=n(62),d=(n(49),function(e,t){return{type:u.s,tree:t}}),p=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"rule",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return{type:u.b,ruleType:a,children:i,path:Object(l.n)(t),id:Object(s.a)(),properties:Object(c.defaultRuleProperties)(e).merge(n||{}),config:e}},b=function(e,t){return{type:u.i,path:Object(l.n)(t),config:e}},f=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{type:u.a,path:Object(l.n)(t),children:a,id:Object(s.a)(),properties:Object(c.defaultGroupProperties)(e).merge(n||{}),config:e}},j=function(e,t){return{type:u.h,path:Object(l.n)(t),config:e}},m=function(e,t,n,a){return{type:u.c,fromPath:Object(l.n)(t),toPath:Object(l.n)(n),placement:a,config:e}},h=function(e,t,n){return{type:u.j,path:Object(l.n)(t),conjunction:n}},v=function(e,t,n){return{type:u.p,path:Object(l.n)(t),not:n}},g=function(e,t,n){return{type:u.o,path:Object(l.n)(t),lock:n}},O=function(e,t,n){return{type:u.n,path:Object(l.n)(t),field:n,config:e}},x=function(e,t,n){return{type:u.q,path:Object(l.n)(t),operator:n,config:e}},y=function(e,t,n,a,i,r,o){return{type:u.t,path:Object(l.n)(t),delta:n,value:a,valueType:i,asyncListValues:r,config:e,__isInternal:o}},w=function(e,t,n,a){return{type:u.u,path:Object(l.n)(t),delta:n,srcKey:a,config:e}},k=function(e,t,n,a){return{type:u.r,path:Object(l.n)(t),name:n,value:a,config:e}},N=function(e,t){return{type:u.l,mousePos:e,dragging:t}},_=function(e,t,n){return{type:u.m,dragStart:e,dragging:t,mousePos:n}},S=function(){return{type:u.k}}},307:function(e,t,n){"use strict";var a=n(1),i=n.n(a);t.a=i.a.createContext()},32:function(e,t,n){"use strict";n.r(t),n.d(t,"surveys",(function(){return v})),n.d(t,"queries",(function(){return O})),n.d(t,"commissions",(function(){return ne})),n.d(t,"responses",(function(){return oe})),n.d(t,"teams",(function(){return le})),n.d(t,"tracks",(function(){return be})),n.d(t,"events",(function(){return ve})),n.d(t,"orders",(function(){return Oe})),n.d(t,"orderitems",(function(){return xe})),n.d(t,"retailitems",(function(){return we})),n.d(t,"fulfilments",(function(){return Ne})),n.d(t,"coupons",(function(){return Se})),n.d(t,"invoices",(function(){return Ae})),n.d(t,"payments",(function(){return Pe})),n.d(t,"currencies",(function(){return De})),n.d(t,"vacancies",(function(){return Me})),n.d(t,"applications",(function(){return Xe})),n.d(t,"notifications",(function(){return et})),n.d(t,"actionlogs",(function(){return nt})),n.d(t,"attachments",(function(){return rt})),n.d(t,"demorequests",(function(){return st})),n.d(t,"quoterequests",(function(){return lt})),n.d(t,"users",(function(){return ct.a})),n.d(t,"posts",(function(){return dt})),n.d(t,"settings",(function(){return bt})),n.d(t,"preferences",(function(){return jt})),n.d(t,"forms",(function(){return ht})),n.d(t,"formvalues",(function(){return vt})),n.d(t,"conversations",(function(){return Ot})),n.d(t,"messages",(function(){return xt})),n.d(t,"emails",(function(){return yt})),n.d(t,"courses",(function(){return Nt})),n.d(t,"quizes",(function(){return Ct})),n.d(t,"questions",(function(){return Ft})),n.d(t,"answers",(function(){return Pt})),n.d(t,"results",(function(){return Dt}));var a={};n.r(a),n.d(a,"surveys",(function(){return v})),n.d(a,"queries",(function(){return O})),n.d(a,"commissions",(function(){return ne})),n.d(a,"responses",(function(){return oe})),n.d(a,"teams",(function(){return le})),n.d(a,"tracks",(function(){return be})),n.d(a,"events",(function(){return ve})),n.d(a,"orders",(function(){return Oe})),n.d(a,"orderitems",(function(){return xe})),n.d(a,"retailitems",(function(){return we})),n.d(a,"fulfilments",(function(){return Ne})),n.d(a,"coupons",(function(){return Se})),n.d(a,"invoices",(function(){return Ae})),n.d(a,"payments",(function(){return Pe})),n.d(a,"currencies",(function(){return De})),n.d(a,"vacancies",(function(){return Me})),n.d(a,"applications",(function(){return Xe})),n.d(a,"notifications",(function(){return et})),n.d(a,"actionlogs",(function(){return nt})),n.d(a,"attachments",(function(){return rt})),n.d(a,"demorequests",(function(){return st})),n.d(a,"quoterequests",(function(){return lt})),n.d(a,"users",(function(){return ct.a})),n.d(a,"posts",(function(){return dt})),n.d(a,"settings",(function(){return bt})),n.d(a,"preferences",(function(){return jt})),n.d(a,"forms",(function(){return ht})),n.d(a,"formvalues",(function(){return vt})),n.d(a,"conversations",(function(){return Ot})),n.d(a,"messages",(function(){return xt})),n.d(a,"emails",(function(){return yt})),n.d(a,"courses",(function(){return Nt})),n.d(a,"quizes",(function(){return Ct})),n.d(a,"questions",(function(){return Ft})),n.d(a,"answers",(function(){return Pt})),n.d(a,"results",(function(){return Dt}));var i=n(5),r=n.n(i),o=n(45),s=n(10),l=n(1905),c=n(1777),u=n(1111),d=n(1112),p=n(1778),b=n(24),f=(n(61),n(1)),j=n.n(f),m=n(67),h=n(0),v={name:"surveys",label:"Surveys",icon:Object(h.jsx)(l.a,{}),color:b.b.hex.primarydark,model:"Survey",endpoint:"/surveys",cache:!0,views:{single:{default:"cardview",cardview:{avatar:!1,title:["title"],subtitle:["order"],tags:["mode","status","type"],body:["description","focus_region","locality","country","requested_start_date","requested_due_date","project_objectives","confidence_level","error_margin","sample_size","files"]}},listing:{default:"tableview",tableview:{avatar:!1,title:["title"]},calendarview:{type:"task",resolveData:function(){var e=Object(s.a)(r.a.mark((function e(t){var n,a,i,s,l=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:!(l.length>1&&void 0!==l[1])||l[1],n=[],a=Object(o.a)(t);try{for(a.s();!(i=a.n()).done;)s=i.value,n.push({id:null===s||void 0===s?void 0:s._id,calendarId:"surveys",title:s.title,body:"<b>Project objectives</b> <br />"+s.project_objectives+" <br /><br /> <b>Description</b><br />"+s.description,category:"time",dueDateClass:"",start:s.requested_start_date,end:s.requested_due_date})}catch(r){a.e(r)}finally{a.f()}return e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}},scope:{columns:{title:{type:"string",label:"Title",icon:!1,input:{type:"text",default:"",required:!0}},description:{type:"string",label:"Description",icon:"subject",input:{type:"textarea",default:"",required:!1}},mode:{type:"string",label:"Mode",icon:"label_important",input:{type:"radio",default:"questionnaire",required:!0},possibilities:{questionnaire:"Questionnaire",observance:"Observance",interview:"Interview"},restricted:{display:function(e,t){return!1},input:function(e,t){if(e&&["approved","commissioned","completed"].includes(e.status))return!0;if(t){if("admin"===(null===t||void 0===t?void 0:t.role))return!1;if(e&&"customer"in e)return("object"!==typeof e.customer||e.customer._id!==(null===t||void 0===t?void 0:t._id))&&e.customer!==(null===t||void 0===t?void 0:t._id)}return!0}}},project_objectives:{type:"string",label:"Project Objectives",icon:"subject",input:{type:"textarea",default:"",required:!0},restricted:{display:function(e,t){return!1},input:function(e,t){if(e&&["approved","commissioned","completed"].includes(e.status))return!0;if(t){if("admin"===(null===t||void 0===t?void 0:t.role))return!1;if(e&&"customer"in e)return("object"!==typeof e.customer||e.customer._id!==(null===t||void 0===t?void 0:t._id))&&e.customer!==(null===t||void 0===t?void 0:t._id)}return!0}}},country:{type:"string",label:"Country",icon:"map",input:{type:"select",default:"",required:!0},possibilities:m.a.names(),restricted:{display:function(e,t){return!1},input:function(e,t){if(e&&["approved","commissioned","completed"].includes(e.status))return!0;if(t){if(null===t||void 0===t?void 0:t.isAdmin)return!1;if(e&&"customer"in e)return("object"!==typeof e.customer||e.customer._id!==(null===t||void 0===t?void 0:t._id))&&e.customer!==(null===t||void 0===t?void 0:t._id)}return!0}}},focus_region:{type:"string",label:"Focus Region",input:{type:"text",default:"",required:!0,size:6},restricted:{display:function(e,t){return!1},input:function(e,t){if(e&&["approved","commissioned","completed"].includes(e.status))return!0;if(t){if("admin"===(null===t||void 0===t?void 0:t.role))return!1;if(e&&"customer"in e)return("object"!==typeof e.customer||e.customer._id!==(null===t||void 0===t?void 0:t._id))&&e.customer!==(null===t||void 0===t?void 0:t._id)}return!0}}},locality:{type:"string",label:"Locality",input:{type:"text",default:"",required:!0,size:6},restricted:{display:function(e,t){return!1},input:function(e,t){if(e&&["approved","commissioned","completed"].includes(e.status))return!0;if(t){if("admin"===(null===t||void 0===t?void 0:t.role))return!1;if(e&&"customer"in e)return("object"!==typeof e.customer||e.customer._id!==(null===t||void 0===t?void 0:t._id))&&e.customer!==(null===t||void 0===t?void 0:t._id)}return!0}}},type:{type:"string",label:"Type",icon:"label",input:{type:"select",default:"qualitative",required:!0},possibilities:{qualitative:"Qualitative",quantitative:"Quantitative",mixed:"Mixed",male_bias:"Male bias",female_bias:"Female bias",focus_group:"Focus group"},restricted:{display:function(e,t){return!1},input:function(e,t){if(e&&["approved","commissioned","completed"].includes(e.status))return!0;if(t){if("admin"===(null===t||void 0===t?void 0:t.role))return!1;if(e&&"customer"in e)return("object"!==typeof e.customer||e.customer._id!==(null===t||void 0===t?void 0:t._id))&&e.customer!==(null===t||void 0===t?void 0:t._id)}return!0}}},requested_start_date:{type:"date",label:"Requested Start Date",icon:"event",input:{type:"date",default:"",required:!0,size:6},restricted:{display:function(e,t){return!1},input:function(e,t){if(e&&["commissioned","completed"].includes(e.status))return!0;if(t){if("admin"===(null===t||void 0===t?void 0:t.role))return!1;if(e&&"customer"in e)return("object"!==typeof e.customer||e.customer._id!==(null===t||void 0===t?void 0:t._id))&&e.customer!==(null===t||void 0===t?void 0:t._id)}return!0}}},requested_due_date:{type:"date",label:"Requested end date",icon:"event",input:{type:"date",default:"",required:!0,size:6},restricted:{display:function(e,t){return!1},input:function(e,t){if(e&&["commissioned","cancelled","completed"].includes(e.status))return!0;if(t){if("admin"===(null===t||void 0===t?void 0:t.role))return!1;if(e&&"customer"in e)return("object"!==typeof e.customer||e.customer._id!==(null===t||void 0===t?void 0:t._id))&&e.customer!==(null===t||void 0===t?void 0:t._id)}return!0}}},sample_size:{type:"integer",label:"Sample size",icon:"subject",input:{type:"number",default:100,required:!0},restricted:{display:function(e,t){return!1},input:function(e,t){if(e&&["cancelled","completed"].includes(e.status))return!0;if(t){if("admin"===(null===t||void 0===t?void 0:t.role))return!1;if(e&&"customer"in e)return("object"!==typeof e.customer||e.customer._id!==(null===t||void 0===t?void 0:t._id))&&e.customer!==(null===t||void 0===t?void 0:t._id)}return!0}}},confidence_level:{type:"integer",label:"Confidence level",icon:"label",input:{type:"slider",default:"85",required:!0,size:6},possibilities:{80:"80%",85:"85%",90:"90%",95:"95%"},restricted:{display:function(e,t){return!1},input:function(e,t){if(e&&["cancelled","completed"].includes(e.status))return!0;if(t){if("admin"===(null===t||void 0===t?void 0:t.role))return!1;if(e&&"customer"in e)return("object"!==typeof e.customer||e.customer._id!==(null===t||void 0===t?void 0:t._id))&&e.customer!==(null===t||void 0===t?void 0:t._id)}return!0}}},error_margin:{type:"integer",label:"Error margin",icon:"subject",input:{type:"slider",default:"15",required:!0,size:6},possibilities:{5:"5%",10:"10%",15:"15%",20:"20%",25:"25%",30:"30%"},restricted:{display:function(e,t){return!1},input:function(e,t){if(e&&["cancelled","completed"].includes(e.status))return!0;if(t){if(null===t||void 0===t?void 0:t.isAdmin)return!1;if(e&&"customer"in e)return("object"!==typeof e.customer||e.customer._id!==(null===t||void 0===t?void 0:t._id))&&e.customer!==(null===t||void 0===t?void 0:t._id)}return!0}}},files:{type:["string"],label:"Files",input:{type:"file",props:{acceptedFiles:["image/*","video/*","audio/*","application/*"],filesLimit:3,helperText:"Max of 3 filse"}},reference:{name:"attachments",service_query:{},resolves:{value:"_id",display:{primary:["name"],secondary:[],avatar:!1}}}},status:{type:"string",label:"Status",icon:"label",input:{type:"select",default:"requested",required:!0},possibilities:function(e,t){var n={requested:"Requested",approved:"Approved",commissioned:"Commissioned",cancelled:"Cancelled",completed:"Completed"};if(t){if(null===t||void 0===t?void 0:t.isAdmin)return n;var a={requested:"Requested",cancelled:"Cancelled"};return"object"===typeof e&&e.status&&e.status in n&&(a[e.status]=n[e.status]),a}return n},restricted:{display:function(e,t){return!1},input:function(e,t){if(t){if("admin"===(null===t||void 0===t?void 0:t.role))return!1;if(e&&["commissioned","completed"].includes(e.status))return!0;if(e&&"customer"in e)return("object"!==typeof e.customer||e.customer._id!==(null===t||void 0===t?void 0:t._id))&&e.customer!==(null===t||void 0===t?void 0:t._id)}return!0}}}},identity:{primary:["title"],secondary:["status"],avatar:!1},dependencies:[{name:"users",column:"customer"}],dependants:{queries:{column:"survey",query:{}},commissions:{column:"survey",query:{}},actionlogs:{column:"record",query:{context:"Survey"}}}},access:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)&&"customer"!==(null===e||void 0===e?void 0:e.role)},view:{summary:function(e){return"admin"===(null===e||void 0===e?void 0:e.role)||"customer"===(null===e||void 0===e?void 0:e.role)},all:function(e){return"admin"===(null===e||void 0===e?void 0:e.role)||"customer"===(null===e||void 0===e?void 0:e.role)},single:function(e){return"admin"===(null===e||void 0===e?void 0:e.role)||"customer"===(null===e||void 0===e?void 0:e.role)}},actions:{view:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)&&"customer"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("/surveys/view/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:c.a,label:"View",className:"text-green-500"},create:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:"/surveys/add".toUriWithDashboardPrefix(),Icon:u.a,label:"Add new",className:"text-green-500",isFreeAction:!0},update:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("/surveys/edit/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:d.a,label:"Edit",className:"text-blue-500"},delete:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("/surveys/delete/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:p.a,className:"text-red-500",label:"Delete",confirmationRequired:!0}}}},g=n(1906),O={name:"queries",label:"Queries",icon:Object(h.jsx)(g.a,{}),color:b.b.hex.accent,model:"SurveyQuery",endpoint:"/queries",cache:!0,views:{single:{default:"cardview",cardview:{title:["question"],subtitle:["survey"],tags:["response_type","status"],body:["sample_size","country","locality"]}},listing:{default:"tableview",tableview:{avatar:!1,title:["question"]}}},scope:{columns:{survey:{type:"string",label:"survey",icon:"label",input:{type:"select",default:"",required:!0},reference:{name:"surveys",service_query:{},resolves:{value:"_id",display:{primary:["title"],secondary:["status"],avatar:!1}}}},question:{type:"string",label:"Question",icon:"label",input:{type:"textarea",default:"",required:!0}},sample_size:{type:"integer",label:"Sample size",icon:"subject",input:{type:"number",default:1,props:{min:1}}},country:{type:"string",label:"Country",icon:"map",input:{type:"select",default:"",required:!1},possibilities:m.a.names()},locality:{type:"string",label:"Locality",input:{type:"text",default:"",required:!1}},response_type:{type:"string",label:"Response type",input:{type:"radio",default:"text",required:!0},possibilities:{text:"Text",image:"Image",audio:"Audio",video:"Video",file:"File"}}},identity:{primary:["question"],secondary:[],avatar:!1},dependencies:[],dependants:{responses:{column:"query",query:{}},commissions:{column:"queries",query:{}},actionlogs:{column:"record",query:{context:"SurveyQuery"}}}},access:{restricted:function(e){return String.isEmpty(null===e||void 0===e?void 0:e.role)},view:{summary:function(e){return!String.isEmpty(null===e||void 0===e?void 0:e.role)},all:function(e){return!String.isEmpty(null===e||void 0===e?void 0:e.role)},single:function(e){return!String.isEmpty(null===e||void 0===e?void 0:e.role)}},actions:{view:{restricted:function(e){return String.isEmpty(null===e||void 0===e?void 0:e.role)},uri:function(e){return("queries/view/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:c.a,label:"View",className:"text-green-500"},create:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:"queries/add".toUriWithDashboardPrefix(),Icon:u.a,label:"Add new",className:"text-green-500",isFreeAction:!0},update:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("queries/edit/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:d.a,label:"Edit",className:"text-blue-500"},delete:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("queries/delete/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:p.a,className:"text-red-500",label:"Delete",confirmationRequired:!0}}}},x=n(6),y=n(15),w=n(2),k=n(2023),N=n(652),_=n.n(N),S=n(78),C=n(833),A=n(339),F=n(13),P=n(7),D=n(177),E=n(26),T=n(103),q=n(35),M=(n(423),n(48)),I=n.n(M),R=n(18),L=n(21),z=n(526),V=n(1809),W=(n(2038),n(1918),n(2039),n(1817)),J=n(1042),B=n.n(J),U=n(1041),G=n(424),H=n.n(G);function K(e){return Object(h.jsx)(V.a,Object(w.a)({elevation:6,variant:"filled"},e))}var Y,Q,Z={scheduled:"Scheduled",ongoing:"Ongoing",complete:"Complete",cancelled:"Cancelled"},X={scheduled:"#880e4f",ongoing:"#e65100",complete:"#4caf50",cancelled:"#b71c1c"},$=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"meters";return e=e?Number.parseNumber(e):1,"yards"===(t=t.toLowerCase())?e*=.9144:"feet"===t?e*=.3048:"kilometers"===t?e*=1e3:"miles"===t&&(e*=1609.34),e},ee=j.a.memo((function(e){var t=e.data,n=e.label,a=Object(f.useState)([{field:"value",headerName:n,width:400},{field:"count",headerName:"Total",width:150}]),i=Object(x.a)(a,2),r=i[0],o=(i[1],Object(f.useState)([])),s=Object(x.a)(o,2),l=s[0],c=s[1];return Object(f.useEffect)((function(){var e=[];JSON.isJSON(t)&&Object.entries(t).map((function(t,n){var a=Object(x.a)(t,2),i=a[0],r=a[1];e.push({id:n,value:i,count:r})})),c(e)}),[t]),Object(h.jsx)("div",{style:{height:300,width:"100%"},children:Object(h.jsx)(U.a,{rows:l,columns:r})})})),te=j.a.memo((function(e){var t,n=e.entry,a=(e.user,e.isPopulated,Object(f.useState)(!0)),i=Object(x.a)(a,2),r=i[0],o=i[1],s=Object(f.useState)(!1),l=Object(x.a)(s,2),c=l[0],u=l[1],d=Object(f.useState)(!1),p=Object(x.a)(d,2),b=p[0],m=p[1],v=Object(f.useState)(!1),g=Object(x.a)(v,2),O=g[0],y=g[1],w=Object(f.useState)(!1),N=Object(x.a)(w,2),_=N[0],D=N[1];return Object(f.useEffect)((function(){u(!1),o(!0),q.a.get("/responses/form-responses-summary/"+(null===n||void 0===n?void 0:n._id)).then((function(e){var t=e.body.data,n=t.labels,a=t.types,i=t.counts;m(n),y(a),D(i),o(!1)})).catch((function(e){o(!1),D(!1),u(e)}))}),[]),Object(h.jsxs)(F.a,{className:"p-0 m-0",children:[Object(h.jsx)(P.a,{className:"p-0 m-0",xs:12,children:Object(h.jsx)(A.a,{circles:[{id:null===n||void 0===n?void 0:n._id,center:n.focus_center,infoWindow:Object(h.jsxs)(j.a.Fragment,{children:[Object(h.jsx)(E.a,{component:"h5",variant:"subtitle2",color:"primary",bold:!0,paragraph:!0,children:"Commission"}),n.survey?Object(h.jsxs)(E.a,{component:"p",variant:"body2",children:[" ","Survey : ",null===(t=n.survey)||void 0===t?void 0:t.title," ",Object(h.jsx)("br",{})]}):"",Object(h.jsxs)(E.a,{component:"p",variant:"body2",gutterBottom:!0,paragraph:!0,children:[" ","From:"," ","".concat(Date.format(n.start_date,"d M Y")," ").concat(Date.format(n.start_date,"h:i:s a"))]}),Object(h.jsxs)(E.a,{component:"p",variant:"body2",gutterBottom:!0,paragraph:!0,children:[" ","To:"," ","".concat(Date.format(n.end_date,"d M Y")," ").concat(Date.format(n.end_date,"h:i:s a"))]}),Object(h.jsxs)(E.a,{component:"p",variant:"body2",gutterBottom:!0,paragraph:!0,children:[" ","Involvement:"," ","team"===n.involvement?"Team":"Individual"," "]}),Object(h.jsxs)(E.a,{component:"p",variant:"body2",gutterBottom:!0,paragraph:!0,children:[" ","Radius:"," ",n.focus_radius+" "+n.focus_radius_metric," "]}),Object(h.jsxs)(E.a,{component:"p",variant:"body2",gutterBottom:!0,paragraph:!0,children:["team"===n.involvement&&Object(h.jsx)(k.a,{size:"small",label:n.status})&&Object(h.jsx)(k.a,{size:"small",avatar:n.team.avatar?Object(h.jsx)(S.a,{alt:n.team.name,src:q.a.getAttachmentFileUrl(n.team.avatar)}):null,label:n.team.name}),"individual"===n.involvement&&Object(h.jsx)(k.a,{size:"small",label:"Individual"}),"individual"===n.involvement&&n.individual&&Object(h.jsx)(k.a,{size:"small",avatar:n.individual.avatar?Object(h.jsx)(S.a,{alt:n.individual.first_name,src:q.a.getAttachmentFileUrl(n.individual.avatar)}):null,label:n.individual.first_name+" "+n.individual.last_name}),"\xa0"]}),Object(h.jsxs)(C.a,{color:"primary",variant:"dot",children:[Object(h.jsx)(k.a,{size:"small",label:n.status})," "]})]}),radius:$(n.focus_radius,n.focus_radius_metric),options:{fillColor:"#4a148c",strokeColor:"#4a148c"}}],selectedEntryType:"circle",selectedEntry:0})}),Object(h.jsxs)(P.a,{xs:12,className:"p-4",children:[Object(h.jsx)(E.a,{component:"div",variant:"body2",paragraph:!0,children:"Survey"}),Object(h.jsx)(E.a,{component:"div",variant:"body1",paragraph:!0,children:n.survey?n.survey.title:""}),Object(h.jsx)(E.a,{component:"div",variant:"body2",paragraph:!0,children:"From"}),Object(h.jsx)(E.a,{component:"div",variant:"body1",paragraph:!0,children:new Date(n.start_date).toString()}),Object(h.jsx)(E.a,{component:"div",variant:"body2",paragraph:!0,children:"To"}),Object(h.jsx)(E.a,{component:"div",variant:"body1",paragraph:!0,children:new Date(n.end_date).toString()}),Object(h.jsx)(E.a,{component:"div",variant:"body2",paragraph:!0,children:"Involvement"}),Object(h.jsx)(E.a,{component:"div",variant:"body1",paragraph:!0,children:String.isString(n.involvement)?n.involvement.humanize():""}),Object(h.jsx)(E.a,{component:"div",variant:"body2",paragraph:!0,children:String.isString(n.involvement)?n.involvement.humanize():""}),Object(h.jsxs)(E.a,{component:"div",variant:"body1",paragraph:!0,children:["team"===n.involvement&&Object(h.jsx)(k.a,{size:"small",label:n.status})&&Object(h.jsx)(k.a,{size:"small",avatar:n.team.avatar?Object(h.jsx)(S.a,{alt:n.team.name,src:q.a.getAttachmentFileUrl(n.team.avatar)}):null,label:n.team.name}),"individual"===n.involvement&&Object(h.jsx)(k.a,{size:"small",label:"Individual"}),"individual"===n.involvement&&n.individual&&Object(h.jsx)(k.a,{size:"small",avatar:n.individual.avatar?Object(h.jsx)(S.a,{alt:n.individual.first_name,src:q.a.getAttachmentFileUrl(n.individual.avatar)}):null,label:n.individual.first_name+" "+n.individual.last_name}),"\xa0"]}),Object(h.jsxs)(E.a,{component:"div",variant:"body2",paragraph:!0,children:["Focus"," "]}),Object(h.jsx)(E.a,{component:"div",variant:"body1",paragraph:!0,children:Object(h.jsx)(H.a,{name:"Coordinates",src:n.focus_center,displayDataTypes:!1})}),Object(h.jsx)(E.a,{component:"div",variant:"body2",paragraph:!0,children:"Focus Radius"}),Object(h.jsx)(E.a,{component:"div",variant:"body1",paragraph:!0,children:n.focus_radius+" "+n.focus_radius_metric})]}),Object(h.jsx)(F.a,{className:"mt-8",children:Object(h.jsx)(P.a,{xs:12,children:Object(h.jsxs)(E.a,{variant:"subtitle1",children:[" ","Responses Summary"]})})}),r&&Object(h.jsx)(F.a,{className:"mt-8",children:Object(h.jsxs)(P.a,{className:"flex flex-col justify-center items-center",xs:12,children:[Object(h.jsx)(W.a,{className:"mb-4",color:"secondary"}),Object(h.jsxs)(E.a,{variant:"caption",children:[" ","Loading Responses Summary..."]})]})}),c&&Object(h.jsx)(F.a,{className:"mt-8",children:Object(h.jsxs)(P.a,{className:"flex flex-col justify-center items-center",xs:12,children:[Object(h.jsx)(B.a,{fontSize:"large",className:"mb-4",color:"error"}),Object(h.jsxs)(E.a,{variant:"caption",children:[" ","Something went wrong. ",JSON.stringify(c)]})]})}),_&&!r&&Object(h.jsxs)(F.a,{className:"mb-8",children:[Object(h.jsx)(P.a,{xs:12,children:Object(h.jsx)(K,{severity:"warning",children:"This is an automated report based on raw data submitted to this project. Please conduct proper data cleaning prior to using the graphs and figures used on this page."})}),Object(h.jsx)(F.a,{className:"mb-8",children:Object.entries(_).map((function(e){var t=Object(x.a)(e,2),n=t[0],a=t[1];return!JSON.isEmpty(a)&&b[n]&&O[n]&&Object(h.jsx)(P.a,{xs:12,children:Object(h.jsxs)(F.a,{className:"mb-8",children:[Object(h.jsx)(P.a,{xs:12,children:Object(h.jsxs)(E.a,{variant:"subtitle2",className:"w-full text-center",children:[" ",b[n]]})}),Object(h.jsxs)(P.a,{xs:12,children:["select_one"===O[n]&&Object(h.jsx)(z.a,{data:{labels:Object.keys(a),datasets:[{label:b[n],data:Object.values(a),backgroundColor:"#00AF41",hoverBackgroundColor:"#76C4D5"}]}}),"text"===O[n]&&Object(h.jsx)(ee,{data:a,label:b[n]})]})]})})}))})]})]})})),ne={name:"commissions",label:"Commissions",icon:Object(h.jsx)(_.a,{}),color:"#4a148c",model:"Commission",endpoint:"/commissions",cache:!0,views:{single:{default:"cardview",cardview:{avatar:!1,resolveData:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return{avatar:"team"===e.involvement&&e.team?e.team.avatar?Object(h.jsx)(S.a,{alt:e.team.name,src:q.a.getAttachmentFileUrl(e.team.avatar)}):null:"individual"===e.involvement&&e.individual?e.individual.avatar&&Object(h.jsx)(S.a,{alt:e.individual.first_name,src:q.a.getAttachmentFileUrl(e.individual.avatar)}):null,title:Object(h.jsxs)(E.a,{variant:"h4",gutterBottom:!0,children:[e.start_date?new Date(e.start_date).format(T.b.dateformats.date)+(e.end_date?" - ":""):"",e.end_date?new Date(e.end_date).format(T.b.dateformats.date):""]}),subtitle:Object(h.jsx)(j.a.Fragment,{children:Object(h.jsxs)(F.a,{className:"p-0",children:[Object(h.jsx)(P.a,{xs:12,children:Object(h.jsx)(E.a,{variant:"subtitle2",paragraph:!0,children:e.requirements})}),Object(h.jsx)(P.a,{xs:12,children:e.status&&Object(h.jsx)(D.a,{color:X[e.status],text:Z[e.status]})})]})}),body:Object(h.jsx)(te,{entry:e,user:t,isPopulated:n})}}},calendarview:{type:"period",period:["start_date","end_date"],title:["survey","status","involvement"]},googlemapview:{type:"circle",coordinates:"focus_center",title:["start_date","end_date","status","involvement"]}},listing:{default:"tableview",listview:{avatar:!1,resolveData:function(){var e=Object(s.a)(r.a.mark((function e(t){var n,a=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>1&&void 0!==a[1]?a[1]:null,!(a.length>2&&void 0!==a[2])||a[2],n=[],Array.isArray(t)&&(n=t.map((function(e,t){return{id:null===e||void 0===e?void 0:e._id,icon:"team"===e.involvement&&e.team?e.team.avatar?null:Object(h.jsx)(_.a,{}):"individual"===e.involvement&&e.individual?e.individual.avatar?null:Object(h.jsx)(_.a,{}):null,avatar:"team"===e.involvement&&e.team?e.team.avatar?Object(h.jsx)(S.a,{alt:e.team.name,src:q.a.getAttachmentFileUrl(e.team.avatar)}):null:"individual"===e.involvement&&e.individual&&e.individual.avatar?Object(h.jsx)(S.a,{alt:e.individual.first_name,src:q.a.getAttachmentFileUrl(e.individual.avatar)}):null,title:new Date(e.start_date).toLocaleDateString()+" - "+e.end_date,body:Object(h.jsxs)(j.a.Fragment,{children:[e.survey?Object(h.jsxs)(E.a,{component:"span",variant:"body1",paragraph:!0,children:[" ","Survey : ",e.survey.title," ",Object(h.jsx)("br",{})]}):"",Object(h.jsxs)(E.a,{component:"span",variant:"body2",paragraph:!0,children:["team"===e.involvement&&Object(h.jsx)(k.a,{size:"small",label:"Team"}),"\xa0","team"===e.involvement&&Object(h.jsx)(k.a,{size:"small",label:e.status})&&Object(h.jsx)(k.a,{size:"small",avatar:e.team.avatar?Object(h.jsx)(S.a,{alt:e.team.name,src:q.a.getAttachmentFileUrl(e.team.avatar)}):null,label:e.team.name}),"individual"===e.involvement&&Object(h.jsx)(k.a,{size:"small",label:"Individual"}),"\xa0","individual"===e.involvement&&e.individual&&Object(h.jsx)(k.a,{size:"small",avatar:e.individual.avatar?Object(h.jsx)(S.a,{alt:e.individual.first_name,src:q.a.getAttachmentFileUrl(e.individual.avatar)}):null,label:e.individual.first_name+" "+e.individual.last_name}),"\xa0"]}),e.status&&Object(h.jsx)(D.a,{color:X[e.status],text:Z[e.status]})]})}}))),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},tableview:{},calendarview:{type:"task",resolveData:function(){var e=Object(s.a)(r.a.mark((function e(t){var n,a=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>1&&void 0!==a[1]?a[1]:null,!(a.length>2&&void 0!==a[2])||a[2],n=[],Array.isArray(t)&&(n=t.map((function(e,t){return{id:null===e||void 0===e?void 0:e._id,calendarId:"commissions",title:e.survey?e.survey.title:e.involvement,body:(e.survey?"<b>Survey :</b> : "+e.survey.title+"<br /> ":"")+"<b>Involvement :</b> "+("team"===e.involvement?e.team.name+"(Team)":e.individual?e.individual.first_name+" "+e.individual.last_name+"(Individual)":"")+"<br /> <b>Status :</b> "+e.status,category:"time",dueDateClass:"",start:e.start_date,end:e.end_date}}))),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},googlemapview:{type:"circle",resolveData:function(){var e=Object(s.a)(r.a.mark((function e(t){var n,a=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>1&&void 0!==a[1]?a[1]:null,!(a.length>2&&void 0!==a[2])||a[2],n=[],n=t.map((function(e,t){return{id:null===e||void 0===e?void 0:e._id,center:e.focus_center,infoWindow:Object(h.jsxs)(j.a.Fragment,{children:[Object(h.jsx)(E.a,{component:"h5",variant:"subtitle2",color:"primary",bold:!0,paragraph:!0,children:"Commission"}),e.survey?Object(h.jsxs)(E.a,{component:"p",variant:"body2",children:[" ","Survey : ",e.survey.title," ",Object(h.jsx)("br",{})]}):"",Object(h.jsxs)(E.a,{component:"p",variant:"body2",gutterBottom:!0,paragraph:!0,children:["From:","".concat(Date.format(e.start_date,"d M Y")," ").concat(Date.format(e.start_date,"h:i:s a"))]}),Object(h.jsxs)(E.a,{component:"p",variant:"body2",gutterBottom:!0,paragraph:!0,children:[" ","To:"," ","".concat(Date.format(e.end_date,"d M Y")," ").concat(Date.format(e.end_date,"h:i:s a"))]}),Object(h.jsxs)(E.a,{component:"p",variant:"body2",gutterBottom:!0,paragraph:!0,children:[" ","Involvement:"," ","team"===e.involvement?"Team":"Individual"," "]}),Object(h.jsxs)(E.a,{component:"p",variant:"body2",gutterBottom:!0,paragraph:!0,children:[" ","Radius:"," ",e.focus_radius+" "+e.focus_radius_metric," "]}),Object(h.jsxs)(E.a,{component:"p",variant:"body2",gutterBottom:!0,paragraph:!0,children:["team"===e.involvement&&Object(h.jsx)(k.a,{size:"small",label:e.status})&&Object(h.jsx)(k.a,{size:"small",avatar:e.team.avatar?Object(h.jsx)(S.a,{alt:e.team.name,src:q.a.getAttachmentFileUrl(e.team.avatar)}):null,label:e.team.name}),"individual"===e.involvement&&Object(h.jsx)(k.a,{size:"small",label:"Individual"}),"individual"===e.involvement&&e.individual&&Object(h.jsx)(k.a,{size:"small",avatar:e.individual.avatar?Object(h.jsx)(S.a,{alt:e.individual.first_name,src:q.a.getAttachmentFileUrl(e.individual.avatar)}):null,label:e.individual.first_name+" "+e.individual.last_name}),"\xa0"]}),e.status&&Object(h.jsx)(D.a,{color:X[e.status],text:Z[e.status]})]}),color:e.status?X[e.status]:"#4a148c",radius:$(e.focus_radius,e.focus_radius_metric),options:{fillColor:e.status?X[e.status]:"#4a148c",strokeColor:e.status?X[e.status]:"#4a148c"}}})),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}},scope:{columns:{survey:{type:"string",label:"Survey",icon:"label",input:{type:"select",default:"",required:!0},restricted:{display:function(e,t){return!t||!(null===t||void 0===t?void 0:t.isAdmin)},input:function(e,t){return!t||!(null===t||void 0===t?void 0:t.isAdmin)}},reference:{name:"surveys",service_query:{pagination:-1},resolves:{value:"_id",display:{primary:["title"],secondary:["status"],avatar:!1}}}},response_mode:{type:"string",label:"Response Mode",input:{type:"radio",default:"individual",required:!0,size:12},possibilities:{queries:"Queries",form:"Form"},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||!(null===t||void 0===t?void 0:t.isAdmin)}}},queries:{type:["string"],label:"Queries",icon:"label",input:{type:function(e,t){return JSON.isEmpty(e)||e&&"queries"===e.response_mode?"multiselect":"hidden"},default:"",required:function(e,t){if(e)return"queries"===e.response_mode}},restricted:{display:function(e,t){return!e||"queries"!==e.response_mode},input:function(e,t){return!e||"queries"!==e.response_mode}},reference:{name:"queries",service_query:function(e,t){return e&&e.survey?{survey:e.survey}:{}},resolves:{value:"_id",display:{primary:["question"],secondary:[],avatar:!1}}}},form:{type:"string",label:"Form",input:{type:function(e,t){return JSON.isEmpty(e)||e&&"form"===e.response_mode?"select":"hidden"},required:function(e,t){return!1}},restricted:{display:function(e,t){return!e||"form"!==e.response_mode},input:function(e,t){return!e||"form"!==e.response_mode}},reference:{name:"forms",service_query:{pagination:-1,active:!0},resolves:{value:"_id",display:{primary:["name"],secondary:[],avatar:!1}}}},involvement:{type:"string",label:"Involvement",icon:"subject",input:{type:"radio",default:"individual",required:!0,size:12},possibilities:{team:"Team",individual:"Individual"},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||!(null===t||void 0===t?void 0:t.isAdmin)}}},team:{type:"string",label:"Team",icon:"people",input:{type:function(e,t){return JSON.isEmpty(e)||e&&"team"===e.involvement?"select":"hidden"},default:"",required:function(e,t){return"team"===e.involvement},size:6},restricted:{display:function(e,t){return!1},input:function(e,t){return"team"!==e.involvement||(!t||!(null===t||void 0===t?void 0:t.isAdmin))}},reference:{name:"teams",service_query:{pagination:-1,status:"disengaged"},resolves:{value:"_id",display:{primary:["name"],secondary:[],avatar:!1}}}},lead:{type:"string",label:"Lead",input:{type:function(e,t){return JSON.isEmpty(e)||e&&"team"===e.involvement?"select":"hidden"},default:"",required:!0,size:6},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||!(null===t||void 0===t?void 0:t.isAdmin)}},reference:{name:"users",service_query:{pagination:-1,sort:"first_name",fields:"first_name,last_name,email_address,avatar",role:"collector"},resolves:{value:"_id",display:{primary:["first_name","last_name"],secondary:["email_address"],avatar:!1}}}},individual:{type:"string",label:"Individual",input:{type:function(e,t){return JSON.isEmpty(e)||e&&"individual"===e.involvement?"select":"hidden"},default:"",required:function(e,t){return!(!e||"individual"!==e.involvement)}},restricted:{display:function(e,t){return!1},input:function(e,t){return"individual"!==e.involvement||(!t||!(null===t||void 0===t?void 0:t.isAdmin))}},reference:{name:"users",service_query:{pagination:-1,sort:"first_name",fields:"first_name,last_name,email_address,avatar",role:"collector"},resolves:{value:"_id",display:{primary:["first_name","last_name"],secondary:["email_address"],avatar:!1}}}},focus_center:{type:"object",label:"Focus center",input:{type:"coordinates",placeholderType:"formatted_address",required:!0},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||!(null===t||void 0===t?void 0:t.isAdmin)}},tableProps:{render:function(e){try{return Object(h.jsx)(H.a,{name:!1,src:null===e||void 0===e?void 0:e.focus_center,enableClipboard:!0,displayDataTypes:!1})}catch(t){return Object(h.jsx)(F.a,{children:Object(h.jsx)(P.a,{className:"py-0 flex-col",children:Object(h.jsx)(E.a,{className:"px-2",variant:"body2",children:""+t})})})}}}},focus_radius_metric:{type:"string",label:"Focus radius metric",icon:"trip_origin",input:{type:"select",default:"",required:!0,size:4},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||!(null===t||void 0===t?void 0:t.isAdmin)}},possibilities:{yards:"Yards",feet:"Feet",meters:"Meters",kilometers:"Kilometers",miles:"Miles"}},focus_radius:{type:"float",label:"Focus radius",icon:"trip_origin",input:{type:"number",default:"",required:!0,size:8},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||!(null===t||void 0===t?void 0:t.isAdmin)}}},requirements:{type:"string",label:"Requirements",icon:"subject",input:{type:"textarea",required:!0},restricted:{display:function(e,t){return!0},input:function(e,t){return!t||!(null===t||void 0===t?void 0:t.isAdmin)}}},files:{type:["string"],label:"Files",input:{type:"file",accepts:["image/*","video/*","audio/*","application/*"]},reference:{name:"attachments",service_query:{pagination:-1},resolves:{value:"_id",display:{primary:["name"],secondary:[],avatar:!1}}}},start_date:{type:"date",label:"Start date",icon:"event",input:{type:"date",default:"",required:!0,size:6},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||!(null===t||void 0===t?void 0:t.isAdmin)}}},end_date:{type:"date",label:"End date",icon:"event",input:{type:"date",default:"",required:!0,size:6},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||!(null===t||void 0===t?void 0:t.isAdmin)}}},status:{type:"string",label:"Status",icon:"outlined_flag",input:{type:"radio",default:"",required:!0},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||!(null===t||void 0===t?void 0:t.isAdmin)}},possibilities:Z,tableProps:{render:function(e){return Object(h.jsx)(D.a,{color:X[e.status.toLowerCase()],text:Z[e.status.toLowerCase()]})}}}},identity:{primary:["survey","start_date"],secondary:["status"],avatar:!1},dependencies:[],dependants:{responses:{column:"commission",query:{}},tracks:{column:"commission",query:{}},actionlogs:{column:"record",query:{context:"Commission"}}}},access:{restricted:function(e){return!e},view:{summary:function(e){return!JSON.isEmpty(e)},all:function(e){return!JSON.isEmpty(e)},single:function(e,t){return!JSON.isEmpty(e)}},actions:{view:{restricted:function(e){return JSON.isEmpty(e)},uri:function(e){return("commissions/view/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:c.a,label:"View",className:"text-green-500"},create:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:"commissions/add".toUriWithDashboardPrefix(),Icon:u.a,label:"Add new",className:"text-green-500",isFreeAction:!0},update:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("commissions/edit/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:d.a,label:"Edit",className:"text-blue-500"},delete:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("commissions/delete/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:p.a,className:"text-red-500",label:"Delete",confirmationRequired:!0}}}},ae=n(1956),ie=n(1798),re=I()(Object(R.b)((function(e){return{auth:e.auth,cache:e.cache}}),{}),ie.a)((function(e){var t=e.auth.isAuthenticated,n=Object(f.useState)(!1),a=Object(x.a)(n,2),i=(a[0],a[1]),r=Object(f.useState)(!1),o=Object(x.a)(r,2),s=(o[0],o[1]),l=Object(f.useState)(!1),c=Object(x.a)(l,2),u=c[0],d=c[1];return Object(f.useEffect)((function(){t&&q.a.get("/responses/reports/date-count-summary").then((function(e){var t=e.body.data,n=[],a=[];Array.isArray(t)&&t.map((function(e){n.push(null===e||void 0===e?void 0:e._id.submission_date),a.push(e.count)})),d({labels:n,data:a}),s(!1),i(!1)})).catch((function(e){s(!1),d(!1),i(e)}))}),[t]),Object(h.jsx)(F.a,{children:Object(h.jsx)(P.a,{children:u&&Object(h.jsx)(z.a,{data:{labels:u.labels,datasets:[{label:"Responses count by date",data:u.data,backgroundColor:"#00AF41",hoverBackgroundColor:"#76C4D5"}]}})})})})),oe={name:"responses",label:"Responses",icon:Object(h.jsx)(ae.a,{}),color:"#8C189B",model:"Response",endpoint:"/responses",cache:!0,views:{dashboard:{counts:re},single:{default:"cardview",cardview:{title:["response_date"],subtitle:["submitter"],tags:["response_type","status"],body:["commission","text_response","response_file","submission_date","comments"]}},listing:{default:"tableview",tableview:{avatar:!1,title:["response_date"]},calendarview:{type:"task",resolveData:function(){var e=Object(s.a)(r.a.mark((function e(t){var n,a,i,s,l=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:!(l.length>1&&void 0!==l[1])||l[1],n=[],a=Object(o.a)(t);try{for(a.s();!(i=a.n()).done;)s=i.value,n.push({id:null===s||void 0===s?void 0:s._id,calendarId:"responses",title:s.response_type,body:"text"===s.response_type?s.text_response:s.response_file.name,customStyle:{color:"#FFFFFF"},category:"time",dueDateClass:"",start:s.response_date})}catch(r){a.e(r)}finally{a.f()}return e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}},scope:{columns:{commission:{type:"string",label:"Commission",input:{type:"select",default:"",required:!0},restricted:{display:function(e,t){return!1},input:function(e,t){return!(!e||!["accepted","disputed"].includes(e.status))||(!t||"admin"!==(null===t||void 0===t?void 0:t.role))}},reference:{name:"commissions",service_query:{pagination:-1,p:1},resolves:{value:"_id",display:{primary:["requirements"],secondary:[],avatar:!1}}}},child_commission:{type:"string",label:"Child Commission",input:{type:"select",default:"",required:!0},restricted:{display:function(e,t){return!1},input:function(e,t){return!(!e||!["accepted","disputed"].includes(e.status))||(!t||"admin"!==(null===t||void 0===t?void 0:t.role))}},reference:{name:"commissions",service_query:{pagination:-1,p:1},resolves:{value:"_id",display:{primary:["requirements"],secondary:["involvement","start_date"],avatar:!1}}}},query:{type:"string",label:"Query",input:{type:"select",required:!0},restricted:{display:function(e,t){return!1},input:function(e,t){if(e){if(["accepted","disputed"].includes(e.status))return!0;if(String.isString(e.commission)&&0!==e.commission.trim().length)return!1}return!0}},reference:{name:"commissions",service_query:function(e,t){return!(!e||!String.isString(e.commission)||0===e.commission.trim().length)&&{_id:e.commission,fields:"queries",p:1}},resolves:{value:"_id",display:{primary:["question"],secondary:["response_type"]},emulation:{key:"queries",defination:"responses"}}}},region:{type:"string",label:T.a.regions_type.humanize(),input:{type:"administrative_area_level_1",placeholderType:"administrative_area_level_1",value:"Kiambu County",required:!0},possibilities:function(){var e={};return T.a.regions.map((function(t){e[t.name]=t.name})),e}(),restricted:{display:function(e,t){return!1},input:function(e,t){return!(!e||!["accepted","disputed"].includes(e.status))||!!t&&!(null===t||void 0===t?void 0:t.isAdmin)}}},response_type:{type:"string",label:"Response type",input:{type:"radio",default:"text",required:!0},possibilities:{text:"Text",image:"Image",audio:"Audio",video:"Video",file:"File",form:"Form"},restricted:{display:function(e,t){return!1},input:function(e,t){return!(!e||!["accepted","disputed"].includes(e.status))||(!t||!(null===t||void 0===t?void 0:t.isAdmin))}}},text_response:{type:"string",label:"Text response",input:{type:function(e,t){return e&&"text"===e.response_type?"textarea":"hidden"},required:function(e,t){return!(!e||"text"!==e.response_type)}},restricted:{display:function(e,t){return!!e&&"text"!==e.response_type},input:function(e,t){if(e){if("text"!==e.response_type)return!0;if(["accepted","disputed"].includes(e.status))return!0}return!t||!(null===t||void 0===t?void 0:t.isAdmin)}}},response_file:{type:"string",label:"Response file",isAttachment:!0,input:{type:function(e,t){return e&&["image","audio","video","file"].includes(e.response_type)?"file":"hidden"},required:function(e,t){return!(!e||!["image","audio","video","file"].includes(e.response_type))},props:function(e,t){return e?"image"===e.response_type?{acceptedFiles:["image/*"],filesLimit:1,dropzoneText:"Click to select Image \n or \n Drag and drop an image file here",dropzoneIcon:"image"}:"audio"===e.response_type?{acceptedFiles:["audio/*"],filesLimit:1,dropzoneText:"Click to select \n or \n Drag and drop an audio file here",dropzoneIcon:"music_video"}:"video"===e.response_type?{acceptedFiles:["video/*"],filesLimit:1,dropzoneText:"Click to select \n or \n Drag and drop an video file here",dropzoneIcon:"movie"}:{acceptedFiles:["image/*","video/*","audio/*","application/*"],filesLimit:1,dropzoneText:"Click to select \n or \n Drag and drop an file here",dropzoneIcon:"attachment"}:{acceptedFiles:["image/*","video/*","audio/*","application/*"],filesLimit:1,dropzoneText:"Click to select \n or \n Drag and drop an file here",dropzoneIcon:"attachment"}}},reference:{name:"attachments",service_query:{},resolves:{value:"_id",display:{primary:["name"],secondary:[],avatar:!1}}},restricted:{display:function(e,t){return!!e&&"text"===e.response_type},input:function(e,t){return!(!e||"text"!==e.response_type)||(!t||!(null===t||void 0===t?void 0:t.isAdmin))}}},response_form_value:{type:"object",label:"Form value",input:{type:"object",placeholder:"Response form value",required:!1},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||!(null===t||void 0===t?void 0:t.isAdmin)}}},coordinates:{type:"object",label:"Location",input:{type:"coordinates",placeholderType:"formatted_address",required:!1},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||!(null===t||void 0===t?void 0:t.isAdmin)}}},submitter:{type:"string",label:"Submitter",input:{type:"select",default:function(e,t){return!!t&&(null===t||void 0===t?void 0:t._id)},required:!0},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||!(null===t||void 0===t?void 0:t.isAdmin)}},reference:{name:"users",service_query:{pagination:-1,sort:"first_name",fields:"first_name,last_name,email_address,avatar",role:"collector"},resolves:{value:"_id",display:{primary:["first_name","last_name"],secondary:["email_address"],avatar:!1}}}},response_date:{type:"datetime",label:"Response date",input:{type:"date",default:new Date,required:!0,props:function(e,t){return t?(null===t||void 0===t||t.isAdmin,{maxDate:new Date}):{maxDate:new Date}},size:6},restricted:{display:function(e,t){return!!e&&"text"===e.response_type},input:function(e,t){return!t||!(null===t||void 0===t?void 0:t.isAdmin)}}},submission_date:{type:"datetime",label:"Submission date",icon:"event",input:{type:"date",default:new Date,size:6},restricted:{display:function(e,t){return!1},input:function(e,t){if(t)return!(null===t||void 0===t?void 0:t.isAdmin)}}},comments:{type:"string",label:"Comments",icon:"subject",input:{type:"textarea",default:"",required:!1},restricted:{display:function(e,t){return!!e&&"text"===e.response_type},input:function(e,t){return!(!e||!["accepted","disputed"].includes(e.status))||(!t||"admin"!==(null===t||void 0===t?void 0:t.role))}}},status:{type:"string",label:"Status",icon:"folder",input:{type:"select",default:"pending",required:!0},restricted:{display:function(e,t){return!!e&&"text"===e.response_type},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}},possibilities:{pending:"Pending",acknowledged:"Acknowledged",accepted:"Accepted",disputed:"Disputed",rejected:"Rejected"}}},identity:{primary:["response_type"],secondary:["response_date"],avatar:!1},dependencies:[{name:"commissions"}],dependants:{actionlogs:{column:"record",query:{context:"Response"}}}},access:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)&&"collector"!==(null===e||void 0===e?void 0:e.role)},view:{summary:function(e){return"admin"===(null===e||void 0===e?void 0:e.role)||"collector"===(null===e||void 0===e?void 0:e.role)},all:function(e){return"admin"===(null===e||void 0===e?void 0:e.role)||"collector"===(null===e||void 0===e?void 0:e.role)},single:function(e){return"admin"===(null===e||void 0===e?void 0:e.role)||"collector"===(null===e||void 0===e?void 0:e.role)}},actions:{view:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)&&"collector"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("/responses/view/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:c.a,label:"View",className:"text-green-500"},create:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:"/responses/add".toUriWithDashboardPrefix(),Icon:u.a,label:"Add new",className:"text-green-500",isFreeAction:!0},update:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("/responses/edit/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:d.a,label:"Edit",className:"text-blue-500"},delete:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("/responses/delete/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:p.a,className:"text-red-500",label:"Delete",confirmationRequired:!0}}}},se=n(1957),le={name:"teams",label:"Teams",icon:Object(h.jsx)(se.a,{}),color:"#400a00",model:"Team",endpoint:"/teams",cache:!0,views:{single:{default:"cardview",cardview:{avatar:"avatar",title:["name"],subtitle:["description"],tags:["bias"],body:["description","lead","members","status"]}},listing:{default:"tableview",tableview:{avatar:!1,title:["name"]}}},scope:{columns:{name:{type:"string",label:"Name",icon:"label",input:{type:"text",default:"",required:!0},restricted:{display:function(e,t){return!1},input:function(e,t){return!(!e||!["desolved"].includes(e.status))||(!t||"admin"!==(null===t||void 0===t?void 0:t.role))}}},description:{type:"string",label:"Description",icon:"subject",input:{type:"textarea",default:"",required:!1},restricted:{display:function(e,t){return!1},input:function(e,t){return!(!e||!["desolved"].includes(e.status))||(!t||"admin"!==(null===t||void 0===t?void 0:t.role))}}},bias:{type:"string",label:"Bias",icon:"subject",input:{type:"radio",default:"",required:!1},possibilities:{none:"No Bias","all male":"All Male","all female":"All Female",mixed:"Mixed"},restricted:{display:function(e,t){return!!t&&"collector"===(null===t||void 0===t?void 0:t.role)},input:function(e,t){if(e&&["desolved"].includes(e.status))return!0;if(t){if("admin"===(null===t||void 0===t?void 0:t.role))return!1;if(e&&"lead"in e)return("object"!==typeof e.lead||e.lead._id!==(null===t||void 0===t?void 0:t._id))&&e.lead!==(null===t||void 0===t?void 0:t._id)}return!0}}},lead:{type:"string",label:"Lead",icon:"person",input:{type:"select",default:"",required:!0},reference:{name:"users",service_query:{pagination:-1,sort:"first_name",fields:"first_name,last_name,email_address,avatar",role:"collector"},resolves:{value:"_id",display:{primary:["first_name","last_name"],secondary:["email_address"],avatar:!1}}},restricted:{display:function(e,t){return!!t&&"admin"!==(null===t||void 0===t?void 0:t.role)},input:function(e,t){if(e&&["desolved"].includes(e.status))return!0;if(t){if("admin"===(null===t||void 0===t?void 0:t.role))return!1;if(e&&"lead"in e)return("object"!==typeof e.lead||e.lead._id!==(null===t||void 0===t?void 0:t._id))&&e.lead!==(null===t||void 0===t?void 0:t._id)}return!0}}},members:{type:["string"],label:"Members",icon:"people_outline",input:{type:"multiselect",default:"",required:!0},reference:{name:"users",service_query:{pagination:-1,sort:"first_name",fields:"first_name,last_name,email_address,avatar",role:"collector"},resolves:{value:"_id",display:{primary:["first_name","last_name"],secondary:["email_address"],avatar:!1}}},restricted:{display:function(e,t){return!!t&&"admin"!==(null===t||void 0===t?void 0:t.role)},input:function(e,t){if(e&&["desolved"].includes(e.status))return!0;if(t){if("admin"===(null===t||void 0===t?void 0:t.role))return!1;if(e&&"lead"in e)return("object"!==typeof e.lead||e.lead._id!==(null===t||void 0===t?void 0:t._id))&&e.lead!==(null===t||void 0===t?void 0:t._id)}return!0}}},avatar:{type:"string",label:"Avatar",icon:"image",input:{type:"file",accepts:["image/*"]},restricted:{display:function(e,t){return!!t&&"admin"!==(null===t||void 0===t?void 0:t.role)},input:function(e,t){if(e&&["desolved"].includes(e.status))return!0;if(t){if("admin"===(null===t||void 0===t?void 0:t.role))return!1;if(e&&"lead"in e)return("object"!==typeof e.lead||e.lead._id!==(null===t||void 0===t?void 0:t._id))&&e.lead!==(null===t||void 0===t?void 0:t._id)}return!0}},reference:{name:"attachments",service_query:{},resolves:{value:"_id",display:{primary:["name"],secondary:[],avatar:!1}}}},status:{type:"string",label:"Status",icon:"folder",input:{type:"radio",default:"",required:!0},possibilities:{engaged:"Engaged",disengaged:"Disengaged",desolved:"Desolved"},restricted:{display:function(e,t){return!!t&&"admin"!==(null===t||void 0===t?void 0:t.role)},input:function(e,t){return!(!e||!["desolved"].includes(e.status))||(!t||"admin"!==(null===t||void 0===t?void 0:t.role))}}}},identity:{primary:["title"],secondary:["bias"],avatar:!1},dependencies:[{name:"users"}],dependants:{commissions:{column:"team",query:{involvement:"team"}},actionlogs:{column:"record",query:{context:"Team"}}}},access:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)&&"collector"!==(null===e||void 0===e?void 0:e.role)},view:{summary:function(e){return"admin"===(null===e||void 0===e?void 0:e.role)||"collector"===(null===e||void 0===e?void 0:e.role)},all:function(e){return"admin"===(null===e||void 0===e?void 0:e.role)||"collector"===(null===e||void 0===e?void 0:e.role)},single:function(e){return"admin"===(null===e||void 0===e?void 0:e.role)||"collector"===(null===e||void 0===e?void 0:e.role)}},actions:{view:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)&&"collector"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("/teams/view/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:c.a,label:"View",className:"text-green-500"},create:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:"/teams/add".toUriWithDashboardPrefix(),Icon:u.a,label:"Add new",className:"text-green-500",isFreeAction:!0},update:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("/teams/edit/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:d.a,label:"Edit",className:"text-blue-500"},delete:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("/teams/delete/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:p.a,className:"text-red-500",label:"Delete",confirmationRequired:!0}}}},ce=n(1958),ue=n(1795),de=n(1043),pe=n.n(de),be={name:"tracks",label:"Tracks",icon:Object(h.jsx)(ce.a,{}),color:"#880e4f",model:"Track",endpoint:"/tracks",cache:!0,views:{single:{default:"cardview",cardview:{title:["user"],subtitle:["start_time"],tags:["time_type"],body:["context","record","positions","user"]},googlemapview:{type:"polyline",path:["positions"],title:["user","time_type"]}},listing:{default:"googlemapview",listview:{resolveData:function(){var e=Object(s.a)(r.a.mark((function e(t){var n,a,i=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:null,n=!(i.length>2&&void 0!==i[2])||i[2],a=[],Array.isArray(t)&&(a=t.map((function(e,t){var a,i;return{id:null===e||void 0===e?void 0:e._id,icon:!1,avatar:Object(h.jsx)(S.a,{className:"accent_text ",children:Object(h.jsx)(pe.a,{})}),title:new Date(e.start_time).toString()+" - "+new Date(e.stop_time).toString(),body:Object(h.jsxs)(j.a.Fragment,{children:[e.user&&Object(h.jsx)(E.a,{component:"span",variant:"body2",children:n?(null===(a=e.user)||void 0===a?void 0:a.first_name)+" "+(null===(i=e.user)||void 0===i?void 0:i.last_name):e.user}),e.time_type?Object(h.jsx)(D.a,{color:"live"===e.time_type?"#00AF41":"#F38B00",text:"live"===e.time_type?"Live":"Roam"}):"",e.context&&Object(h.jsx)(D.a,{color:"commission"===e.context?"#00bfa5":"#CCCCCC",text:"commission"===e.context?"Commission":"Roam"})]})}}))),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},tableview:{title:["start_time"],resolveData:function(){var e=Object(s.a)(r.a.mark((function e(t){var n,a=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!(a.length>1&&void 0!==a[1])||a[1],n=t.map((function(e,t){var n,a,i,r,o;return{_id:null===e||void 0===e?void 0:e._id,context:Object(h.jsx)(D.a,{color:"commission"===e.context?"#00bfa5":"#CCCCCC",text:"commission"===e.context?"Commission":"Roam"}),commision:e.commision?e.commision._id:"",positions:Object(h.jsx)(j.a.Fragment,{}),user:e.user?Object(h.jsx)(k.a,{size:"small",avatar:(null===(n=e.user)||void 0===n?void 0:n.avatar)?Object(h.jsx)(S.a,{alt:null===(a=e.user)||void 0===a?void 0:a.first_name,src:q.a.getAttachmentFileUrl(null===(i=e.user)||void 0===i?void 0:i.avatar)}):Object(h.jsx)(S.a,{className:"twitter_text",children:Object(h.jsx)(ue.a,{})}),label:(null===(r=e.user)||void 0===r?void 0:r.first_name)+" "+(null===(o=e.user)||void 0===o?void 0:o.last_name)}):"",time_type:e.time_type?Object(h.jsx)(D.a,{color:"live"===e.time_type?"#00AF41":"#F38B00",text:"live"===e.time_type?"Live":"Roam"}):"",start_time:e.start_time?new Date(e.start_time).toLocaleTimeString():"",stop_time:e.stop_time?new Date(e.stop_time).toLocaleTimeString():""}})),e.abrupt("return",n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},calendarview:{type:"task",resolveData:function(){var e=Object(s.a)(r.a.mark((function e(t){var n,a,i,s,l,c,u=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:!(u.length>1&&void 0!==u[1])||u[1],n=[],a=Object(o.a)(t);try{for(a.s();!(i=a.n()).done;)c=i.value,n.push({id:null===c||void 0===c?void 0:c._id,calendarId:"tracks",title:c.user?(null===(s=c.user)||void 0===s?void 0:s.first_name)+" "+(null===(l=c.user)||void 0===l?void 0:l.last_name):c.context,body:"<b>Type</b> <br />"+c.time_type+" <br /><br /> <b>Context</b><br />"+c.context,category:"time",dueDateClass:"",start:c.start_time})}catch(r){a.e(r)}finally{a.f()}return e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},googlemapview:{type:"polyline",resolveData:function(){var e=Object(s.a)(r.a.mark((function e(t){var n,a,i,s,l=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:!(l.length>1&&void 0!==l[1])||l[1],n=[],a=Object(o.a)(t);try{for(s=function(){var e,t,a,r,o,s=i.value;n.push({id:null===s||void 0===s?void 0:s._id,path:s.positions.map((function(e,t){return{lat:e.latitude,lng:e.longitude}})),titles:s.positions.map((function(e,t){var n,a;return"Latitude: "+e.latitude+" Long:"+e.longitude+(e.timestamp?" (Timestamp: "+e.timestamp+")":"")+(s.user?" (User: "+(null===(n=s.user)||void 0===n?void 0:n.first_name)+" "+(null===(a=s.user)||void 0===a?void 0:a.last_name)+")":"")})),color:"live"===s.time_type?"#0600ab":"#FF0000",title:(s.start_time?" Start Time: "+new Date(s.start_time).format("d M Y H:i:s A"):"")+(s.user?" (User: "+(null===(e=s.user)||void 0===e?void 0:e.first_name)+" "+(null===(t=s.user)||void 0===t?void 0:t.last_name)+")":""),infoWindow:Object(h.jsxs)(j.a.Fragment,{children:[Object(h.jsxs)(E.a,{component:"h5",variant:"subtitle2",color:"primary",bold:!0,children:["Track -"," ","live"===s.time_type?"Live":"Roam"]}),Object(h.jsxs)(E.a,{component:"div",variant:"body2",children:[" ",s.user&&Object(h.jsx)(k.a,{size:"small",avatar:(null===(a=s.user)||void 0===a?void 0:a.avatar)?Object(h.jsx)(S.a,{alt:s.user.first_name,src:q.a.getAttachmentFileUrl(s.user.avatar)}):Object(h.jsxs)(S.a,{className:"twitter_text",children:[Object(h.jsx)(ue.a,{})," "]}),label:(null===(r=s.user)||void 0===r?void 0:r.first_name)+" "+(null===(o=s.user)||void 0===o?void 0:o.last_name)})," "]}),s.start_time&&Object(h.jsxs)(E.a,{component:"p",variant:"body2",children:[" ","Start Time:"," ",new Date(s.start_time).format("d M Y H:i:s A")]}),s.context&&Object(h.jsxs)(E.a,{component:"p",variant:"body2",children:[" ","Context : ",s.context]}),"commission"===s.context&&s.commission&&Object(h.jsxs)(E.a,{component:"p",variant:"body2",children:[" ","Commission :"," ",s.commission._id]})]})})},a.s();!(i=a.n()).done;)s()}catch(r){a.e(r)}finally{a.f()}return e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}},scope:{columns:{context:{type:"string",label:"Context",input:{type:"radio",default:"commission",required:!0},possibilities:{commission:"Commission",roam:"Roam"}},commision:{type:"string",label:"Commission",input:{type:"select",default:"",required:!1},reference:{name:"commissions",service_query:{pagination:-1,status:"ongoing",p:1},resolves:{value:"_id",display:{primary:["start_date"],secondary:["involvement"],avatar:!1}}}},positions:{type:"object",label:"Positions",input:{type:"dynamic",props:{mode:"generation",blueprint:{positions:{type:"group",required:!0,label:"Positions",value:[{type:"field",name:"type",group:"positions",label:"Position Type",size:12,input:{type:"select",default:"coordinates",required:!0},possibilities:{coordinates:"Coordinates",address:"Address",vicinity:"Vicinity",google_place_id:"Google Place ID"}},{type:"field",name:"latitude",group:"positions",label:"Latitude",input:{type:"number",required:!0,size:6}},{type:"field",name:"longitude",group:"positions",label:"Longitude",input:{type:"number",required:!0,size:6}}]}}},required:!0,default:{}},restricted:{display:function(e,t){return!0},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}}},user:{type:"string",label:"User",icon:"person_outline",input:{type:"select",default:"",required:!0},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}},reference:{name:"users",service_query:{pagination:-1,sort:"first_name",fields:"first_name,last_name,email_address,avatar",role:"collector"},resolves:{value:"_id",display:{primary:["first_name","last_name"],secondary:["email_address"],avatar:!1}}}},time_type:{type:"string",label:"Time Type",icon:"schedule",input:{type:"radio",default:"",required:!0},possibilities:{live:"Live",past:"Past"}},start_time:{type:"string",label:"Start time",input:{type:"datetime",default:"",required:!0}},stop_time:{type:"string",label:"Stop time",input:{type:"datetime",default:"",required:!0}}},identity:{primary:["user"],secondary:["start_time"],avatar:!1},dependencies:[{name:"commissions"}],dependants:{actionlogs:{column:"record",query:{context:"Track"}}}},access:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)&&"collector"!==(null===e||void 0===e?void 0:e.role)},view:{summary:function(e){return"admin"===(null===e||void 0===e?void 0:e.role)||"collector"===(null===e||void 0===e?void 0:e.role)},all:function(e){return"admin"===(null===e||void 0===e?void 0:e.role)||"collector"===(null===e||void 0===e?void 0:e.role)},single:function(e){return"admin"===(null===e||void 0===e?void 0:e.role)||"collector"===(null===e||void 0===e?void 0:e.role)}},actions:{view:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)&&"collector"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("/tracks/view/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:c.a,label:"View",className:"text-green-500"},create:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:"/tracks/add".toUriWithDashboardPrefix(),Icon:u.a,label:"Add new",className:"text-green-500",isFreeAction:!0},update:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("/tracks/edit/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:d.a,label:"Edit",className:"text-blue-500"},delete:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("/tracks/delete/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:p.a,className:"text-red-500",label:"Delete",confirmationRequired:!0}}}},fe=n(4),je=n(1959),me=n(255),he=n.n(me),ve={name:"events",label:"Events",icon:Object(h.jsx)(je.a,{}),color:"#001987",model:"Event",endpoint:"/events",cache:!0,views:{single:{default:"cardview",cardview:{title:["name"],resolveData:function(e){},subtitle:["code"],body:["status","customer","expiration_date","value_type","value","use"]},calendarview:{title:["name"],subtitle:["code"],body:["status","customer","expiration_date","value_type","value","use"]}},listing:{default:"calendarview",tableview:{avatar:!1,title:["name"]},calendarview:{type:"date",date:["expiration_date"],title:["name","status"],resolveData:function(){var e=Object(s.a)(r.a.mark((function e(t){var n=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!(n.length>1&&void 0!==n[1])||n[1],e.abrupt("return",t.map((function(e,t){var n,a,i;return{id:null===e||void 0===e?void 0:e._id,calendarId:"events",title:e.title,body:he.a.renderToStaticMarkup(Object(h.jsxs)(F.a,{children:[Object(h.jsxs)(P.a,{xs:12,children:[e.image&&Object(h.jsx)(S.a,{alt:e.title,src:q.a.getAttachmentFileUrl(e.image)}),!e.image&&Object(h.jsx)(S.a,{alt:e.title,color:"#001987",children:Object(h.jsx)(je.a,{})})]}),Object(h.jsxs)(P.a,{xs:12,children:[e.subject&&Object(h.jsxs)(E.a,{variant:"body2",paragraph:!0,children:[" ",Object(h.jsx)("b",{children:" Subject: "}),e.subject]}),e.description&&Object(h.jsxs)(E.a,{variant:"body2",paragraph:!0,children:[" ",Object(h.jsx)("b",{children:" Description: "}),e.description]}),e.context&&Object(h.jsxs)(E.a,{variant:"body2",paragraph:!0,children:[" ",Object(h.jsx)("b",{children:" Context: "}),e.context]}),e.user&&Object(h.jsx)(k.a,{size:"small",avatar:(null===(n=e.user)||void 0===n?void 0:n.avatar)?Object(h.jsx)(S.a,{alt:e.user.first_name,src:q.a.getAttachmentFileUrl(e.user.avatar)}):null,label:(null===(a=e.user)||void 0===a?void 0:a.first_name)+" "+(null===(i=e.user)||void 0===i?void 0:i.last_name)}),e.type&&Object(h.jsxs)(E.a,{variant:"body2",paragraph:!0,children:[" ",Object(h.jsx)("b",{children:" Type: "}),e.type]}),e.start&&Object(h.jsxs)(E.a,{variant:"body2",paragraph:!0,children:[" ",Object(h.jsx)("b",{children:" Start: "}),new Date(e.start).format(T.b.dateformats.datetime)]}),e.end&&Object(h.jsxs)(E.a,{variant:"body2",paragraph:!0,children:[" ",Object(h.jsx)("b",{children:" End: "}),new Date(e.end).format(T.b.dateformats.datetime)]})]})]})),category:"time",dueDateClass:"",start:e.start,end:e.end}})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}},scope:{columns:{start:{type:"string",label:"Start",input:{type:"datetime",required:!0,default:(new Date).format(T.b.dateformats.datetime)}},end:{type:"string",label:"End",input:{type:"datetime",default:(new Date).addDays(1).format(T.b.dateformats.datetime)}},title:{type:"string",label:"Title",input:{type:"text",default:"",required:!0},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}}},description:{type:"string",label:"Description",input:{type:"textarea",default:""}},subject:{type:"string",label:"Subject",input:{type:"text",default:""}},context:{type:"string",label:"Context",input:{type:"text",default:""}},record:{type:"string",label:"Record",input:{type:"text",default:""}},involved_users:{type:["string"],label:"Involved users",input:{type:"multiselect",default:""},reference:{name:"users",service_query:{pagination:-1,sort:"first_name",fields:"first_name,last_name,email_address,avatar",role:"collector"},resolves:{value:"_id",display:{primary:["first_name","last_name"],secondary:["email_address"],avatar:!1}}}},user:{type:"string",label:"User",input:{type:"select",default:""},reference:{name:"users",service_query:function(e,t){return t&&"admin"!==(null===t||void 0===t?void 0:t.role)?{pagination:-1,sort:"first_name",fields:"first_name,last_name,email_address,avatar",_id:null===t||void 0===t?void 0:t._id}:{pagination:-1,sort:"first_name",fields:"first_name,last_name,email_address,avatar"}},resolves:{value:"_id",display:{primary:["first_name","last_name"],secondary:["email_address"],avatar:!1}}}},image:{type:"string",label:"Image",input:{type:"file",accepts:["image/*"]},reference:{name:"attachments",service_query:{pagination:-1},resolves:{value:"_id",display:{primary:["name"],secondary:[],avatar:!1}}}},files:(Y={type:["string"],label:"Files",input:{type:"file",default:""}},Object(fe.a)(Y,"input",{type:"file",accepts:["image/*","video/*","audio/*","application/*"]}),Object(fe.a)(Y,"reference",{name:"attachments",service_query:{pagination:-1},resolves:{value:"_id",display:{primary:["name"],secondary:[],avatar:!1}}}),Y),occured:{type:"boolean",label:"Occured",input:{type:"checkbox",default:!1}},type:{type:"string",label:"Type",input:{type:"radio",default:"event"},possibilities:{event:"Event",task:"Task",schedule:"Schedule"}},all_day:{type:"boolean",label:"All Day",input:{type:"checkbox",default:!0}}},identity:{primary:["title"],secondary:["start"],avatar:!1},dependencies:[],dependants:[]},access:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},view:{summary:function(e){return"admin"===(null===e||void 0===e?void 0:e.role)},all:function(e){return"admin"===(null===e||void 0===e?void 0:e.role)},single:function(e){return"admin"===(null===e||void 0===e?void 0:e.role)}},actions:{view:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("events/view/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:c.a,label:"View",className:"text-green-500"},create:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:"events/add".toUriWithDashboardPrefix(),Icon:u.a,label:"Add new",className:"text-green-500",isFreeAction:!0},update:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("events/edit/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:d.a,label:"Edit",className:"text-blue-500"},delete:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("events/delete/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:p.a,className:"text-red-500",label:"Delete",confirmationRequired:!0}}}},ge=n(1960),Oe={name:"orders",label:"Orders",icon:Object(h.jsx)(ge.a,{}),color:"#004038",model:"Order",endpoint:"/retail/orders",cache:!0,views:{single:{default:"order",cardview:{title:["reference"],subtitle:["date_made"],tags:["apply_coupon","status"],body:["customer","items","coupon"]},orderview:{variants:["reference","date_made","items","customer","status"]}},listing:{default:"tableview",tableview:{avatar:!1,title:["reference"]},calendarview:{type:"date",date:["date_made"],title:["reference"],tags:["apply_coupon","status"],resolveData:function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.map((function(e){return{id:null===e||void 0===e?void 0:e._id,calendarId:"orders",title:e.reference,body:he.a.renderToStaticMarkup(Object(h.jsx)(F.a,{children:Object(h.jsxs)(P.a,{xs:12,children:[e.status&&Object(h.jsxs)(E.a,{variant:"body2",paragraph:!0,children:[" ",Object(h.jsx)("b",{children:" Status: "}),e.status]}),e.customer&&Object(h.jsxs)(E.a,{variant:"body2",paragraph:!0,children:[" ",Object(h.jsx)("b",{children:" Customer "}),Object(h.jsx)(k.a,{size:"small",avatar:e.customer.avatar?Object(h.jsx)(S.a,{alt:e.customer.first_name,src:q.a.getAttachmentFileUrl(e.customer.avatar)}):null,label:e.customer.first_name+" "+e.customer.last_name})," "]}),e.date_made&&Object(h.jsxs)(E.a,{variant:"body2",paragraph:!0,children:[" ",Object(h.jsx)("b",{children:" Date made: "}),new Date(e.date_made).format(T.b.dateformats.datetime)]})]})})),category:"time",dueDateClass:"",start:e.date_made}})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}},scope:{columns:{reference:{type:"string",label:"Reference",icon:!1,input:{type:"text",default:"",required:!0}},customer:{type:"string",label:"Customer",icon:"person",input:{type:"select",default:"",required:!0},restricted:{display:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}},reference:{name:"users",service_query:{pagination:-1,sort:"first_name",fields:"first_name,last_name,email_address,avatar",role:"customer"},resolves:{value:"_id",display:{primary:["first_name","last_name"],secondary:["email_address"],avatar:!1}}}},notes:{type:"string",label:"Notes",input:{type:"textarea",default:"",required:!1}},apply_coupon:{type:"boolean",label:"Apply Coupon",icon:"event",input:{type:"checkbox",default:"",required:!1,size:4}},coupon:{type:"string",label:"Coupon",input:{type:function(e,t){return!e||(e.apply_coupon?"select":"hidden")},required:!1,size:8},restricted:{display:function(){return!1},input:function(e,t){return!e||!e.apply_coupon}},reference:{name:"coupons",service_query:{},resolves:{value:"_id",display:{primary:["name"],secondary:["code"],avatar:!1}}}},status:{type:"string",label:"Status",input:{type:"select",default:"",required:!0},possibilities:function(e,t){var n={drafted:"Drafted",pending:"Pending",awaiting_payment:"Awaiting Payment",awaiting_fulfillment:"Awaiting Fulfillment",awaiting_shipment:"Awaiting Shipment",awaiting_pickup:"Awaiting Pickup",cancelled:"Cancelled",declined:"Declined",refunded:"Refunded",disputed:"Disputed",patially_refunded:"Patially Refunded",awaiting_manual_verification:"Awaiting Manual Verification",completed:"Completed"};if(t){if("admin"===(null===t||void 0===t?void 0:t.role))return n;var a;if(e)if(e.status in n)return a={},Object(fe.a)(a,e.status,n[e.status]),Object(fe.a)(a,"drafted","Drafted"),Object(fe.a)(a,"pending","Pending"),Object(fe.a)(a,"cancelled","Cancelled"),a}return{drafted:"Drafted",pending:"Pending",cancelled:"Cancelled"}},restricted:{display:function(){return!1},input:function(){return!1}}},date_made:{type:"date",label:"Date Made",icon:"event",input:{type:"datetime",default:"",required:!1},restricted:{display:function(){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}}}},identity:{primary:["reference"],secondary:["status"],avatar:!1},dependencies:[{name:"users",column:"customer"}],dependants:{fulfilments:{column:"order",query:{}},orderitems:{column:"order",query:{}},payments:{column:"order",query:{context:"order"}},actionlogs:{column:"record",query:{context:"Order"}}}},access:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)||"customer"!==(null===e||void 0===e?void 0:e.role)},view:{summary:function(e){return"admin"===(null===e||void 0===e?void 0:e.role)||"customer"===(null===e||void 0===e?void 0:e.role)},all:function(e){return"admin"===(null===e||void 0===e?void 0:e.role)||"customer"===(null===e||void 0===e?void 0:e.role)},single:function(e){return"admin"===(null===e||void 0===e?void 0:e.role)||"customer"===(null===e||void 0===e?void 0:e.role)}},actions:{view:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)||"customer"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("orders/view/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:c.a,label:"View",className:"text-green-500"},create:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:"orders/add".toUriWithDashboardPrefix(),Icon:u.a,label:"Add new",className:"text-green-500",isFreeAction:!0},update:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("orders/edit/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:d.a,label:"Edit",className:"text-blue-500"},delete:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("orders/delete/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:p.a,className:"text-red-500",label:"Delete",confirmationRequired:!0}}}},xe={name:"orderitems",label:"Order Items",icon:Object(h.jsx)(ge.a,{}),color:"#004038",model:"OrderItem",endpoint:"/retail/order-items",cache:!0,views:{single:{default:"cardview",cardview:{},orderview:{}},listing:{default:"tableview",tableview:{}}},scope:{columns:{order:{type:"string",label:"Order",input:{type:"select",required:!0},reference:{name:"orders",service_query:{},resolves:{value:"_id",display:{primary:["reference"],secondary:[],avatar:!1}}},restricted:{display:function(e,t){return!1},input:function(e,t){return e?"order"!==e.context:!t||!(null===t||void 0===t?void 0:t.isAdmin)}}},item:{type:"string",label:"Retail Item",input:{type:"select",required:!0},restricted:{display:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}},reference:{name:"retailitems",service_query:{pagination:-1,available:1},resolves:{value:"_id",display:{primary:["name"],secondary:["sku"],avatar:!1}}}},quantity:{type:"string",label:"Quantity",input:{type:"number",default:1,required:!1}},currency:(Q={type:"string",label:"Currency",input:{type:"select",required:!0,size:4}},Object(fe.a)(Q,"input",{type:"select",required:!0}),Object(fe.a)(Q,"restricted",{display:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}}),Object(fe.a)(Q,"reference",{name:"currencies",service_query:{actve:1},resolves:{value:"_id",display:{primary:["symbol"],secondary:["html_symbol"],avatar:!1}}}),Q),cost:{type:"string",label:"Cost",input:{type:"number",default:1,required:!1,size:8},restricted:{display:function(){return!1},input:function(e,t){return!e||!e.apply_coupon}}},options:{type:"object",label:"Options",input:{type:"dynamic",default:1,required:!1,size:8},restricted:{display:function(){return!1},input:function(e,t){return!e||!e.apply_coupon}}},options_cost:{type:"string",label:"Options cost",input:{type:"number",default:0,required:!0},restricted:{display:function(){return!1},input:function(){return!1}}}},identity:{primary:["reference"],secondary:["status"],avatar:!1},dependencies:[],dependants:{}},access:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)||"customer"!==(null===e||void 0===e?void 0:e.role)},view:{summary:function(e){return"admin"===(null===e||void 0===e?void 0:e.role)||"customer"===(null===e||void 0===e?void 0:e.role)},all:function(e){return"admin"===(null===e||void 0===e?void 0:e.role)||"customer"===(null===e||void 0===e?void 0:e.role)},single:function(e){return"admin"===(null===e||void 0===e?void 0:e.role)||"customer"===(null===e||void 0===e?void 0:e.role)}},actions:{view:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)||"customer"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("orderitems/view/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:c.a,label:"View",className:"text-green-500"},create:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:"orderitems/add".toUriWithDashboardPrefix(),Icon:u.a,label:"Add new",className:"text-green-500",isFreeAction:!0},update:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("orderitems/edit/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:d.a,label:"Edit",className:"text-blue-500"},delete:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("orderitems/delete/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:p.a,className:"text-red-500",label:"Delete",confirmationRequired:!0}}}},ye=n(1961),we={name:"retailitems",label:"Retail items",icon:Object(h.jsx)(ye.a,{}),color:"#40003e",model:"RetailItem",endpoint:"/retail/items",cache:!0,views:{single:{default:"cardview",cardview:{avatar:!1,title:["name"],subtitle:["currency","cost"],tags:["available"],body:["description","stock","taxable","discountable","available","variations"]}},listing:{default:"tableview",tableview:{avatar:!1,title:["name"]}}},scope:{columns:{item_type:{type:"string",label:"Type",input:{type:"radio",default:"service",required:!0},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}},possibilities:{service:"Service",product:"Product"}},name:{type:"string",label:"Name",input:{type:"text",default:"",required:!0},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}}},description:{type:"string",label:"Description",input:{type:"textarea",default:"",required:!0},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}}},featured_image:{type:"string",label:"Featured Image",input:{type:"file",props:{acceptedFiles:["image/*"],filesLimit:1,dropzoneText:"Click to select Featured Image \n or \n Drag and drop the Featured Image file here",dropzoneIcon:"image"}},reference:{name:"attachments",service_query:{},resolves:{value:"_id",display:{primary:["name"],secondary:[],avatar:!1}}}},currency:{type:"string",label:"Currency",input:{type:"select",required:!0},reference:{name:"currencies",service_query:{},resolves:{value:"_id",display:{primary:["name"],secondary:["html_symbol"],avatar:!1}}}},cost:{type:"integer",label:"Cost",icon:"folder",input:{type:"number",default:1}},cost_with_tax:{type:"integer",label:"Cost with Tax",icon:"folder",input:{type:"number",default:1}},variants:{type:"object",label:"Variants",icon:"label",input:{type:"dynamic",default:{},props:{mode:"defination",appendProps:{field:[{name:"cost_effect_type",label:"Cost Effect Type",input:{type:"radio",defaultValue:"amount",size:12},possibilities:{amount:"Amount",percentage:"Percentage"}},{name:"cost_effect",label:"Cost Effect",valueDependent:!0,input:{type:"number",defaultValue:0,size:6,inputProps:{step:"0.1"}}}]}},required:!0},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}}},sku:{type:"string",label:"SKU",input:{type:"text",default:"",required:!0},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}}},quantity:{type:"integer",label:"Quantity",icon:"folder",input:{type:"number",default:1},restricted:{display:function(e,t){return!e||"product"!==e.item_type},input:function(e,t){return!e||"product"!==e.item_type}}},taxable:{type:"boolean",label:"Taxable",icon:"folder",input:{type:"checkbox",default:!1}},discountable:{type:"boolean",label:"Discountable",icon:"folder",input:{type:"checkbox",default:!1}},available:{type:"boolean",label:"Available",icon:"folder",input:{type:"checkbox",default:!0}},images:{type:["string"],label:"Images",input:{type:"file",props:{acceptedFiles:["image/*"],filesLimit:20,dropzoneText:"Click to select Image \n or \n Drag and drop an image file here",dropzoneIcon:"image"}},reference:{name:"attachments",service_query:{},resolves:{value:"_id",display:{primary:["name"],secondary:[],avatar:!1}}}}},identity:{primary:["name"],secondary:[],avatar:!1},dependencies:[],dependants:{orders:{column:"items",query:{}},actionlogs:{column:"record",query:{context:"RetailItem"}}}},access:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)&&"customer"!==(null===e||void 0===e?void 0:e.role)},view:{summary:function(e){return"admin"===(null===e||void 0===e?void 0:e.role)||"customer"===(null===e||void 0===e?void 0:e.role)},all:function(e){return"admin"===(null===e||void 0===e?void 0:e.role)||"customer"===(null===e||void 0===e?void 0:e.role)},single:function(e){return"admin"===(null===e||void 0===e?void 0:e.role)||"customer"===(null===e||void 0===e?void 0:e.role)}},actions:{view:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("/retailitems/view/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:c.a,label:"View",className:"text-green-500"},create:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:"/retailitems/add".toUriWithDashboardPrefix(),Icon:u.a,label:"Add new",className:"text-green-500",isFreeAction:!0},update:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("/retailitems/edit/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:d.a,label:"Edit",className:"text-blue-500"},delete:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("/retailitems/delete/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:p.a,className:"text-red-500",label:"Delete",confirmationRequired:!0}}}},ke=n(1962),Ne={name:"fulfilments",label:"Fulfilments",icon:Object(h.jsx)(ke.a,{}),color:"#001987",model:"Fulfilment",endpoint:"/retail/fulfilments",cache:!0,views:{single:{default:"cardview",cardview:{title:["name"],resolveData:function(e){},subtitle:["code"],body:["status","customer","expiration_date","value_type","value","use"]},calendarview:{title:["name"],subtitle:["code"],body:["status","customer","expiration_date","value_type","value","use"]}},listing:{default:"tableview",tableview:{avatar:!1,title:["name"]}}},scope:{columns:{order:{type:"string",label:"Order",input:{type:"select",required:!0,default:""},reference:{name:"orders",service_query:{pagination:-1},resolves:{value:"_id",display:{primary:["reference","date_made"],secondary:["status"],avatar:!1}}}},fulfilment:{type:"string",label:"Fulfilment",input:{type:"select",default:"survey",required:!0},possibilities:{survey:"Survey(s)",response:"Response(s)",file:"File(s)"}},surveys:{type:["string"],label:"Surveys",input:{type:"multiselect",required:function(e,t){return!!e&&"survey"===e.fulfilment},disabled:function(e,t){return!!e&&"survey"!==e.fulfilment}},restricted:{display:function(e,t){return!t||!((null===t||void 0===t?void 0:t.isAdmin)||(null===t||void 0===t?void 0:t.isCustomer))},input:function(e,t){return!e||!("survey"===e.fulfilment)}},reference:{name:"surveys",service_query:{},resolves:{value:"_id",display:{primary:["title"],secondary:["status"],avatar:!1}}}},responses:{type:["string"],label:"Responses",input:{type:"multiselect",default:[],required:function(e,t){return!!e&&"response"===e.fulfilment},disabled:function(e,t){return!!e&&"response"!==e.fulfilment}},restricted:{display:function(e,t){return!t||!((null===t||void 0===t?void 0:t.isAdmin)||(null===t||void 0===t?void 0:t.isCustomer))},input:function(e,t){return!e||!("response"===e.fulfilment)}},reference:{name:"responses",service_query:{},resolves:{value:"_id",display:{primary:["response_type"],secondary:["response_date"],avatar:!1}}}},files:{type:["string"],label:"Files",input:{type:"file"},restricted:{display:function(e,t){return!t||!((null===t||void 0===t?void 0:t.isAdmin)||(null===t||void 0===t?void 0:t.isCustomer))},input:function(e,t){return!e||"file"!==e.fulfilment}},reference:{name:"attachments",service_query:{},resolves:{value:"_id",display:{primary:["name"],secondary:["readable_size"],avatar:!1}}}},notes:{type:"string",label:"Notes",input:{type:"textarea",default:""}},fulfilment_date:{type:"string",label:"Fulfilment date",input:{type:"datetime",default:Date.now()}}},identity:{primary:["fulfilment_type","date_made"],secondary:["order"],avatar:!1},dependencies:[],dependants:[]},access:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)||"customer"!==(null===e||void 0===e?void 0:e.role)},view:{summary:function(e){return"admin"===(null===e||void 0===e?void 0:e.role)||"customer"===(null===e||void 0===e?void 0:e.role)},all:function(e){return"admin"===(null===e||void 0===e?void 0:e.role)||"customer"===(null===e||void 0===e?void 0:e.role)},single:function(e){return"admin"===(null===e||void 0===e?void 0:e.role)||"customer"===(null===e||void 0===e?void 0:e.role)}},actions:{view:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)||"customer"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("fulfilments/view/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:c.a,label:"View",className:"text-green-500"},create:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:"fulfilments/add".toUriWithDashboardPrefix(),Icon:u.a,label:"Add new",className:"text-green-500",isFreeAction:!0},update:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("fulfilments/edit/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:d.a,label:"Edit",className:"text-blue-500"},delete:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("fulfilments/delete/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:p.a,className:"text-red-500",label:"Delete",confirmationRequired:!0}}}},_e=n(1963),Se={name:"coupons",label:"Coupons",icon:Object(h.jsx)(_e.a,{}),color:"#541400",model:"Coupon",endpoint:"/coupons",cache:!1,views:{single:{default:"cardview",cardview:{title:["name"],subtitle:["code"],body:["status","customer","expiration_date","value_type","value","use"]}},listing:{default:"tableview",tableview:{avatar:!1,title:["name"]},calendarview:{type:"date",date:["expiration_date"],title:["name","status"]}}},scope:{columns:{name:{type:"string",label:"Name",icon:"label",input:{type:"text",default:"",required:!0},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}}},code:{type:"string",label:"Code",icon:"label",input:{type:"text",default:"",required:!0},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}}},status:{type:"string",label:"Status",icon:"label",input:{type:"radio",default:"",required:!0},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}},possibilities:{active:"active",used:"used",expired:"expired"}},customer:{type:"string",label:"Customer",icon:"label",input:{type:"select",default:"",required:!0},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}},reference:{name:"users",service_query:{pagination:-1,sort:"first_name",fields:"first_name,last_name,email_address,avatar",role:"customer"},resolves:{value:"_id",display:{primary:["first_name","last_name"],secondary:["email_address"],avatar:!1}}}},expiration_date:{type:"string",label:"Expiration date",icon:"label",input:{type:"date",default:"",required:!0},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}}},value_type:{type:"string",label:"Value Type",input:{type:"select",default:"",required:!0,size:6},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}},possibilities:{amount:"Amount",percentage:"Percentage"}},value:{type:"string",label:"value",icon:"label",input:{type:"number",default:"1",required:!0,size:6},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}}},use:{type:"string",label:"Use",icon:"label",input:{type:"radio",default:"",required:!0},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}},possibilities:{once:"Once",multiple:"Multiple"}}},identity:{primary:["name"],secondary:["status"],avatar:!1},dependencies:[],dependants:{orders:{column:"coupon",query:{}},actionlogs:{column:"record",query:{context:"Commission"}}}},access:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)&&"customer"!==(null===e||void 0===e?void 0:e.role)},view:{summary:function(e){return"admin"===(null===e||void 0===e?void 0:e.role)||"customer"===(null===e||void 0===e?void 0:e.role)},all:function(e){return"admin"===(null===e||void 0===e?void 0:e.role)||"customer"===(null===e||void 0===e?void 0:e.role)},single:function(e,t){var n;return"admin"===(null===e||void 0===e?void 0:e.role)||"customer"===(null===e||void 0===e?void 0:e.role)&&((null===t||void 0===t?void 0:t.customer)===(null===e||void 0===e?void 0:e._id)||(null===t||void 0===t||null===(n=t.customer)||void 0===n?void 0:n._id)===(null===e||void 0===e?void 0:e._id))}},actions:{view:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("coupons/view/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:c.a,label:"View",className:"text-green-500"},create:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:"coupons/add".toUriWithDashboardPrefix(),Icon:u.a,label:"Add new",className:"text-green-500",isFreeAction:!0},update:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("coupons/edit/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:d.a,label:"Edit",className:"text-blue-500"},delete:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("coupons/delete/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:p.a,className:"text-red-500",label:"Delete",confirmationRequired:!0}}}},Ce=n(1964),Ae={name:"invoices",label:"Invoices",icon:Object(h.jsx)(Ce.a,{}),color:"#545000",model:"Invoice",endpoint:"/invoices",cache:!0,views:{single:{default:"invoiceview",cardview:{title:["ref_no"],subtitle:["status"],body:["order","owner","direction","discount_type","discount","apply_tax","tax_type","tax","due_date","status","date_generated"]},invoiceview:{variants:["ref_no","status","order","owner","direction","discount_type","discount","apply_tax","tax_type","tax","due_date","status","date_generated"]}},listing:{default:"tableview",tableview:{avatar:!1,title:["ref_no"]},calendarview:{type:"date",date:["due_date"],title:["ref_no","status"]}}},scope:{columns:{ref_no:{type:"string",label:"Reference Number",icon:"label",input:{type:"text",default:"",required:!0},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}}},order:{type:"string",label:"Order",icon:"label",input:{type:"select",default:"",required:!0},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}},reference:{name:"orders",service_query:{},resolves:{value:"_id",display:{primary:["reference","date_made"],secondary:["status"],avatar:!1}}}},owner:{type:"string",label:"Customer",icon:"label",input:{type:"select",default:"",required:!0},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}},reference:{name:"users",service_query:{pagination:-1,sort:"first_name",fields:"first_name,last_name,email_address,avatar",role:"customer"},resolves:{value:"_id",display:{primary:["first_name","last_name"],secondary:["email_address"],avatar:!1}}}},direction:{type:"string",label:"Direction",icon:"label",input:{type:"select",default:"outgoing",required:!1},restricted:{display:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}},possibilities:{outgoing:"Outgoing",incoming:"Incoming"}},discount_type:{type:["string"],label:"Discount type",icon:"label",input:{type:"select",default:"none",required:!1},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}},possibilities:{none:"None",amount:"Amount",percentage:"Percentage",coupon:"Coupon"}},discount:{type:"string",label:"Discount",icon:"label",input:{type:"number",default:"0",required:!1},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}}},apply_tax:{type:"boolean",label:"Apply Tax",icon:"label",input:{type:"checkbox",default:"",required:!1},restricted:{display:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}}},tax_type:{type:"string",label:"Tax type",icon:"label",input:{type:"radio",default:"outgoing",required:!1},restricted:{display:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}},possibilities:{none:"None",amount:"Amount",percentage:"Percentage"}},tax:{type:"float",label:"Tax",icon:"label",input:{type:"number",default:"0",required:!1},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}}},due_date:{type:"string",label:"Due date",icon:"label",input:{type:"date",default:"",required:!0},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}}},status:{type:"string",label:"Status",icon:"label",input:{type:"select",default:"unpaid",required:!1},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}},possibilities:{paid:"Paid",unpaid:"Unpaid",partially_paid:"Partially paid"}},date_generated:{type:"string",label:"Date Generated",icon:"label",input:{type:"date",default:"",required:!0},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}}}},identity:{primary:["reference"],secondary:["date_generated"],avatar:!1},dependencies:[],dependants:{payments:{column:"invoice",query:{context:"invoice"}},actionlogs:{column:"record",query:{context:"Invoice"}}}},access:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)||"customer"!==(null===e||void 0===e?void 0:e.role)},view:{summary:function(e){return"admin"===(null===e||void 0===e?void 0:e.role)||"customer"===(null===e||void 0===e?void 0:e.role)},all:function(e){return"admin"===(null===e||void 0===e?void 0:e.role)||"customer"===(null===e||void 0===e?void 0:e.role)},single:function(e){return"admin"===(null===e||void 0===e?void 0:e.role)||"customer"===(null===e||void 0===e?void 0:e.role)}},actions:{view:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)||"customer"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("invoices/view/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:c.a,label:"View",className:"text-green-500"},create:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:"invoices/add".toUriWithDashboardPrefix(),Icon:u.a,label:"Add new",className:"text-green-500",isFreeAction:!0},update:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("invoices/edit/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:d.a,label:"Edit",className:"text-blue-500"},delete:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("invoices/delete/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:p.a,className:"text-red-500",label:"Delete",confirmationRequired:!0}}}},Fe=n(1965),Pe={name:"payments",label:"Payments",icon:Object(h.jsx)(Fe.a,{}),color:"#001f40",model:"Payment",endpoint:"/payments",cache:!1,views:{single:{default:"cardview",cardview:{title:["currency","amount"],subtitle:["reference"],tags:["context","method","status"],body:["invoice","order","account_type","account","date_made"]}},listing:{default:"tableview",tableview:{avatar:!1,title:["currency","amount"]},calendarview:{type:"date",date:["date_made"],title:["currency","amount"],tags:["context","method","status"]}}},scope:{columns:{context:{type:"string",label:"Context",input:{type:"radio",default:"order",required:!0},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||!(null===t||void 0===t?void 0:t.isAdmin)}},possibilities:{order:"Order",invoice:"Invoice"}},invoice:{type:"string",label:"Invoice",input:{type:"select",required:function(e,t){return!!e&&"invoice"===e.context}},reference:{name:"invoices",service_query:{},resolves:{value:"_id",display:{primary:["reference"],secondary:["status"],avatar:!1}}},restricted:{display:function(e,t){return!1},input:function(e,t){return e?"invoice"!==e.context:!t||!(null===t||void 0===t?void 0:t.isAdmin)}}},order:{type:"string",label:"Order",input:{type:"select",required:function(e,t){return!!e&&"order"===e.context}},reference:{name:"orders",service_query:{},resolves:{value:"_id",display:{primary:["reference"],secondary:["date_made"],avatar:!1}}},restricted:{display:function(e,t){return!1},input:function(e,t){return e?"order"!==e.context:!t||!(null===t||void 0===t?void 0:t.isAdmin)}}},currency:{type:"string",label:"Currency",input:{type:"select",default:"",required:!0,size:4},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||!(null===t||void 0===t?void 0:t.isAdmin)}},reference:{name:"currencies",service_query:{},resolves:{value:"_id",display:{primary:["name"],secondary:["html_symbol"],avatar:!1}}}},amount:{type:"float",label:"Amount",input:{type:"number",default:"0",required:!0,size:8},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||!(null===t||void 0===t?void 0:t.isAdmin)}}},method:{type:"string",label:"Method",input:{type:"select",default:"",required:!0,size:6},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||!(null===t||void 0===t?void 0:t.isAdmin)}},possibilities:{cash:"Cash",cheque:"Cheque",credit_card:"Credit card",debit_card:"Debit Card",bank_transfer:"Bank Transfer",mobile_money:"Mobile money",other:"Other"}},reference:{type:"string",label:"Reference",input:{type:"text",default:"",required:!1,size:6},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||!(null===t||void 0===t?void 0:t.isAdmin)}}},account_type:{type:"string",label:"Account type",input:{type:"text",default:"",required:!1,size:6},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||!(null===t||void 0===t?void 0:t.isAdmin)}}},account:{type:"string",label:"Account",input:{type:"text",default:"",size:6},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||!(null===t||void 0===t?void 0:t.isAdmin)}}},date_made:{type:"string",label:"Date made",input:{type:"date",default:"",required:!0},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||!(null===t||void 0===t?void 0:t.isAdmin)}}},made_by:{type:"float",label:"Made by",input:{type:"select",default:"",required:!1},reference:{name:"users",service_query:{pagination:-1,sort:"first_name",fields:"first_name,last_name,email_address,avatar",role:"customer"},resolves:{value:"_id",display:{primary:["first_name","last_name"],secondary:["email_address"],avatar:!1}}},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||!(null===t||void 0===t?void 0:t.isAdmin)}}},status:{type:"string",label:"Status",input:{type:"select",default:"",required:!0},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||!(null===t||void 0===t?void 0:t.isAdmin)}},possibilities:{complete:"Complete",incomplete:"Incomplete"}}},identity:{primary:["currency","amount"],secondary:[],avatar:!1},dependencies:[],dependants:[]},access:{restricted:function(e){return String.isEmpty(null===e||void 0===e?void 0:e.role)},view:{summary:function(e){return!String.isEmpty(null===e||void 0===e?void 0:e.role)},all:function(e){return!String.isEmpty(null===e||void 0===e?void 0:e.role)},single:function(e){return!String.isEmpty(null===e||void 0===e?void 0:e.role)}},actions:{view:{restricted:function(e){return String.isEmpty(null===e||void 0===e?void 0:e.role)},uri:function(e){return("payments/view/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:c.a,label:"View",className:"text-green-500"},create:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:"payments/add".toUriWithDashboardPrefix(),Icon:u.a,label:"Add new",className:"text-green-500",isFreeAction:!0},update:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("payments/edit/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:d.a,label:"Edit",className:"text-blue-500"},delete:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("payments/delete/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:p.a,className:"text-red-500",label:"Delete",confirmationRequired:!0}}}},De={name:"currencies",label:"Currencies",icon:Object(h.jsx)(Fe.a,{}),color:"#001f40",model:"Currency",endpoint:"/currencies",cache:!1,views:{single:{default:"cardview",cardview:{}},listing:{default:"tableview",tableview:{}}},scope:{columns:{name:{type:"string",label:"Name",input:{type:"text",required:!0},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||!(null===t||void 0===t?void 0:t.isAdmin)}}},symbol:{type:"string",label:"Symbol",input:{type:"text",required:!0,size:6},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||!(null===t||void 0===t?void 0:t.isAdmin)}}},html_symbol:{type:"string",label:"HTML Symbol",input:{type:"text",required:!0,size:6},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||!(null===t||void 0===t?void 0:t.isAdmin)}}},exchange_rate:{type:"number",label:"Exchange Rate",input:{type:"number",default:1,required:!0,size:6},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||!(null===t||void 0===t?void 0:t.isAdmin)}}},exchange_rate_date:{type:"string",label:"Exchange Rate Date",input:{type:"datetime",required:!1,size:6},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||!(null===t||void 0===t?void 0:t.isAdmin)}}},active:{type:"boolean",label:"Active",input:{type:"checkbox",default:!0},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||!(null===t||void 0===t?void 0:t.isAdmin)}}}},identity:{primary:["symbol"],secondary:["html_symbol"],avatar:!1},dependencies:[],dependants:[]},access:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},view:{summary:function(e){return"admin"===(null===e||void 0===e?void 0:e.role)},all:function(e){return"admin"===(null===e||void 0===e?void 0:e.role)},single:function(e){return"admin"===(null===e||void 0===e?void 0:e.role)}},actions:{view:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("currencies/view/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:c.a,label:"View",className:"text-green-500"},create:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:"currencies/add".toUriWithDashboardPrefix(),Icon:u.a,label:"Add new",className:"text-green-500",isFreeAction:!0},update:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("currencies/edit/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:d.a,label:"Edit",className:"text-blue-500"},delete:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("currencies/delete/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:p.a,className:"text-red-500",label:"Delete",confirmationRequired:!0}}}},Ee=n(1966),Te=n(1044),qe=n.n(Te),Me={name:"vacancies",label:"Vacancies",icon:Object(h.jsx)(Ee.a,{}),color:"#00bcd4",model:"Vacancy",endpoint:"/recruitment/vacancies",cache:!1,views:{single:{default:"cardview",cardview:{title:["name"],subtitle:["code"],body:["status","customer","expiration_date","value_type","value","use"]},calendarview:{title:["title"],subtitle:["code"],body:["status","customer","expiration_date","value_type","value","use"]}},listing:{default:"tableview",tableview:{avatar:!1,title:["title"]}}},scope:{columns:{position:{type:"string",label:"Position Name",input:{type:"text",required:!0,default:""},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||!(null===t||void 0===t?void 0:t.isAdmin)}}},description:{type:"string",label:"Description",input:{type:"textarea",default:""},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||!(null===t||void 0===t?void 0:t.isAdmin)}}},banner:{type:"string",label:"Banner",input:{type:"file",accepts:["image/*"],props:{acceptedFiles:["image/*"],dropzoneText:"Drag & drop vacancy banner image here",dropzoneIcon:Object(h.jsx)(qe.a,{})}},reference:{name:"attachments",service_query:{},resolves:{value:"_id",display:{primary:["name"],secondary:["size"],avatar:!1}}}},qualifications:{type:"string",label:"Qualifications",input:{type:"textarea",default:"",required:!0,rich:!0},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||!(null===t||void 0===t?void 0:t.isAdmin)}}},requirements:{type:"string",label:"Requirements",input:{type:"textarea",default:"",required:!0,rich:!0},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||!(null===t||void 0===t?void 0:t.isAdmin)}}},responsibilitiea:{type:"string",label:"Responsibilitiea",input:{type:"textarea",default:"",rich:!0},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||!(null===t||void 0===t?void 0:t.isAdmin)}}},country:{type:"string",label:"Country",icon:"folder",input:{type:"select",default:"",required:!0},possibilities:m.a.names()},region:{type:"string",label:"State/Province/Region/County",input:{type:"text",default:"",required:!1}},city:{type:"string",label:"City/Town",input:{type:"text",default:"",required:!1}},notes:{type:"string",label:"Notes",input:{type:"textarea",default:"",rich:!0},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||!(null===t||void 0===t?void 0:t.isAdmin)}}},maximum_applications:{type:"string",label:"Maximum No of applications",input:{type:"number",default:"1"},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||!(null===t||void 0===t?void 0:t.isAdmin)}}},bias:{type:"string",label:"Bias",input:{type:"text",default:""},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||!(null===t||void 0===t?void 0:t.isAdmin)}}},application_deadline:{type:"string",label:"Application Deadline",input:{type:"datetime",default:(new Date).addDays(30).toString()},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||!(null===t||void 0===t?void 0:t.isAdmin)}}},active:{type:"boolean",label:"Active",input:{type:"checkbox",default:!0}}},identity:{primary:["position"],secondary:["application_deadline"],avatar:!1},dependencies:[],dependants:{applications:{column:"vacancy",query:{}},actionlogs:{column:"record",query:{context:"Vacancy"}}}},access:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},view:{summary:function(e){return"admin"===(null===e||void 0===e?void 0:e.role)},all:function(e){return"admin"===(null===e||void 0===e?void 0:e.role)},single:function(e){return"admin"===(null===e||void 0===e?void 0:e.role)}},actions:{view:{restricted:function(e){return String.isEmpty(null===e||void 0===e?void 0:e.role)},uri:function(e){return("vacancies/view/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:c.a,label:"View",className:"text-green-500"},create:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:"vacancies/add".toUriWithDashboardPrefix(),Icon:u.a,label:"Add new",className:"text-green-500",isFreeAction:!0},update:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("vacancies/edit/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:d.a,label:"Edit",className:"text-blue-500"},delete:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("vacancies/delete/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:p.a,className:"text-red-500",label:"Delete",confirmationRequired:!0}}}},Ie=n(656),Re=n(1967),Le=n(1049),ze=n.n(Le),Ve=n(1050),We=n.n(Ve),Je=n(1120),Be=n(17),Ue=n(278),Ge=["data","layoutType","apiCallRequest","setEmailingCache","clearEmailingCache","closeDialog","openDialog","auth"],He=new Date,Ke=function(e){var t=e.data,n=e.layoutType,a=e.apiCallRequest,i=e.setEmailingCache,r=e.clearEmailingCache,o=e.closeDialog,s=e.openDialog,l=(e.auth,Object(y.a)(e,Ge)),c=Object(f.useState)(String.uid(8,!1,!0)),u=Object(x.a)(c,2),d=u[0],p=u[1],b=Object(f.useState)(!1),m=Object(x.a)(b,2),v=m[0],g=m[1],O=Object(f.useState)(!1),k=Object(x.a)(O,2),N=(k[0],k[1],Object(f.useState)(!1)),_=Object(x.a)(N,2),S=_[0],C=_[1],A=Object(f.useState)(!1),F=Object(x.a)(A,2),P=F[0],D=F[1],E=Object(f.useState)(!1),T=Object(x.a)(E,2),q=T[0],M=T[1],I=Object(Be.p)({userAccountDialog:{open:!1,src:JSON.isJSON(null===t||void 0===t?void 0:t.user)?null===t||void 0===t?void 0:t.user:{}},userAccount:!!JSON.isJSON(null===t||void 0===t?void 0:t.user)&&(null===t||void 0===t?void 0:t.user)}),R=Object(x.a)(I,3),L=R[0],z=R[1],J=R[2],B=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];g(!0),C(!1);var n=JSON.fromJSON(t);delete n._id,delete n.entry,n.staff_id=d,n.password=d,n.status="active",a("applications",{uri:"/recruitment/applications/"+t._id+"/create-user",type:"create",params:{p:"1"},data:n,cache:!0,silent:!0}).then((function(n){var a=n.body.data;e&&(i("recipient_address",a.email_address),i("recipient_name",a.first_name),i("subject","Your Realfield user account"),i("content","Hey ".concat(a.first_name,",\n\n\n\n\t\t\t\tHere are your unique login details.\n\n\n\n\t\t\t\tUsername: ").concat(t.email_address," \n\n\t\t\t\tPassword: ").concat(String.isEmpty(a.staffID)?d:a.staffID," \n\n\n\n\t\t\t\tWhen you login into app things are pretty self-explanatory and under the Reading tab, you'll find a stack of materials we'd like you to review over the next few days.\n\n\t\t\t\tYou'll see a Realfield Training Manual and a number of other great resources for you to review.\nThe training will consist of a number elements that might start with a short quiz.\n\t\t\t\t\nDon't worry, the purpose of the quiz is to give us an idea of where we need to provide additional support, it's not designed to catch you out.\n\n\t\t\t\tFollowing the quiz, we'll be scheduling a number of live sessions. These sessions are really important and designed to help us test our platform.\n\n\t\t\t\tThey will also help us test things like responsiveness and accuracy, and each of the live sessions will be time sensitive.\n\t\t\t\tFor example, you may be given a number of hours or a couple of days to complete the training assignment.\n\n\t\t\t\tMany of you have been writing in with encouragement and questions, and we love it! If you have questions,\n\t\t\t\twant to offer feedback or need support, please continue to use the jobs@realfield.io address.\n\n\t\t\t\tAsante sana and have an amazing week!!\n\n\n\n\t\t\t\tRealfield People Ops")),i("context","Application"),i("record",t._id),i("popup_open",!0),M(!0)),C(!1),g(!1)})).catch((function(e){var t=e;t=JSON.isJSON(e)?String.isString(e.error)?e.error:String.isString(e.message)?e.message:String.isString(e.msg)?e.msg:JSON.stringify(e):e.toString(),C(t),g(!1)}))},U=Object(f.useCallback)((function(){var e=J().userAccount,n=e;if(JSON.isJSON(null===t||void 0===t?void 0:t.user)?n=null===t||void 0===t?void 0:t.user:JSON.isEmpty(e)&&String.isString(null===t||void 0===t?void 0:t.user)&&String.isEmpty(null===t||void 0===t?void 0:t.user),JSON.isJSON(n))try{var a=JSON.fromJSON(n);delete a.password,delete a.__v,delete a.preferences,delete a.login_attempts,delete a.last_login_attempt,delete a.account_verified,delete a.account_verifacation_code,delete a.account_verifacation_mode,delete a.password_reset_code,delete a.password_reset_code_expiration,delete a.provider,delete a.provider_account_id,delete a.provider_handle,delete a.provider_url,z({userAccountDialog:{open:!0,src:a,title:"User Account for  ".concat(t.first_name," ").concat(t.last_name)},userAccount:a})}catch(i){}}),[t]),G=function(){g(!0),C(!1),a("users",{uri:"/users",type:"records",params:{p:"1",staff_id:d},data:{},cache:!1,silent:!0}).then((function(e){var n=e.body.data;if(Array.isArray(n))if(n.length>0){var a=String.uid(8,!1,!0);p(a)}else s({title:"Add "+t.first_name+" "+t.last_name+" as a new user?",body:"A new user account will be created for <b> "+t.first_name+" "+t.last_name+"</b> with the staff ID: <b>"+d+"</b> and the following credentials.<br /><br /> <b> Username:</b>"+t.email_address+" <br /> <b>Password:</b>"+d,actions:{cancel:{text:"Cancel",color:"default",onClick:function(){o(),C(!1),g(!1)}},create:{text:"Create",color:"secondarys",onClick:function(){o(),B(!1)}},create_send_mail:{text:"Create and send Email",color:"primary",onClick:function(){o();try{B(!0)}catch(e){console.error("try handleCreateApplicantUserAccount err",e)}}}}})})).catch((function(e){var t=e;t=JSON.isJSON(e)?String.isString(e.error)?e.error:String.isString(e.message)?e.message:String.isString(e.msg)?e.msg:JSON.stringify(e):e.toString(),C(t),g(!1)}))};return Object(f.useEffect)((function(){P&&(t.user?U():G())}),[P,d]),Object(f.useEffect)((function(){return function(){q&&r()}}),[q]),Object(h.jsxs)(j.a.Fragment,{children:[v&&Object(h.jsx)(W.a,{size:16,color:"secondary"}),!v&&Object(h.jsx)(Ue.a,Object(w.a)(Object(w.a)({},L.userAccountDialog),{},{onClose:function(){return z({userAccountDialog:{open:!1,src:{}}})}})),"inline"===n&&!v&&Object(h.jsxs)(Ie.a,Object(w.a)(Object(w.a)({color:(null===t||void 0===t?void 0:t.user)?"secondary":"inherit","aria-label":"Translate to user",onClick:function(){P?(null===t||void 0===t?void 0:t.user)||JSON.isJSON(L.userAccount)||!JSON.isEmpty(L.userAccount)?U():G():D(!0)}},l),{},{children:[!(null===t||void 0===t?void 0:t.user)&&(!JSON.isJSON(L.userAccount)||JSON.isEmpty(L.userAccount))&&Object(h.jsx)(ze.a,{fontSize:"inherit"}),!!(null===t||void 0===t?void 0:t.user)&&Object(h.jsx)(We.a,{fontSize:"inherit"})]})),S&&Object(h.jsx)(Je.a,{open:Boolean(S),autoHideDuration:1e4,onClose:function(){return C(!1)},children:Object(h.jsx)(V.a,{elevation:6,variant:"filled",onClose:function(){return C(!1)},severity:"error",children:S})})]})};Ke.defaultProps={layoutType:"inline"};var Ye,Qe,Ze=I()(Object(R.b)((function(e){return{auth:e.auth,cache:e.cache}}),{apiCallRequest:L.hb,setEmailingCache:L.Lb,clearEmailingCache:L.kb,closeDialog:L.lb,openDialog:L.ub}),ie.a)(Ke),Xe={name:"applications",label:"Applications",icon:Object(h.jsx)(Re.a,{}),color:"#009688",model:"Application",endpoint:"/recruitment/applications",cache:!0,views:{single:{default:"cardview"},listing:{default:"tableview",tableview:{avatar:!1,title:["title"]}}},scope:{columns:{vacancy:{type:"string",label:"Position",input:{type:"select",required:!0,props:{margin:"dense",classes:{}}},reference:{name:"vacancies",service_query:{pagination:-1,active:1,below:Date.now()},resolves:{value:"_id",display:{primary:["position"],secondary:[],avatar:!1}}}},submission_date:{type:"date",label:"Submission Date",input:{type:"hidden",required:!0,props:{margin:"dense",classes:{}}}},first_name:{type:"string",label:"First name",input:{type:"text",required:!0,size:6}},last_name:{type:"string",label:"Last name",input:{type:"text",default:"",required:!0,size:6}},email_address:{type:"string",label:"Email address",icon:"email",input:{type:"email",default:"",required:!0}},phone_number:{type:"string",label:"Phone number",input:{type:"phone",default:"",required:!1}},gender:{type:"string",label:"Gender",input:{type:"select",default:"",required:!1,props:{}},possibilities:{male:"Male",female:"Female",nonbinary:"Nonbinary",transgender:"Transgender",prefer_not_to_say:"Prefer not to say"}},dob:{type:"date",label:"Date of birth",input:{type:"date",default:(new Date).setFullYear(He.getFullYear()-18),required:!1,props:{maxDate:(new Date).setFullYear(He.getFullYear()-18),format:"DD/MM/YYYY",margin:"dense"}}},address:{type:"string",label:"Address",input:{type:"text",default:"",required:!1}},country:{type:"string",label:"Country",icon:"folder",input:{type:"select",required:!0,props:{margin:"dense",classes:{}}},possibilities:m.a.names()},administrative_level_1:{type:"string",label:"Region/County/Province",input:{type:"select",required:!0,props:{freeSolo:!0,margin:"dense",classes:{}}},possibilities:function(){var e=Object(s.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return JSON.isJSON(t)&&String.isEmpty(t.country),e.abrupt("return",{});case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},administrative_level_2:{type:"string",label:"Sub County/Sub Region/District",input:{type:"select",default:"",required:!1,props:{freeSolo:!0,margin:"dense",classes:{}}},possibilities:function(){var e=Object(s.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{});case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},administrative_level_3:{type:"string",label:"Ward/Locality/Municipality",input:{type:"select",default:"",required:!1,props:{margin:"dense",classes:{}}},possibilities:function(){var e=Object(s.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{});case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},region:{type:"string",label:"Region/County/Province",input:{type:"hidden",required:!0,props:{freeSolo:!0,margin:"dense",classes:{}}},possibilities:function(){var e=Object(s.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{});case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},subcounty:{type:"string",label:"Sub County/Sub Region/District",input:{type:"hidden",default:"",required:!1,props:{freeSolo:!0,margin:"dense",classes:{}}},possibilities:function(){var e=Object(s.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{});case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},ward:{type:"string",label:"Ward/Locality",input:{type:"hidden",default:"",required:!1,props:{margin:"dense",classes:{}}},possibilities:function(){var e=Object(s.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{});case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},locale:{type:"string",label:"City/Town",input:{type:"text",default:"",required:!1}},education:{type:"string",label:"Education",input:{type:"select",default:"",required:!0,props:{margin:"dense",classes:{}}},possibilities:{technical:"Technical School",college:"College",undergraduate:"Under Graduate",postgraduate:"Post Graduate",doctorate:"Doctorate"}},institution:{type:"string",label:"Institution",input:{type:"text",default:"",required:!0}},course:{type:"string",label:"Course",input:{type:"text",default:"",required:!0}},cover_letter:{type:"string",label:"Cover letter",input:{type:"textarea",default:"",required:!1,rich_text:!0},restricted:{display:function(e,t){return!0},input:function(e,t){return!1}}},bio:{type:"string",label:"Bio",input:{type:"textarea",default:"",rich_text:!0},restricted:{display:function(e,t){return!0},input:function(e,t){return!1}}},avatar:{type:"string",label:"Selfie",input:{type:"file",props:{acceptedFiles:["image/*"],dropzoneText:"Click to select file \n OR \n Drag & drop your selfie here",filesLimit:1,dropzoneIcon:"portrait"}},reference:{name:"attachments",service_query:{pagination:-1},resolves:{value:"_id",display:{primary:["name"],secondary:["size"],avatar:!1}}}},documents:{type:["string"],label:"Resume",input:{type:"file",props:{acceptedFiles:["image/*","video/*","audio/*","application/*"],dropzoneText:"Click to select file \n OR \n Drag & drop your Resume here",filesLimit:1,dropzoneIcon:"insert_drive_file"}},reference:{name:"attachments",service_query:{pagination:-1},resolves:{value:"_id",display:{primary:["name"],secondary:[],avatar:!1}}}},government_id:{type:"string",label:"Copy of Government ID",input:{type:"file",size:12,props:{acceptedFiles:["image/*"],dropzoneText:"Click to select file \n OR \n Drag & drop your Copy of Government ID here",filesLimit:1,dropzoneIcon:"credit_card"}},reference:{name:"attachments",service_query:{pagination:-1},resolves:{value:"_id",display:{primary:["name"],secondary:["size"],avatar:!1}}}},source:{type:"string",label:"How did you learn about Realfield?",input:{type:"select",size:12,props:{freeSolo:!0,margin:"dense"}},possibilities:function(e,t){var n={Twitter:"Twitter",Facebook:"Facebook",Instagram:"Instagram",LinkedIn:"LinkedIn",WhatsApp:"WhatsApp","University Career department":"University Career department","Job Websites":"Job Websites","Word of mouth":"Word of mouth"};return JSON.isJSON(e)&&"KE"===e.country&&(n.Ajira="Ajira"),n}}},identity:{primary:["title"],secondary:["application_deadline"],avatar:!1},dependencies:[],dependants:{actionlogs:{column:"record",query:{context:"Application"}}}},access:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)&&"collector"!==(null===e||void 0===e?void 0:e.role)},view:{summary:function(e){return!1},all:function(e){return"admin"===(null===e||void 0===e?void 0:e.role)||"collector"===(null===e||void 0===e?void 0:e.role)},single:function(e,t){var n;return!!e&&("admin"===(null===e||void 0===e?void 0:e.role)||!!t&&((null===t||void 0===t||null===(n=t.user)||void 0===n?void 0:n._id)===(null===e||void 0===e?void 0:e._id)||(null===t||void 0===t?void 0:t.user)===(null===e||void 0===e?void 0:e._id)))}},actions:{view:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)&&"collector"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return"applications/view/"+(null===e||void 0===e?void 0:e._id)},Icon:c.a,label:"View",className:"text-green-500"},create:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:"applications/add".toUriWithDashboardPrefix(),Icon:u.a,label:"Add new",className:"text-green-500",isFreeAction:!0},update:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("applications/edit/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:d.a,label:"Edit",className:"text-blue-500"},create_application_user:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("applications/"+(null===e||void 0===e?void 0:e._id)+"/user/create").toUriWithDashboardPrefix()},Component:Ze,label:"User Account"},delete:{restricted:function(e){return!e},uri:function(e){return("answers/delete/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:p.a,className:"text-red-500",label:"Delete",confirmationRequired:!0}}}},$e=n(1968),et={name:"notifications",label:"Notifications",icon:Object(h.jsx)($e.a,{}),color:"#0e4000",model:"Notification",endpoint:"/notifications",cache:!0,views:{single:{default:"cardview",cardview:{title:["title"],subtitle:["context"],tags:["priority","read"],body:["body"]}},listing:{default:"tableview",tableview:{avatar:!1,title:["title"]}}},scope:{columns:{title:{type:"string",label:"Title",input:{type:"text",default:"",required:!0},restricted:{display:function(e,t){return!1},input:function(e,t){return!1}}},body:{type:"string",label:"Notification",icon:"subject",input:{type:"textarea",default:"",required:!1},restricted:{display:function(e,t){return!1},input:function(e,t){return!1}}},context:{type:"string",label:"Context",icon:"subject",input:{type:"select",default:"",required:!1},possibilities:{Commission:"Commission",Coupon:"Coupon",Invoice:"Invoice",Order:"Order"},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}}},priority:{type:"string",label:"Priority",input:{type:"radio",default:"",required:!0},possibilities:{low:"Low",medium:"Medium",high:"High"},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}}},notifier:{type:"string",label:"Notifier",input:{type:"select",default:"",required:!0},reference:{name:"users",service_query:{pagination:-1,sort:"first_name",fields:"first_name,last_name,email_address,avatar",role:"admin"},resolves:{value:"_id",display:{primary:["first_name","last_name"],secondary:["email_address"],avatar:!1}}},restricted:{display:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}}},notify:{type:"string",label:"Notify",input:{type:"select",default:"",required:!0},reference:{name:"users",service_query:{pagination:-1,sort:"first_name",fields:"first_name,last_name,email_address,avatar"},resolves:{value:"_id",display:{primary:["first_name","last_name"],secondary:["email_address"],avatar:!1}}},restricted:{display:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}}},notified:{type:"boolean",label:"Notified",input:{type:"checkbox",default:""},restricted:{display:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}}},read:{type:"boolean",label:"Read",input:{type:"checkbox",default:""},restricted:{display:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}}},channel:{type:"string",label:"Channel",icon:"folder",input:{type:"radio",default:"all"},possibilities:{app:"App",email:"Email",all:"all"},restricted:{display:function(e,t){return!t||!(null===t||void 0===t?void 0:t.isAdmin)},input:function(e,t){return!t||!(null===t||void 0===t?void 0:t.isAdmin)}}},date_created:{type:"string",label:"Date",input:{type:"datetime",default:Date.now},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||!(null===t||void 0===t?void 0:t.isAdmin)}}}},identity:{primary:["title"],secondary:["priority"],avatar:!1},dependencies:[{name:"users"}],dependants:{actionlogs:{column:"record",query:{context:"Notification"}}}},access:{restricted:function(e){return!(null===e||void 0===e?void 0:e.role)},view:{summary:function(e){return!!(null===e||void 0===e?void 0:e.role)},all:function(e){return!!(null===e||void 0===e?void 0:e.role)},single:function(e){return"admin"===(null===e||void 0===e?void 0:e.role)}},actions:{view:{restricted:function(e){return!!(null===e||void 0===e?void 0:e.role)},uri:function(e){return("notifications/view/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:c.a,label:"View",className:"text-green-500"},create:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:"messages/add".toUriWithDashboardPrefix(),Icon:u.a,label:"Add new",className:"text-green-500",isFreeAction:!0},update:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("notifications/edit/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:d.a,label:"Edit",className:"text-blue-500"},delete:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("notifications/delete/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:p.a,className:"text-red-500",label:"Delete",confirmationRequired:!0}}}},tt=n(1969),nt={name:"actionlogs",label:"Activity Logs",icon:Object(h.jsx)(tt.a,{}),color:"#4a148c",model:"ActionTrail",endpoint:"/logs/actions",cache:!1,views:{single:{default:"cardview",cardview:{avatar:function(e){return e?m.b.fileIcon(e.name):m.b.fileIcon("file.unknown")},resolveData:function(e){var t={};return m.d.isOfType(e,"object")&&(t={color:"#4a148c",avatar:Object(h.jsxs)(S.a,{children:[" ",Object(h.jsx)(tt.a,{})," "]})}),t},title:["action"],subtitle:["context"],body:["description","catalyst","generator","record","catalyst_ip","action_timestamp"]}},listing:{default:"tableview",tableview:{title:["name"]}}},scope:{columns:{action:{type:"string",label:"Action",input:{type:"select",default:"",required:!1},possibilities:{create:"Create",update:"Update",delete:"Delete",custom:"Custom"}},generator:{type:"string",label:"Generator",input:{type:"select",default:"user",required:!0},possibilities:{user:"User",system:"System"},restricted:{display:function(){return!1},input:function(e,t){return!(t&&"admin"===(null===t||void 0===t?void 0:t.role))}}},context:{type:"string",label:"Context",input:{type:"select",default:"",required:!1},possibilities:function(e,t){var n={};if(t)for(var i=0,r=Object.entries(a);i<r.length;i++){var o=Object(x.a)(r[i],2),s=o[0],l=o[1];"actionlogs"===s||l.access.restricted(t)||(m.d.isOfType(l.label,"function")?n[s]=l.label(t):n[s]=l.label)}return n}},record:{type:"string",label:"Record",input:{type:"text",default:"",required:!0}},catalyst:{type:"string",label:"Catalyst",input:{type:"select",default:"",required:!1},reference:{name:"users",service_query:function(e,t){return t&&"admin"!==(null===t||void 0===t?void 0:t.role)?{pagination:-1,sort:"first_name",fields:"first_name,last_name,email_address,avatar",_id:null===t||void 0===t?void 0:t._id}:{pagination:-1,sort:"first_name",fields:"first_name,last_name,email_address,avatar"}},resolves:{value:"_id",display:{primary:["honorific","first_name","last_name"],secondary:["email_address"],avatar:"avatar"}}},restricted:{display:function(){return!1},input:function(e){return!e||"system"===!e.generator}}},catalyst_ip:{type:"string",label:"Catalyst IP",input:{type:"text",default:"",required:!1},restricted:{display:function(){return!1},input:function(){return!0}}},description:{type:"string",label:"Description",input:{type:"textarea",default:"",required:!1},restricted:{display:function(){return!1},input:function(){return!0}}},action_timestamp:{type:"string",label:"Action timestamp",input:{type:"date",default:"",required:!1},restricted:{display:function(){return!1},input:function(e){return!e||"system"===!e.generator}}}},identity:{primary:["action"],secondary:["action_timestamp"],avatar:!1},dependencies:[],dependants:{}},access:{restricted:function(e){return!e},view:{summary:function(){return!1},all:function(e){return!!e},single:function(e,t){return!(!e||!t)}},actions:{view:{restricted:function(e){return!e},uri:function(e){return("actionlogs/view/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:c.a,label:"View",className:"text-green-500"},create:{restricted:function(e){return!(e&&"admin"===(null===e||void 0===e?void 0:e.role))},uri:"actionlogs/add".toUriWithDashboardPrefix(),Icon:u.a,label:"Add new",className:"text-green-500",isFreeAction:!0},update:{restricted:function(e){return!e||(null===e||void 0===e||e.role,!1)},uri:function(e){return("actionlogs/edit/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:d.a,label:"Edit",className:"text-blue-500"},delete:{restricted:function(e){return!e},uri:function(e){return("actionlogs/delete/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:p.a,className:"text-red-500",label:"Delete",confirmationRequired:!0}}}},at=n(1970),it=n(1971),rt={name:"attachments",label:"Files",icon:Object(h.jsx)(at.a,{}),color:b.b.hex.warning,model:"Attachment",endpoint:"/attachments",cache:!0,views:{single:{default:"cardview",cardview:{avatar:function(e,t){return e?m.b.fileIcon(e.name):m.b.fileIcon("file.unknown")},title:["name"],subtitle:["size","date_attached"],body:["title","caption","alt_text","description","context","record","avatar","mime","location","attached_by","accessibility"]}},listing:{default:"tableview",tableview:{avatar:function(e,t){return e?m.b.fileIcon(e.name):m.b.fileIcon("file.unknown")},title:["name"]}}},scope:{columns:{title:{type:"string",label:"Title",input:{type:"text",default:"",required:!1}},caption:{type:"string",label:"Caption",input:{type:"text",default:"",required:!1}},alt_text:{type:"string",label:"Alternative text",input:{type:"text",default:"",required:!1}},description:{type:"string",label:"Description",input:{type:"textarea",default:"",required:!1}},name:{type:"string",label:"Name",input:{type:"text",default:"",required:!1}},local_name:{type:"string",label:"Local name",input:{type:"text",default:"",required:!1},restricted:{display:function(e,t){return!!t&&"admin"!==(null===t||void 0===t?void 0:t.role)},input:function(e,t){return!0}}},context:{type:"string",label:"Context",input:{type:"text",default:"",required:!1}},record:{type:"string",label:"Record",input:{type:"select",default:"",required:!1},reference:{name:function(e,t){var n="attachments";if(e.context)for(var i=0,r=Object.entries(a);i<r.length;i++){var o=Object(x.a)(r[i],2),s=o[0];if(o[1].model===e.context){n=s;break}}return n},service_query:{pagination:-1},resolves:{value:"_id",display:{primary:function(e,t){var n=[];if(e.context)for(var i=0,r=Object.entries(a);i<r.length;i++){var o=Object(x.a)(r[i],2),s=(o[0],o[1]);if(s.model===e.context){n=s.scope.identity.primary;break}}return n},secondary:function(e,t){var n=[];if(e.context)for(var i=0,r=Object.entries(a);i<r.length;i++){var o=Object(x.a)(r[i],2),s=(o[0],o[1]);if(s.model===e.context){n=s.scope.identity.secondary;break}}return n},avatar:function(e,t){var n=[];if(e.context)for(var i=0,r=Object.entries(a);i<r.length;i++){var o=Object(x.a)(r[i],2),s=(o[0],o[1]);if(s.model===e.context){n=s.scope.identity.avatar;break}}return n}}}}},avatar:{type:"boolean",label:"Avatar",input:{type:"checkbox",default:"",required:!1}},size:{type:"number",label:"Size",input:{type:"number",default:"",required:!1},restricted:{display:function(e,t){return!1},input:function(e,t){return!0}}},mime:{type:"string",label:"Mime",input:{type:"text",default:"",required:!1},restricted:{display:function(e,t){return!1},input:function(e,t){return!0}}},properties:{type:"string",label:"Properties",input:{type:"textarea",default:"",required:!1}},location:{type:"string",label:"Location",input:{type:"radio",default:"local",required:!1},restricted:{display:function(e,t){return!1},input:function(e,t){return!1}},possibilities:{local:"Local",web:"Web"}},path:{type:"string",label:"Path",input:{type:"text",default:"",required:!1},restricted:{display:function(e,t){return!(e&&"local"!==e.location)},input:function(e,t){return!(e&&"local"!==e.location)}}},date_attached:{type:"string",label:"Date created",input:{type:"date",default:"",required:!1},restricted:{display:function(e,t){return!1},input:function(e,t){return!0}}},attached_by:{type:"string",label:"Created by",input:{type:"select",default:"",required:!1},reference:{name:"users",service_query:{pagination:-1,sort:"first_name",fields:"first_name,last_name,email_address,avatar"},resolves:{value:"_id",display:{primary:["first_name","last_name"],secondary:["email_address"],avatar:["avatar"]}}},restricted:{display:function(e,t){return!1},input:function(e,t){return!1}}},accessibility:{type:"string",label:"Accessibility",input:{type:"select",default:"anyone",required:!1},possibilities:{anyone:"Anyone",authorized:"Authorized users",admin:"Administrators",owner:"Owner"},restricted:{display:function(e,t){return!1},input:function(e,t){return!(t&&"admin"===(null===t||void 0===t?void 0:t.role))}}}},identity:{primary:["name"],secondary:["date_attached"],avatar:!1},dependencies:[],dependants:{actionlogs:{column:"record",query:{context:"Attachment"}}}},access:{restricted:function(e){return!e},view:{summary:function(e){return!1},all:function(e){return!!e},single:function(e,t){return!(!e||!t)}},actions:{view:{restricted:function(e){return!e},uri:function(e){return("attachments/view/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:c.a,label:"View",className:"text-green-500"},download:{restricted:function(e){return!1},uri:function(e){return"attachments/download/".concat((null===e||void 0===e?void 0:e._id)||e).toUriApiPrefix()},onClick:function(e,t){window&&window.open("attachments/download/".concat((null===t||void 0===t?void 0:t._id)||t).toUriApiPrefix(),"_blank").focus()},linkProps:{target:"_black"},Icon:it.a,label:"Download",className:"text-purple-500"},update:{restricted:function(e){return!e},uri:function(e){return("attachments/edit/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:d.a,label:"Edit",className:"text-blue-500"},delete:{restricted:function(e){return!e},uri:function(e){return("attachments/delete/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:p.a,className:"text-red-500",label:"Delete",confirmationRequired:!0}}}},ot=n(1972),st={name:"demorequests",label:"Demo Requests",icon:Object(h.jsx)(ot.a,{}),color:"#541400",model:"DemoRequest",endpoint:"/demo-requests",cache:!0,views:{single:{default:"cardview",cardview:{title:["name"],subtitle:["code"],body:["status","customer","expiration_date","value_type","value","use"]}},listing:{default:"tableview",tableview:{avatar:!1,title:["name"]},calendarview:{type:"date",date:["expiration_date"],title:["name","status"]}}},scope:{columns:{requesting_email:{type:"string",label:"Email Address",input:{type:"text",required:!0},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}}},requested_time:{type:"string",label:"Preferred Time",input:{type:"datetime",required:!0},restricted:{display:function(e,t){return!1},input:function(e,t){return!1}}},date_made:{type:"string",label:"Date made",input:{type:"datetime"},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}}},honored:{type:"string",label:"Honored",input:{type:"checkbox",default:!1},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}}},date_honored:{type:"string",label:"Date honored",input:{type:"datetime"},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}}},honored_by:{type:"string",label:"Honored by",input:{type:"select"},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}},reference:{name:"users",service_query:{pagination:-1,sort:"first_name",fields:"first_name,last_name,email_address,avatar",role:"admin"},resolves:{value:"_id",display:{primary:["first_name","last_name"],secondary:["email_address"],avatar:!1}}}},feedback:{type:"string",label:"Feedback",input:{type:"textarea"},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}}}},identity:{primary:["requesting_email"],secondary:[],avatar:!1},dependencies:[],dependants:{}},access:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},view:{summary:function(e){return"admin"===(null===e||void 0===e?void 0:e.role)},all:function(e){return"admin"===(null===e||void 0===e?void 0:e.role)},single:function(e){return"admin"===(null===e||void 0===e?void 0:e.role)}},actions:{view:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("demorequests/view/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:c.a,label:"View",className:"text-green-500"},create:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:"demorequests/add".toUriWithDashboardPrefix(),Icon:u.a,label:"Add new",className:"text-green-500",isFreeAction:!0},update:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("demorequests/edit/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:d.a,label:"Edit",className:"text-blue-500"},delete:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("demorequests/delete/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:p.a,className:"text-red-500",label:"Delete",confirmationRequired:!0}}}},lt={name:"quoterequests",label:"Quote Requests",icon:Object(h.jsx)(ot.a,{}),color:"#541400",model:"ProposalRequest",endpoint:"/quote-requests",cache:!0,views:{single:{default:"cardview",cardview:{title:["name"],subtitle:["code"],body:["status","customer","expiration_date","value_type","value","use"]}},listing:{default:"tableview",tableview:{avatar:!1,title:["name"]},calendarview:{type:"date",date:["expiration_date"],title:["name","status"]}}},scope:{columns:{requesting_email:{type:"string",label:"Email Address",input:{type:"text",required:!0},restricted:{display:function(e,t){return!1},input:function(e,t){return!1}}},institution:{type:"string",label:"Institution",input:{type:"text"},restricted:{display:function(e,t){return!1},input:function(e,t){return!1}}},requirements:{type:"string",label:"Requirements",input:{type:"wysiwyg",props:{rows:20}},restricted:{display:function(e,t){return!1},input:function(e,t){return!1}}},deadline:{type:"string",label:"Deadline",input:{type:"datetime"},restricted:{display:function(e,t){return!1},input:function(e,t){return!1}}},honored:{type:"string",label:"Honored",input:{type:"checkbox",default:!1},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}}},date_honored:{type:"string",label:"Date honored",input:{type:"datetime"},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}}},honored_by:{type:"string",label:"Honored by",input:{type:"select"},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}},reference:{name:"users",service_query:{pagination:-1,sort:"first_name",fields:"first_name,last_name,email_address,avatar",role:"admin"},resolves:{value:"_id",display:{primary:["first_name","last_name"],secondary:["email_address"],avatar:!1}}}},quote:{type:"string",label:"Quote",input:{type:"textarea"},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}}},quote_files:{type:"string",label:"Files",input:{type:"file"},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}}}},identity:{primary:["requesting_email"],secondary:[],avatar:!1},dependencies:[],dependants:{}},access:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)&&"customer"!==(null===e||void 0===e?void 0:e.role)},view:{summary:function(e){return"admin"===(null===e||void 0===e?void 0:e.role)||"customer"===(null===e||void 0===e?void 0:e.role)},all:function(e){return"admin"===(null===e||void 0===e?void 0:e.role)||"customer"===(null===e||void 0===e?void 0:e.role)},single:function(e){return"admin"===(null===e||void 0===e?void 0:e.role)||"customer"===(null===e||void 0===e?void 0:e.role)}},actions:{view:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)&&"customer"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("/quoterequests/view/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:c.a,label:"View",className:"text-green-500"},create:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:"/quoterequests/add".toUriWithDashboardPrefix(),Icon:u.a,label:"Add new",className:"text-green-500",isFreeAction:!0},update:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("/quoterequests/edit/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:d.a,label:"Edit",className:"text-blue-500"},delete:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("/quoterequests/delete/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:p.a,className:"text-red-500",label:"Delete",confirmationRequired:!0}}}},ct=n(326),ut=n(1973),dt={name:"posts",label:"Posts",icon:Object(h.jsx)(ut.a,{}),color:"#001f40",model:"Post",endpoint:"/posts",cache:!0,views:{single:{default:"cardview",cardview:{}},listing:{default:"tableview",tableview:{}}},scope:{columns:{name:{type:"string",label:"Name",input:{type:"hidden",required:!0},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||!(null===t||void 0===t?void 0:t.isAdmin)}}},title:{type:"string",label:"Title",input:{type:"text",required:!0},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||!(null===t||void 0===t?void 0:t.isAdmin)}}},subtitle:{type:"string",label:"Subtitle",input:{type:"text"},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||!(null===t||void 0===t?void 0:t.isAdmin)}}},type:{type:"string",label:"Type",input:{type:"select",default:"blog",required:!0,position:"sidebar"},possibilities:{blog:"Blog",category:"Category",press:"Press",faq:"FAQ","knowledge-base":"Knowledge Base",newsletter:"Newsletter",anouncement:"Anouncement",notice:"Notice",policy:"Policy",agreement:"Agreement",note:"Note",scrumboard:"Scrumboard",academy:"Academy"}},status:{type:"string",label:"Status",input:{type:"select",default:"published",required:!0},possibilities:{"auto-draft":"Auto Draft",draft:"Draft",published:"Published",trash:"trash"}},content:{type:"string",label:"Content",input:{type:"wysiwyg",required:!0,props:{minRows:30}},restricted:{display:function(e,t){return!0},input:function(e,t){return!t||!(null===t||void 0===t?void 0:t.isAdmin)}}},category:{type:"string",label:"Category",input:{type:"select"},reference:{name:"posts",service_query:{type:"category"},resolves:{value:"_id",display:{primary:["title"],secondary:[],avatar:!1}}},restricted:{display:function(e,t){return!1},input:function(e,t){return e?"category"===e.context:!t||!(null===t||void 0===t?void 0:t.isAdmin)}}},slug:{type:"string",label:"Slug",input:{type:"text",required:!1,value:function(e,t){var n;if(e&&(String.isString(e.title)&&(null===(n=e.title)||void 0===n?void 0:n.length)>0))return e.title.variablelize().replaceAll("_","-").replaceAll("-"," ").replace(/[^\w\s]/,"").replaceAll(" ","-");return""},defaultValue:function(e,t){return e&&String.isString(e.title)&&e.title.length>0?null===e||void 0===e?void 0:e.title.variablelize().replaceAll("_","-").replaceAll("-"," ").replace(/[^\w\s]/,"").replaceAll(" ","-"):""}},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||!(null===t||void 0===t?void 0:t.isAdmin)}}},featured_image:{type:"string",label:"Featured Image",input:{type:"file",props:{acceptedFiles:["image/*"],filesLimit:1,dropzoneText:"Click to select Featured Image \n or \n Drag and drop an image file here",dropzoneIcon:"image"}},reference:{name:"attachments",service_query:{},resolves:{value:"_id",display:{primary:["name"],secondary:[],avatar:!1}}}},attachments:{type:["string"],label:"Attachments",input:{type:"file",props:{acceptedFiles:["image/*","video/*","audio/*","application/*"],filesLimit:1,dropzoneText:"Click to select File(s)\n or \n Drag and drop an files here",dropzoneIcon:"attachment"}},reference:{name:"attachments",service_query:{},resolves:{value:"_id",display:{primary:["name"],secondary:[],avatar:!1}}}},access:{type:"string",label:"Access",input:{type:"select",default:"authorized",required:!0},possibilities:{open:"Open to public",authorized:"Authorized users only",author:"Author only",admin:"Administrators only","non-admin":"Non Administrators only",customers:"Customers"}}},identity:{primary:["title"],secondary:[],avatar:!1},dependencies:[],dependants:[]},access:{restricted:function(e){return String.isEmpty(null===e||void 0===e?void 0:e.role)},view:{summary:function(e){return!String.isEmpty(null===e||void 0===e?void 0:e.role)},all:function(e){return!String.isEmpty(null===e||void 0===e?void 0:e.role)},single:function(e){return!String.isEmpty(null===e||void 0===e?void 0:e.role)}},actions:{view:{restricted:function(e){return String.isEmpty(null===e||void 0===e?void 0:e.role)},uri:function(e){return("posts/view/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:c.a,label:"View",className:"text-green-500"},create:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:"posts/add".toUriWithDashboardPrefix(),Icon:u.a,label:"Add new",className:"text-green-500",isFreeAction:!0},update:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("posts/edit/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:d.a,label:"Edit",className:"text-blue-500"},delete:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("posts/delete/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:p.a,className:"text-red-500",label:"Delete",confirmationRequired:!0}}}},pt=n(1974),bt={name:"settings",label:"Settings",icon:Object(h.jsx)(pt.a,{}),color:"#541400",model:"Setting",endpoint:"/settings",cache:!1,views:{single:{default:"cardview",cardview:{}},listing:{default:"tableview",tableview:{}}},scope:{columns:{name:{type:"string",label:"Name",icon:"label",input:{type:"text",default:"",required:!0},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}}},slug:{type:"string",label:"slug",input:{type:"text",default:"",required:!0},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}}},value:{type:"any",label:"Value",input:{type:"text",default:"",required:!0},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}}},private:{type:"boolean",label:"Private",input:{type:"checkbox",default:!0},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}}}},identity:{primary:["name"],secondary:[],avatar:!1},dependencies:[],dependants:{}},access:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},view:{summary:function(e){return"admin"===(null===e||void 0===e?void 0:e.role)},all:function(e){return"admin"===(null===e||void 0===e?void 0:e.role)},single:function(e){return"admin"===(null===e||void 0===e?void 0:e.role)}},actions:{view:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("/settings/view/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:c.a,label:"View",className:"text-green-500"},create:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:"/settings/add".toUriWithDashboardPrefix(),Icon:u.a,label:"Add new",className:"text-green-500",isFreeAction:!0},update:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("/settings/edit/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:d.a,label:"Edit",className:"text-blue-500"},delete:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("/settings/delete/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:p.a,className:"text-red-500",label:"Delete",confirmationRequired:!0}}}},ft=n(1800),jt={name:"preferences",label:"Settings",icon:Object(h.jsx)(ft.a,{}),color:"#541400",model:"Preference",endpoint:"/preferences",cache:!1,views:{single:{default:"cardview",cardview:{}},listing:{default:"tableview",tableview:{}}},scope:{columns:{name:{type:"string",label:"Name",input:{type:"text",default:"",required:!0},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}}},slug:{type:"string",label:"Slug",input:{type:"text",default:"",required:!0},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}}},user:{type:"string",label:"User",input:{type:"select",default:"",required:!0},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}},reference:{name:"users",service_query:{pagination:-1,sort:"first_name",fields:"first_name,last_name,email_address,avatar"},resolves:{value:"_id",display:{primary:["first_name","last_name"],secondary:["email_address"],avatar:!1}}}},value:{type:"any",label:"Value",input:{type:"text",default:"",required:!0},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}}}},identity:{primary:["name"],secondary:[],avatar:!1},dependencies:[],dependants:{}},access:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},view:{summary:function(e){return"admin"===(null===e||void 0===e?void 0:e.role)},all:function(e){return"admin"===(null===e||void 0===e?void 0:e.role)},single:function(e){return"admin"===(null===e||void 0===e?void 0:e.role)}},actions:{view:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("preferences/view/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:c.a,label:"View",className:"text-green-500"},create:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:"preferences/add".toUriWithDashboardPrefix(),Icon:u.a,label:"Add new",className:"text-green-500",isFreeAction:!0},update:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("preferences/edit/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:d.a,label:"Edit",className:"text-blue-500"},delete:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("preferences/delete/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:p.a,className:"text-red-500",label:"Delete",confirmationRequired:!0}}}},mt=n(1975),ht={name:"forms",label:"Forms",icon:Object(h.jsx)(mt.a,{}),color:"#001987",model:"Form",endpoint:"/forms",cache:!1,views:{single:{default:"cardview",cardview:{title:["name"],subtitle:["code"],body:["status","customer","expiration_date","value_type","value","use"]},calendarview:{title:["name"],subtitle:["code"],body:["status","customer","expiration_date","value_type","value","use"]}},listing:{default:"tableview",tableview:{avatar:!1,title:["name"]}}},scope:{columns:{name:{type:"string",label:"Name",input:{type:"hidden",required:!0,default:""},restricted:{display:function(e,t){return!0},input:function(e,t){return!0}}},context:{type:"string",label:"Context",input:{type:"select",required:!0},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}},possibilities:function(e,t){var n={};return t&&Object.entries(a).map((function(e,a){var i=Object(x.a)(e,2),r=i[0],o=i[1];void 0===o.model||"forms"===r||"formvalues"===r||o.access.restricted(t)||(m.d.isOfType(o.label,"function")?n[o.model]=o.label(t):n[o.model]=o.label)})),n}},provider:{type:"string",label:"Provider",input:{type:"select",size:6},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}},possibilities:{local:"Local",kobotoolbox:"Kobotoolbox"}},uid:{type:"string",label:"UID",input:{type:"text",size:6},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}}},filter_by:{type:"string",label:"Filter By",input:{type:"select",size:4,required:!1},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}},possibilities:function(e,t){var n={};return Object.entries(a).map((function(a,i){var r=Object(x.a)(a,2),o=(r[0],r[1]);e.context===o.model&&t&&JSON.isJSON(o)&&Object.entries(o.scope.columns).map((function(e,a){var i=Object(x.a)(e,2),r=i[0],o=i[1];m.d.isOfType(o.label,"function")?n[r]=o.label(t):n[r]=o.label}))})),n}},filter:{type:"string",label:"Filter",input:{type:"select",size:4},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}},possibilities:{is:"Is Equal To",not:"Is Not Equal To",lessthan:"Is Less than",greaterthan:"Is Greater Than"}},filter_value:{type:"string",label:"Filter Value",input:{type:function(e,t){var n=void 0;return Object.entries(a).map((function(a,i){var r=Object(x.a)(a,2),o=(r[0],r[1]);e.context===o.model&&(JSON.isJSON(o.scope.columns[e.filter_by])&&(n=o.scope.columns[e.filter_by].input.type),Function.isFunction(n)&&(n=n(e,t)))})),n},size:4,default:function(e,t){var n=void 0;return Object.entries(a).map((function(a,i){var r=Object(x.a)(a,2),o=(r[0],r[1]);e.context===o.model&&(JSON.isJSON(o.scope.columns[e.filter_by])&&(n=o.scope.columns[e.filter_by].input.default),Function.isFunction(n)&&(n=n(e,t)))})),n}},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}},possibilities:function(e,t){var n=void 0;return Object.entries(a).map((function(a,i){var r=Object(x.a)(a,2),o=(r[0],r[1]);e.context===o.model&&(JSON.isJSON(o.scope.columns[e.filter_by])&&(n=o.scope.columns[e.filter_by].possibilities),Function.isFunction(n)&&(n=n(e,t)))})),n},reference:function(e,t){var n=void 0;return Object.entries(a).map((function(a,i){var r=Object(x.a)(a,2),o=(r[0],r[1]);e.context===o.model&&(JSON.isJSON(o.scope.columns[e.filter_by])&&(n=o.scope.columns[e.filter_by].reference),Function.isFunction(n)&&(n=n(e,t)))})),n}},blueprint:{type:"object",label:"Blueprint",input:{type:"dynamic",mode:"defination",default:{}},restricted:{display:function(e,t){return!0},input:function(e,t){return!1}}},active:{type:"boolean",label:"Active",input:{type:"checkbox",default:!0}}},identity:{primary:["title"],secondary:["context"],avatar:!1},dependencies:[],dependants:{actionlogs:{column:"record",query:{context:"Form"}}}},access:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},view:{summary:function(e){return"admin"===(null===e||void 0===e?void 0:e.role)},all:function(e){return"admin"===(null===e||void 0===e?void 0:e.role)},single:function(e){return"admin"===(null===e||void 0===e?void 0:e.role)}},actions:{view:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("forms/view/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:c.a,label:"View",className:"text-green-500"},create:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:"forms/add".toUriWithDashboardPrefix(),Icon:u.a,label:"Add new",className:"text-green-500",isFreeAction:!0},update:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("forms/edit/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:d.a,label:"Edit",className:"text-blue-500"},delete:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("forms/delete/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:p.a,className:"text-red-500",label:"Delete",confirmationRequired:!0}}}},vt={name:"formvalues",label:"Form Values",icon:Object(h.jsx)(je.a,{}),color:"#001987",model:"FormValue",endpoint:"/forms-values",cache:!1,views:{single:{default:"cardview",cardview:{title:["name"],resolveData:function(e){},subtitle:["code"],body:["status","customer","expiration_date","value_type","value","use"]},calendarview:{title:["name"],subtitle:["code"],body:["status","customer","expiration_date","value_type","value","use"]}},listing:{default:"calendarview",tableview:{avatar:!1,title:["name"]},calendarview:{type:"date",date:["expiration_date"],title:["name","status"]}}},scope:{columns:{start:{type:"string",label:"Start",input:{type:"datetime",required:!0,default:(new Date).format(T.b.dateformats.datetime)}},end:{type:"string",label:"End",input:{type:"datetime",default:(new Date).addDays(1).format(T.b.dateformats.datetime)}},title:{type:"string",label:"Title",input:{type:"text",default:"",required:!0},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}}},description:{type:"string",label:"Description",input:{type:"textarea",default:""}},subject:{type:"string",label:"Subject",input:{type:"text",default:""}},context:{type:"string",label:"Context",input:{type:"text",default:""}},record:{type:"string",label:"Record",input:{type:"text",default:""}},involved_users:{type:["string"],label:"Involved users",input:{type:"multiselect",default:""},reference:{name:"users",service_query:(Ye={pagination:-1},Object(fe.a)(Ye,"pagination",-1),Object(fe.a)(Ye,"sort","first_name"),Object(fe.a)(Ye,"fields","first_name,last_name,email_address,avatar"),Object(fe.a)(Ye,"role","collector"),Ye),resolves:{value:"_id",display:{primary:["first_name","last_name"],secondary:["email_address"],avatar:!1}}}},user:{type:"string",label:"Involved users",input:{type:"select",default:""},reference:{name:"users",service_query:{pagination:-1,sort:"first_name",fields:"first_name,last_name,email_address,avatar"},resolves:{value:"_id",display:{primary:["first_name","last_name"],secondary:["email_address"],avatar:!1}}}},image:{type:"string",label:"Image",input:{type:"file",accepts:["image/*"]},reference:{name:"attachments",service_query:{pagination:-1},resolves:{value:"_id",display:{primary:["name"],secondary:[],avatar:!1}}}},files:(Qe={type:["string"],label:"Files",input:{type:"file",default:""}},Object(fe.a)(Qe,"input",{type:"file",accepts:["image/*","video/*","audio/*","application/*"]}),Object(fe.a)(Qe,"reference",{name:"attachments",service_query:{pagination:-1},resolves:{value:"_id",display:{primary:["name"],secondary:[],avatar:!1}}}),Qe),occured:{type:"boolean",label:"Occured",input:{type:"checkbox",default:!1}},type:{type:"string",label:"Type",input:{type:"radio",default:"event"},possibilities:{event:"Event",task:"Task",schedule:"Schedule"}},all_day:{type:"boolean",label:"All Day",input:{type:"checkbox",default:!0}}},identity:{primary:["title"],secondary:["start"],avatar:!1},dependencies:[],dependants:[]},access:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},view:{summary:function(e){return"admin"===(null===e||void 0===e?void 0:e.role)},all:function(e){return"admin"===(null===e||void 0===e?void 0:e.role)},single:function(e){return"admin"===(null===e||void 0===e?void 0:e.role)}},actions:{view:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("formvalues/view/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:c.a,label:"View",className:"text-green-500"},create:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:"formvalues/add".toUriWithDashboardPrefix(),Icon:u.a,label:"Add new",className:"text-green-500",isFreeAction:!0},update:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("formvalues/edit/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:d.a,label:"Edit",className:"text-blue-500"},delete:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("formvalues/delete/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:p.a,className:"text-red-500",label:"Delete",confirmationRequired:!0}}}},gt=n(1976),Ot={name:"conversations",label:"Conversations",icon:Object(h.jsx)(gt.a,{}),color:"#541400",model:"Conversation",endpoint:"/conversations",cache:!1,views:{single:{default:"cardview",cardview:{title:["name"],subtitle:["code"],body:["status","customer","expiration_date","value_type","value","use"]}},listing:{default:"tableview",tableview:{avatar:!1,title:["name"]}}},scope:{columns:{name:{type:"string",label:"Name",icon:"label",input:{type:"text",default:"",required:!0},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}}},code:{type:"string",label:"Code",icon:"label",input:{type:"text",default:"",required:!0},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}}},status:{type:"string",label:"Status",icon:"label",input:{type:"radio",default:"",required:!0},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}},possibilities:{active:"active",used:"used",expired:"expired"}},customer:{type:"string",label:"Customer",icon:"label",input:{type:"select",default:"",required:!0},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}},reference:{name:"users",service_query:{pagination:-1,sort:"first_name",fields:"first_name,last_name,email_address,avatar",role:"customer"},resolves:{value:"_id",display:{primary:["first_name","last_name"],secondary:["email_address"],avatar:!1}}}},expiration_date:{type:"string",label:"Expiration date",icon:"label",input:{type:"date",default:"",required:!0},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}}},value_type:{type:"string",label:"Value Type",input:{type:"select",default:"",required:!0,size:6},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}},possibilities:{amount:"Amount",percentage:"Percentage"}},value:{type:"string",label:"value",icon:"label",input:{type:"number",default:"1",required:!0,size:6},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}}},use:{type:"string",label:"Use",icon:"label",input:{type:"radio",default:"",required:!0},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}},possibilities:{once:"Once",multiple:"Multiple"}}},identity:{primary:["name"],secondary:["status"],avatar:!1},dependencies:[],dependants:{orders:{column:"coupon",query:{}},actionlogs:{column:"record",query:{context:"Commission"}}}},access:{restricted:function(e){return!e||!((null===e||void 0===e?void 0:e.isAdmin)||(null===e||void 0===e?void 0:e.isCustomer))},view:{summary:function(e){return!1},all:function(e){return!!e&&((null===e||void 0===e?void 0:e.isAdmin)||(null===e||void 0===e?void 0:e.isCustomer))},single:function(e,t){return!!e&&((null===e||void 0===e?void 0:e.isAdmin)||(null===e||void 0===e?void 0:e.isCustomer))}},actions:{view:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("conversations/view/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:c.a,label:"View",className:"text-green-500"},create:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:"conversations/add".toUriWithDashboardPrefix(),Icon:u.a,label:"Add new",className:"text-green-500",isFreeAction:!0},update:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("conversations/edit/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:d.a,label:"Edit",className:"text-blue-500"},delete:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("conversations/delete/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:p.a,className:"text-red-500",label:"Delete",confirmationRequired:!0}}}},xt={name:"messages",label:"Messages",icon:Object(h.jsx)(gt.a,{}),color:"#541400",model:"Message",endpoint:"/messages",cache:!1,views:{single:{default:"cardview",cardview:{title:["name"],subtitle:["code"],body:["status","customer","expiration_date","value_type","value","use"]}},listing:{default:"tableview",tableview:{avatar:!1,title:["name"]}}},scope:{columns:{name:{type:"string",label:"Conversation",input:{type:"select",default:"",required:!0},restricted:{display:function(e,t){return!1},input:function(e,t){return!1}},reference:{name:"conversations",service_query:{},resolves:{value:"_id",display:{primary:["owner"],secondary:["created_on"],avatar:!1}}}},code:{type:"string",label:"Code",input:{type:"text",default:"",required:!0},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}}},status:{type:"string",label:"Status",icon:"label",input:{type:"radio",default:"",required:!0},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}},possibilities:{active:"active",used:"used",expired:"expired"}},customer:{type:"string",label:"Customer",icon:"label",input:{type:"select",default:"",required:!0},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}},reference:{name:"users",service_query:{pagination:-1,sort:"first_name",fields:"first_name,last_name,email_address,avatar",role:"customer"},resolves:{value:"_id",display:{primary:["first_name","last_name"],secondary:["email_address"],avatar:!1}}}},expiration_date:{type:"string",label:"Expiration date",icon:"label",input:{type:"date",default:"",required:!0},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}}},value_type:{type:"string",label:"Value Type",input:{type:"select",default:"",required:!0,size:6},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}},possibilities:{amount:"Amount",percentage:"Percentage"}},value:{type:"string",label:"value",icon:"label",input:{type:"number",default:"1",required:!0,size:6},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}}},use:{type:"string",label:"Use",icon:"label",input:{type:"radio",default:"",required:!0},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}},possibilities:{once:"Once",multiple:"Multiple"}}},identity:{primary:["name"],secondary:["status"],avatar:!1},dependencies:[],dependants:{orders:{column:"coupon",query:{}},actionlogs:{column:"record",query:{context:"Commission"}}}},access:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},view:{summary:function(e){return"admin"===(null===e||void 0===e?void 0:e.role)},all:function(e){return"admin"===(null===e||void 0===e?void 0:e.role)},single:function(e){return"admin"===(null===e||void 0===e?void 0:e.role)}},actions:{view:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("messages/view/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:c.a,label:"View",className:"text-green-500"},create:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:"messages/add".toUriWithDashboardPrefix(),Icon:u.a,label:"Add new",className:"text-green-500",isFreeAction:!0},update:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("messages/edit/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:d.a,label:"Edit",className:"text-blue-500"},delete:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("messages/delete/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:p.a,className:"text-red-500",label:"Delete",confirmationRequired:!0}}}},yt={name:"emails",label:"Emails",icon:Object(h.jsx)(gt.a,{}),color:"#541400",model:"Email",endpoint:"/emails",cache:!1,views:{single:{default:"cardview",cardview:{title:["name"],subtitle:["code"],body:["status","customer","expiration_date","value_type","value","use"]}},listing:{default:"tableview",tableview:{avatar:!1,title:["name"]}}},scope:{columns:{},identity:{primary:["recipient_address"],secondary:["subject"],avatar:!1},dependencies:[],dependants:{actionlogs:{column:"record",query:{context:"Email"}}}},access:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},view:{summary:function(e){return"admin"===(null===e||void 0===e?void 0:e.role)},all:function(e){return"admin"===(null===e||void 0===e?void 0:e.role)},single:function(e){return"admin"===(null===e||void 0===e?void 0:e.role)}},actions:{view:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("emails/view/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:c.a,label:"View",className:"text-green-500"},create:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:"emails/add".toUriWithDashboardPrefix(),Icon:u.a,label:"Add new",className:"text-green-500",isFreeAction:!0},update:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("emails/edit/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:d.a,label:"Edit",className:"text-blue-500"},delete:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("emails/delete/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:p.a,className:"text-red-500",label:"Delete",confirmationRequired:!0}}}},wt=n(1977),kt=new Date,Nt={name:"courses",label:"Courses",icon:Object(h.jsx)(wt.a,{}),color:"#4a148c",model:"Course",endpoint:"/training/courses",cache:!1,views:{single:{default:"cardview",cardview:{resolveData:function(e){return{}}}},listing:{default:"tableview",tableview:{title:["name"]}}},scope:{columns:{title:{type:"string",label:"Title",input:{type:"text",default:"",required:!0},restricted:{display:function(){return!1},input:function(e,t){return!t||!(null===t||void 0===t?void 0:t.isAdmin)}}},description:{type:"string",label:"Description",input:{type:"textarea",default:""},restricted:{display:function(){return!1},input:function(e,t){return!t||!(null===t||void 0===t?void 0:t.isAdmin)}}},instructions:{type:"string",label:"Instructions",input:{type:"textarea",default:""},restricted:{display:function(){return!0},input:function(e,t){return!t||!(null===t||void 0===t?void 0:t.isAdmin)}}},banner:{type:"string",label:"banner",input:{type:"file",accepts:["image/*"]},reference:{name:"attachments",service_query:{pagination:-1},resolves:{value:"_id",display:{primary:["name"],secondary:[],avatar:!1}}}},from:{type:"string",label:"From",input:{type:"date",default:new Date,size:6,props:{maxDate:(new Date).setFullYear(kt.getFullYear()+5),format:"DD/MM/YYYY",margin:"dense"}},restricted:{display:function(){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}}},to:{type:"string",label:"To",input:{type:"date",default:(new Date).setFullYear(kt.getFullYear()+1),size:6,props:{maxDate:(new Date).setFullYear(kt.getFullYear()+10),format:"DD/MM/YYYY",margin:"dense"}},restricted:{display:function(){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}}},materials:{type:["string"],label:"Materials",input:{type:"file",accepts:["image/*","video/*","audio/*","application/*"]},reference:{name:"attachments",service_query:{pagination:-1},resolves:{value:"_id",display:{primary:["name"],secondary:[],avatar:!1}}}},access:{type:"string",label:"Access",input:{type:"select",default:"authenticated_users",required:!0},possibilities:{open:"Open to public",authorized_users:"Authorized users only",author:"Author",trainers:"Trainers only",trainees:"Trainees only",trainers_and_trainees:"Trainers and Trainees only",administrators:"Administrators only",user_role:"Specific User role",user_roles:"Specific User roles",non_adminitrators:"Non administrators only",authenticated_users:"Authenticated users only",password:"Password"},restricted:{display:function(){return!1},input:function(e,t){return!t||!(null===t||void 0===t?void 0:t.isAdmin)}}},trainers:{type:["string"],label:"Trainers",input:{type:"select"},reference:{name:"users",service_query:{pagination:-1,sort:"first_name",fields:"first_name,last_name,email_address,avatar",role:"admin"},resolves:{value:"_id",display:{primary:["first_name","last_name"],secondary:["email_address"],avatar:!1}}}},trainees:{type:["string"],label:"Trainees",input:{type:"select"},reference:{name:"users",service_query:{pagination:-1,sort:"first_name",fields:"first_name,last_name,email_address,avatar",role:"collector"},resolves:{value:"_id",display:{primary:["first_name","last_name"],secondary:["email_address"],avatar:!1}}}},active:{type:"boolean",label:"Active",input:{type:"checkbox",default:!0,required:!1},restricted:{display:function(){return!1},input:function(e,t){return!(t&&"admin"===(null===t||void 0===t?void 0:t.role))}}}},identity:{primary:["title"],secondary:["from","to"],avatar:!1},dependencies:[],dependants:{quizes:{column:"course",query:{}}}},access:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)&&"collector"!==(null===e||void 0===e?void 0:e.role)},view:{summary:function(e){return"admin"===(null===e||void 0===e?void 0:e.role)||"collector"===(null===e||void 0===e?void 0:e.role)},all:function(e){return"admin"===(null===e||void 0===e?void 0:e.role)||"collector"===(null===e||void 0===e?void 0:e.role)},single:function(e){return"admin"===(null===e||void 0===e?void 0:e.role)||"collector"===(null===e||void 0===e?void 0:e.role)}},actions:{view:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("courses/view/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:c.a,label:"View",className:"text-green-500"},create:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:"courses/add".toUriWithDashboardPrefix(),Icon:u.a,label:"Add new",className:"text-green-500",isFreeAction:!0},update:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("courses/edit/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:d.a,label:"Edit",className:"text-blue-500"},delete:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("courses/delete/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:p.a,className:"text-red-500",label:"Delete",confirmationRequired:!0}}}},_t=n(1978),St=new Date,Ct={name:"quizes",label:"Quizes",icon:Object(h.jsx)(_t.a,{}),color:"#4a148c",model:"Quiz",endpoint:"/training/quizes",cache:!1,views:{single:{default:"cardview",cardview:{}},listing:{default:"tableview",tableview:{title:["name"]}}},scope:{columns:{course:{type:"string",label:"Course",input:{type:"select",required:!0},reference:{name:"courses",service_query:{pagination:-1,active:1},resolves:{value:"_id",display:{primary:["title"],secondary:[],avatar:!1}}},restricted:{display:function(){return!1},input:function(e,t){return!t||!(null===t||void 0===t?void 0:t.isAdmin)}}},title:{type:"string",label:"Title",input:{type:"text",default:"",required:!0},restricted:{display:function(){return!1},input:function(e,t){return!t||!(null===t||void 0===t?void 0:t.isAdmin)}}},description:{type:"string",label:"Description",input:{type:"textarea",default:""},restricted:{display:function(){return!1},input:function(e,t){return!t||!(null===t||void 0===t?void 0:t.isAdmin)}}},answers_submission_deadline:{type:"string",label:"Answers submission deadline",input:{type:"date",default:(new Date).setFullYear(St.getFullYear()+1),required:!0,props:{maxDate:(new Date).setFullYear(St.getFullYear()+1),format:"DD/MM/YYYY",margin:"dense"}},restricted:{display:function(){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}}}},identity:{primary:["title"],secondary:[],avatar:!1},dependencies:[],dependants:{questions:{column:"quiz",query:{}},results:{column:"quiz",query:{}}}},access:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)&&"collector"!==(null===e||void 0===e?void 0:e.role)},view:{summary:function(e){return"admin"===(null===e||void 0===e?void 0:e.role)||"collector"===(null===e||void 0===e?void 0:e.role)},all:function(e){return"admin"===(null===e||void 0===e?void 0:e.role)||"collector"===(null===e||void 0===e?void 0:e.role)},single:function(e){return"admin"===(null===e||void 0===e?void 0:e.role)||"collector"===(null===e||void 0===e?void 0:e.role)}},actions:{view:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)&&"collector"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("/quizes/view/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:c.a,label:"View",className:"text-green-500"},create:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:"/quizes/add".toUriWithDashboardPrefix(),Icon:u.a,label:"Add new",className:"text-green-500",isFreeAction:!0},update:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("/quizes/edit/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:d.a,label:"Edit",className:"text-blue-500"},delete:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("/quizes/delete/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:p.a,className:"text-red-500",label:"Delete",confirmationRequired:!0}}}},At=n(1979),Ft=(new Date,{name:"questions",label:"Questions",icon:Object(h.jsx)(At.a,{}),color:"#4a148c",model:"Question",endpoint:"/training/questions",cache:!1,views:{single:{default:"cardview",cardview:{resolveData:function(e){return{}},title:["action"],subtitle:["context"],body:["description","catalyst","generator","record","catalyst_ip","action_timestamp"]}},listing:{default:"tableview",tableview:{title:["name"]}}},scope:{columns:{quiz:{type:"string",label:"Quiz",input:{type:"select",required:!0},reference:{name:"quizes",service_query:function(e,t){return{pagination:-1}},resolves:{value:"_id",display:{primary:["title"],secondary:["description"],avatar:""}}},restricted:{display:function(){return!1},input:function(e,t){return!t||!(null===t||void 0===t?void 0:t.isAdmin)}}},value:{type:"string",label:"Question",input:{type:"textarea",default:"",required:!0},restricted:{display:function(){return!1},input:function(e,t){return!t||!(null===t||void 0===t?void 0:t.isAdmin)}}},type:{type:"string",label:"Type",input:{type:"select",default:"open",required:!0},possibilities:{open:"Open",truth:"True or False",single_choice:"Single Choice",multiple_choice:"Multiple Choice"},restricted:{display:function(){return!1},input:function(e,t){return!t||!(null===t||void 0===t?void 0:t.isAdmin)}}}},identity:{primary:["value"],secondary:[],avatar:!1},dependencies:[],dependants:{answers:{column:"question",query:{}},actionlogs:{column:"record",query:{context:"Question"}}}},access:{restricted:function(e){return String.isEmpty(null===e||void 0===e?void 0:e.role)},view:{summary:function(e){return!String.isEmpty(null===e||void 0===e?void 0:e.role)},all:function(e){return!String.isEmpty(null===e||void 0===e?void 0:e.role)},single:function(e){return!String.isEmpty(null===e||void 0===e?void 0:e.role)}},actions:{view:{restricted:function(e){return String.isEmpty(null===e||void 0===e?void 0:e.role)},uri:function(e){return("questions/view/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:c.a,label:"View",className:"text-green-500"},create:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:"questions/add".toUriWithDashboardPrefix(),Icon:u.a,label:"Add new",className:"text-green-500",isFreeAction:!0},update:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("questions/edit/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:d.a,label:"Edit",className:"text-blue-500"},delete:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("questions/delete/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:p.a,className:"text-red-500",label:"Delete",confirmationRequired:!0}}}}),Pt={name:"answers",label:"Answers",icon:Object(h.jsx)(ae.a,{}),color:"#4a148c",model:"Answer",endpoint:"/training/answers",cache:!1,views:{single:{default:"cardview",cardview:{resolveData:function(e){return{}},title:["action"],subtitle:["context"],body:["description","catalyst","generator","record","catalyst_ip","action_timestamp"]}},listing:{default:"tableview",tableview:{title:["name"]}}},scope:{columns:{value:{type:"string",label:"Answer",input:{type:function(e,t){return JSON.isJSON(e.question)?e.question.input_type:"textarea"},default:"",required:!0},possibilities:function(e,t){var n={};return e&&(String.isString(e.question)||JSON.isJSON(e.question)&&Array.isArray(e.question.choices)&&e.question.choices.map((function(e){String.isString(e)&&(n[e]=e.humanize())}))),n}},question:{type:"string",label:"Question",input:{type:"select",default:"",required:!0},reference:{name:"questions",service_query:function(e,t){return{pagination:-1,p:1}},resolves:{value:"_id",display:{primary:["value"],secondary:[],avatar:""}}},restricted:{display:function(){return!1},input:function(e,t){return!t||!(null===t||void 0===t?void 0:t.isAdmin)}}},user:{type:"string",label:"User",input:{type:"select",default:"",required:!0},reference:{name:"users",service_query:function(e,t){return t&&"admin"!==(null===t||void 0===t?void 0:t.role)?{_id:null===t||void 0===t?void 0:t._id}:{}},resolves:{value:"_id",display:{primary:["first_name","last_name"],secondary:["email_address"],avatar:"avatar"}}},restricted:{display:function(){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}}},evaluation:{type:"number",label:"Evaluation",input:{type:"number",default:0,required:!1},restricted:{display:function(){return!1},input:function(e,t){return!(t&&"admin"===(null===t||void 0===t?void 0:t.role))}}}},identity:{primary:["value"],secondary:["user"],avatar:!1},dependencies:[],dependants:{actionlogs:{column:"record",query:{context:"Commission"}}}},access:{restricted:function(e){return!e},view:{summary:function(){return!1},all:function(e){return!!e},single:function(e,t){return!(!e||!t)}},actions:{view:{restricted:function(e){return!e},uri:function(e){return("answers/view/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:c.a,label:"View",className:"text-green-500"},create:{restricted:function(e){return!(e&&"admin"===(null===e||void 0===e?void 0:e.role))},uri:"answers/add".toUriWithDashboardPrefix(),Icon:u.a,label:"Add new",className:"text-green-500",isFreeAction:!0},update:{restricted:function(e){return!e||(null===e||void 0===e||e.role,!1)},uri:function(e){return("answers/edit/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:d.a,label:"Edit",className:"text-blue-500"},delete:{restricted:function(e){return!e},uri:function(e){return("answers/delete/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:p.a,className:"text-red-500",label:"Delete",confirmationRequired:!0}}}},Dt={name:"results",label:"Results",icon:Object(h.jsx)(ae.a,{}),color:"#4a148c",model:"Result",endpoint:"/training/results",cache:!1,views:{single:{default:"cardview",cardview:{resolveData:function(e){return{}},title:["action"],subtitle:["context"],body:["description","catalyst","generator","record","catalyst_ip","action_timestamp"]}},listing:{default:"tableview",tableview:{title:["name"]}}},scope:{columns:{user:{type:"string",label:"User",input:{type:"select",default:"",required:!0},reference:{name:"users",service_query:function(e,t){return t&&"admin"!==(null===t||void 0===t?void 0:t.role)?{sort:"first_name",fields:"first_name,last_name,email_address,avatar",_id:null===t||void 0===t?void 0:t._id}:{sort:"first_name",fields:"first_name,last_name,email_address,avatar"}},resolves:{value:"_id",display:{primary:["first_name","last_name"],secondary:["email_address"],avatar:"avatar"}}},restricted:{display:function(){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}}},quiz:{type:"string",label:"Quiz",input:{type:"select",default:"",required:!0},reference:{name:"quizzes",service_query:function(e,t){return{}},resolves:{value:"_id",display:{primary:["title"],secondary:[],avatar:""}}},restricted:{display:function(){return!1},input:function(e,t){return!t||!(null===t||void 0===t?void 0:t.isAdmin)}}},evaluation:{type:"number",label:"Evaluation",input:{type:"number",default:0,required:!1},restricted:{display:function(){return!1},input:function(e,t){return!(t&&"admin"===(null===t||void 0===t?void 0:t.role))}}},complete:{type:"boolean",label:"Complete",input:{type:"checkbox"},restricted:{display:function(){return!1},input:function(e,t){return!(t&&"admin"===(null===t||void 0===t?void 0:t.role))}}},sent:{type:"boolean",label:"Sent",input:{type:"checkbox"},restricted:{display:function(){return!1},input:function(e,t){return!(t&&"admin"===(null===t||void 0===t?void 0:t.role))}}}},identity:{primary:["user"],secondary:["quiz"],avatar:!1},dependencies:[],dependants:{}},access:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)&&"collector"!==(null===e||void 0===e?void 0:e.role)},view:{summary:function(e){return"admin"===(null===e||void 0===e?void 0:e.role)||"collector"===(null===e||void 0===e?void 0:e.role)},all:function(e){return"admin"===(null===e||void 0===e?void 0:e.role)||"collector"===(null===e||void 0===e?void 0:e.role)},single:function(e){return"admin"===(null===e||void 0===e?void 0:e.role)||"collector"===(null===e||void 0===e?void 0:e.role)}},actions:{view:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)&&"collector"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("/results/view/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:c.a,label:"View",className:"text-green-500"},create:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:"/results/add".toUriWithDashboardPrefix(),Icon:u.a,label:"Add new",className:"text-green-500",isFreeAction:!0},update:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("/results/edit/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:d.a,label:"Edit",className:"text-blue-500"},delete:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("/results/delete/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:p.a,className:"text-red-500",label:"Delete",confirmationRequired:!0}}}}},326:function(e,t,n){"use strict";var a=n(5),i=n.n(a),r=n(10),o=n(2),s=n(15),l=n(1799),c=n(1795),u=n(1777),d=n(1111),p=n(1112),b=n(1778),f=(n(61),n(1)),j=n.n(f),m=n(67),h=n(48),v=n.n(h),g=n(21),O=n(656),x=n(1798),y=n(1051),w=n.n(y),k=n(18),N=n(26),_=n(78),S=n(35),C=n(0),A=["apiCallRequest","setEmailingCache","clearEmailingCache","closeDialog","openDialog","auth","cache","data"],F=function(e){e.apiCallRequest;var t=e.setEmailingCache,n=e.clearEmailingCache,a=(e.closeDialog,e.openDialog,e.auth),i=(e.cache,e.data),r=Object(s.a)(e,A),l=Object(f.useCallback)((function(){var e;i&&(null===i||void 0===i?void 0:i._id)&&(n(),t("recipient_address",i.email_address),t("recipient_name",i.first_name),t("subject",""),t("content","Hey "+i.first_name+", \n\n\n\n\n"+(null===(e=a.user)||void 0===e?void 0:e.first_name)+"\nRealfield.io"),t("popup_open",!0))}),[i]);return Object(C.jsx)(O.a,Object(o.a)(Object(o.a)({color:"secondary","aria-label":"Send Email"},r),{},{onClick:l,children:Object(C.jsx)(w.a,{fontSize:"inherit"})}))};F.defaultProps={layoutType:"inline"};var P=v()(Object(k.b)((function(e){return{auth:e.auth,cache:e.cache}}),{setEmailingCache:g.Lb,clearEmailingCache:g.kb,closeDialog:g.lb,openDialog:g.ub}),x.a)(F);t.a={name:"users",label:"Users",icon:Object(C.jsx)(l.a,{}),color:"#01579b",model:"User",endpoint:"/users",cache:!0,views:{single:{default:"cardview",cardview:{avatar:"avatar",title:["honorific","first_name","last_name"],subtitle:["email_address"],tags:["status","presence"],body:["phone_number","address","contacts","user_sector","company","job_title","country","region","city","location_type","location","provider","provider_account_id"]}},listing:{default:"tableview",listview:{avatar:!1,resolveData:function(){var e=Object(r.a)(i.a.mark((function e(t){var n,a,r=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>1&&void 0!==r[1]?r[1]:null,n=!(r.length>2&&void 0!==r[2])||r[2],a=[],Array.isArray(t)&&(a=t.map((function(e,t){return{id:null===e||void 0===e?void 0:e._id,icon:n&&e.avatar?null:Object(C.jsx)(c.a,{}),avatar:n&&e.avatar?Object(C.jsx)(_.a,{alt:e.first_name,src:S.a.getAttachmentFileUrl(e.avatar)}):null,title:Object(C.jsx)(N.a,{className:"truncate",component:"p",variant:"body1",children:e.first_name+" "+e.last_name}),body:Object(C.jsxs)(j.a.Fragment,{children:[e.email_address&&Object(C.jsx)(N.a,{component:"p",className:"truncate",variant:"body2",children:e.email_address}),e.role&&Object(C.jsx)(N.a,{component:"p",variant:"body2",children:e.role})]})}}))),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},tableview:{avatar:function(e){},title:["first_name","last_name"]}}},scope:{columns:{honorific:{type:"string",label:"Honorific",input:{type:"text",default:"",required:!1,size:2}},first_name:{type:"string",label:"First name",input:{type:"text",default:"",required:!0,size:5}},last_name:{type:"string",label:"Last name",input:{type:"text",default:"",required:!0,size:5}},email_address:{type:"string",label:"Email address",input:{type:"email",default:"",required:!0}},phone_number:{type:"string",label:"Phone number",icon:"label",input:{type:"phone",default:"",required:!1}},staff_id:{type:"string",label:"Staff ID",icon:"label",input:{type:"text",required:!1}},presence:{type:"string",label:"Presence",input:{type:"radio",default:"online",required:!1},possibilities:{online:"Online",away:"Away",offline:"Offline"},colors:{online:"#4caf50",away:"#ffab00",offline:"#f44336"}},locale:{type:"string",label:"Locale",input:{type:"text",required:!1}},gender:{type:"string",label:"Gender",input:{type:"select",default:"male",required:!0},possibilities:{female:"Female",male:"Male",other:"Other"}},address:{type:"string",label:"address",input:{type:"textarea",default:"",required:!1}},contacts:{type:"string",label:"Other contacts",input:{type:"textarea",default:"",required:!1}},job_title:{type:"string",label:"Job title",icon:"work",input:{type:"text",default:"",required:!1}},country:{type:"string",label:"Country",icon:"folder",input:{type:"select",default:"",required:!0},possibilities:m.a.names()},region:{type:"string",label:"State/Province/Region/County",input:{type:"text",default:"",required:!1}},city:{type:"string",label:"City/Town",input:{type:"text",default:"",required:!1}},company:{type:"string",label:"Company",icon:"folder",input:{type:"text",default:"",required:!1}},user_sector:{type:"string",label:"User sector",icon:"folder",input:{type:"select",default:"",required:!1},possibilities:{academic:"Academic",researcher:"Researcher",public_sector:"Public Sector",private_sector:"Private Sector",ngo:"NGO",individual:"Individual"}},avatar:{type:"string",label:"Avatar",input:{type:"file",props:{acceptedFiles:["image/*"],filesLimit:1,dropzoneText:"Click to select or drag n drop image file here"}},reference:{name:"attachments",service_query:{},resolves:{value:"_id",display:{primary:["name"],secondary:[],avatar:!1}}}},documents:{type:["string"],label:"Documents",input:{type:"file",accepts:["image/*","video/*","audio/*","application/*"]},reference:{name:"attachments",service_query:{},resolves:{value:"_id",display:{primary:["name"],secondary:[],avatar:!1}}}},password:{type:"string",label:"Password",input:{type:"password",default:""},restricted:{display:function(e,t){return!0},input:function(e,t){return!1}}},repeat_password:{type:"string",label:"Repeat Password",input:{type:"password",default:""},restricted:{display:function(e,t){return!0},input:function(e,t){return!1}}},login_attempts:{type:"integer",label:"Login attempts",icon:"folder",input:{type:"number",default:0},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}}},role:{type:"string",label:"Role",input:{type:"select",default:"",required:!0},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}},possibilities:{customer:"Customer",collector:"Collector",admin:"Administrator"}},provider:{type:"string",label:"Provider",input:{type:"select",default:"local",required:!1},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}},possibilities:{local:"Local",google:"Google",facebook:"Facebook",twitter:"Twitter",linkedin:"Linkedin"}},provider_account_id:{type:"string",label:"Provider account id",icon:"folder",input:{type:"text",default:"",required:!1}},status:{type:"string",label:"Status",icon:"folder",input:{type:"select",default:"",required:!0},restrictions:["admin"],possibilities:{pending:"Pending",active:"Active",inactive:"Inactive"}},account_verified:{type:"string",label:"Account verified",icon:"folder",input:{type:"checkbox",default:""},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}}},account_verifacation_code:{type:"string",label:"Account verifacation code",input:{type:"text",default:"",required:!1},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}}},account_verifacation_mode:{type:"string",label:"Account verifacation mode",input:{type:"select",default:""},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}},possibilities:{none:"None",admin:"Admin",email:"Email",sms:"SMS",call:"Call"}},password_reset_code:{type:"string",label:"Password reset code",icon:"folder",input:{type:"text",default:""},restricted:{display:function(e,t){return!1},input:function(e,t){return!t||"admin"!==(null===t||void 0===t?void 0:t.role)}}}},identity:{primary:["honorific","first_name","last_name"],secondary:["email_address"],avatar:"avatar"},dependencies:[],dependants:{commissions:{column:"individual",query:{involvement:"individual"}},teams:{column:"members",query:{}},tracks:{column:"user",query:{}},responses:{column:"submitter",query:{}},orders:{column:"customer",query:{}},invoices:{column:"owner",query:{}},payments:{column:"made_by",query:{}},events:{column:"user",query:{}},attachments:{column:"attached_by",query:{}},answers:{column:"user",query:{}},actionlogs:{column:"catalyst",query:{}}}},access:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},view:{summary:function(e){return"admin"===(null===e||void 0===e?void 0:e.role)},all:function(e){return"admin"===(null===e||void 0===e?void 0:e.role)},single:function(e){return"admin"===(null===e||void 0===e?void 0:e.role)}},actions:{view:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("/users/view/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:u.a,label:"View",className:"text-green-500"},create:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:"/users/add".toUriWithDashboardPrefix(),Icon:d.a,label:"Add new",className:"text-green-500",isFreeAction:!0},update:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("/users/edit/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:p.a,label:"Edit",className:"text-blue-500"},email_user:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return"/".toUriWithDashboardPrefix()},Component:P,className:"purple-text",label:"Email User"},delete:{restricted:function(e){return"admin"!==(null===e||void 0===e?void 0:e.role)},uri:function(e){return("/users/delete/"+(null===e||void 0===e?void 0:e._id)).toUriWithDashboardPrefix()},Icon:b.a,className:"text-red-500",label:"Delete",confirmationRequired:!0}}}}},33:function(e,t,n){"use strict";n.r(t),n.d(t,"extendConfig",(function(){return m})),n.d(t,"getFieldRawConfig",(function(){return x})),n.d(t,"normalizeField",(function(){return w})),n.d(t,"getFuncConfig",(function(){return k})),n.d(t,"getFuncArgConfig",(function(){return N})),n.d(t,"getFieldConfig",(function(){return _})),n.d(t,"getOperatorConfig",(function(){return S})),n.d(t,"getFieldWidgetConfig",(function(){return C}));var a=n(30),i=n(45),r=n(311),o=n.n(r),s=n(768),l=n.n(s),c=n(279),u=n(116),d=n.n(u),p=n(43),b=n(59),f=n(259),j=n.n(f),m=function(e){return e.__extended||(e.settings=o()({},c.a,e.settings),e._fieldsCntByType={},e._funcsCntByType={},e.types=j()(e.types),function(e,t){for(var n in e){h(n,e[n],t)}}(e.types,e),e.fields=j()(e.fields),e.__fieldNames={},v(e.fields,e),e.funcs=j()(e.funcs),g(e.funcs,e),d.a.locale(e.settings.locale.moment),Object.defineProperty(e,"__extended",{enumerable:!1,writable:!1,value:!0})),e};function h(e,t,n){var a=null,r=null;for(var s in t.mainWidget=t.mainWidget||Object.keys(t.widgets).filter((function(e){return"field"!=e&&"func"!=e}))[0],t.widgets){var l=t.widgets[s];l.operators&&(a||(a=[]),a=a.concat(l.operators.slice())),l.defaultOperator&&(r=l.defaultOperator),s==t.mainWidget&&(l=o()({},{widgetProps:t.mainWidgetProps||{}},l)),t.widgets[s]=l}t.valueSources||(t.valueSources=Object.keys(n.settings.valueSourcesInfo));var c,u=Object(i.a)(t.valueSources);try{for(u.s();!(c=u.n()).done;){var d=c.value;"value"==d||t.widgets[d]||(t.widgets[d]={})}}catch(p){u.e(p)}finally{u.f()}!t.operators&&a&&(t.operators=Array.from(new Set(a))),!t.defaultOperator&&r&&(t.defaultOperator=r)}function v(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];for(var i in e)O(e[i],t,[].concat(Object(a.a)(n),[i])),e[i].subfields&&v(e[i].subfields,t,[].concat(Object(a.a)(n),[i]))}function g(e,t){if(e)for(var n in e){var a=e[n];for(var r in a.returnType&&(t._funcsCntByType[a.returnType]||(t._funcsCntByType[a.returnType]=0),t._funcsCntByType[a.returnType]++),a.args)O(a.args[r],t,null,!0);if(a.args){var o,s=Object.keys(a.args),l=!0,c=Object(i.a)(s.reverse());try{for(c.s();!(o=c.n()).done;){var u=o.value,d=a.args[u];!l&&d.isOptional&&delete d.isOptional,d.isOptional||(l=!1)}}catch(p){c.e(p)}finally{c.f()}}a.subfields&&g(a.subfields,t)}}function O(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=null,r=null,s=t.types[e.type],l=e.excludeOperators||[];if("!struct"!=e.type&&"!group"!=e.type){if(!s)return void(e.disabled=!0);for(var c in a||(t._fieldsCntByType[e.type]||(t._fieldsCntByType[e.type]=0),t._fieldsCntByType[e.type]++),e.widgets||(e.widgets={}),a&&(e._isFuncArg=!0),e.mainWidget=e.mainWidget||s.mainWidget,e.valueSources=e.valueSources||s.valueSources,s.widgets){var u=e.widgets[c]||{},d=s.widgets[c]||{};if(!a){var b=e.preferWidgets&&("field"==c||e.preferWidgets.includes(c))||l.length>0;u.operators?(i||(i=[]),i=i.concat(u.operators.filter((function(e){return!l.includes(e)})))):b&&d.operators&&(i||(i=[]),i=i.concat(d.operators.filter((function(e){return!l.includes(e)})))),u.defaultOperator&&(r=u.defaultOperator)}c==e.mainWidget&&(u=o()({},{widgetProps:e.mainWidgetProps||{}},u)),e.widgets[c]=u}a||(!e.operators&&i&&(e.operators=Array.from(new Set(i))),!e.defaultOperator&&r&&(e.defaultOperator=r));var f=["listValues","allowCustomValues","validateValue"];e.fieldSettings||(e.fieldSettings={});for(var j=0,m=f;j<m.length;j++){var h=m[j];e[h]&&(e.fieldSettings[h]=e[h],delete e[h])}e.fieldSettings.listValues&&(e.fieldSettings.listValues=Object(p.k)(e.fieldSettings.listValues,e.type,e.fieldSettings))}var v=y(t,n);v&&(e.fieldName=v),n&&e.fieldName&&(t.__fieldNames[e.fieldName]=n)}var x=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"fields",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"subfields";if(!t)return null;var i=e.settings.fieldSeparator,r=Array.isArray(t)?t:t.split(i),o=e[n];if(!o)return null;for(var s=o,l=null,c=[],u=0;u<r.length;u++){var d=r[u];c.push(d);var p=c.join(i);l=s[p],u<r.length-1&&(l&&l[a]?(s=l[a],c=[]):l=null)}return l},y=function(e,t){if(!t)return null;for(var n,i,r=e.settings.fieldSeparator,o=Object(a.a)(t),s=[];void 0!==(n=o.pop())&&o.length>0;)if(s.unshift(n),(i=x(e,o)).fieldName)return[i.fieldName].concat(s).join(r);return null},w=function(e,t){var n=e.settings.fieldSeparator,a=Array.isArray(t)?t.join(n):t;return e.__fieldNames[a]?e.__fieldNames[a].join(n):a},k=function(e,t){if(!t)return null;var n=x(e,t,"funcs","subfields");return n||null},N=function(e,t,n){var a=k(e,t);if(!a)return null;var i=a.args&&a.args[n]||null;if(!i)return null;var r=e.types[i.type]||{};return l()({},r,i||{},(function(e,t,n,a,i,r){if(Array.isArray(e))return t}))},_=function(e,t){if(!t)return null;if("object"==typeof t&&!t.func&&t.type)return t;if("object"==typeof t&&t.func&&t.arg)return N(e,t.func,t.arg);var n=x(e,t);if(!n)return null;var a=e.types[n.type]||{};return l()({},a,n||{},(function(e,t,n,a,i,r){if(Array.isArray(e))return t}))},S=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!t)return null;var a=e.operators[t];if(n){var i=_(e,n),r=Object(b.l)(e,n,t),s=e.widgets[r]||{},l=(i&&i.widgets?i.widgets[r]:{})||{},c=(s.opProps||{})[t],u=(l.opProps||{})[t],d=o()({},a,c,u);return d}return a},C=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(!t)return null;if(!n&&!a&&"const"!=i)return null;var r=_(e,t);a||(a=Object(b.l)(e,t,n,i));var s=e.widgets[a]||{},l=(r&&r.widgets?r.widgets[a]:{})||{},c=l.widgetProps||{},u=("value"==i||!i)&&r&&r.fieldSettings||{},d=o()({},s,c,u);return d}},339:function(e,t,n){"use strict";var a=n(4),i=n(2),r=n(6),o=n(15),s=n(1),l=n.n(s),c=n(255),u=n.n(c),d=(n(18),n(66)),p=n.n(d),b=(n(738),n(27)),f=n(17),j=n(1955),m=n(2019),h=n(24),v=[{elementType:"geometry",stylers:[{color:"#f5f5f5"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{elementType:"labels.text.stroke",stylers:[{color:"#f5f5f5"}]},{featureType:"administrative.country",stylers:[{visibility:"on"}]},{featureType:"administrative.land_parcel",elementType:"labels.text.fill",stylers:[{color:"#bdbdbd"}]},{featureType:"administrative.locality",stylers:[{visibility:"on"}]},{featureType:"administrative.neighborhood",stylers:[{visibility:"on"}]},{featureType:"administrative.province",stylers:[{visibility:"on"}]},{featureType:"landscape.man_made",stylers:[{visibility:"on"}]},{featureType:"landscape.natural",stylers:[{visibility:"on"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"poi.attraction",stylers:[{visibility:"on"}]},{featureType:"poi.attraction",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"poi.business",stylers:[{visibility:"on"}]},{featureType:"poi.government",stylers:[{visibility:"on"}]},{featureType:"poi.medical",stylers:[{visibility:"on"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{color:"#d7e1d5"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"poi.place_of_worship",stylers:[{visibility:"on"}]},{featureType:"poi.school",stylers:[{visibility:"on"}]},{featureType:"poi.sports_complex",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#ffffff"}]},{featureType:"road.arterial",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"road.highway",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#dadada"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"road.highway.controlled_access",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"transit.station",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"water",stylers:[{visibility:"on"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#c9c9c9"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#a2d9fb"},{visibility:"on"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]}],g=[{featureType:"all",elementType:"labels.text.fill",stylers:[{saturation:36},{color:"#000000"},{lightness:40}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#000000"},{lightness:16}]},{featureType:"all",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:17},{weight:1.2}]},{featureType:"administrative",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"administrative.country",elementType:"geometry.stroke",stylers:[{color:"#6d6d6d"}]},{featureType:"administrative.province",elementType:"geometry",stylers:[{color:"#6e6e6e"}]},{featureType:"administrative.locality",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"administrative.neighborhood",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"landscape.man_made",elementType:"geometry",stylers:[{color:"#383838"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#000000"},{lightness:21},{visibility:"simplified"}]},{featureType:"poi",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"poi.attraction",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"poi.government",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.park",elementType:"all",stylers:[{color:"#363b38"}]},{featureType:"poi.park",elementType:"labels",stylers:[{color:"#707070"}]},{featureType:"poi.place_of_worship",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.school",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.school",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"poi.school",elementType:"labels.icon",stylers:[{visibility:"off"},{saturation:"46"}]},{featureType:"poi.sports_complex",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#161616"},{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:29},{weight:.2}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#141414"},{lightness:18}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#1a1a1a"},{lightness:16}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#000000"},{lightness:19}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#101c11"},{lightness:17}]}],O=n(0),x=["className","onMapLoad","height","zoom","defaultZoom","center","showCurrentPosition","showClientsPositions","styleMode","circles","geojsons","polylines","markers","selectedEntryType","selectedEntry"],y=["infoWindow"],w=["infoWindow"],k=["infoWindow"],N=function(e){return e*Math.PI/180},_=l.a.forwardRef((function(e,t){var n=e.className,l=e.onMapLoad,c=e.height,d=e.zoom,_=e.defaultZoom,S=void 0===_?5:_,C=e.center,A=(e.showCurrentPosition,e.showClientsPositions,e.styleMode),F=e.circles,P=e.geojsons,D=e.polylines,E=e.markers,T=e.selectedEntryType,q=e.selectedEntry,M=(Object(o.a)(e,x),Object(j.a)()),I=Object(f.a)(),R=Object(r.a)(I,2),L=(R[0],R[1],Object(m.a)()),z=Object(s.useRef)(null),V=Object(s.useRef)(null),W=Object(s.useRef)(null),J=Object(s.useRef)([]),B=Object(s.useRef)([]),U=(Object(s.useRef)([]),Object(s.useRef)([])),G=Object(s.useMemo)((function(){var e,t;return{lat:Array.isArray(C)&&2===(null===C||void 0===C?void 0:C.length)?C[0]:(null===C||void 0===C?void 0:C.lat)||(null===C||void 0===C?void 0:C.latitude)||(null===M||void 0===M?void 0:M.latitude)||(null===b.v||void 0===b.v||null===(e=b.v.default_center)||void 0===e?void 0:e.lat),lng:Array.isArray(C)&&2===(null===C||void 0===C?void 0:C.length)?C[1]:(null===C||void 0===C?void 0:C.lng)||(null===C||void 0===C?void 0:C.longitude)||(null===M||void 0===M?void 0:M.longitude)||(null===b.v||void 0===b.v||null===(t=b.v.default_center)||void 0===t?void 0:t.lng)}}),[C]),H=Object(s.useCallback)((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!V.current&&google&&(V.current=new google.maps.InfoWindow({content:""})),V.current&&(V.current.setContent(e),V.current.setPosition(t),V.current.setOptions(Object(i.a)({},n)),V.current.open(z.current))}),[]),K=Object(s.useCallback)((function(){V.current&&V.current.close(),clearTimeout(W.current),W.current=null}),[]),Y=Object(s.useCallback)((function(e){var t,n=null;return(null===(t=google)||void 0===t?void 0:t.maps)&&(null===e||void 0===e?void 0:e.getPath)&&(n=new google.maps.LatLngBounds,e.getPath().forEach((function(e,t){n.extend(new google.maps.LatLng(e.lat(),e.lng()))}))),n}),[]),Q=Object(s.useCallback)((function(e,t){if(z.current){"polyline"===e&&B.current[t]?google&&new google.maps.event.trigger(B.current[t],"click"):"circle"===e&&J.current[t]&&google&&new google.maps.event.trigger(J.current[t],"click")}}),[]),Z=Object(s.useCallback)((function(){if(Array.isArray(J.current)&&(J.current.forEach((function(e){var t;e&&((null===(t=google)||void 0===t?void 0:t.maps)&&(google.maps.event.clearListeners(e,"mouseover"),google.maps.event.clearListeners(e,"mouseout"),google.maps.event.clearListeners(e,"click")),e.setMap&&e.setMap(null))})),J.current=[]),Array.isArray(F)&&google){var e=F.sort((function(e,t){return t.radius-e.radius})).reduce((function(e,t,n){return e[n]=n+1,e}),{});J.current=F.map((function(t,n){var a=t.infoWindow,r=Object(o.a)(t,y),s=new google.maps.Circle(Object(i.a)(Object(i.a)({},r),{},{options:{fillColor:r.color||h.b.hex.default,strokeColor:r.color||h.b.hex.default,strokeOpacity:r.opacity||.2,fillOpacity:.1,strokeWeight:r.strokeWeight||1,zIndex:e[n]}}));return s.setMap(z.current),google.maps.event.addListener(s,"click",(function(e){z.current&&(s.setOptions({fillOpacity:.5}),W.current=setTimeout((function(){return H(a?u.a.renderToStaticMarkup(a):r.title?r.title:"",s.center)}),100),z.current.fitBounds(s.getBounds()))})),google.maps.event.addListener(s,"mouseover",(function(e){s.setOptions({fillOpacity:.5}),W.current=setTimeout((function(){return H(a?u.a.renderToStaticMarkup(a):r.title?r.title:"",s.center)}),1e3)})),google.maps.event.addListener(s,"mouseout",(function(e){s.setOptions({fillOpacity:.01}),K()})),s})),J.current.length>0&&J.current[0].getBounds&&z.current&&z.current.fitBounds(J.current[0].getBounds())}}),[F]),X=Object(s.useCallback)((function(){Array.isArray(B.current)&&(B.current.forEach((function(e){var t;e&&((null===(t=google)||void 0===t?void 0:t.maps)&&(google.maps.event.clearListeners(e,"mouseover"),google.maps.event.clearListeners(e,"mouseout"),google.maps.event.clearListeners(e,"click")),e.setMap&&e.setMap(null))})),B.current=[]),Array.isArray(D)&&google&&(B.current=D.map((function(e,t){var n=e.infoWindow,a=Object(o.a)(e,w),r=new google.maps.Polyline(Object(i.a)({options:{fillColor:a.fillColor||a.color||h.b.hex.default,strokeColor:a.strokeColor||a.color||h.b.hex.default,strokeOpacity:1,fillOpacity:1,strokeWeight:1.5,zIndex:1}},a));return r.setMap(z.current),google.maps.event.addListener(r,"click",(function(e){var t;if(r.setOptions({strokeOpacity:1,fillOpacity:1,strokeWeight:5,fillColor:h.b.hex.accent,strokeColor:h.b.hex.accent}),z.current){var i=Y(r);z.current.fitBounds(i)}H((n?u.a.renderToStaticMarkup(n):a.title?a.title:"")+((null===e||void 0===e?void 0:e.latLng)?"<br/> Crow fleight distance from Start: "+function(e,t,n,a){var i=N(n-e),r=N(a-t),o=(e=N(e),n=N(n),Math.sin(i/2)*Math.sin(i/2)+Math.sin(r/2)*Math.sin(r/2)*Math.cos(e)*Math.cos(n));return 2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o))*6371}(e.latLng.lat(),e.latLng.lng(),a.path[0].lat,a.path[0].lng).toFixed(2)+" Km":""),(null===e||void 0===e?void 0:e.latLng)||(null===r||void 0===r?void 0:r.latLngs[(null===r||void 0===r||null===(t=r.latLngs)||void 0===t?void 0:t.length)-1]))})),google.maps.event.addListener(r,"mouseout",(function(e){r.setOptions({fillOpacity:1,strokeWeight:1.5,fillColor:a.fillColor||a.color||h.b.hex.default,strokeColor:a.strokeColor||a.color||h.b.hex.default}),K()})),r})))}),[D]),$=Object(s.useCallback)((function(){Array.isArray(U.current)&&(U.current.forEach((function(e){var t;e&&((null===(t=google)||void 0===t?void 0:t.maps)&&(google.maps.event.clearListeners(e,"mouseover"),google.maps.event.clearListeners(e,"mouseout"),google.maps.event.clearListeners(e,"click")),e.setMap&&e.setMap(null))})),U.current=[]),Array.isArray(D)&&google&&(U.current=E.map((function(e,t){var n=e.infoWindow,a=Object(o.a)(e,k),i=new google.maps.Marker(a);return i.setMap(z.current),google.maps.event.addListener(i,"click",(function(e){z.current&&z.current.fitBounds(i.getBounds())})),n&&(google.maps.event.addListener(i,"mouseover",(function(e){W.current=setTimeout((function(){return H(n?u.a.renderToStaticMarkup(n):a.title?a.title:"",i.center)}),1e3)})),google.maps.event.addListener(i,"mouseout",(function(e){K()}))),i})))}),[E]),ee=Object(s.useCallback)((function(){}),[P,T,q]),te=(Object(s.useCallback)((function(e){z.current=e,Array.isArray(J.current)&&J.current.forEach((function(e){e.setMap(z.current)})),Array.isArray(B.current)&&B.current.forEach((function(e){e.setMap(z.current)})),Array.isArray(U.current)&&U.current.forEach((function(e){e.setMap(z.current)}))}),[T,q]),Object(s.useCallback)((function(e){z.current=e,Function.isFunction(l)&&l(e),Z(),X(),$(),ee()}),[l])),ne=Object(f.h)({center:G,zoom:d||S,styles:"dark"===A?g:v,onMapLoad:te});return Object(f.d)((function(){Z()}),[F]),Object(f.d)((function(){X()}),[D]),Object(f.d)((function(){$()}),[E]),Object(f.d)((function(){ee()}),[P]),Object(f.d)((function(){Q(T,q)}),[T,q]),Object(f.c)((function(){})),Object(f.r)((function(){clearTimeout(W.current),W.current=null})),Object(O.jsx)("div",{ref:ne,className:p()(Object(a.a)({"m-0 p-0 relative":!0},n,!!n)),style:{height:c||.75*L.height}})}));_.defaultProps={height:1200,styleMode:"light"};t.a=l.a.memo(_)},35:function(e,t,n){"use strict";var a=n(4),i=n(5),r=n.n(i),o=n(15),s=n(10),l=n(2),c=n(289),u=n.n(c),d=n(1109),p=n(1e3),b=(n(746),n(1258),n(754)),f=n(27),j=(n(21),n(55)),m=["profile","token"],h=["profile","token"],v=["profile","token"],g=["cache"],O=["cache","interceptors"],x=["message","msg"],y=["data","status","headers"],w=f.g.api.endsWith("/")?f.g.api:f.g.api+"/",k=(f.g.host,Object(p.setupCache)({maxAge:864e5,readHeaders:!0})),N=function(){var e,t,n=!1,i={cache:!0,baseURL:w,withCredentials:!1,headers:{"x-client-id":f.h,"x-client-secret":f.i,Authorization:""}},c={},p=Object.toJSON(i);function N(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=w;return String.isEmpty(e)||(e=(e=e.trim()).startsWith(w)?e.replace(w,""):e.startsWith("/")?e.substring(1):e),t+e}function _(){var e=new d.a,t=e.get(f.f),n=e.get(f.f+"_type"),a=e.get(f.f+"_refresh_token");return t&&n?{access_token:t,token_type:n,refresh_token:a}:null}function S(){return c}function C(e){var t=e||c;return A(t)?{Authorization:((null===t||void 0===t?void 0:t.token_type)||"")+" "+((null===t||void 0===t?void 0:t.access_token)||"")}:{Authorization:""}}function A(e){var t=!1;if(JSON.isJSON(e)&&!String.isEmpty(e.access_token)||String.isString(e)&&!String.isEmpty(e)){var n=JSON.isJSON(e)?e.access_token:e;try{var a=Object(b.a)(n);t=Boolean(a)}catch(i){}}return t}function F(e){A(e)?(c=e,p=JSON.merge(p,{headers:{Authorization:"".concat(e.token_type," ").concat(e.access_token)}}),u.a.defaults.headers.common.Authorization="".concat(e.token_type," ").concat(e.access_token),t&&(t.defaults.headers.common.Authorization="".concat(e.token_type," ").concat(e.access_token),t.interceptors.request.use((function(t){return t.headers.Authorization="".concat(e.token_type," ").concat(e.access_token),t}))),j.a.emit("access-token-set",e)):(c={},u.a.defaults.headers.common.Authorization="",p=JSON.merge(p,{headers:{Authorization:""}}),t&&(t.defaults.headers.common.Authorization=""),j.a.emit("access-token-unset",e))}function P(){return A(S())}function D(){return P()}function E(e){return new Promise((function(n,a){if(t)t.post("/auth/google-one-tap",Object(l.a)(Object(l.a)({},e),{},{client_id:f.h,client_secret:f.i,grant_type:"password"})).then(function(){var e=Object(s.a)(r.a.mark((function e(t){var i,s,c,d,p,b;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=(null===(i=t.body)||void 0===i?void 0:i.data)||(null===(s=t.data)||void 0===s?void 0:s.data)||{},d=c.profile,p=c.token,Object(o.a)(c,m),b={token:p,profile:d},console.log("/auth/google-one-tap resObj",b),F(p),!JSON.isJSON(d)||!JSON.isEmpty(d)){e.next=8;break}return e.next=7,u.a.get(N("/profile"),{headers:Object(l.a)({},C(p))}).then((function(e){var t,n;return(null===(t=e.body)||void 0===t?void 0:t.data)||(null===(n=e.data)||void 0===n?void 0:n.data)})).catch((function(e){console.error(e)}));case 7:b.profile=e.sent;case 8:JSON.isEmpty(b.profile)||JSON.isEmpty(b.token)?a(Object(l.a)({message:"Incomplete result"},b)):(j.a.emit("login",b),n(b));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.error(e),a(e)}));else{a({msg:"Authenticate with google Request Failed. Invalid Request service instance",message:"Authenticate with google  Request Failed. Invalid Request service instance",body:null,code:400})}}))}function T(e){return new Promise((function(n,a){if(t)t.post("/auth/google",Object(l.a)(Object(l.a)({},e),{},{client_id:f.h,client_secret:f.i,grant_type:"password"})).then(function(){var e=Object(s.a)(r.a.mark((function e(t){var i,s,c,d,p,b;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=(null===(i=t.body)||void 0===i?void 0:i.data)||(null===(s=t.data)||void 0===s?void 0:s.data)||{},d=c.profile,p=c.token,Object(o.a)(c,h),b={token:p,profile:d},F(p),!JSON.isJSON(d)||!JSON.isEmpty(d)){e.next=7;break}return e.next=6,u.a.get(N("/profile"),{headers:Object(l.a)({},C(p))}).then((function(e){var t,n;return(null===(t=e.body)||void 0===t?void 0:t.data)||(null===(n=e.data)||void 0===n?void 0:n.data)})).catch((function(e){console.error(e)}));case 6:b.profile=e.sent;case 7:JSON.isEmpty(b.profile)||JSON.isEmpty(b.token)?a(Object(l.a)({message:"Incomplete result"},b)):(j.a.emit("login",b),n(b));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.error(e),a(e)}));else{a({msg:"Authenticate with google Request Failed. Invalid Request service instance",message:"Authenticate with google  Request Failed. Invalid Request service instance",body:null,code:400})}}))}function q(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return new Promise((function(a,i){if(t)if(D(n)||D(!n)){var c={token:S(),profile:false};n&&D(!1)?u.a.get(N("/profile")).then((function(e){var t,n,i=(null===(t=e.body)||void 0===t?void 0:t.data)||(null===(n=e.data)||void 0===n?void 0:n.data);JSON.isEmpty(i)||(c.profile=i,j.a.emit("login",c)),a(c)})).catch((function(e){i(e)})):(j.a.emit("login",c),a(c))}else t.post("login",JSON.merge(e,{client_id:f.h,client_secret:f.i,grant_type:"password"})).then(function(){var e=Object(s.a)(r.a.mark((function e(t){var n,s,c,u,d,p,b;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("login res",t),c=(null===(n=t.body)||void 0===n?void 0:n.data)||(null===(s=t.data)||void 0===s?void 0:s.data)||{},u=c.profile,d=c.token,p=Object(o.a)(c,v),b={token:d||p,profile:u},F(d),JSON.isEmpty(b.profile)||JSON.isEmpty(b.token)?i(Object(l.a)({message:"Incomplete result"},b)):(j.a.emit("login",b),a(b));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.error(e),i(e)}));else{i({msg:"Login Request Failed. Invalid Request service instance",message:"Login Request Failed. Invalid Request service instance",body:null,code:400})}}))}function M(){return new Promise((function(e,t){var n=S();F(null),j.a.emit("logout",{token:n,user:null}),e({})}))}function I(){return new Promise((function(e,t){var n=S();F(null),j.a.emit("logout",{token:n,user:null}),e({})}))}function R(){return new Promise((function(e,n){t&&current_access_token&&t.get("logout/others",{params:{access_token:current_access_token}}).then((function(t){e(t)})).catch((function(t){e(Object(l.a)(Object(l.a)({},t),{},{error:!0}))})),e({})}))}function L(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n=n||t;var a=String.isString(e)?e.trim().endsWith("/")?e.trim().substring(0,e.trim().length):e.trim():void 0;return n&&!String.isEmpty(a)?{getRecords:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.get(a,{params:e})},getRecordsCount:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.get(a+"/count",{params:e})},getAggregatesCount:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.get(a+"/count/aggregates",{params:e})},getRecordById:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n.get(a+"/"+e,{params:t})},create:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n.post(a,e,{params:t})},update:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.post(a+"/"+e,t,{params:i})},deleteRecordById:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n.delete(a+"/"+e,{params:t})}}:{}}function z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=JSON.merge(i,p,e),n=t.cache,a=Object(o.a)(t,g),r=u.a.create(n?Boolean.isBoolean(n)?Object(l.a)(Object(l.a)({},a),{},{adapter:k.adapter}):n.adapter?Object(l.a)(Object(l.a)({},a),n):Object(l.a)({},a):Object(l.a)({},a));return r}function V(e){return N("/attachments/download/"+(JSON.isJSON(e)&&"_id"in e?e._id:e))}function W(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=JSON.merge(i,e,p),a=n.cache,r=(n.interceptors,Object(o.a)(n,O)),s=u.a.create(a?Boolean.isBoolean(a)?Object(l.a)(Object(l.a)({},r),{},{adapter:k.adapter}):a.adapter?Object(l.a)(Object(l.a)({},r),a):Object(l.a)({},r):Object(l.a)({},r));function d(e){var t,n=Object(l.a)(Object(l.a)({},e),{},{msg:"Request Failed",message:"Request Failed",body:null,code:400});return e.response?(n=Object(l.a)(Object(l.a)(Object(l.a)({},e),e.response),{},{code:e.response.status,msg:e.response.statusText,message:e.response.statusText,body:e.response.data}),e.response.data&&(e.response.data.message||e.response.data.msg||e.response.data.error)&&(n.msg=e.response.data.message||e.response.data.msg||e.response.data.error,n.message=e.response.data.message||e.response.data.msg||e.response.data.error)):e.request&&(n=Object(l.a)(Object(l.a)({},e),{},{code:400,msg:"Request Failed. "+e.message,message:"Request Failed. "+e.message,body:null})),j.a.emit("api-request-error",n),null===(t=n)||void 0===t||t.code,Promise.reject(n)}function b(e){var t=e.data,n=t.message,a=t.msg,i=Object(o.a)(t,x),r=e.status,s=e.headers,c=Object(o.a)(e,y),u=n||a||"Success",d=Object(l.a)(Object(l.a)({},c),{},{message:u,body:i,code:r,status:r,headers:s});return j.a.emit("api-request-complete",d),Promise.resolve(d)}function f(e){var t,n,a,i,r=u.a.CancelToken,o=null!==(t=null===e||void 0===e?void 0:e.timeout)&&void 0!==t&&t;(e.cancelToken&&(r=e.cancelToken),o)&&(e.cancelOnTimeout=o,e.cancelToken=null===(n=r)||void 0===n||null===(a=n.source())||void 0===a?void 0:a.token,e.cancelUUID=String.uuid(),e.cancelTokenSource=null===(i=r)||void 0===i?void 0:i.source());return e.headers=Object(l.a)(Object(l.a)({},e.headers),C(c)),j.a.emit("api-request-attempt",e),e}return j.a.on("api-request-attempt",(function(e){var t=e.detail,n=t.cancelOnTimeout,a=t.cancelUUID,i=(t.cancelToken,t.cancelTokenSource),r=t.timeout,o=void 0;if(n>0&&Function.isFunction(null===i||void 0===i?void 0:i.cancel)){var s=Number.parseNumber(r,3e4),l=null,c=null,u=function(){l&&l.remove(),c&&c.remove()};l=j.a.on("api-request-error",(function(e){var t,n;e.detail;a===(null===(t=data)||void 0===t||null===(n=t.config)||void 0===n?void 0:n.cancelUUID)&&(clearTimeout(o),u())})),c=j.a.on("api-request-complete",(function(e){var t,n=e.detail;a===(null===n||void 0===n||null===(t=n.config)||void 0===t?void 0:t.cancelUUID)&&(clearTimeout(o),u())})),o=setTimeout((function(){j.a.emit("api-request-timeout",t),i.cancel(),u()}),s)}})),s.interceptors.request.use((function(e){return f(e)}),(function(e){return d(e)})),s.interceptors.response.use((function(e){return b(e)}),(function(e){return d(e)})),s.getAttachmentFileUrl=V,s.upload=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s.post("/attachments/upload",e,t)},s.isolated=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return z(e)},s.endpoint=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/";return N(e)},s.isAccessTokenValid=function(e){return A(e)},s.getAuthCookies=function(){return _()},s.getAccessToken=function(){return S()},s.setAccessToken=function(e){return F(e)},s.accessTokenSetAndValid=function(){return P()},s.getAuthorizationHeader=function(){return C()},s.getContextRequests=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return L(e,t)},s.isUserAuthenticated=function(){return D()},s.login=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return q(e,t)},s.proceedWithGoogleOneTap=E,s.proceedWithGoogle=T,s.logout=function(){return M()},s.logoutAll=function(){return I()},s.logoutOthers=function(){return R()},s.profile=function(e){return s.get("profile",{params:e})},s.update_profile=function(e){return s.post("profile",e)},s.signup=function(e){return s.post("signup",e)},s.forgotPassword=function(e){return s.post("forgot-password",e)},s.forgot_password=function(e){return s.post("forgot-password",e)},s.resetPassword=function(e){return s.post("reset-password",e)},s.reset_password=function(e){return s.post("reset-password",e)},s.verifyAccount=function(e){return s.post("verify-account",e)},s.verify_account=function(e){return s.post("verify-account",e)},s.get_access_token=function(e){return s.get("token",{params:e})},s.refreshAuthToken=function(e){return s.post("refresh-token",e)},s.refresh_auth_token=function(e){return s.post("refresh-token",e)},t=s,s}return e={getInstance:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t&&n||(W(e),n=!0),t},destroyInstance:function(){return n=!1,t=void 0},isolated:z,endpoint:N},Object(a.a)(e,"isolated",z),Object(a.a)(e,"isAccessTokenValid",A),Object(a.a)(e,"accessTokenSetAndValid",P),Object(a.a)(e,"getAuthCookies",_),Object(a.a)(e,"getAccessToken",S),Object(a.a)(e,"setAccessToken",F),Object(a.a)(e,"getAuthorizationHeader",C),Object(a.a)(e,"getContextRequests",L),e}();t.a=N.getInstance()},370:function(e,t,n){"use strict";var a=n(2),i=n(30),r=n(5),o=n.n(r),s=n(10),l=n(6),c=n(15),u=n(1820),d=n(1825),p=n(1817),b=n(1),f=n.n(b),j=n(365),m=n.n(j),h=n(17),v=n(1779),g=n(0),O=["className","disabled","multiple","loading","onChange","label","required","variant","margin","size","max","excludeValidation","min","validate","validator","onValidityChange","helperText","onOpen","onClose","touched","invalid","isClearable","error","value","options","freeSolo","onFocus","onBlur"];function x(e){var t=e.className,n=e.disabled,r=e.multiple,j=e.loading,x=e.onChange,y=e.label,w=e.required,k=e.variant,N=e.margin,_=e.size,S=(e.max,e.excludeValidation,e.min,e.validate,e.validator,e.onValidityChange,e.helperText),C=e.onOpen,A=e.onClose,F=(e.touched,e.invalid,e.isClearable,e.error),P=e.value,D=e.options,E=e.freeSolo,T=(e.onFocus,e.onBlur,Object(c.a)(e,O)),q=Object(h.p)({open:!1,error:!1,invalid:!1,disabled:!1,loading:!1}),M=Object(l.a)(q,3),I=M[0],R=M[1],L=M[2],z=Object(v.a)(),V=Object(b.useRef)([]),W=Object(b.useRef)([]),J=function(){var e=Object(s.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Array.isArray(t)?t:[],!Function.isFunction(t)){e.next=5;break}return e.next=4,Promise.all([t()]).then((function(e){return e[0]})).catch((function(e){return R({loading:!1,error:(null===e||void 0===e?void 0:e.toString)?e.toString():JSON.stringify(e)}),[]}));case 4:n=e.sent;case 5:if(String.isString(t)&&!String.isEmpty(t))try{n=JSON.parse(t)}catch(F){console.log(" error",F),R({error:(null===F||void 0===F?void 0:F.toString)?F.toString():JSON.stringify(F)})}return JSON.isJSON(t)&&(n=Object.entries(t).reduce((function(e,t){var n=Object(l.a)(t,2),a=n[0],i=n[1];return e.concat([{value:a,label:i}])}),[])),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=Object(b.useCallback)((function(e){return new Promise((function(t,n){var a=[],o=[];Array.isArray(e)?o=Object(i.a)(e):e&&!Array.isArray(e)&&(o=[e]),a=V.current.reduce((function(e,t){if(JSON.isJSON(t)){var n=Object.values(t);o.map((function(a){(Object.areEqual(t,a)||-1!==n.indexOf(a))&&e.push(t)}))}else o.map((function(n){Object.areEqual(t,n)&&e.push(t)}));return e}),[]),r||(a=a.length>0?a[0]:V.current[0]||null),t(a)}))}),[r]),U=Object(b.useCallback)((function(){Function.isFunction(C)&&C()}),[C]),G=Object(b.useCallback)((function(e,t,n){if(Function.isFunction(x))if(x.length>1)x(e,t,n);else{var a=(null===t||void 0===t?void 0:t.value)||t;r?(a=Array.isArray(P)?P.concat([(null===t||void 0===t?void 0:t.value)||t]):[(null===t||void 0===t?void 0:t.value)||t],W.current=Array.isArray(W.current)?W.current.concat([t]):[t]):W.current=t,x(a)}}),[x,r,P]),H=Object(b.useCallback)((function(){L().open&&R({open:!1}),Function.isFunction(A)&&A()}),[A]);Object(h.d)((function(){J(D).then((function(e){V.current=e,z(),R({error:!1}),B(P).then((function(e){W.current=e,z()})).catch((function(e){R({error:(null===e||void 0===e?void 0:e.toString)?e.toString():JSON.stringify(e)})}))})).finally((function(){return z()}))}),[D]),Object(h.d)((function(){B(P).then((function(e){W.current=e,z()}))}),[P]),Object(h.c)((function(){J(D).then((function(e){V.current=e,z(),B(P).then((function(e){W.current=e,z()})).catch((function(e){R({error:(null===e||void 0===e?void 0:e.toString)?e.toString():JSON.stringify(e)})}))})).catch((function(e){R({error:(null===e||void 0===e?void 0:e.toString)?e.toString():JSON.stringify(e)})}))}));var K,Y=Object(b.useMemo)((function(){return!!w&&(E&&String.isEmpty(W.current)||!r&&!W.current||r&&Array.isArray(W.current)&&0===W.current.length)}),[w,E,r]);return Object(g.jsx)(d.a,Object(a.a)(Object(a.a)({className:"flex-1 my-0"+(t?" "+t:""),multiple:r,margin:N,size:_,filterSelectedOptions:!0,getOptionLabel:function(e){if(JSON.isJSON(e))return e.label?e.label:"";for(var t="",n=0;n<V.current.length;n++)if(V.current[n].value===e||V.current[n].value===(null===e||void 0===e?void 0:e.value)){t=V.current[n].label;break}return t},getOptionSelected:function(e,t){return!(!e||!t)&&e.value==t.value},renderInput:function(e){return Object(g.jsx)(u.a,Object(a.a)(Object(a.a)({label:y,variant:k||"filled",margin:N,size:_},e),{},{InputLabelProps:Object(a.a)(Object(a.a)({},e.InputLabelProps),{},{shrink:!!(r&&W.current.length>0)||(JSON.isJSON(e.InputLabelProps)?e.InputLabelProps.shrink:I.open)}),inputProps:Object(a.a)(Object(a.a)({},e.inputProps),{},{autoComplete:String.uid(11),required:Y,value:E&&String.isString(W.current)?W.current:e.inputProps.value,onBlur:function(t){t.persist(),E?(K||(K=m()((function(){var n=t.target.value;try{JSON.stringify(V.current);W.current=n,e.inputProps.onBlur(t)}catch(a){}}),300)),K()):e.inputProps.onBlur(t)}}),InputProps:Object(a.a)(Object(a.a)({},e.InputProps),{},{autocomplete:"none",endAdornment:Object(g.jsx)(f.a.Fragment,{children:j?Object(g.jsx)(p.a,{color:"inherit",size:"1.2rem"}):e.InputProps.endAdornment})}),error:Boolean(F),helperText:S,onFocus:function(){return R({open:!0})},onBlur:function(){return R({open:!1})},required:w,disabled:n}))},fullWidth:!0},T),{},{onChange:G,open:I.open,onOpen:U,onClose:H,value:E&&String.isString(W.current)?null:W.current,options:V.current,loading:I.loading||j,freeSolo:E}))}x.defaultProps={multiple:!1,isClearable:!0,variant:"filled",label:"Select",margin:"dense",size:"small",options:[],loading:!1,disabled:!1,value:void 0},t.a=f.a.memo(x)},380:function(e,t,n){"use strict";var a={};n.r(a),n.d(a,"queryBuilderFormat",(function(){return Nt})),n.d(a,"jsonLogicFormat",(function(){return Pt})),n.d(a,"mongodbFormat",(function(){return Wt})),n.d(a,"sqlFormat",(function(){return Zt})),n.d(a,"queryString",(function(){return rn})),n.d(a,"elasticSearchFormat",(function(){return jn}));var i={};n.r(i),n.d(i,"getTree",(function(){return mn})),n.d(i,"loadTree",(function(){return hn})),n.d(i,"checkTree",(function(){return vn})),n.d(i,"isValidTree",(function(){return gn})),n.d(i,"isImmutableTree",(function(){return On})),n.d(i,"isTree",(function(){return xn})),n.d(i,"isJsonLogic",(function(){return K.h})),n.d(i,"loadFromJsonLogic",(function(){return _n}));var r={};n.r(r),n.d(r,"validateTree",(function(){return Y.a})),n.d(r,"simulateAsyncFetch",(function(){return Jn})),n.d(r,"uuid",(function(){return U.a})),n.d(r,"ConfigUtils",(function(){return G})),n.d(r,"DefaultUtils",(function(){return J}));var o=n(4),s=n(5),l=n.n(s),c=n(10),u=n(6),d=n(2),p=n(11),b=n(12),f=n(31),j=n(19),m=n(20),h=n(349),v=n(13),g=n(7),O=n(1),x=n.n(O),y=n(135),w=n.n(y),k=n(18),N=n(48),_=n.n(N),S=n(2017),C=n(772),A=n.n(C),F=n(308),P=n.n(F),D=n(309),E=n.n(D),T=n(771),q=n.n(T),M=n(97),I=n(93),R=n(15),L=(n(1443),n(45)),z=n(49),V=n.n(z),W=n(52),J=n(92),B=n(62),U=n(132),G=n(33),H=n(59),K=n(43),Y=n(270),Q=n(112),Z=n.n(Q),X=n(184),$=n.n(X),ee=function(e,t,n,a,i){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=Object(W.i)(e),s=t.push(n),l=i.settings,c=l.maxNumberOfRules,u=l.shouldCreateEmptyGroup,d=!(c&&o+1>c);return e=se(e,t,"group",n,Object(J.defaultGroupProperties)(i).merge(a||{}),i,r),r||(e=e.setIn(Object(W.a)(s,"children1"),new V.a.OrderedMap),d&&!u&&(e=se(e,s,"rule",Object(U.a)(),Object(J.defaultRuleProperties)(i),i))),e=Object(W.d)(e)},te=function(e,t,n){e=le(e,t);var a=n.settings.canLeaveEmptyGroup,i=t.slice(0,-1);return!Object(W.k)(e,i)&&!a&&(e=Object(W.c)(e),Object(W.l)(e)&&!a&&(e=se(e,new V.a.List,"rule",Object(U.a)(),Object(J.defaultRuleProperties)(n),n))),e=Object(W.d)(e)},ne=function(e,t,n){e=le(e,t);var a=n.settings.canLeaveEmptyGroup,i=t.pop(),r=e.getIn(Object(W.a)(i)),o=r.getIn(["properties","field"]),s=r.getIn(["properties","operator"]),l=(r.getIn(["properties","value",0]),o?Object(G.getFieldConfig)(n,o):null),c=s?Object(G.getOperatorConfig)(n,s,o):null,u=o&&s&&0!=c.cardinality,d="rule_group"==r.get("type"),p=!Object(W.k)(e,i),b=d?u&&l.initialEmptyWhere:a;return p&&!b&&(d&&(e=e.deleteIn(Object(W.a)(i))),e=Object(W.c)(e),Object(W.l)(e)&&!a&&(e=se(e,new V.a.List,"rule",Object(U.a)(),Object(J.defaultRuleProperties)(n),n))),e=Object(W.d)(e)},ae=function(e,t,n){return e.setIn(Object(W.a)(t,"properties","not"),n)},ie=function(e,t,n){return Object(W.m)(e.setIn(Object(W.a)(t,"properties","isLocked"),n))},re=function(e,t,n){return e.setIn(Object(W.a)(t,"properties","conjunction"),n)},oe=function e(t,n,a){a&&Array.isArray(a)&&(n.children1=new V.a.OrderedMap(a.reduce((function(n,a){var i=Object(U.a)(),r=Object(d.a)(Object(d.a)({},a),{},{properties:Object(J.defaultItemProperties)(t,a).merge(a.properties||{}),id:i});return e(t,r,r.children1),Object(d.a)(Object(d.a)({},n),{},Object(o.a)({},i,new V.a.Map(r)))}),{})))},se=function(e,t,n,a,i,r){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,l=Object(W.i)(e),c=r.settings.maxNumberOfRules,u=!("rule"==n&&c&&l+1>c),d={type:n,id:a,properties:i};if(oe(r,d,s),u){var p=Object(W.a)(t,"children1"),b=!!e.getIn(p),f=new V.a.OrderedMap(Object(o.a)({},a,new V.a.Map(d)));e=b?e.mergeIn(p,f):e.setIn(p,f)}return e=Object(W.d)(e)},le=function(e,t){return e=e.deleteIn(Object(W.a)(t)),e=Object(W.d)(e)},ce=function(e,t,n,a,i){var r=Object(W.f)(e,t),s=t.pop(),l=t.size>1?Object(W.f)(e,s):null,c=l?l.get("children1"):null,d=Object(W.f)(e,n),p=a==B.e||a==B.g?n:n.pop(),b=a==B.e||a==B.g?d:n.size>1?Object(W.f)(e,p):null,f=b?b.get("children1"):null;if(!l||!b)return e;var j=l.get("id")==b.get("id"),m=p.size<s.size&&Object(K.b)(p.toArray(),s.toArray().slice(0,p.size)),h=p.size>s.size&&Object(K.b)(s.toArray(),p.toArray().slice(0,s.size)),v=null,g=null;m?v=V.a.List(s.toArray().slice(p.size)):h&&(g=V.a.List(p.toArray().slice(s.size)));var O=f,x=c;return h||(x=x.delete(r.get("id"))),j?O=x:m&&(O=O.updateIn(Object(W.b)(v,"children1"),(function(e){return x}))),a==B.f||a==B.d?O=V.a.OrderedMap().withMutations((function(e){var t,n=Object(L.a)(O.entries());try{for(n.s();!(t=n.n()).done;){var i=Object(u.a)(t.value,2),o=i[0],s=i[1];o==d.get("id")&&a==B.f&&e.set(r.get("id"),r),e.set(o,s),o==d.get("id")&&a==B.d&&e.set(r.get("id"),r)}}catch(l){n.e(l)}finally{n.f()}})):a==B.e?O=O.merge(Object(o.a)({},r.get("id"),r)):a==B.g&&(O=V.a.OrderedMap(Object(o.a)({},r.get("id"),r)).merge(O)),h&&(x=(x=x.updateIn(Object(W.b)(g,"children1"),(function(e){return O}))).delete(r.get("id"))),j||m||(e=e.updateIn(Object(W.a)(s,"children1"),(function(e){return x}))),h||(e=e.updateIn(Object(W.a)(p,"children1"),(function(e){return O}))),e=Object(W.d)(e)},ue=function(e,t,n,a){if(!n)return le(e,t);var i=a.settings,r=i.fieldSeparator,o=i.setOpOnChangeField,s=i.showErrorMessage;Array.isArray(n)&&(n=n.join(r));var l=e.getIn(Object(W.a)(t,"type")),c=e.getIn(Object(W.a)(t,"properties")),u="rule_group"==l,d=Object(G.getFieldConfig)(a,n),p="!group"==d.type,b=p&&"array"==d.mode,f=u!=p,j=c.get("operator"),m=c.get("operatorOptions"),h=(c.get("field"),c.get("value"),c.get("valueSrc",new V.a.List),c.get("valueType",new V.a.List),d&&-1!==d.operators.indexOf(j)?j:null),v=null,g=Object(H.i)(a,n);if(g&&1==g.length)v=g[0];else if(g&&g.length>1){var O,x=Object(L.a)(o||[]);try{for(x.s();!(O=x.n()).done;){var y=O.value;if("keep"!=y||f?"default"==y?v=Object(J.defaultOperator)(a,n,!1):"first"==y&&(v=Object(H.f)(a,n)):v=h,v)break}}catch(A){x.e(A)}finally{x.f()}}if(!p&&!d.operators)return console.warn("Type ".concat(d.type," is not supported")),e;if(u&&!p&&(e=(e=(e=e.setIn(Object(W.a)(t,"type"),"rule")).deleteIn(Object(W.a)(t,"children1"))).setIn(Object(W.a)(t,"properties"),new V.a.OrderedMap)),p){e=e.setIn(Object(W.a)(t,"type"),"rule_group");var w=Object(H.h)(a,a,c,n,v,"field",!0),k=(w.canReuseValue,w.newValue),N=w.newValueSrc,_=w.newValueType,S=w.operatorCardinality,C=Object(J.defaultGroupProperties)(a,d).merge({field:n,mode:d.mode});return b&&(C=C.merge({operator:v,value:k,valueSrc:N,valueType:_})),e=(e=e.setIn(Object(W.a)(t,"children1"),new V.a.OrderedMap)).setIn(Object(W.a)(t,"properties"),C),d.initialEmptyWhere&&1==S||(e=se(e,t,"rule",Object(U.a)(),Object(J.defaultRuleProperties)(a,n),a)),e=Object(W.d)(e)}return e.updateIn(Object(W.a)(t,"properties"),(function(e){return e.withMutations((function(e){var t=Object(H.h)(a,a,e,n,v,"field",!0),i=t.canReuseValue,r=t.newValue,o=t.newValueSrc,l=t.newValueType,c=t.newValueError;s&&(e=e.set("valueError",c));var u=i?m:Object(J.defaultOperatorOptions)(a,v,n);return e.set("field",n).set("operator",v).set("operatorOptions",u).set("value",r).set("valueSrc",o).set("valueType",l).delete("asyncListValues")}))}))},de=function(e,t,n,a){var i=a.settings.showErrorMessage,r=e.getIn(Object(W.a)(t,"properties")),o=e.getIn(Object(W.a)(t,"children1")),s=r.get("field"),l="!group"==Object(G.getFieldConfig)(a,s).type,c=Object(G.getOperatorConfig)(a,n,s),u=c?Object(K.c)(c.cardinality,1):null;return e=e.updateIn(Object(W.a)(t,"properties"),(function(e){return e.withMutations((function(e){var t=e.get("field"),r=e.get("operatorOptions"),o=(e.get("value",new V.a.List),e.get("valueSrc",new V.a.List),e.get("operator"),Object(H.h)(a,a,e,t,n,"operator",!0)),s=o.canReuseValue,l=o.newValue,c=o.newValueSrc,u=o.newValueType,d=o.newValueError;i&&(e=e.set("valueError",d));var p=s?r:Object(J.defaultOperatorOptions)(a,n,t);return s||(e=e.delete("asyncListValues")),e.set("operator",n).set("operatorOptions",p).set("value",l).set("valueSrc",c).set("valueType",u)}))})),l&&0==u&&0==o.size&&(e=se(e,t,"rule",Object(U.a)(),Object(J.defaultRuleProperties)(a,s),a)),e},pe=function(e,t,n,a,i,r,o,s){var l,c=r.settings,d=c.fieldSeparator,p=c.showErrorMessage,b=e.getIn(Object(W.a)(t,"properties","valueSrc",n+""))||null;"field"===b&&Array.isArray(a)&&(a=a.join(d));var f=e.getIn(Object(W.a)(t,"properties","field"))||null,j=e.getIn(Object(W.a)(t,"properties","operator"))||null,m=i||me(a,b,r),h=Object(Y.b)(r,f,f,j,a,m,b,o,!1,!1),v=Object(u.a)(h,2),g=v[0],O=v[1],x=!g;if(x&&O!==a&&(a=O),p){var y=Object(H.l)(r,f,j,b),w=Object(G.getFieldWidgetConfig)(r,f,j,y,b),k=Object(G.getOperatorConfig)(r,j,f),N=j?Object(K.c)(k.cardinality,1):null,_=Array.from({length:N},(function(n,a){return e.getIn(Object(W.a)(t,"properties","valueSrc",a+""))||null}));if(k&&k.validateValues&&_.filter((function(e){return"value"==e||null==e})).length==N){var S=Array.from({length:N},(function(i,r){return r==n?a:e.getIn(Object(W.a)(t,"properties","value",r+""))||null})),C=w&&w.toJS?S.map((function(e){return w.toJS(e,w)})):S,A=k.validateValues(C);e=e.setIn(Object(W.a)(t,"properties","valueError",N),A)}}var F=void 0==e.getIn(Object(W.a)(t,"properties","value",n+"")),P=!!e.getIn(Object(W.a)(t,"properties","valueError",n));return(x||p)&&(e=e.deleteIn(Object(W.a)(t,"properties","asyncListValues")),"undefined"===typeof a?e=(e=e.setIn(Object(W.a)(t,"properties","value",n+""),void 0)).setIn(Object(W.a)(t,"properties","valueType",n+""),null):(o&&(e=e.setIn(Object(W.a)(t,"properties","asyncListValues"),o)),e=(e=e.setIn(Object(W.a)(t,"properties","value",n+""),a)).setIn(Object(W.a)(t,"properties","valueType",n+""),m),l=s&&!F&&!P)),p&&(e=e.setIn(Object(W.a)(t,"properties","valueError",n),g)),s&&(x&&P||!x&&!P)&&(e=e.setIn(Object(W.a)(t,"properties","valueError",n),g),l=!1),{tree:e,isInternalValueChange:l}},be=function(e,t,n,a,i){var r=i.settings.showErrorMessage;if(e=(e=(e=e.setIn(Object(W.a)(t,"properties","value",n+""),void 0)).setIn(Object(W.a)(t,"properties","valueType",n+""),null)).deleteIn(Object(W.a)(t,"properties","asyncListValues")),r){var o=(e=e.setIn(Object(W.a)(t,"properties","valueError",n),null)).getIn(Object(W.a)(t,"properties","field"))||null,s=e.getIn(Object(W.a)(t,"properties","operator"))||null,l=Object(G.getOperatorConfig)(i,s,o),c=s?Object(K.c)(l.cardinality,1):null;l.validateValues&&(e=e.setIn(Object(W.a)(t,"properties","valueError",c),null))}return e="undefined"===typeof a?e.setIn(Object(W.a)(t,"properties","valueSrc",n+""),null):e.setIn(Object(W.a)(t,"properties","valueSrc",n+""),a)},fe=function(e,t,n,a){return e.setIn(Object(W.a)(t,"properties","operatorOptions",n),a)},je=function(e,t){return t.settings.canLeaveEmptyGroup||(e=Object(W.c)(e)),e},me=function(e,t,n){var a=null;if(e)if("field"===t){var i=Object(G.getFieldConfig)(n,e);i&&(a=i.type)}else if("func"===t){var r=e.get("func");if(r){var o=Object(G.getFuncConfig)(n,r);o&&(a=o.returnType)}}return a},he={dragging:{id:null,x:null,y:null,w:null,h:null},mousePos:{},dragStart:{id:null}},ve=function(e,t){var n=[B.s,B.m,B.l,B.k],a=$()(Z()(e,["config","asyncListValues","__isInternal"]),K.a),i=e.path&&function(e,t){return e.getIn(Object(W.a)(t,"properties","field"))||null}(t.tree,e.path)||e.field;return i&&(a.affectedField=i),(n.includes(e.type)||0==e.type.indexOf("@@redux"))&&(a=null),a},ge=n(307),Oe=n(120),xe=n(288),ye=n(107),we=n(186),ke=n.n(we),Ne=function(e,t,n,a){var i=Object(Y.a)(e,t,n,a,!0,!0);return i=Object(W.d)(i)},_e=function(e){Object(j.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(p.a)(this,n),a=t.call(this,e),Object(ye.d)(Object(f.a)(a)),a._updateActions(e),a.validatedTree=a.validateTree(e,e),a}return Object(b.a)(n,[{key:"validateTree",value:function(e,t){return Ne(e.tree,t.tree,e.config,t.config)}},{key:"_updateActions",value:function(e){var t=e.config,n=e.dispatch;this.actions=Object(ye.a)(Object(d.a)(Object(d.a)(Object(d.a)({},xe.d),xe.b),xe.c),t,n)}},{key:"onPropsChanged",value:function(e){var t=e.onChange,n=this.props.config,a=e.tree,i=e.config,r=this.validatedTree;this.validatedTree=a,n!==i&&(this._updateActions(e),this.validatedTree=this.validateTree(e,this.props)),!Object(K.g)(this.validatedTree,r)&&t&&t(this.validatedTree,i,e.__lastAction)}},{key:"render",value:function(){var e=this.props,t=e.config,n=e.renderBuilder,a=e.dispatch,i=e.__isInternalValueChange;return n({tree:this.validatedTree,actions:this.actions,config:t,dispatch:a,__isInternalValueChange:i})}}]),n}(O.PureComponent),Se=n(0),Ce=["conjunctions","fields","types","operators","widgets","settings","funcs"],Ae=Object(k.b)((function(e){return{tree:e.tree,__isInternalValueChange:e.__isInternalValueChange,__lastAction:e.__lastAction}}),null,null,{context:ge.a})(_e);Ae.displayName="ConnectedQuery";var Fe=function(e){Object(j.a)(n,e);var t=Object(m.a)(n);function n(e,a){var i;Object(p.a)(this,n),(i=t.call(this,e,a)).shouldComponentUpdate=Object(ye.b)(Object(f.a)(i),{value:function(e,t,n){return!1}}),Object(ye.d)(Object(f.a)(i));var r=ke()(e,Ce),o=Object(G.extendConfig)(r),s=e.value,l=s?Ne(s,null,r,r):null,c=function(e){var t=Object(J.defaultRoot)(e),n=Object.assign({},{tree:t},he);return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,a=arguments.length>1?arguments[1]:void 0,i={__isInternalValueChange:void 0,__lastAction:void 0},r={},o=ve(a,t);switch(a.type){case B.s:r.tree=a.tree;break;case B.a:r.tree=ee(t.tree,a.path,a.id,a.properties,a.config,a.children);break;case B.h:r.tree=te(t.tree,a.path,a.config);break;case B.b:r.tree=se(t.tree,a.path,a.ruleType,a.id,a.properties,a.config,a.children);break;case B.i:r.tree=ne(t.tree,a.path,a.config);break;case B.j:r.tree=re(t.tree,a.path,a.conjunction);break;case B.p:r.tree=ae(t.tree,a.path,a.not);break;case B.n:r.tree=ue(t.tree,a.path,a.field,a.config);break;case B.o:r.tree=ie(t.tree,a.path,a.lock);break;case B.q:r.tree=de(t.tree,a.path,a.operator,a.config);break;case B.t:var s=pe(t.tree,a.path,a.delta,a.value,a.valueType,a.config,a.asyncListValues,a.__isInternal),l=s.tree,c=s.isInternalValueChange;r.__isInternalValueChange=c,r.tree=l;break;case B.u:r.tree=be(t.tree,a.path,a.delta,a.srcKey,a.config);break;case B.r:r.tree=fe(t.tree,a.path,a.name,a.value);break;case B.c:r.tree=ce(t.tree,a.fromPath,a.toPath,a.placement,a.config);break;case B.m:r.dragStart=a.dragStart,r.dragging=a.dragging,r.mousePos=a.mousePos;break;case B.l:r.mousePos=a.mousePos,r.dragging=a.dragging;break;case B.k:r.tree=je(t.tree,e),r=Object(d.a)(Object(d.a)({},r),he)}return o&&(r.__lastAction=o),Object(d.a)(Object(d.a)(Object(d.a)({},t),i),r)}}(Object(d.a)(Object(d.a)({},r),{},{tree:l}));return i.state={store:Object(Oe.e)(c),config:o},i}return Object(b.a)(n,[{key:"onPropsChanged",value:function(e){var t=this,n=ke()(this.props,Ce),a=ke()(e,Ce);!Object(K.l)(n,a,!0)&&(a=Object(G.extendConfig)(a),this.setState({config:a}));var i=this.state.store.getState().tree;if(!Object(K.g)(e.value,this.props.value)&&!Object(K.g)(e.value,i)){var r=e.value||Object(J.defaultRoot)(Object(d.a)(Object(d.a)({},e),{},{tree:null})),o=Ne(r,null,a,n);return Promise.resolve().then((function(){t.state.store.dispatch(xe.d.setTree(e,o))}))}}},{key:"render",value:function(){var e=this.props,t=e.renderBuilder,n=e.get_children,a=e.onChange,i=e.settings,r=this.state,o=r.config,s=r.store,l=i.renderProvider;return Object(Se.jsx)(l,{config:o,children:Object(Se.jsx)(k.a,{store:s,context:ge.a,children:Object(Se.jsx)(Ae,{store:s,config:o,onChange:a,renderBuilder:t||n})})})}}]),n}(O.Component),Pe=n(66),De=["isDraggingTempo","isDraggingMe","dragging"],Ee=n(66),Te=function(e){return function(t){return function(n){Object(j.a)(i,n);var a=Object(m.a)(i);function i(e){var t;return Object(p.a)(this,i),(t=a.call(this,e)).handleDraggerMouseDown=function(e){var n=t.props.id,a=t.wrapper.current;t.props.onDragStart&&t.props.onDragStart(n,a,e)},t.wrapper=x.a.createRef(),t}return Object(b.a)(i,[{key:"render",value:function(){var n=this.props,a=n.isDraggingTempo,i=n.isDraggingMe,r=n.dragging,o=Object(R.a)(n,De),s=o.isTrueLocked,l={};i&&a&&(l={top:r.y,left:r.x,width:r.w});var c=Ee(e,"group-or-rule",i&&a?"qb-draggable":null,i&&!a?"qb-placeholder":null,s?"locked":null);return Object(Se.jsx)("div",{className:c,style:l,ref:this.wrapper,"data-id":this.props.id,children:Object(Se.jsx)(t,Object(d.a)({handleDraggerMouseDown:this.handleDraggerMouseDown,isDraggingMe:i,isDraggingTempo:a},o))})}}]),i}(O.PureComponent)}},qe=n(181),Me=n.n(qe),Ie=n(1080),Re=n.n(Ie),Le=function(e){Object(j.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(p.a)(this,n),a=t.call(this,e),Object(ye.d)(Object(f.a)(a)),a.onPropsChanged(e),a}return Object(b.a)(n,[{key:"onPropsChanged",value:function(e){var t=this.props;(!this.meta||["config","selectedField","selectedOperator"].map((function(n){return e[n]!==t[n]})).filter((function(e){return e})).length>0)&&(this.meta=this.getMeta(e))}},{key:"getMeta",value:function(e){var t=e.config,n=e.selectedField,a=e.selectedOperator,i=Object(G.getFieldConfig)(t,n),r=$()(Re()(t.operators,(function(e,t){return i&&i.operators&&-1!==i.operators.indexOf(t)})),(function(e,a){return Object(G.getOperatorConfig)(t,a,n)})),o=this.buildOptions(t,r,i.operators),s=!!a,l=(s?r[a]:null)||{},c=s?[a]:null;return{placeholder:this.props.config.settings.operatorPlaceholder,items:o,selectedKey:a,selectedKeys:c,selectedPath:c,selectedLabel:l.label,selectedOpts:l,fieldConfig:i}}},{key:"buildOptions",value:function(e,t,n){return t?Me()(t).sort((function(e,t){return n.indexOf(e)-n.indexOf(t)})).map((function(e){return{key:e,path:e,label:t[e].label}})):null}},{key:"render",value:function(){var e=this.props,t=e.config,n=e.customProps,a=e.setOperator,i=e.readonly,r=e.id,o=e.groupId;return(0,t.settings.renderOperator)(Object(d.a)({id:r,groupId:o,config:t,customProps:n,readonly:i,setField:a},this.meta))}}]),n}(O.PureComponent),ze=n(86),Ve=function(e){Object(j.a)(n,e);var t=Object(m.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){var e=this.props,t=e.config,n=e.selectedField,a=e.selectedOperator,i=e.setOperator,r=e.selectedFieldPartsLabels,o=e.showOperator,s=e.showOperatorLabel,l=e.selectedFieldWidgetConfig,c=e.readonly,u=e.id,d=e.groupId;return[o&&Object(Se.jsxs)(ze.a,{className:"rule--operator",children:[t.settings.showLabels&&Object(Se.jsx)("label",{className:"rule--label",children:t.settings.operatorLabel}),Object(Se.jsx)(Le,{config:t,selectedField:n,selectedOperator:a,setOperator:i,readonly:c,id:u,groupId:d},"operator")]},"operators-for-"+(r||[]).join("_")),s&&Object(Se.jsx)(ze.a,{className:"rule--operator",children:Object(Se.jsxs)("div",{className:"rule--operator",children:[t.settings.showLabels?Object(Se.jsx)("label",{className:"rule--label",children:"\xa0"}):null,Object(Se.jsx)("span",{children:l.operatorInlineLabel})]})},"operators-for-"+(r||[]).join("_"))]}}]),n}(O.PureComponent),We=n(304),Je=n.n(We),Be=function(e){Object(j.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(p.a)(this,n),a=t.call(this,e),Object(ye.d)(Object(f.a)(a)),a.onPropsChanged(e),a}return Object(b.a)(n,[{key:"onPropsChanged",value:function(e){var t=this.props;(!this.meta||["selectedField","config","parentField"].map((function(n){return e[n]!==t[n]})).filter((function(e){return e})).length>0)&&(this.meta=this.getMeta(e))}},{key:"getMeta",value:function(e){var t=e.selectedField,n=e.config,a=e.parentField,i=t,r=n.settings,o=r.maxLabelsLength,s=r.fieldSeparatorDisplay,l=r.fieldPlaceholder,c=r.fieldSeparator,u=!!t,d=u?null:Object(K.o)(l,o),p=u?Object(G.getFieldConfig)(n,i):null,b=p||{},f=Object(H.c)(i,n),j=Object(H.c)(i,n,!0),m=this.getFieldLabel(p,i,n),h=Object(H.d)(i,n),v=h?h.join(s):null;(v==m||a)&&(v=null);var g=b.label2,O="string"==typeof a?a.split(c):a,x=a?Object(G.getFieldConfig)(n,a):null,y=a?x&&x.subfields:n.fields;return{placeholder:d,items:this.buildOptions(O,n,y,O),parentField:a,selectedKey:i,selectedKeys:f,selectedPath:j,selectedLabel:m,selectedOpts:b,selectedAltLabel:g,selectedFullLabel:v}}},{key:"getFieldLabel",value:function(e,t,n){if(!t)return null;var a=n.settings.fieldSeparator,i=n.settings.maxLabelsLength,r=Array.isArray(t)?t:t.split(a),o=e&&e.label||Je()(r);return o=Object(K.o)(o,i)}},{key:"buildOptions",value:function(e,t,n){var a=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(!n)return null;var o=t.settings,s=o.fieldSeparator,l=o.fieldSeparatorDisplay,c=i?i.join(s)+s:"";return Me()(n).map((function(o){var s=n[o],u=a.getFieldLabel(s,o,t),d=Object(H.d)(c+o,t).join(l);(d==u||e)&&(d=null);var p=s.label2,b=s.tooltip,f=(i||[]).concat(o),j=s.disabled;if(!s.hideForSelect)return"!struct"==s.type?{disabled:j,key:o,path:c+o,label:u,fullLabel:d,altLabel:p,tooltip:b,items:a.buildOptions(e,t,s.subfields,f,u)}:{disabled:j,key:o,path:c+o,label:u,fullLabel:d,altLabel:p,tooltip:b,grouplabel:r}})).filter((function(e){return!!e}))}},{key:"render",value:function(){var e=this.props,t=e.config,n=e.customProps,a=e.setField,i=e.readonly,r=e.id,o=e.groupId;return(0,t.settings.renderField)(Object(d.a)({id:r,groupId:o,config:t,customProps:n,readonly:i,setField:a},this.meta))}}]),n}(O.PureComponent),Ue=function(e){Object(j.a)(n,e);var t=Object(m.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){var e=this.props,t=e.config,n=e.selectedField,a=e.setField,i=e.parentField,r=e.classname,o=e.readonly,s=e.id,l=e.groupId;return Object(Se.jsxs)(ze.a,{className:r,children:[t.settings.showLabels&&Object(Se.jsx)("label",{className:"rule--label",children:t.settings.fieldLabel}),Object(Se.jsx)(Be,{config:t,selectedField:n,parentField:i,setField:a,customProps:t.settings.customFieldSelectProps,readonly:o,id:s,groupId:l})]})}}]),n}(O.PureComponent),Ge=n(436),He=["factory"],Ke=function(e){Object(j.a)(n,e);var t=Object(m.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){if(!this.props.selectedOperator)return null;var e=Object(G.getOperatorConfig)(this.props.config,this.props.selectedOperator,this.props.selectedField);if("undefined"===typeof e.options)return null;var t=e.options,n=t.factory,a=Object(R.a)(t,He),i=n(Object.assign({},a,{config:this.props.config,field:this.props.selectedField,operator:this.props.selectedOperator,options:this.props.operatorOptions,setOption:this.props.setOperatorOption,readonly:this.props.readonly})),r=this.props.selectedOperator;return Object(Se.jsx)("div",{className:"rule--operator rule--operator--".concat(r.toUpperCase()),children:i})}}]),n}(O.PureComponent),Ye=n(66),Qe=function(e){Object(j.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(p.a)(this,n),a=t.call(this,e),Object(ye.d)(Object(f.a)(a)),a.removeSelf=a.removeSelf.bind(Object(f.a)(a)),a.setLock=a.setLock.bind(Object(f.a)(a)),a.onPropsChanged(e),a}return Object(b.a)(n,[{key:"onPropsChanged",value:function(e){var t=this.props;(!this.meta||["selectedField","selectedOperator","config","reordableNodesCnt","isLocked"].map((function(n){return e[n]!==t[n]})).filter((function(e){return e})).length>0)&&(this.meta=this.getMeta(e))}},{key:"getMeta",value:function(e){var t=e.selectedField,n=e.selectedOperator,a=e.config,i=e.reordableNodesCnt,r=e.isLocked,o=Object(H.d)(t,a),s=Object(G.getFieldConfig)(a,t),l=s&&"!struct"==s.type,c=t&&n&&!l,u=Object(G.getOperatorConfig)(a,n,t),d=u&&null!=u.options,p=Object(G.getFieldWidgetConfig)(a,t,n)||{},b=p.hideOperator;return{selectedFieldPartsLabels:o,selectedFieldWidgetConfig:p,showDragIcon:a.settings.canReorder&&i>1&&!r,showOperator:t&&!b,showOperatorLabel:t&&b&&p.operatorInlineLabel,showWidget:c,showOperatorOptions:c&&d}}},{key:"setLock",value:function(e){this.props.setLock(e)}},{key:"removeSelf",value:function(){var e=this,t=this.props.confirmFn,n=this.props.config.settings,a=n.renderConfirm,i=n.removeRuleConfirmOptions,r=function(){e.props.removeSelf()};i&&!this.isEmptyCurrentRule()?a(Object(d.a)(Object(d.a)({},i),{},{onOk:r,onCancel:null,confirmFn:t})):r()}},{key:"isEmptyCurrentRule",value:function(){return!(null!==this.props.selectedField&&null!==this.props.selectedOperator&&this.props.value.filter((function(e){return void 0!==e})).size>0)}},{key:"renderField",value:function(){var e=this.props,t=e.config,n=e.isLocked,a=t.settings.immutableFieldsMode;return Object(Se.jsx)(Ue,{classname:"rule--field",config:t,selectedField:this.props.selectedField,setField:a?ze.d:this.props.setField,parentField:this.props.parentField,readonly:a||n,id:this.props.id,groupId:this.props.groupId},"field")}},{key:"renderOperator",value:function(){var e=this.props,t=e.config,n=e.isLocked,a=this.meta,i=a.selectedFieldPartsLabels,r=a.selectedFieldWidgetConfig,o=a.showOperator,s=a.showOperatorLabel,l=t.settings.immutableOpsMode;return Object(Se.jsx)(Ve,{config:t,selectedField:this.props.selectedField,selectedOperator:this.props.selectedOperator,setOperator:l?ze.d:this.props.setOperator,selectedFieldPartsLabels:i,showOperator:o,showOperatorLabel:s,selectedFieldWidgetConfig:r,readonly:l||n,id:this.props.id,groupId:this.props.groupId},"operator")}},{key:"renderWidget",value:function(){var e=this.props,t=e.config,n=e.valueError,a=e.isLocked,i=this.meta.showWidget,r=t.settings.immutableValuesMode;if(!i)return null;var o=Object(Se.jsx)(Ge.a,{field:this.props.selectedField,parentField:this.props.parentField,operator:this.props.selectedOperator,value:this.props.value,valueSrc:this.props.valueSrc,asyncListValues:this.props.asyncListValues,valueError:n,config:t,setValue:r?ze.d:this.props.setValue,setValueSrc:r?ze.d:this.props.setValueSrc,readonly:r||a,id:this.props.id,groupId:this.props.groupId},"values");return Object(Se.jsx)(ze.a,{className:"rule--value",children:o},"widget-for-"+this.props.selectedOperator)}},{key:"renderOperatorOptions",value:function(){var e=this.props.config,t=this.meta.showOperatorOptions,n=e.settings,a=n.immutableOpsMode,i=n.immutableValuesMode;if(!t)return null;var r=Object(Se.jsx)(Ke,{selectedField:this.props.selectedField,selectedOperator:this.props.selectedOperator,operatorOptions:this.props.operatorOptions,setOperatorOption:a?ze.d:this.props.setOperatorOption,config:e,readonly:i},"operatorOptions");return Object(Se.jsx)(ze.a,{className:"rule--operator-options",children:r},"op-options-for-"+this.props.selectedOperator)}},{key:"renderBeforeWidget",value:function(){var e=this.props.config.settings.renderBeforeWidget;return e&&Object(Se.jsx)(ze.a,{className:"rule--before-widget",children:"function"===typeof e?e(this.props):e},"before-widget-for-"+this.props.selectedOperator)}},{key:"renderAfterWidget",value:function(){var e=this.props.config.settings.renderAfterWidget;return e&&Object(Se.jsx)(ze.a,{className:"rule--after-widget",children:"function"===typeof e?e(this.props):e},"after-widget-for-"+this.props.selectedOperator)}},{key:"renderError",value:function(){var e=this.props,t=e.config,n=e.valueError,a=t.settings,i=a.renderRuleError,r=a.showErrorMessage,o=n&&n.toArray().filter((function(e){return!!e})).shift()||null;return r&&o&&Object(Se.jsx)("div",{className:"rule--error",children:i?i({error:o}):o})}},{key:"renderDrag",value:function(){return this.meta.showDragIcon&&Object(Se.jsxs)("span",{className:"qb-drag-handler rule--drag-handler",onMouseDown:this.props.handleDraggerMouseDown,children:[Object(Se.jsx)(ze.c,{})," "]},"rule-drag-icon")}},{key:"renderDel",value:function(){var e=this.props,t=e.config,n=e.isLocked,a=t.settings,i=a.deleteLabel,r=a.immutableGroupsMode,o=a.renderButton,s=a.canDeleteLocked;return!r&&(!n||n&&s)&&Object(Se.jsx)(o,{type:"delRule",onClick:this.removeSelf,label:i,config:t})}},{key:"renderLock",value:function(){var e=this.props,t=e.config,n=e.isLocked,a=e.isTrueLocked,i=e.id,r=t.settings,o=r.lockLabel,s=r.lockedLabel,l=r.showLock,c=r.renderSwitch;return l&&!(n&&!a)&&Object(Se.jsx)(c,{type:"lock",id:i,value:n,setValue:this.setLock,label:o,checkedLabel:s,hideLabel:!0,config:t})}},{key:"render",value:function(){var e=this.meta,t=e.showOperatorOptions,n=e.selectedFieldWidgetConfig,a=this.props,i=a.valueSrc,r=a.value,o=a.config,s="value"==i.first()&&!t&&1==r.size&&n.fullWidth,l=o.settings.renderButtonGroup,c=[this.renderField(),this.renderOperator(),this.renderBeforeWidget(),this.renderWidget(),this.renderAfterWidget(),this.renderOperatorOptions()],u=Object(Se.jsx)("div",{className:Ye("rule--body",s&&"can--shrink--value"),children:c},"rule-body"),d=this.renderError(),p=this.renderDrag(),b=this.renderLock(),f=this.renderDel();return Object(Se.jsxs)(Se.Fragment,{children:[p,Object(Se.jsxs)("div",{className:"rule--body--wrapper",children:[u,d]}),Object(Se.jsx)("div",{className:"rule--header",children:Object(Se.jsxs)(l,{config:o,children:[b,f]})})]})}}]),n}(O.PureComponent),Ze=function(e){var t=Object(k.b)((function(e){return{dragging:e.dragging}}),null,null,{context:ge.a})(function(e){return function(t){Object(j.a)(a,t);var n=Object(m.a)(a);function a(e){var t;return Object(p.a)(this,a),(t=n.call(this,e)).dummyFn=function(){},t.removeSelf=function(){t.props.actions.removeRule(t.props.path)},t.setLock=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t.props.actions.setLock(t.props.path,e)},t.setField=function(e){t.props.actions.setField(t.props.path,e)},t.setOperator=function(e){t.props.actions.setOperator(t.props.path,e)},t.setOperatorOption=function(e,n){t.props.actions.setOperatorOption(t.props.path,e,n)},t.setValue=function(e,n,a,i,r){t.props.actions.setValue(t.props.path,e,n,a,i,r)},t.setValueSrc=function(e,n){t.props.actions.setValueSrc(t.props.path,e,n)},t.dummyFn.isDummyFn=!0,t}return Object(b.a)(a,[{key:"shouldComponentUpdate",value:function(e,t){var n=this.props,a=this.state,i=Object(ye.c)(this)(e,t);if(i&&a==t&&n!=e){var r=(e.dragging.id||n.dragging.id)==e.id,o=[];for(var s in e){var l=e[s]!=n[s];"dragging"!=s||r||(l=!1),l&&o.push(s)}o.length||(i=!1)}return i}},{key:"render",value:function(){var t=this.props.dragging.id==this.props.id,n=Object(G.getFieldConfig)(this.props.config,this.props.field),a=this.props.config.settings.showErrorMessage,i=(n&&n.type,!t&&this.props.isDraggingTempo),r=this.props.valueError,o=null!=(r&&r.toArray().filter((function(e){return!!e})).shift()||null)&&a;return Object(Se.jsx)("div",{className:Pe("group-or-rule-container","rule-container",o?"rule-with-error":null),"data-id":this.props.id,children:[t?Object(Se.jsx)(e,{id:this.props.id,groupId:this.props.groupId,isDraggingMe:!0,isDraggingTempo:!0,dragging:this.props.dragging,setField:this.dummyFn,setOperator:this.dummyFn,setOperatorOption:this.dummyFn,setLock:this.dummyFn,removeSelf:this.dummyFn,setValue:this.dummyFn,setValueSrc:this.dummyFn,selectedField:this.props.field||null,parentField:this.props.parentField||null,selectedOperator:this.props.operator||null,value:this.props.value||null,valueSrc:this.props.valueSrc||null,valueError:this.props.valueError||null,operatorOptions:this.props.operatorOptions,config:this.props.config,reordableNodesCnt:this.props.reordableNodesCnt,totalRulesCnt:this.props.totalRulesCnt,asyncListValues:this.props.asyncListValues,isLocked:this.props.isLocked,isTrueLocked:this.props.isTrueLocked},"dragging"):null,Object(Se.jsx)(e,{id:this.props.id,groupId:this.props.groupId,isDraggingMe:t,isDraggingTempo:i,onDragStart:this.props.onDragStart,setLock:i?this.dummyFn:this.setLock,removeSelf:i?this.dummyFn:this.removeSelf,setField:i?this.dummyFn:this.setField,setOperator:i?this.dummyFn:this.setOperator,setOperatorOption:i?this.dummyFn:this.setOperatorOption,setValue:i?this.dummyFn:this.setValue,setValueSrc:i?this.dummyFn:this.setValueSrc,selectedField:this.props.field||null,parentField:this.props.parentField||null,selectedOperator:this.props.operator||null,value:this.props.value||null,valueSrc:this.props.valueSrc||null,valueError:this.props.valueError||null,operatorOptions:this.props.operatorOptions,config:this.props.config,reordableNodesCnt:this.props.reordableNodesCnt,totalRulesCnt:this.props.totalRulesCnt,asyncListValues:this.props.asyncListValues,isLocked:this.props.isLocked,isTrueLocked:this.props.isTrueLocked},this.props.id)]})}}]),a}(O.Component)}(e));return t.displayName="ConnectedRuleContainer",t}(Te("rule")(Object(ze.b)(Qe))),Xe=n(1081),$e=n.n(Xe),et=function(e){var t=Object(k.b)((function(e){return{dragging:e.dragging}}),null,null,{context:ge.a})(function(e){return function(t){Object(j.a)(a,t);var n=Object(m.a)(a);function a(e){var t;return Object(p.a)(this,a),(t=n.call(this,e))._selectedConjunction=function(e){return(e=e||t.props).conjunction||Object(J.defaultGroupConjunction)(e.config,e.field)},t.setConjunction=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t.props.actions.setConjunction(t.props.path,e)},t.setNot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t.props.actions.setNot(t.props.path,e)},t.setLock=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t.props.actions.setLock(t.props.path,e)},t.dummyFn=function(){},t.removeSelf=function(){t.props.actions.removeGroup(t.props.path)},t.addGroup=function(){t.props.actions.addGroup(t.props.path)},t.addRule=function(){t.props.actions.addRule(t.props.path)},t.setField=function(e){t.props.actions.setField(t.props.path,e)},t.setOperator=function(e){t.props.actions.setOperator(t.props.path,e)},t.setValue=function(e,n,a){t.props.actions.setValue(t.props.path,e,n,a)},Object(ye.d)(Object(f.a)(t)),t.selectedConjunction=t._selectedConjunction(e),t.conjunctionOptions=t._getConjunctionOptions(e),t.dummyFn.isDummyFn=!0,t}return Object(b.a)(a,[{key:"shouldComponentUpdate",value:function(e,t){var n=this.props,a=this.state,i=Object(ye.c)(this)(e,t);if(i&&a==t&&n!=e){var r=(e.dragging.id||n.dragging.id)==e.id,o=[];for(var s in e){var l=e[s]!=n[s];"dragging"!=s||r||(l=!1),l&&o.push(s)}o.length||(i=!1)}return i}},{key:"onPropsChanged",value:function(e){var t=e.config,n=(e.id,e.conjunction),a=this.props.config,i=this.props.conjunction;a==t&&i==n||(this.selectedConjunction=this._selectedConjunction(e),this.conjunctionOptions=this._getConjunctionOptions(e))}},{key:"_getConjunctionOptions",value:function(e){var t=this;return $()(e.config.conjunctions,(function(n,a){return{id:"conjunction-".concat(e.id,"-").concat(a),name:"conjunction[".concat(e.id,"]"),key:a,label:n.label,checked:a===t._selectedConjunction(e)}}))}},{key:"render",value:function(){var t=this.props.dragging.id==this.props.id,n=this.props.path.size,a=this.props.config.settings.maxNesting,i=!t&&this.props.isDraggingTempo,r="undefined"===typeof a||n<a,o=1==n;return Object(Se.jsx)("div",{className:"group-or-rule-container group-container","data-id":this.props.id,children:[t?Object(Se.jsx)(e,{id:this.props.id,groupId:this.props.groupId,isDraggingMe:!0,isDraggingTempo:!0,dragging:this.props.dragging,isRoot:o,allowFurtherNesting:r,conjunctionOptions:this.conjunctionOptions,not:this.props.not,selectedConjunction:this.selectedConjunction,setConjunction:this.dummyFn,setNot:this.dummyFn,setLock:this.dummyFn,removeSelf:this.dummyFn,addGroup:this.dummyFn,addRule:this.dummyFn,setField:this.dummyFn,setOperator:this.dummyFn,setValue:this.dummyFn,value:this.props.value||null,config:this.props.config,children1:this.props.children1,actions:this.props.actions,reordableNodesCnt:this.props.reordableNodesCnt,totalRulesCnt:this.props.totalRulesCnt,selectedField:this.props.field||null,parentField:this.props.parentField||null,selectedOperator:this.props.operator||null,isLocked:this.props.isLocked,isTrueLocked:this.props.isTrueLocked},"dragging"):null,Object(Se.jsx)(e,{id:this.props.id,groupId:this.props.groupId,isDraggingMe:t,isDraggingTempo:i,onDragStart:this.props.onDragStart,isRoot:o,allowFurtherNesting:r,conjunctionOptions:this.conjunctionOptions,not:this.props.not,selectedConjunction:this.selectedConjunction,setConjunction:i?this.dummyFn:this.setConjunction,setNot:i?this.dummyFn:this.setNot,setLock:i?this.dummyFn:this.setLock,removeSelf:i?this.dummyFn:this.removeSelf,addGroup:i?this.dummyFn:this.addGroup,addRule:i?this.dummyFn:this.addRule,setField:i?this.dummyFn:this.setField,setOperator:i?this.dummyFn:this.setOperator,setValue:i?this.dummyFn:this.setValue,value:this.props.value||null,config:this.props.config,children1:this.props.children1,actions:this.props.actions,reordableNodesCnt:this.props.reordableNodesCnt,totalRulesCnt:this.props.totalRulesCnt,selectedField:this.props.field||null,parentField:this.props.parentField||null,selectedOperator:this.props.operator||null,isLocked:this.props.isLocked,isTrueLocked:this.props.isTrueLocked},this.props.id)]})}}]),a}(O.Component)}(e));return t.displayName="ConnectedGroupContainer",t},tt={topLeft:"group--actions--tl",topCenter:"group--actions--tc",topRight:"group--actions--tr",bottomLeft:"group--actions--bl",bottomCenter:"group--actions--bc",bottomRight:"group--actions--br"},nt=function(e){Object(j.a)(n,e);var t=Object(m.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){var e=this.props,t=e.config,n=e.addRule,a=e.addGroup,i=e.removeSelf,r=e.setLock,o=e.isLocked,s=e.isTrueLocked,l=e.id,c=e.canAddGroup,u=e.canAddRule,d=e.canDeleteGroup,p=t.settings,b=p.immutableGroupsMode,f=p.addRuleLabel,j=p.addGroupLabel,m=p.delGroupLabel,h=p.groupActionsPosition,v=p.renderButton,g=p.renderSwitch,O=p.renderButtonGroup,x=p.lockLabel,y=p.lockedLabel,w=p.showLock,k=p.canDeleteLocked,N=tt[h||"topRight"],_=w&&!(o&&!s)&&Object(Se.jsx)(g,{type:"lock",id:l,value:o,setValue:r,label:x,checkedLabel:y,config:t}),S=!b&&u&&!o&&Object(Se.jsx)(v,{type:"addRule",onClick:n,label:f,readonly:o,config:t}),C=!b&&c&&!o&&Object(Se.jsx)(v,{type:"addGroup",onClick:a,label:j,readonly:o,config:t}),A=!b&&d&&(!o||o&&k)&&Object(Se.jsx)(v,{type:"delGroup",onClick:i,label:m,config:t});return Object(Se.jsx)("div",{className:"group--actions ".concat(N),children:Object(Se.jsxs)(O,{config:t,children:[_,S,C,A]})})}}]),n}(O.PureComponent),at=n(66),it=function(e){Object(j.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).childrenClassName=function(){return""},a.renderBeforeActions=function(){var e=a.props.config.settings.renderBeforeActions;return void 0==e?null:"function"===typeof e?Object(Se.jsx)(e,Object(d.a)({},a.props)):e},a.renderAfterActions=function(){var e=a.props.config.settings.renderAfterActions;return void 0==e?null:"function"===typeof e?Object(Se.jsx)(e,Object(d.a)({},a.props)):e},a.canAddGroup=function(){return a.props.allowFurtherNesting},a.canAddRule=function(){var e=a.props.config.settings.maxNumberOfRules,t=a.props.totalRulesCnt;return!e||t<e},a.canDeleteGroup=function(){return!a.props.isRoot},a.removeSelf=a.removeSelf.bind(Object(f.a)(a)),a.setLock=a.setLock.bind(Object(f.a)(a)),a.renderItem=a.renderItem.bind(Object(f.a)(a)),a}return Object(b.a)(n,[{key:"isGroupTopPosition",value:function(){return $e()(this.props.config.settings.groupActionsPosition||"topRight","top")}},{key:"setLock",value:function(e){this.props.setLock(e)}},{key:"removeSelf",value:function(){var e=this,t=this.props.confirmFn,n=this.props.config.settings,a=n.renderConfirm,i=n.removeGroupConfirmOptions,r=function(){e.props.removeSelf()};i&&!this.isEmptyCurrentGroup()?a(Object(d.a)(Object(d.a)({},i),{},{onOk:r,onCancel:null,confirmFn:t})):r()}},{key:"isEmptyCurrentGroup",value:function(){var e=this.props.children1;return 0==e.size||1==e.size&&this.isEmpty(e.first())}},{key:"isEmpty",value:function(e){return"group"==e.get("type")||"rule_group"==e.get("type")?this.isEmptyGroup(e):this.isEmptyRule(e)}},{key:"isEmptyGroup",value:function(e){var t=e.get("children1");return 0==t.size||1==t.size&&this.isEmpty(t.first())}},{key:"isEmptyRule",value:function(e){var t=e.get("properties");return!(null!==t.get("field")&&null!==t.get("operator")&&t.get("value").filter((function(e){return void 0!==e})).size>0)}},{key:"render",value:function(){return Object(Se.jsxs)(Se.Fragment,{children:[this.renderHeaderWrapper(),this.renderChildrenWrapper(),this.renderFooterWrapper()]})}},{key:"showNot",value:function(){return this.props.config.settings.showNot}},{key:"showConjs",value:function(){var e=this.props,t=e.conjunctionOptions;e.children1,e.config;return Object.keys(t).length>1||this.showNot()}},{key:"isOneChild",value:function(){return this.props.children1.size<2}},{key:"renderChildrenWrapper",value:function(){return this.props.children1&&Object(Se.jsx)("div",{className:at("group--children",this.showConjs()?"":"hide--conjs",this.isOneChild()?"hide--line":"",this.isOneChild()?"one--child":"",this.childrenClassName()),children:this.renderChildren()},"group-children")}},{key:"renderHeaderWrapper",value:function(){var e=this.isGroupTopPosition();return Object(Se.jsxs)("div",{className:at("group--header",this.isOneChild()?"one--child":""),children:[this.renderHeader(),e&&this.renderBeforeActions(),e&&this.renderActions(),e&&this.renderAfterActions()]},"group-header")}},{key:"renderFooterWrapper",value:function(){return!this.isGroupTopPosition()&&Object(Se.jsxs)("div",{className:"group--footer",children:[this.renderBeforeActions(),this.renderActions(),this.renderAfterActions()]},"group-footer")}},{key:"renderActions",value:function(){var e=this.props,t=e.config,n=e.addRule,a=e.addGroup,i=e.isLocked,r=e.isTrueLocked,o=e.id;return Object(Se.jsx)(nt,{config:t,addRule:n,addGroup:a,canAddGroup:this.canAddGroup(),canAddRule:this.canAddRule(),canDeleteGroup:this.canDeleteGroup(),removeSelf:this.removeSelf,setLock:this.setLock,isLocked:i,isTrueLocked:r,id:o})}},{key:"renderChildren",value:function(){var e=this.props.children1;return e?e.map(this.renderItem).toList():null}},{key:"renderItem",value:function(e){var t=this.props,n=t.config,a=t.actions,i=t.onDragStart,r=t.isLocked,o="group"==e.get("type")&&null!=e.getIn(["properties","field"])?"rule_group":e.get("type");return Object(O.createElement)(Ot,Object(d.a)(Object(d.a)({},this.extraPropsForItem(e)),{},{key:e.get("id"),id:e.get("id"),groupId:t.id,path:e.get("path"),type:o,properties:e.get("properties"),config:n,actions:a,children1:e.get("children1"),reordableNodesCnt:this.reordableNodesCnt(),totalRulesCnt:this.props.totalRulesCnt,onDragStart:i,isDraggingTempo:this.props.isDraggingTempo,isParentLocked:r}))}},{key:"extraPropsForItem",value:function(e){return{}}},{key:"reordableNodesCnt",value:function(){return this.props.isLocked?0:this.props.reordableNodesCnt}},{key:"showDragIcon",value:function(){var e=this.props,t=e.config,n=e.isRoot,a=e.reordableNodesCnt,i=e.isLocked;return t.settings.canReorder&&!n&&a>1&&!i}},{key:"renderDrag",value:function(){var e=this.props.handleDraggerMouseDown;return this.showDragIcon()&&Object(Se.jsxs)("span",{className:"qb-drag-handler group--drag-handler",onMouseDown:e,children:[Object(Se.jsx)(ze.c,{})," "]},"group-drag-icon")}},{key:"conjunctionOptions",value:function(){var e=this.props.conjunctionOptions;return e}},{key:"renderConjs",value:function(){var e=this.props,t=e.config,n=e.children1,a=e.id,i=e.selectedConjunction,r=e.setConjunction,o=e.not,s=e.setNot,l=e.isLocked,c=t.settings,u=c.immutableGroupsMode,p=c.renderConjs,b=(c.showNot,c.notLabel),f=this.conjunctionOptions();if(!this.showConjs())return null;if(!n.size)return null;var j={disabled:this.isOneChild(),readonly:u||l,selectedConjunction:i,setConjunction:u?ze.d:r,conjunctionOptions:f,config:t,not:o||!1,id:a,setNot:u?ze.d:s,notLabel:b,showNot:this.showNot(),isLocked:l};return Object(Se.jsx)(p,Object(d.a)({},j))}},{key:"renderHeader",value:function(){return Object(Se.jsxs)("div",{className:"group--conjunctions",children:[this.renderConjs(),this.renderDrag()]})}}]),n}(O.PureComponent),rt=et(Te("group")(Object(ze.b)(it))),ot=n(94),st=n(79),lt=n(8),ct=n.n(lt),ut=function(e){Object(j.a)(n,e);var t=Object(m.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){var e=this.props,t=e.config,n=e.addRule,a=e.canAddRule,i=e.canDeleteGroup,r=e.removeSelf,o=e.setLock,s=e.isLocked,l=e.isTrueLocked,c=e.id,u=t.settings,d=u.immutableGroupsMode,p=u.addRuleLabel,b=u.delGroupLabel,f=u.renderButton,j=u.renderSwitch,m=u.renderButtonGroup,h=u.lockLabel,v=u.lockedLabel,g=u.showLock,O=u.canDeleteLocked,x=g&&!(s&&!l)&&Object(Se.jsx)(j,{type:"lock",id:c,value:s,setValue:o,label:h,checkedLabel:v,hideLabel:!0,config:t}),y=!d&&a&&!s&&Object(Se.jsx)(f,{type:"addRuleGroup",onClick:n,label:p,readonly:s,config:t}),w=!d&&i&&(!s||s&&O)&&Object(Se.jsx)(f,{type:"delRuleGroup",onClick:r,label:b,config:t});return Object(Se.jsx)("div",{className:"group--actions",children:Object(Se.jsxs)(m,{config:t,children:[x,y,w]})})}}]),n}(O.PureComponent),dt=function(e){Object(j.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).childrenClassName=function(){return"rule_group--children"},a.renderHeaderWrapper=function(){return null},a.renderFooterWrapper=function(){return null},a.renderConjs=function(){return null},a.canAddGroup=function(){return!1},a.canAddRule=function(){return!0},a.canDeleteGroup=function(){return!1},Object(ye.d)(Object(f.a)(a)),a.onPropsChanged(e),a}return Object(b.a)(n,[{key:"onPropsChanged",value:function(e){}},{key:"reordableNodesCnt",value:function(){return this.props.isLocked?0:this.props.children1.size}},{key:"renderChildrenWrapper",value:function(){return Object(Se.jsxs)(Se.Fragment,{children:[this.renderDrag(),this.renderField(),this.renderActions(),Object(ot.a)(Object(st.a)(n.prototype),"renderChildrenWrapper",this).call(this)]})}},{key:"renderField",value:function(){var e=this.props,t=e.config,n=e.selectedField,a=e.setField,i=e.parentField,r=e.id,o=e.groupId,s=e.isLocked,l=t.settings.immutableFieldsMode;return Object(Se.jsx)(Ue,{classname:"group--field",config:t,selectedField:n,setField:a,parentField:i,readonly:l||s,id:r,groupId:o},"field")}},{key:"renderActions",value:function(){var e=this.props,t=e.config,n=e.addRule,a=e.isLocked,i=e.isTrueLocked,r=e.id;return Object(Se.jsx)(ut,{config:t,addRule:n,canAddRule:this.canAddRule(),canDeleteGroup:this.canDeleteGroup(),removeSelf:this.removeSelf,setLock:this.setLock,isLocked:a,isTrueLocked:i,id:r})}},{key:"extraPropsForItem",value:function(e){return{parentField:this.props.selectedField}}}]),n}(it);dt.propTypes=Object(d.a)(Object(d.a)({},it.propTypes),{},{selectedField:ct.a.string,parentField:ct.a.string,setField:ct.a.func});var pt=et(Te("group rule_group")(Object(ze.b)(dt))),bt=function(e){Object(j.a)(n,e);var t=Object(m.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){var e=this.props,t=e.config,n=e.addRule,a=e.canAddRule,i=e.canDeleteGroup,r=e.removeSelf,o=e.setLock,s=e.isLocked,l=e.isTrueLocked,c=e.id,u=t.settings,d=u.immutableGroupsMode,p=u.addSubRuleLabel,b=u.delGroupLabel,f=u.renderButton,j=u.renderSwitch,m=u.renderButtonGroup,h=u.lockLabel,v=u.lockedLabel,g=u.showLock,O=u.canDeleteLocked,x=g&&!(s&&!l)&&Object(Se.jsx)(j,{type:"lock",id:c,value:s,setValue:o,label:h,checkedLabel:v,config:t}),y=!d&&a&&!s&&Object(Se.jsx)(f,{type:"addRuleGroupExt",onClick:n,label:p,readonly:s,config:t}),w=!d&&i&&(!s||s&&O)&&Object(Se.jsx)(f,{type:"delRuleGroup",onClick:r,label:b,config:t});return Object(Se.jsx)("div",{className:"group--actions group--actions--tr",children:Object(Se.jsxs)(m,{config:t,children:[x,y,w]})})}}]),n}(O.PureComponent),ft=n(66),jt=function(e){Object(j.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).childrenClassName=function(){return"rule_group_ext--children"},a.renderFooterWrapper=function(){return null},a.canAddGroup=function(){return!1},a.canAddRule=function(){return!0},a.canDeleteGroup=function(){return!0},Object(ye.d)(Object(f.a)(a)),a.onPropsChanged(e),a}return Object(b.a)(n,[{key:"onPropsChanged",value:function(e){}},{key:"renderHeaderWrapper",value:function(){return Object(Se.jsxs)("div",{className:ft("group--header",this.isOneChild()?"one--child":"",this.showDragIcon()?"with--drag":"hide--drag",!this.showConjs()||this.isOneChild()&&!this.showNot()?"hide--conjs":"with--conjs"),children:[this.renderHeader(),this.renderGroupField(),this.renderActions()]},"group-header")}},{key:"renderHeader",value:function(){return Object(Se.jsxs)("div",{className:"group--conjunctions",children:[this.renderConjs(),this.renderDrag()]})}},{key:"renderGroupField",value:function(){return Object(Se.jsxs)("div",{className:"group--field--count--rule",children:[this.renderField(),this.renderOperator(),this.renderWidget()]})}},{key:"showNot",value:function(){var e=this.props,t=e.config,n=e.selectedField,a=(e.selectedOperator,Object(G.getFieldConfig)(t,n)||{});return void 0!=a.showNot?a.showNot:t.settings.showNot}},{key:"conjunctionOptions",value:function(){var e=this.props,t=e.config,a=e.selectedField,i=(e.selectedOperator,Object(G.getFieldConfig)(t,a)||{}),r=Object(ot.a)(Object(st.a)(n.prototype),"conjunctionOptions",this).call(this);if(i.conjunctions){var o,s={},l=Object(L.a)(i.conjunctions);try{for(l.s();!(o=l.n()).done;){var c=o.value;s[c]=r[c]}}catch(u){l.e(u)}finally{l.f()}r=s}return r}},{key:"renderField",value:function(){var e=this.props,t=e.config,n=e.selectedField,a=e.setField,i=e.parentField,r=e.id,o=e.groupId,s=e.isLocked,l=t.settings.immutableFieldsMode;return Object(Se.jsx)(Ue,{classname:"rule--field",config:t,selectedField:n,setField:a,parentField:i,readonly:l||s,id:r,groupId:o},"field")}},{key:"renderOperator",value:function(){var e=this.props,t=e.config,n=e.selectedField,a=e.selectedOperator,i=e.setField,r=e.setOperator,o=e.isLocked,s=t.settings.immutableFieldsMode,l=Object(G.getFieldWidgetConfig)(t,n,a)||{},c=l.hideOperator,u=n&&c&&l.operatorInlineLabel,d=n&&!c;return Object(Se.jsx)(Ve,{classname:"group--operator",config:t,selectedField:n,selectedOperator:a,setField:i,setOperator:r,selectedFieldPartsLabels:["group"],showOperator:d,showOperatorLabel:u,selectedFieldWidgetConfig:l,readonly:s||o,id:this.props.id,groupId:this.props.groupId},"operator")}},{key:"renderWidget",value:function(){var e=this.props,t=e.config,n=e.selectedField,a=e.selectedOperator,i=e.isLocked,r=t.settings.immutableValuesMode;if(!(n&&a))return null;var o=Object(Se.jsx)(Ge.a,{isForRuleGruop:!0,field:this.props.selectedField,operator:this.props.selectedOperator,value:this.props.value,valueSrc:"value",valueError:null,config:t,setValue:r?ze.d:this.props.setValue,setValueSrc:ze.d,readonly:r||i,id:this.props.id,groupId:this.props.groupId},"values");return Object(Se.jsx)(ze.a,{className:"rule--value",children:o},"widget-for-"+this.props.selectedOperator)}},{key:"renderActions",value:function(){var e=this.props,t=e.config,n=e.addRule,a=e.isLocked,i=e.isTrueLocked,r=e.id;return Object(Se.jsx)(bt,{config:t,addRule:n,canAddRule:this.canAddRule(),canDeleteGroup:this.canDeleteGroup(),removeSelf:this.removeSelf,setLock:this.setLock,isLocked:a,isTrueLocked:i,id:r})}},{key:"reordableNodesCnt",value:function(){return this.props.isLocked?0:this.props.children1.size}},{key:"extraPropsForItem",value:function(e){return{parentField:this.props.selectedField}}}]),n}(it);jt.propTypes=Object(d.a)(Object(d.a)({},it.propTypes),{},{selectedField:ct.a.string,selectedOperator:ct.a.string,parentField:ct.a.string,setField:ct.a.func,setOperator:ct.a.func});var mt=et(Te("group rule_group_ext")(Object(ze.b)(jt))),ht=["type"],vt=function(e){var t=e.properties.toObject(),n=Object(d.a)({},t);return e.isParentLocked&&(n.isLocked=!0),t.isLocked&&(n.isTrueLocked=!0),n},gt={rule:function(e){return Object(Se.jsx)(Ze,Object(d.a)(Object(d.a)({},vt(e)),{},{id:e.id,groupId:e.groupId,path:e.path,actions:e.actions,reordableNodesCnt:e.reordableNodesCnt,totalRulesCnt:e.totalRulesCnt,config:e.config,onDragStart:e.onDragStart,isDraggingTempo:e.isDraggingTempo,parentField:e.parentField}))},group:function(e){return Object(Se.jsx)(rt,Object(d.a)(Object(d.a)({},vt(e)),{},{id:e.id,groupId:e.groupId,path:e.path,actions:e.actions,config:e.config,reordableNodesCnt:e.reordableNodesCnt,totalRulesCnt:e.totalRulesCnt,onDragStart:e.onDragStart,isDraggingTempo:e.isDraggingTempo,children1:e.children1,parentField:null}))},rule_group:function(e){return Object(Se.jsx)(pt,Object(d.a)(Object(d.a)({},vt(e)),{},{id:e.id,groupId:e.groupId,path:e.path,actions:e.actions,config:e.config,reordableNodesCnt:e.reordableNodesCnt,totalRulesCnt:e.totalRulesCnt,onDragStart:e.onDragStart,isDraggingTempo:e.isDraggingTempo,children1:e.children1,parentField:e.parentField}))},rule_group_ext:function(e){return Object(Se.jsx)(mt,Object(d.a)(Object(d.a)({},vt(e)),{},{id:e.id,groupId:e.groupId,path:e.path,actions:e.actions,config:e.config,reordableNodesCnt:e.reordableNodesCnt,totalRulesCnt:e.totalRulesCnt,onDragStart:e.onDragStart,isDraggingTempo:e.isDraggingTempo,children1:e.children1,parentField:e.parentField}))}},Ot=function(e){Object(j.a)(n,e);var t=Object(m.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){var e=this.props,t=e.type,n=Object(R.a)(e,ht),a=n.properties.get("mode"),i=gt[t+("array"==a?"_ext":"")];return i?i(n):null}}]),n}(O.PureComponent),xt=n(1082),yt=function(e){Object(j.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e))._updPath(e),a}return Object(b.a)(n,[{key:"shouldComponentUpdate",value:function(e,t){var n=this.props,a=Object(ye.c)(this)(e,t);if(a){var i=[];for(var r in e){e[r]!==n[r]&&"__isInternalValueChange"!=r&&i.push(r)}i.length||(a=!1),1==i.length&&"tree"==i[0]&&e.__isInternalValueChange&&(a=!1)}return a}},{key:"_updPath",value:function(e){var t=e.tree.get("id");this.path=V.a.List.of(t)}},{key:"render",value:function(){var e=Object(W.h)(this.props.tree),t=Object(W.i)(this.props.tree),n=this.props.tree.get("id");return Object(Se.jsx)(Ot,{id:n,path:this.path,type:this.props.tree.get("type"),properties:this.props.tree.get("properties")||new z.Map,config:this.props.config,actions:this.props.actions,children1:this.props.tree.get("children1")||new z.Map,reordableNodesCnt:e,totalRulesCnt:t,onDragStart:this.props.onDragStart},n)}}]),n}(O.Component),wt=Object(xt.a)(yt),kt=n(215),Nt=function(e,t){var n={usedFields:[]},a=_t(e,t,n);if(a)return Object(d.a)(Object(d.a)({},a),n)},_t=function(e,t,n){if(e){var a=e.get("type"),i=e.get("children1");return("group"===a||"rule_group"===a)&&i&&i.size?St(e,t,n):"rule"===a?Ct(e,t,n):void 0}},St=function(e,t,n){var a=e.get("properties")||new z.Map,i=e.get("children1"),r=e.get("id"),o=i.map((function(e){return _t(e,t,n)})).filter((function(e){return"undefined"!==typeof e}));if(o.size){var s=a.get("conjunction");s||(s=Object(J.defaultConjunction)(t));var l=a.get("not");return{id:r,rules:o.toList(),condition:s.toUpperCase(),not:l}}},Ct=function(e,t,n){var a=e.get("properties")||new z.Map,i=e.get("id"),r=a.get("operator"),o=a.get("operatorOptions"),s=a.get("field"),l=a.get("value"),c=a.get("valueSrc"),u=a.get("valueType"),d=l.filter((function(e){return void 0===e})).size>0;if(null!=s&&null!=r&&!d){var p=Object(G.getFieldConfig)(t,s)||{},b=Object(G.getOperatorConfig)(t,r,s)||{},f=p.type||"undefined",j=Object(K.c)(b.cardinality,1),m=t.types[p.type]||{},h=Object(H.b)(s,t,n);if(!(l.size<j)){-1==n.usedFields.indexOf(s)&&n.usedFields.push(s),l=l.toArray(),c=c.toArray(),u=u.toArray();for(var v=[],g=0;g<l.length;g++){var O={type:u[g],value:l[g]};if(v.push(O),"field"==c[g]){var x=l[g];-1==n.usedFields.indexOf(x)&&n.usedFields.push(x)}}var y=o?o.toJS():null;y&&!Object.keys(y).length&&(y=null);var w={id:i,fieldName:h,type:f,input:m.mainWidget,operator:r};return y&&(w.operatorOptions=y),w.values=v,w}}},At=n(30),Ft=n(305),Pt=function(e,t){var n,a={usedFields:[],errors:[]},i=Dt(e,t,a,!0),r=a.errors,o=a.usedFields,s=t.settings.fieldSeparator,l={},c=Object(L.a)(o);try{for(c.s();!(n=c.n()).done;)for(var u=n.value,d=(Object(G.getFieldConfig)(t,u),u.split(s)),p=l,b=0;b<d.length;b++){var f=d[b],j=Object(G.getFieldConfig)(t,d.slice(0,b+1))||{};b!=d.length-1?"!group"==j.type&&"struct"!=j.mode?(p[f]||(p[f]=[{}]),p=p[f][0]):(p[f]||(p[f]={}),p=p[f]):p[f]||(p[f]=null)}}catch(m){c.e(m)}finally{c.f()}return{errors:r,logic:i,data:l}},Dt=function(e,t,n,a){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(e){var r,s=e.get("type"),l=e.get("properties")||new z.Map,c=l.get("isLocked"),u=t.settings.jsonLogic.lockedOp;return"group"===s||"rule_group"===s?r=Et(e,t,n,a,i):"rule"===s&&(r=Tt(e,t,n,i)),c&&r&&u&&(r=Object(o.a)({},u,r)),r}},Et=function(e,t,n,a){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,r=e.get("type"),s=e.get("properties")||new z.Map,l=s.get("mode"),c=e.get("children1"),u=s.get("field");if(c){var d=s.get("conjunction");d||(d=Object(J.defaultConjunction)(t));var p=d.toLowerCase(),b=s.get("not");if("and"==p||"or"==p){var f="rule_group"===r&&!a,j=f&&"struct"!=l?u:i,m=s.get("operator"),h=m&&Object(G.getOperatorConfig)(t,m,u)||null,v=(s.get("value"),qt(t,s,n,m,i)),g=f&&(!m||0==h.cardinality),O=c.map((function(e){return Dt(e,t,n,!1,j)})).filter((function(e){return"undefined"!==typeof e}));if(f&&"struct"!=l&&!g){if(void 0==v)return}else if(!O.size)return;var x={};if(1!=O.size||a?x[p]=O.toList().toJS():x=O.first(),b&&(x={"!":x}),f&&"struct"!=l)if(g){var y=m||"some";x=Object(o.a)({},y,[Rt(n,t,u,i),x])}else{var w=O.size?{filter:[Rt(n,t,u,i),x]}:Rt(n,t,u,i),k={reduce:[w,{"+":[1,{var:"accumulator"}]},0]};x=Lt(t,s,k,v,m)}return x}n.errors.push("Conjunction ".concat(p," is not supported"))}},Tt=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=e.get("properties")||new z.Map,r=i.get("field"),o=i.get("operator"),s=i.get("operatorOptions");if((s=s?s.toJS():null)&&!Object.keys(s).length&&(s=null),null!=r&&null!=o){var l=Object(G.getFieldConfig)(t,r)||{},c=Object(G.getOperatorConfig)(t,o,r)||{},u=c.reversedOp,d=Object(G.getOperatorConfig)(t,u,r)||{},p=(l.type,Object(K.c)(c.cardinality,1),!1);if(c.jsonLogic||d.jsonLogic){if(!c.jsonLogic&&d.jsonLogic){p=!0;var b=[u,o];o=b[0],u=b[1];var f=[d,c];c=f[0],d=f[1]}var j=qt(t,i,n,o,a);if(void 0!==j){var m=Rt(n,t,r,a);return Lt(t,i,m,j,o,s,p)}}else n.errors.push("Operator ".concat(o," is not supported"))}},qt=function(e,t,n,a,i){var r=t.get("field"),o=t.get("valueSrc"),s=t.get("valueType"),l=Object(G.getFieldConfig)(e,r)||{},c=Object(G.getOperatorConfig)(e,a,r)||{},u=Object(K.c)(c.cardinality,1),d=t.get("value"),p=t.get("asyncListValues");if(void 0!=d){var b=[],f=[],j=n.usedFields,m=d.map((function(t,u){var d=o?o.get(u):null,j=s?s.get(u):null,m=Object(kt.a)(t,d,e),h=Object(H.l)(e,r,a,d),v=Z()(Object(G.getFieldWidgetConfig)(e,r,a,h,d),["factory"]),g=Mt(n,e,m,d,j,v,l,a,c,i,p);return void 0!==g&&(b.push(d),f.push(j)),g})),h=m.filter((function(e){return void 0===e})).size>0;if(!(m.size<u||h))return u>1?m.toArray():1==u?m.first():null;n.usedFields=j}},Mt=function(e,t,n,a,i,r,o,s,l){var c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:null,u=arguments.length>10?arguments[10]:void 0;if(void 0!==n){var p;if("field"==a)p=Rt(e,t,n,c);else if("func"==a)p=It(e,t,n,c);else if("function"===typeof r.jsonLogic){var b=r.jsonLogic,f=[n,Object(d.a)(Object(d.a)({},ke()(o,["fieldSettings","listValues"])),{},{asyncListValues:u}),Z()(r,["formatValue","mongoFormatValue","sqlFormatValue","jsonLogic","elasticSearchFormatValue"])];s&&(f.push(s),f.push(l)),p=b.apply(void 0,f)}else p=n;return p}},It=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=n.get("func"),r=n.get("args"),s=Object(G.getFuncConfig)(t,i);if(s.jsonLogic){var l={};for(var c in s.args){var u=s.args[c],d=Object(G.getFieldConfig)(t,u),p=r?r.get(c):void 0,b=p?p.get("value"):void 0,f=p?p.get("valueSrc"):void 0,j=Mt(e,t,b,f,u.type,d,u,null,null,a);if(void 0!=b&&void 0===j)return void e.errors.push("Can't format value of arg ".concat(c," for func ").concat(i));void 0!==j&&(l[c]=j)}var m,h=Object.values(l);if("function"===typeof s.jsonLogic){var v=s.jsonLogic,g=[l];m=v.apply(void 0,g)}else{var O=s.jsonLogic||i,x=!!s.jsonLogicIsMethod;if(x){var y=Object(Ft.a)(h),w=y[0],k=y.slice(1);m=k.length?{method:[w,O,k]}:{method:[w,O]}}else m=Object(o.a)({},O,h)}return m}e.errors.push("Func ".concat(i," is not supported"))},Rt=function(e,t,n){var a,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=t.settings,s=r.fieldSeparator,l=r.jsonLogic;if(n){Array.isArray(n)&&(n=n.join(s));var c=Object(G.getFieldConfig)(t,n)||{},u=n;if(c.fieldName&&(u=c.fieldName),i){var d=Object(G.getFieldConfig)(t,i)||{},p=i;d.fieldName&&(p=d.fieldName),0==u.indexOf(p+s)?u=u.slice((p+s).length):e.errors.push("Can't cut group ".concat(p," from field ").concat(u))}var b=c.jsonLogicVar||("!group"==c.type?l.groupVarKey:"var");a=Object(o.a)({},b,u),-1==e.usedFields.indexOf(n)&&e.usedFields.push(n)}return a},Lt=function(e,t,n,a,i){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],l=t.get("field"),c=Object(G.getOperatorConfig)(e,i,l)||{},u=Object(K.c)(c.cardinality,1),d=Object(K.c)(c._jsonLogicIsRevArgs,!1),p=i;"string"==typeof c.jsonLogic&&(p=c.jsonLogic);var b="function"==typeof c.jsonLogic?c.jsonLogic:null;if(!b){var f=["<","<=",">",">="];b=function(e,t,i,r,s){return 0==u?Object(o.a)({},p,n):1==u&&d?Object(o.a)({},p,[a,n]):1==u?Object(o.a)({},p,[n,a]):2==u&&f.includes(p)?Object(o.a)({},p,[a[0],n,a[1]]):Object(o.a)({},p,[n].concat(Object(At.a)(a)))}}var j=[n,i,a,Z()(c,["formatOp","mongoFormatOp","sqlFormatOp","jsonLogic"]),r],m=b.apply(void 0,j);return s&&(m={"!":m}),m},zt=n(279),Vt=function(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)},Wt=function(e,t){var n={errors:[]},a=Jt([],e,t,n);return n.errors.length&&console.warn("Errors while exporting to MongoDb:",n.errors),a},Jt=function(e,t,n,a){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:void 0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:void 0;if(t){var l=t.get("type"),c=t.get("children1");return("group"===l||"rule_group"===l)&&c&&c.size?Bt(e,t,n,a,i,r,o,s):"rule"===l?Ut(e,t,n,a,i,r,o,s):void 0}},Bt=function(e,t,n,a){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=t.get("type"),s=t.get("properties")||new z.Map,l=t.get("children1"),c=n.settings.canShortMongoQuery,u=e.filter((function(e){return"rule_group"==e.get("type")})).length>0,d=e.filter((function(e){return"rule_group"==e.get("type")})).map((function(e){return e.get("properties").get("field")})).slice(-1).pop(),p=u&&d,b="rule_group"===r?s.get("field"):null,f=Ht(b,n,a,p),j=Object(G.getFieldConfig)(n,b)||{},m=j.mode,h=i?!s.get("not"):s.get("not"),v=l.map((function(i){return Jt([].concat(Object(At.a)(e),[t]),i,n,a,h,!0,"array"==m?function(e){return"$$el.".concat(e)}:void 0)})).filter((function(e){return"undefined"!==typeof e}));if(v.size){var g=s.get("conjunction");g||(g=Object(J.defaultConjunction)(n));var O=n.conjunctions[g],x=O.reversedConj;h&&x&&(g=x,O=n.conjunctions[g]);var y,w=O.mongoConj;if(1==v.size)y=v.first();else{var k=v.toList().toJS(),N=c&&"$and"==w;N&&(y=k.reduce((function(e,t){if(e){for(var n in t){if("$"==n[0]){e=void 0;break}if(void 0==e[n])e[n]=t[n];else{var a=e[n],i=t[n];if(Vt(a)||(a={$eq:a}),Vt(i)||(i={$eq:i}),Object.keys(a)[0]==Object.keys(i)[0]){e=void 0;break}e[n]=Object.assign({},a,i)}}return e}}),{})),y||(y=Object(o.a)({},w,k))}if(b)if("array"==m){var _={$size:{$filter:{input:"$"+f,as:"el",cond:y}}},S={$size:f};y={$expr:y=Jt(e,t.set("type","rule"),n,a,!1,!1,(function(e){return _}),S)}}else y=Object(o.a)({},f,{$elemMatch:y});return y}},Ut=function(e,t,n,a){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:void 0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:void 0,l=t.get("properties")||new z.Map,c=e.filter((function(e){return"rule_group"==e.get("type")})).length>0,d=e.filter((function(e){return"rule_group"==e.get("type")})).map((function(e){return e.get("properties").get("field")})).slice(-1).pop(),p=c&&d,b=l.get("operator"),f=l.get("operatorOptions"),j=l.get("field"),m=l.get("value"),h=l.get("valueSrc"),v=l.get("valueType"),g=l.get("asyncListValues");if(null!=j&&null!=b&&void 0!==m){var O=Object(G.getFieldConfig)(n,j)||{},x=Object(G.getOperatorConfig)(n,b,j)||{},y=x.reversedOp,w=Object(G.getOperatorConfig)(n,y,j)||{},k=Object(K.c)(x.cardinality,1),N=i;if(N&&y){var _=[y,b];b=_[0],y=_[1];var S=[w,x];x=S[0],w=S[1],N=!1}var C=Ht(j,n,a,p),A=[],F=[],P=!1,D=m.map((function(e,t){var i=h?h.get(t):null,r=v?v.get(t):null,o=Object(kt.a)(e,i,n),s=Object(H.l)(n,j,b,i),l=Z()(Object(G.getFieldWidgetConfig)(n,j,b,s,i),["factory"]),c=Gt(a,n,o,i,r,l,O,p,b,x,g),d=Object(u.a)(c,2),f=d[0],m=d[1];return void 0!==f&&(P=P||m,A.push(i),F.push(r)),f}));o&&(P=!0);var E=P&&r,T=D.filter((function(e){return void 0===e})).size>0;if(!(D.size<k||T)){var q=k>1?D.toArray():1==k?D.first():null,M=x.mongoFormatOp;if(M){var I=[o?o(C):C,b,void 0!==s&&null==q?s:q,P,A.length>1?A:A[0],F.length>1?F:F[0],Z()(x,["formatOp","mongoFormatOp","sqlFormatOp","jsonLogic"]),f],R=M.apply(void 0,I);return E&&(R={$expr:R}),N&&(R={$not:R}),R}a.errors.push("Operator ".concat(b," is not supported"))}}},Gt=function(e,t,n,a,i,r,o,s,l,c,p){if(void 0===n)return[void 0,!1];var b,f=!1;if("field"==a){var j=Kt(e,t,n,s),m=Object(u.a)(j,2);b=m[0],f=m[1]}else if("func"==a){var h=Yt(e,t,n,s),v=Object(u.a)(h,2);b=v[0],f=v[1]}else if("function"===typeof r.mongoFormatValue){var g=r.mongoFormatValue,O=[n,Object(d.a)(Object(d.a)({},ke()(o,["fieldSettings","listValues"])),{},{asyncListValues:p}),Z()(r,["formatValue","mongoFormatValue","sqlFormatValue","jsonLogic","elasticSearchFormatValue"])];l&&(O.push(l),O.push(c)),b=g.apply(void 0,O)}else b=n;return[b,f]},Ht=function(e,t,n,a){if(e){var i=Object(G.getFieldConfig)(t,e)||{},r=t.settings.fieldSeparator,o=(Array.isArray(e)||e.split(r),Array.isArray(e)?e.join(r):e);if(i.fieldName&&(o=i.fieldName),a){var s=Object(G.getFieldConfig)(t,a)||{},l=a;s.fieldName&&(l=s.fieldName),0==o.indexOf(l+".")?o=o.slice((l+".").length):n.errors.push("Can't cut group ".concat(l," from field ").concat(o))}return o}},Kt=function(e,t,n,a){var i,r=t.settings.fieldSeparator;if(n){var o=Object(G.getFieldConfig)(t,n)||{},s=Array.isArray(n)?n:n.split(r),l=(Object(H.c)(n,t),Object(H.d)(n,t)),c=l?l.join(r):null;i="$"+(t.settings.formatField||zt.a.formatField)(Ht(n,t,e,a),s,c,o,t,!1)}return[i,!0]},Yt=function(e,t,n,a){var i,r=n.get("func"),s=n.get("args"),l=Object(G.getFuncConfig)(t,r),c=l.mongoFunc||r,d=l.mongoArgsAsObject,p={},b=0,f=void 0;for(var j in l.args){var m=l.args[j],h=Object(G.getFieldConfig)(t,m),v=s?s.get(j):void 0,g=v?v.get("value"):void 0,O=v?v.get("valueSrc"):void 0,x=v?v.get("asyncListValues"):void 0,y=Object(H.l)(t,h,null,O),w=Z()(Object(G.getFieldWidgetConfig)(t,h,null,y,O),["factory"]),k=Gt(e,t,g,O,m.type,w,h,a,null,null,x),N=Object(u.a)(k,2),_=N[0];N[1];if(void 0!=g&&void 0===_)return e.errors.push("Can't format value of arg ".concat(j," for func ").concat(r)),[void 0,!1];b++,void 0!==_&&(p[j]=_,f=_)}if("function"===typeof l.mongoFormatFunc){var S=[p];i=l.mongoFormatFunc.apply(void 0,S)}else{if(null===l.mongoFormatFunc)return e.errors.push("Functon ".concat(c," is not supported")),[void 0,!1];i=d?Object(o.a)({},c,p):1==b&&void 0!==f?Object(o.a)({},c,f):Object(o.a)({},c,Object.values(p))}return[i,!0]},Qt=n(1472);Qt.trim=function(e){return"'"==e.charAt(0)?e.substring(1,e.length-1):e},Qt.escapeLike=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Qt.escape(e);return a="'"+(a=(t?"%":"")+(a=(a=Qt.trim(a)).replace(/[%_]/g,"\\$&"))+(n?"%":""))+"'"};var Zt=function(e,t){var n={errors:[]},a=Xt(e,t,n);return n.errors.length&&console.warn("Errors while exporting to SQL:",n.errors),a},Xt=function(e,t,n){if(e){var a=e.get("type"),i=e.get("children1");return("group"===a||"rule_group"===a)&&i&&i.size?$t(e,t,n):"rule"===a?en(e,t,n):void 0}},$t=function(e,t,n){var a=e.get("type"),i=e.get("properties")||new z.Map,r=e.get("children1"),o="rule_group"===a?i.get("field"):null;"array"==(Object(G.getFieldConfig)(t,o)||{}).mode&&n.errors.push("Aggregation is not supported for ".concat(o));var s=i.get("not"),l=r.map((function(e){return Xt(e,t,n)})).filter((function(e){return"undefined"!==typeof e}));if(l.size){var c=i.get("conjunction");return c||(c=Object(J.defaultConjunction)(t)),t.conjunctions[c].sqlFormatConj(l,c,s)}},en=function(e,t,n){var a=e.get("properties")||new z.Map,i=a.get("field"),r=a.get("operator"),o=a.get("operatorOptions"),s=a.get("valueSrc"),l=a.get("valueType"),c=a.get("value");if(null!=i&&null!=r){var u=Object(G.getFieldConfig)(t,i)||{},d=Object(G.getOperatorConfig)(t,r,i)||{},p=d.reversedOp,b=Object(G.getOperatorConfig)(t,p,i)||{},f=Object(K.c)(d.cardinality,1),j=[],m=[],h=c.map((function(e,a){var o=s?s.get(a):null,c=l?l.get(a):null,p=Object(kt.a)(e,o,t),b=Object(H.l)(t,i,r,o),f=Z()(Object(G.getFieldWidgetConfig)(t,i,r,b,o),["factory"]),h=tn(n,t,p,o,c,f,u,r,d);return void 0!==h&&(j.push(o),m.push(c)),h}));if(!(h.filter((function(e){return void 0===e})).size>0||h.size<f)){var v=1==f?h.first():h,g=!1,O=d.sqlFormatOp;if(!O&&p&&(O=b.sqlFormatOp)&&(g=!0),!O){var x=d.sqlOp||r;0==f?O=function(e,t,n,a,i,r,o){return"".concat(e," ").concat(x)}:1==f?O=function(e,t,n,a,i,r,o){return"".concat(e," ").concat(x," ").concat(n)}:2==f&&(O=function(e,t,n,a,i,r,o){var s=n.first(),l=n.get(1);return"".concat(e," ").concat(x," ").concat(s," AND ").concat(l)})}if(O){var y=[nn(n,t,i),r,v,j.length>1?j:j[0],m.length>1?m:m[0],Z()(d,["formatOp","mongoFormatOp","sqlFormatOp","jsonLogic"]),o],w=O.apply(void 0,y);return g&&(w=t.settings.sqlFormatReverse(w,r,p,d,b)),w}n.errors.push("Operator ".concat(r," is not supported"))}}},tn=function(e,t,n,a,i,r,o,s,l){if(void 0!==n){var c;if("field"==a)c=nn(e,t,n);else if("func"==a)c=an(e,t,n);else if("function"===typeof r.sqlFormatValue){var u=r.sqlFormatValue,d=[n,ke()(o,["fieldSettings","listValues"]),Z()(r,["formatValue","mongoFormatValue","sqlFormatValue","jsonLogic","elasticSearchFormatValue"])];if(s&&(d.push(s),d.push(l)),"field"==a){var p=Object(G.getFieldConfig)(t,n)||{};d.push(p)}c=u.apply(void 0,d)}else c=Qt.escape(n);return c}},nn=function(e,t,n){var a=t.settings.fieldSeparator,i=Object(G.getFieldConfig)(t,n)||{},r=Array.isArray(n)?n:n.split(a),o=(Object(H.c)(n,t),Object(H.d)(n,t)),s=o?o.join(a):null;return(t.settings.formatField||zt.a.formatField)(Object(H.b)(n,t,e),r,s,i,t)},an=function(e,t,n){var a,i=n.get("func"),r=n.get("args"),o=Object(G.getFuncConfig)(t,i),s=o.sqlFunc||i,l={};for(var c in o.args){var d=o.args[c],p=Object(G.getFieldConfig)(t,d),b=r?r.get(c):void 0,f=b?b.get("value"):void 0,j=b?b.get("valueSrc"):void 0,m=tn(e,t,f,j,d.type,p,d,null,null);if(void 0!=f&&void 0===m)return void e.errors.push("Can't format value of arg ".concat(c," for func ").concat(i));void 0!==m&&(l[c]=m)}if("function"===typeof o.sqlFormatFunc){var h=[l];a=o.sqlFormatFunc.apply(void 0,h)}else{var v=Object.entries(l).map((function(e){var t=Object(u.a)(e,2);t[0];return t[1]})).join(", ");a="".concat(s,"(").concat(v,")")}return a},rn=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a={errors:[]},i=on(e,t,a,n,null);return a.errors.length&&console.warn("Errors while exporting to string:",a.errors),i},on=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(e){var r=e.get("type"),o=e.get("children1");return("group"===r||"rule_group"===r)&&o&&o.size?sn(e,t,n,a,i):"rule"===r?cn(e,t,n,a,i):void 0}},sn=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,r=e.get("type"),o=e.get("properties")||new z.Map,s=o.get("mode"),l=e.get("children1"),c="rule_group"===r,u=c&&"array"==s?o.get("field"):null,d=o.get("not"),p=l.map((function(e){return on(e,t,n,a,u)})).filter((function(e){return"undefined"!==typeof e}));if(p.size){var b=o.get("conjunction");b||(b=Object(J.defaultConjunction)(t));var f,j=t.conjunctions[b],m=j.formatConj(p,b,d,a);if(u){var h=cn(e,t,n,a,i,!0);if(m&&h){var v,g=h.pop(),O=[m].concat(Object(At.a)(h));f=(v=t.settings).formatAggr.apply(v,Object(At.a)(O)),g&&(f=t.settings.formatReverse(f,null,null,null,null,a))}}else f=m;return f}},ln=function(e,t,n,a,i,r){var o,s=t.get("field"),l=t.get("valueSrc"),c=t.get("valueType"),u=Object(G.getFieldConfig)(e,s)||{},d=a||t.get("operator"),p=Object(G.getOperatorConfig)(e,d,s)||{},b=Object(K.c)(p.cardinality,1),f=t.get("value"),j=t.get("asyncListValues"),m=[],h=[];if(void 0!=f){var v=f.map((function(t,a){var o=l?l.get(a):null,b=c?c.get(a):null,f=Object(kt.a)(t,o,e),v=Object(H.l)(e,s,d,o),g=Z()(Object(G.getFieldWidgetConfig)(e,s,d,v,o),["factory"]),O=un(e,n,f,o,b,g,u,d,p,i,r,j);return void 0!==O&&(m.push(o),h.push(b)),O}));v.filter((function(e){return void 0===e})).size>0||v.size<b||(o=1==b?v.first():v)}return[o,m.length>1?m:m[0],h.length>1?h:h[0]]},cn=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,r=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=e.get("properties")||new z.Map,s=o.get("field"),l=o.get("operator"),c=o.get("operatorOptions");if(null!=s&&null!=l){var d=Object(G.getFieldConfig)(t,s)||{},p=Object(G.getOperatorConfig)(t,l,s)||{},b=p.reversedOp,f=Object(G.getOperatorConfig)(t,b,s)||{},j=Object(K.c)(p.cardinality,1),m=!1,h=p.formatOp;if(!h&&b&&(h=f.formatOp)){m=!0;var v=[b,l];l=v[0],b=v[1];var g=[f,p];p=g[0],f=g[1]}var O=p.labelForFormat||l;if(h||(0==j?h=function(e,t,n,a,i,r,o,s){return"".concat(e," ").concat(O)}:1==j?h=function(e,t,n,a,i,r,o,s){return"".concat(e," ").concat(O," ").concat(n)}:2==j&&(h=function(e,t,n,a,i,r,o,s){var l=n.first(),c=n.get(1);return"".concat(e," ").concat(O," ").concat(l," AND ").concat(c)})),h){var x=dn(t,n,s,a,i),y=ln(t,o,n,l,a,i),w=Object(u.a)(y,3),k=w[0],N=w[1],_=w[2];if(void 0!==k){var S=[x,l,k,N,_,Z()(p,["formatOp","mongoFormatOp","sqlFormatOp","jsonLogic"]),c,a,d,m];if(r)return S;var C=h.apply(void 0,S);return m&&(C=t.settings.formatReverse(C,l,b,p,f,a)),C}}}},un=function(e,t,n,a,i,r,o,s,l,c){var u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:null,p=arguments.length>11?arguments[11]:void 0;if(void 0!==n){var b;if("field"==a)b=dn(e,t,n,c,u);else if("func"==a)b=pn(e,t,n,c,u);else if("function"===typeof r.formatValue){var f=r.formatValue,j=[n,Object(d.a)(Object(d.a)({},ke()(o,["fieldSettings","listValues"])),{},{asyncListValues:p}),Z()(r,["formatValue","mongoFormatValue","sqlFormatValue","jsonLogic","elasticSearchFormatValue"]),c];if(s&&(j.push(s),j.push(l)),"field"==a){var m=Object(G.getFieldConfig)(e,n)||{};j.push(m)}b=f.apply(void 0,j)}else b=n;return b}},dn=function(e,t,n,a){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,r=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],o=e.settings,s=o.fieldSeparator,l=o.fieldSeparatorDisplay,c=null;if(n){var u=Object(G.getFieldConfig)(e,n)||{},d=Array.isArray(n)?n:n.split(s),p=(Object(H.c)(n,e),Object(H.d)(n,e,r?i:null)),b=p?p.join(l):null,f=u.label2||b,j=e.settings.formatField||zt.a.formatField,m=Object(H.b)(n,e,t,r?i:null);c=j(m,d,f,u,e,a)}return c},pn=function(e,t,n,a){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,r=n.get("func"),o=n.get("args"),s=Object(G.getFuncConfig)(e,r),l=a&&s.label||r,c={},d={};for(var p in s.args){var b=s.args[p],f=Object(G.getFieldConfig)(e,b),j=o?o.get(p):void 0,m=j?j.get("value"):void 0,h=j?j.get("valueSrc"):void 0,v=j?j.get("asyncListValues"):void 0,g=un(e,t,m,h,b.type,f,b,null,null,a,i,v),O=a&&b.label||p;void 0!==g&&(c[p]=g,d[O]=g)}var x=null;if("function"===typeof s.formatFunc){var y=s.formatFunc,w=[c,a];x=y.apply(void 0,w)}else{var k=Object.entries(d).map((function(e){var t=Object(u.a)(e,2),n=t[0],i=t[1];return a?"".concat(n,": ").concat(i):"".concat(i)})).join(", ");x="".concat(l,"(").concat(k,")")}return x};function bn(e,t,n,a,i){var r=function(e,t){return e}(a);switch(e){case"filter":return{script:i.operators[n].elasticSearchScript(a,t)};case"exists":return{field:a};case"match":return Object(o.a)({},r,t[0]);case"term":return Object(o.a)({},a,t[0]);case"geo_bounding_box":return Object(o.a)({},a,function(e){if(null==e)return null;var t=e.split(",").map(Number);return{top_left:{lat:t[0],lon:t[1]},bottom_right:{lat:t[2],lon:t[3]}}}(t[0]));case"range":return Object(o.a)({},a,function(e,t){if(e.length>1)return{gte:"".concat(e[0]),lte:"".concat(e[1])};var n=e[0];switch(t){case"on_date":case"not_on_date":case"equal":case"select_equals":case"not_equal":return{gte:"".concat(n,"||/d"),lte:"".concat(n,"||+1d")};case"less_or_equal":return{lte:"".concat(n)};case"greater_or_equal":case"greater":return{gte:"".concat(n)};case"less":return{lt:"".concat(n)};default:return}}(t,n));case"wildcard":return Object(o.a)({},a,function(e){return{value:"*"+e+"*"}}(t[0]));case"regexp":return Object(o.a)({},a,function(e){return{value:e}}(t[0]));default:return}}function fn(e,t,n,a,i){if(e&&n&&void 0!=t){var r=n,s=a.operators[r];if(s){var l=s.elasticSearchQueryType,c=!1;if(!l&&s.reversedOp)c=!0,r=s.reversedOp,l=(s=a.operators[r]).elasticSearchQueryType;var u,p,b=Object(H.l)(a,e,r,i),f=a.widgets[b].elasticSearchFormatValue;if(u="function"===typeof l?l(b):l)return p="function"===typeof f?f(u,t,r,e,a):bn(u,t,r,e,a),c?{bool:{must_not:Object(o.a)({},u,Object(d.a)({},p))}}:Object(o.a)({},u,Object(d.a)({},p))}}}function jn(e,t){if(e){var n=e.get("type"),a=e.get("properties")||new Map;if("rule"===n&&a.get("field")){var i,r,s=a.get("operator"),l=a.get("field"),c=a.get("value").toJS(),u=(null===(i=a.get("valueType"))||void 0===i||i.get(0),null===(r=a.get("valueSrc"))||void 0===r?void 0:r.get(0));if("func"===u)return;return c&&Array.isArray(c[0])?c[0].map((function(e){return fn(l,[e],s,t,u)})):fn(l,c,s,t,u)}if("group"===n||"rule_group"===n){var d=a.get("conjunction");return d||(d=Object(J.defaultConjunction)(t)),function(e,t,n,a){if(e&&e.size){var i=e.valueSeq().toArray(),r=function(e){switch(e){case"AND":return"must";case"OR":return"should";case"NOT":return"must_not";default:return}}(t),s=i.map((function(e){return n(e,a)})).filter((function(e){return void 0!==e}));if(s.length){var l=s.flat(1/0);return{bool:Object(o.a)({},r,l)}}}}(e.get("children1"),d,jn,t)}}}var mn=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e){var n=e;return n=n.toJS(),t&&(n=Object(W.g)(n)),n}},hn=function(e){if(On(e))return e;if(xn(e))return yn(e);if("string"==typeof e&&e.startsWith('["~#iM"'))throw"You are trying to load query in obsolete serialization format (Immutable string) which is not supported in versions starting from 2.1.17";if("string"==typeof e)return yn(JSON.parse(e));throw"Can't load tree!"},vn=function(e,t){if(e){var n=Object(G.extendConfig)(t);return Object(Y.a)(e,null,n,n,!0,!0)}},gn=function(e){return 0==Object(W.j)(e).length},On=function(e){return z.Map.isMap(e)},xn=function(e){return"object"==typeof e&&"group"==e.type};function yn(e){return Object(z.fromJS)(e,(function(e,t){var n;if("value"==e&&t.get(0)&&void 0!==t.get(0).toJS){var a=t.get(0).toJS();n=a.func?t.toOrderedMap():V.a.List.of(a)}else n="asyncListValues"==e?t.toJS():V.a.Iterable.isIndexed(t)?t.toList():t.toOrderedMap();return n}))}var wn=n(116),kn=n.n(wn),Nn=function(e){return Array.from(new Set(e))},_n=function(e,t){var n={errors:[]},a=Object(G.extendConfig)(t),i=Sn(a),r=e?Cn(e,i,a,"rule",n):void 0;r&&"group"!=r.type&&(r=qn(r,a));var o=r?hn(r):void 0;return n.errors.length&&console.warn("Errors while importing from JsonLogic:",n.errors),o},Sn=function(e){var t={};for(var n in e.operators){var a=e.operators[n];if("string"==typeof a.jsonLogic){var i=(a._jsonLogicIsRevArgs?"#":"")+a.jsonLogic+"/"+Object(K.c)(a.cardinality,1);t[i]||(t[i]=[]),t[i].push(n)}else if("string"==typeof a.jsonLogic2){var r=a.jsonLogic2+"/"+Object(K.c)(a.cardinality,1);t[r]||(t[r]=[]),t[r].push(n)}}var o={};for(var s in e.conjunctions){o[s.toLowerCase()]=s}var l={};for(var c in e.funcs){var u=e.funcs[c],d=void 0;u.jsonLogicIsMethod?d="#"+u.jsonLogic:"string"==typeof u.jsonLogic&&(d=u.jsonLogic),d&&(l[d]||(l[d]=[]),l[d].push(c))}var p=e.settings.jsonLogic;return{operators:t,conjunctions:o,funcs:l,varKeys:["var",p.groupVarKey,p.altVarKey]}},Cn=function e(t,n,a,i,r){var o,s,l,c=arguments.length>5&&void 0!==arguments[5]&&arguments[5],u=arguments.length>6?arguments[6]:void 0,d=arguments.length>7?arguments[7]:void 0,p=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null;Object(K.h)(t)&&(s=t[o=Object.keys(t)[0]],Array.isArray(s)||(s=[s]));var b=r.errors.length,f=a.settings.jsonLogic.lockedOp,j="!"==o&&1==s.length&&s[0]&&Object(K.h)(s[0])&&n.varKeys.includes(Object.keys(s[0])[0]),m="!"==o&&!j,h=f&&o==f;h?l=e(s[0],n,a,i,r,c,u,d,p,!0):m?l=e(s[0],n,a,i,r,!c,u,d,p):"val"==i?l=Fn(o,s,n,a,c,r,p)||Pn(o,s,n,a,c,u,r,p)||An(t,u,d,a,r):"rule"==i&&(l=Dn(o,s,n,a,c,r,p,!1)||Rn(o,s,n,a,c,r,p));var v=r.errors.length;return"!"!=o&&void 0===l&&v==b&&r.errors.push("Can't parse logic ".concat(JSON.stringify(t))),h&&(l.properties.isLocked=!0),l},An=function(e,t,n,a,i){if(void 0!==e){var r=a.widgets[n||t.mainWidget];if(r){if(!Object(K.h)(e)){if(t&&"time"==t.type&&"number"==typeof e){var o=Math.floor(e/60/60)%24,s=Math.floor(e/60)%60,l=e%60,c=r.valueFormat;if(c){var u=new Date(e);u.setMilliseconds(0),u.setHours(o),u.setMinutes(s),u.setSeconds(l),e=kn()(u).format(c)}else e="".concat(o,":").concat(s,":").concat(l)}if(t&&["date","datetime"].includes(t.type)&&e&&!(e instanceof Date))try{var d=new Date(e);d instanceof Date&&d.toISOString()===e&&(e=d)}catch(f){i.errors.push("Can't convert value ".concat(e," as Date")),e=void 0}if(e instanceof Date&&t){var p=r.valueFormat;p&&(e=kn()(e).format(p))}var b;if(e&&t.fieldSettings&&t.fieldSettings.asyncFetch)b=Array.isArray(e)?e:[e];return{valueSrc:"value",value:e,valueType:r.type,asyncListValues:b}}i.errors.push("Unexpected logic in value: ".concat(JSON.stringify(e)))}else i.errors.push("No widget for type ".concat(t.type))}},Fn=function(e,t,n,a,i,r){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=a.settings.fieldSeparator;if(n.varKeys.includes(e)&&"string"==typeof t[0]){var l=t[0];o&&(l=[o,l].join(s)),l=Object(G.normalizeField)(a,l);var c=Object(G.getFieldConfig)(a,l);return c?{valueSrc:"field",value:l,valueType:c.type}:void r.errors.push("No config for field ".concat(l))}},Pn=function(e,t,n,a,i,r,s){var l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;if(e){var c,p,b,f="method"==e;if(f){var j,m,h=Object(Ft.a)(t);j=h[0],c=h[1],m=h.slice(2),p=[j].concat(Object(At.a)(m))}else c=e,p=t;var v=(f?"#":"")+c,g=(n.funcs[v]||[]).filter((function(e){return!r||a.funcs[e].returnType==r.type}));if(g.length)b=g[0];else for(var O=Object(o.a)({},e,t),x=0,y=Object.entries(a.funcs||{});x<y.length;x++){var w=Object(u.a)(y[x],2),k=w[0],N=w[1];if(N.jsonLogicImport&&N.returnType==r.type){var _=void 0;try{_=N.jsonLogicImport(O)}catch(F){}_&&(b=k,p=_)}}if(b&&b){var S=a.funcs[b],C=Object.keys(S.args||{}),A=p.reduce((function(e,t,i){var r=C[i],c=S.args[r],u=Cn(t,n,a,"val",s,!1,c,null,l);if(void 0!==u||void 0!==(u=c.defaultValue))return Object(d.a)(Object(d.a)({},e),{},Object(o.a)({},r,u));s.errors.push("No value for arg ".concat(r," of func ").concat(b))}),{});return{valueSrc:"func",value:{func:b,args:A},valueType:S.returnType}}}},Dn=function(e,t,n,a,i,r){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,l=n.conjunctions[e],c=a.settings.fieldSeparator,p=s?Object(G.getFieldConfig)(a,s):null;null===p||void 0===p||p.type;if(l){var b="group",f=t.map((function(e){return Cn(e,n,a,"rule",r,!1,null,null,s)})).filter((function(e){return void 0!==e})).reduce((function(e,t){return Object(d.a)(Object(d.a)({},e),{},Object(o.a)({},t.id,t))}),{}),j=Object.values(f).map((function(e){var t;return null===e||void 0===e||null===(t=e.properties)||void 0===t?void 0:t.field})).filter((function(e){return e&&e.includes(c)})),m=Object.fromEntries(Nn(j).map((function(e){var t=e.split(c),n=Object.fromEntries(t.slice(0,-1).map((function(e,t,n){return[].concat(Object(At.a)(n.slice(0,t)),[e])})).map((function(e){return[e.join(c),Object(G.getFieldConfig)(a,e)]})).filter((function(e){var t=Object(u.a)(e,2);t[0];return"!group"==t[1].type})));return[e,Object.keys(n)]}))),h=(Object.values(f).map((function(e){var t;return null===e||void 0===e||null===(t=e.properties)||void 0===t?void 0:t.field})).map((function(e){return m[e]})).filter((function(e){return e&&e.length})),Nn(Object.values(m).flat())),v=(En(h),{conjunction:l,not:i}),g=Object(U.a)(),O={},x={};return Object.entries(f).map((function(e){var t=Object(u.a)(e,2),n=t[0],i=t[1];if("group"==i.type||"rule_group"==i.type)O[n]=i;else{var r,o=null===i||void 0===i||null===(r=i.properties)||void 0===r?void 0:r.field,d=m[o],p=null===d||void 0===d?void 0:d.at(-1);if(p){var b=O,f=s?s.split(c):[];Object(K.l)(f,p.split(c).slice(0,f.length))||(f=[]),p.split(c).slice(f.length).map((function(e,t,n){return[].concat(Object(At.a)(f),Object(At.a)(n.slice(0,t)),[e]).join(c)})).map((function(e){return Object(G.normalizeField)(a,e)})).map((function(e){return{f:e,fc:Object(G.getFieldConfig)(a,e)||{}}})).filter((function(e){return"!struct"!=e.fc.type})).map((function(e,t){var n=e.f,a=e.fc,i=x[n];i||(i=Object(U.a)(),x[n]=i,b[i]={type:"rule_group",id:i,children1:{},properties:{conjunction:l,not:!1,field:n,mode:a.mode}}),b=b[i].children1})),b[n]=i}else O[n]=i}})),{type:b,id:g,children1:O,properties:v}}},En=function(e){for(var t=Object(At.a)(e).sort((function(e,t){return e.length-t.length})),n=0;n<t.length;n++)for(var a=n+1;a<t.length;a++)0==t[a].indexOf(t[n])&&(t.splice(a,1),a--);return t},Tn=function(e,t,n,a,i){if(e)return{type:"rule_group",id:Object(U.a)(),children1:Object(o.a)({},e.id,e),properties:{conjunction:i||Object(J.defaultGroupConjunction)(a,n),not:!1,field:t}}},qn=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{type:"group",id:Object(U.a)(),children1:Object(o.a)({},e.id,e),properties:{conjunction:Object(J.defaultConjunction)(t),not:n}}},Mn=function(e,t,n,a,i,r,o){var s=[],l=In(e,t,n,a,i,r,s,!1)||In(e,t,n,a,i,r,s,!0);if(l)return l;o.errors.push(s.join("; ")||"Unknown op ".concat(e,"/").concat(t))},In=function(e,t,n,a,i,r,o,s){var l=!("all"==e&&Object(K.h)(n[1])&&"in"==Object.keys(n[1])[0])&&r.settings.groupOperators.includes(e),c=e+"/"+(l?0:t-1),d=r.settings.fieldSeparator,p=i.operators[(s?"#":"")+c];if(p){var b,f=[];if(["<","<=",">",">="].includes(e)&&3==t)b=n[1],f=[n[0],n[2]];else if(s)b=n[1],f=[n[0]];else{var j=Object(Ft.a)(n);b=j[0],f=j.slice(1)}if(!Object(K.h)(b))return void o.push("Incorrect operands for ".concat(e,": ").concat(JSON.stringify(n)));var m,h,v=Object.keys(b)[0],g=Object.values(b)[0];if(i.varKeys.includes(v)&&"string"==typeof g&&(m=g),l&&(!0,h=f[0],f=[]),"reduce"==v&&Array.isArray(g)&&3==g.length){var O=g,x=Object(u.a)(O,3),y=x[0],w=x[1],k=x[2];if(Object(K.h)(y)&&0==k&&Object(K.h)(w)&&Array.isArray(w["+"])&&1==w["+"][0]&&Object(K.h)(w["+"][1])&&"accumulator"==w["+"][1].var)if(v=Object.keys(y)[0],g=Object.values(y)[0],"filter"==v){var N=g,_=Object(u.a)(N,2),S=_[0],C=_[1];Object(K.h)(S)&&(v=Object.keys(S)[0],g=Object.values(S)[0],i.varKeys.includes(v)&&"string"==typeof g&&(m=g,h=C,!0))}else i.varKeys.includes(v)&&"string"==typeof g&&(m=g,!0)}if(!m)return void o.push("Unknown field ".concat(JSON.stringify(b)));a&&(m=[a,m].join(d)),m=Object(G.normalizeField)(r,m);var A=Object(G.getFieldConfig)(r,m);if(!A)return void o.push("No config for field ".concat(m));var F=p[0];if(p.length>1&&A&&A.operators){if(p=p.filter((function(e){return A.operators.includes(e)})),0==p.length)return void o.push("No corresponding ops for field ".concat(m));F=p[0]}return{field:m,fieldConfig:A,opKey:F,args:f,having:h}}},Rn=function e(t,n,a,i,r,o){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;if(t){var l=n.length;if("all"==t&&Object(K.h)(n[1])){var c=Object.keys(n[1])[0];"in"==c&&(n=[n[0],n[1][c][1]],t=t+"-"+c)}var u=Mn(t,l,n,s,a,i,o);if(u){var d,p,b=u.field,f=u.fieldConfig,j=u.opKey,m=u.args,h=u.having,v=i.operators[j],g=(void 0!==f.showNot?f.showNot:i.settings.showNot,!0);if("!group"==f.type&&h){p=h[d=Object.keys(h)[0]],Array.isArray(p)||(p=[p]);var O="!"==d&&1==p.length&&p[0]&&Object(K.h)(p[0])&&a.varKeys.includes(Object.keys(p[0])[0]);"!"!=d||O||(r=!r,p=(h=h["!"])[d=Object.keys(h)[0]],Array.isArray(p)||(p=[p]))}r&&g&&v.reversedOp&&(r=!1,j=v.reversedOp,v=i.operators[j]);var x=Object(H.l)(i,b,j),y=m.map((function(e){return Cn(e,a,i,"val",o,!1,f,x,s)}));if(!y.filter((function(e){return void 0===e})).length){var w;if("!group"==f.type&&h){if(void 0!==a.conjunctions[d])w=Dn(d,p,a,i,r,o,b,!0),r=!1;else{var k,N=e(d,p,a,i,r&&g,o,b);r&&g&&!(null===N||void 0===N||null===(k=N.properties)||void 0===k?void 0:k.not)&&(r=!1),w=Tn(N,b,f,i,a.conjunctions.and)}if(!w)return;w.type="rule_group",r&&Object.assign(w.properties,{not:r}),Object.assign(w.properties,{field:b,mode:f.mode,operator:j}),"array"==f.mode&&Object.assign(w.properties,{value:y.map((function(e){return e.value})),valueSrc:y.map((function(e){return e.valueSrc})),valueType:y.map((function(e){return e.valueType}))})}else if("!group"!=f.type||h){var _=y.map((function(e){return e.asyncListValues})).filter((function(e){return void 0!=e})),S=_.length?_[0]:void 0;w={type:"rule",id:Object(U.a)(),properties:{field:b,operator:j,value:y.map((function(e){return e.value})),valueSrc:y.map((function(e){return e.valueSrc})),valueType:y.map((function(e){return e.valueType})),asyncListValues:S}},r&&(w=qn(w,i,r))}else w={type:"rule_group",id:Object(U.a)(),children1:{},properties:{conjunction:Object(J.defaultGroupConjunction)(i,f),not:r,mode:f.mode,field:b,operator:j}},"array"==f.mode&&Object.assign(w.properties,{value:y.map((function(e){return e.value})),valueSrc:y.map((function(e){return e.valueSrc})),valueType:y.map((function(e){return e.valueType}))});return w}}}},Ln=n(138),zn=n(513),Vn=n.n(zn),Wn=function(e){Object(j.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).handleChange=function(t){e.props.setOption("proximity",parseInt(t))},e}return Object(b.a)(n,[{key:"render",value:function(){var e=this.props,t=e.defaults,n=e.options,a=e.config,i=e.optionLabel,r=e.optionPlaceholder,o=e.customProps,s=e.minProximity,l=e.maxProximity,c=e.optionTextBefore,u=e.readonly,p=a.settings,b=a.widgets,f=t?t.proximity:void 0,j=p.showLabels,m=n.get("proximity",f),h=Vn()(s,l+1).map((function(e){return{title:e,value:e}})),v=b.select.factory;return Object(Se.jsxs)("div",{className:"operator--PROXIMITY",children:[Object(Se.jsxs)("div",{className:"operator--options",children:[j&&Object(Se.jsx)("label",{className:"rule--label",children:i}),!j&&c&&Object(Se.jsx)("div",{className:"operator--options--sep",children:Object(Se.jsx)("span",{children:c})}),Object(Se.jsx)(v,Object(d.a)({config:a,value:m,listValues:h,setValue:this.handleChange,readonly:u,placeholder:r},o))]}),Object(Se.jsx)("div",{className:"operator--widgets",children:this.props.children})]})}}]),n}(O.PureComponent);Wn.defaultProps={customProps:{},minProximity:2,maxProximity:10,optionPlaceholder:"Select words between",optionLabel:"Words between",optionTextBefore:null};var Jn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;return function(){var a=Object(c.a)(l.a.mark((function a(i,r,o){var s,c,u,d,p,b;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s=void 0!=o.pageSize?o.pageSize:t,c=Object(K.i)(e).filter((function(e){var t=e.title;return null==i||-1!=t.toUpperCase().indexOf(i.toUpperCase())})),s?Math.ceil(c.length/s):0,u=r||0,s?Math.ceil(u/s):null,d=s?c.slice(u,u+s):c,p=s?u+d.length:null,b=!!s&&p<c.length,console.debug("simulateAsyncFetch",{search:i,offset:r,values:d,hasMore:b,filtered:c}),a.next=11,Object(K.m)(n);case 11:return a.abrupt("return",{values:d,hasMore:b});case 12:case"end":return a.stop()}}),a)})));return function(e,t,n){return a.apply(this,arguments)}}()},Bn=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t)return e;var a=e||[],i=t.filter((function(e){return void 0==a.find((function(t){return t.value==e.value}))})),r=n?[].concat(Object(At.a)(i),Object(At.a)(a)):[].concat(Object(At.a)(a),Object(At.a)(i));return r},Un=function(e){if(null==e)return null;var t=e.title,n=e.value,a=e.disabled,i=e.groupTitle,r=e.renderTitle,o={title:t,value:n};return a&&(o.disabled=a),i&&(o.groupTitle=i),r&&(o.renderTitle=r),o},Gn=function(e,t){return Object(K.j)(t,(function(t){return t.value===e?t:null})).filter((function(e){return null!==e})).shift()},Hn=Ln.c,Kn=Ln.q,Yn=Ln.p,Qn=Ln.h,Zn=Ln.r,Xn=Ln.g,$n=Ln.j,ea=Ln.m,ta=Ln.k,na=Ln.n,aa=Ln.b,ia=Ln.a,ra=Wn,oa=function(e,t,n,a,i,r,s){var l="string"!=typeof a||a.startsWith("$")?a:"$"+a,c=t(r);if(void 0!==c)return n?s?{$not:Object(o.a)({},e,[l,c])}:Object(o.a)({},a,{$not:Object(o.a)({},e,c)}):s||"$eq"!=e?s?Object(o.a)({},e,[l,c]):Object(o.a)({},a,Object(o.a)({},e,c)):Object(o.a)({},a,c)},sa=function(e,t,n,a,i,r){var s,l,c="string"!=typeof n||n.startsWith("$")?n:"$"+n;return t?r?{$not:{$and:[Object(o.a)({},e[0],[c,i[0]]),Object(o.a)({},e[1],[c,i[1]])]}}:Object(o.a)({},n,{$not:(s={},Object(o.a)(s,e[0],i[0]),Object(o.a)(s,e[1],i[1]),s)}):r?{$and:[Object(o.a)({},e[0],[c,i[0]]),Object(o.a)({},e[1],[c,i[1]])]}:Object(o.a)({},n,(l={},Object(o.a)(l,e[0],i[0]),Object(o.a)(l,e[1],i[1]),l))},la={equal:{label:"==",labelForFormat:"==",sqlOp:"=",reversedOp:"not_equal",formatOp:function(e,t,n,a,i,r,o,s,l){var c=s?"=":r.label;return"boolean"==i&&s?"No"==n?"NOT ".concat(e):"".concat(e):"".concat(e," ").concat(c," ").concat(n)},mongoFormatOp:oa.bind(null,"$eq",(function(e){return e}),!1),jsonLogic:"==",elasticSearchQueryType:"term"},not_equal:{isNotOp:!0,label:"!=",labelForFormat:"!=",sqlOp:"<>",reversedOp:"equal",formatOp:function(e,t,n,a,i,r,o,s,l){return"boolean"==i&&s?"No"==n?"".concat(e):"NOT ".concat(e):"".concat(e," ").concat(r.label," ").concat(n)},mongoFormatOp:oa.bind(null,"$ne",(function(e){return e}),!1),jsonLogic:"!="},less:{label:"<",labelForFormat:"<",sqlOp:"<",reversedOp:"greater_or_equal",mongoFormatOp:oa.bind(null,"$lt",(function(e){return e}),!1),jsonLogic:"<",elasticSearchQueryType:"range"},less_or_equal:{label:"<=",labelForFormat:"<=",sqlOp:"<=",reversedOp:"greater",mongoFormatOp:oa.bind(null,"$lte",(function(e){return e}),!1),jsonLogic:"<=",elasticSearchQueryType:"range"},greater:{label:">",labelForFormat:">",sqlOp:">",reversedOp:"less_or_equal",mongoFormatOp:oa.bind(null,"$gt",(function(e){return e}),!1),jsonLogic:">",elasticSearchQueryType:"range"},greater_or_equal:{label:">=",labelForFormat:">=",sqlOp:">=",reversedOp:"less",mongoFormatOp:oa.bind(null,"$gte",(function(e){return e}),!1),jsonLogic:">=",elasticSearchQueryType:"range"},like:{label:"Like",labelForFormat:"Like",reversedOp:"not_like",sqlOp:"LIKE",sqlFormatOp:function(e,t,n,a,i,r,o){return"value"==a?"".concat(e," LIKE ").concat(n):void 0},mongoFormatOp:oa.bind(null,"$regex",(function(e){return"string"==typeof e?Object(K.d)(e):void 0}),!1),jsonLogic:"in",_jsonLogicIsRevArgs:!0,valueSources:["value"],elasticSearchQueryType:"regexp"},not_like:{isNotOp:!0,label:"Not like",reversedOp:"like",labelForFormat:"Not Like",sqlOp:"NOT LIKE",sqlFormatOp:function(e,t,n,a,i,r,o){return"value"==a?"".concat(e," NOT LIKE ").concat(n):void 0},mongoFormatOp:oa.bind(null,"$regex",(function(e){return"string"==typeof e?Object(K.d)(e):void 0}),!0),valueSources:["value"]},starts_with:{label:"Starts with",labelForFormat:"Starts with",sqlOp:"LIKE",sqlFormatOp:function(e,t,n,a,i,r,o){return"value"==a?"".concat(e," LIKE ").concat(n):void 0},mongoFormatOp:oa.bind(null,"$regex",(function(e){return"string"==typeof e?"^"+Object(K.d)(e):void 0}),!1),jsonLogic:void 0,valueSources:["value"]},ends_with:{label:"Ends with",labelForFormat:"Ends with",sqlOp:"LIKE",sqlFormatOp:function(e,t,n,a,i,r,o){return"value"==a?"".concat(e," LIKE ").concat(n):void 0},mongoFormatOp:oa.bind(null,"$regex",(function(e){return"string"==typeof e?Object(K.d)(e)+"$":void 0}),!1),jsonLogic:void 0,valueSources:["value"]},between:{label:"Between",labelForFormat:"BETWEEN",sqlOp:"BETWEEN",cardinality:2,formatOp:function(e,t,n,a,i,r,o,s){var l=n.first(),c=n.get(1);return s?"".concat(e," BETWEEN ").concat(l," AND ").concat(c):"".concat(e," >= ").concat(l," && ").concat(e," <= ").concat(c)},mongoFormatOp:sa.bind(null,["$gte","$lte"],!1),valueLabels:["Value from","Value to"],textSeparators:[null,"and"],reversedOp:"not_between",jsonLogic:"<=",validateValues:function(e){return void 0!=e[0]&&void 0!=e[1]?e[0]<=e[1]?null:"Invalid range":null},elasticSearchQueryType:function(e){return"time"===e?"filter":"range"}},not_between:{isNotOp:!0,label:"Not between",labelForFormat:"NOT BETWEEN",sqlOp:"NOT BETWEEN",cardinality:2,mongoFormatOp:sa.bind(null,["$gte","$lte"],!0),valueLabels:["Value from","Value to"],textSeparators:[null,"and"],reversedOp:"between",validateValues:function(e){return void 0!=e[0]&&void 0!=e[1]?e[0]<=e[1]?null:"Invalid range":null}},is_empty:{label:"Is empty",labelForFormat:"IS EMPTY",sqlOp:"IS EMPTY",cardinality:0,reversedOp:"is_not_empty",formatOp:function(e,t,n,a,i,r,o,s){return s?"".concat(e," IS EMPTY"):"!".concat(e)},mongoFormatOp:oa.bind(null,"$exists",(function(e){return!1}),!1),jsonLogic:"!"},is_not_empty:{isNotOp:!0,label:"Is not empty",labelForFormat:"IS NOT EMPTY",sqlOp:"IS NOT EMPTY",cardinality:0,reversedOp:"is_empty",formatOp:function(e,t,n,a,i,r,o,s){return s?"".concat(e," IS NOT EMPTY"):"!!".concat(e)},mongoFormatOp:oa.bind(null,"$exists",(function(e){return!0}),!1),jsonLogic:"!!",elasticSearchQueryType:"exists"},select_equals:{label:"==",labelForFormat:"==",sqlOp:"=",formatOp:function(e,t,n,a,i,r,o,s){var l=s?"=":"==";return"".concat(e," ").concat(l," ").concat(n)},mongoFormatOp:oa.bind(null,"$eq",(function(e){return e}),!1),reversedOp:"select_not_equals",jsonLogic:"==",elasticSearchQueryType:"term"},select_not_equals:{isNotOp:!0,label:"!=",labelForFormat:"!=",sqlOp:"<>",formatOp:function(e,t,n,a,i,r,o,s){return"".concat(e," != ").concat(n)},mongoFormatOp:oa.bind(null,"$ne",(function(e){return e}),!1),reversedOp:"select_equals",jsonLogic:"!="},select_any_in:{label:"Any in",labelForFormat:"IN",sqlOp:"IN",formatOp:function(e,t,n,a,i,r,o,s){return"value"==a?"".concat(e," IN (").concat(n.join(", "),")"):"".concat(e," IN (").concat(n,")")},sqlFormatOp:function(e,t,n,a,i,r,o){return"".concat(e," IN (").concat(n.join(", "),")")},mongoFormatOp:oa.bind(null,"$in",(function(e){return e}),!1),reversedOp:"select_not_any_in",jsonLogic:"in",elasticSearchQueryType:"term"},select_not_any_in:{isNotOp:!0,label:"Not in",labelForFormat:"NOT IN",sqlOp:"NOT IN",formatOp:function(e,t,n,a,i,r,o,s){return"value"==a?"".concat(e," NOT IN (").concat(n.join(", "),")"):"".concat(e," NOT IN (").concat(n,")")},sqlFormatOp:function(e,t,n,a,i,r,o){return"".concat(e," NOT IN (").concat(n.join(", "),")")},mongoFormatOp:oa.bind(null,"$nin",(function(e){return e}),!1),reversedOp:"select_any_in"},multiselect_equals:{label:"Equals",labelForFormat:"==",sqlOp:"=",formatOp:function(e,t,n,a,i,r,o,s){var l=s?"=":"==";return"value"==a?"".concat(e," ").concat(l," [").concat(n.join(", "),"]"):"".concat(e," ").concat(l," ").concat(n)},sqlFormatOp:function(e,t,n,a,i,r,o){return"value"==a?"".concat(e," = '").concat(n.map((function(e){return Qt.trim(e)})).join(","),"'"):void 0},mongoFormatOp:oa.bind(null,"$eq",(function(e){return e}),!1),reversedOp:"multiselect_not_equals",jsonLogic2:"all-in",jsonLogic:function(e,t,n){return{all:[e,{in:[{var:""},n]}]}},elasticSearchQueryType:"term"},multiselect_not_equals:{isNotOp:!0,label:"Not equals",labelForFormat:"!=",sqlOp:"<>",formatOp:function(e,t,n,a,i,r,o,s){return"value"==a?"".concat(e," != [").concat(n.join(", "),"]"):"".concat(e," != ").concat(n)},sqlFormatOp:function(e,t,n,a,i,r,o){return"value"==a?"".concat(e," != '").concat(n.map((function(e){return Qt.trim(e)})).join(","),"'"):void 0},mongoFormatOp:oa.bind(null,"$ne",(function(e){return e}),!1),reversedOp:"multiselect_equals"},proximity:{label:"Proximity search",cardinality:2,valueLabels:[{label:"Word 1",placeholder:"Enter first word"},{label:"Word 2",placeholder:"Enter second word"}],textSeparators:[],formatOp:function(e,t,n,a,i,r,o,s){var l=n.first(),c=n.get(1),u=o.get("proximity");return"".concat(e," ").concat(l," NEAR/").concat(u," ").concat(c)},sqlFormatOp:function(e,t,n,a,i,r,o){var s=n.first(),l=n.get(1),c=Qt.trim(s),u=Qt.trim(l),d=o.get("proximity");return"CONTAINS(".concat(e,", 'NEAR((").concat(c,", ").concat(u,"), ").concat(d,")')")},mongoFormatOp:void 0,jsonLogic:void 0,options:{optionLabel:"Near",optionTextBefore:"Near",optionPlaceholder:"Select words between",factory:function(e){return Object(Se.jsx)(ra,Object(d.a)({},e))},minProximity:2,maxProximity:10,defaults:{proximity:2}}},some:{label:"Some",labelForFormat:"SOME",cardinality:0,jsonLogic:"some",mongoFormatOp:oa.bind(null,"$gt",(function(e){return 0}),!1)},all:{label:"All",labelForFormat:"ALL",cardinality:0,jsonLogic:"all",mongoFormatOp:oa.bind(null,"$eq",(function(e){return e}),!1)},none:{label:"None",labelForFormat:"NONE",cardinality:0,jsonLogic:"none",mongoFormatOp:oa.bind(null,"$eq",(function(e){return 0}),!1)}},ca=function(e){return null==e?"NULL":e.toString()},ua={conjunctions:{AND:{label:"And",mongoConj:"$and",reversedConj:"OR",formatConj:function(e,t,n,a){return e.size>1?(n?"NOT ":"")+"("+e.join(" "+(a?"AND":"&&")+" ")+")":(n?"NOT (":"")+e.first()+(n?")":"")},sqlFormatConj:function(e,t,n){return e.size>1?(n?"NOT ":"")+"("+e.join(" AND ")+")":(n?"NOT (":"")+e.first()+(n?")":"")}},OR:{label:"Or",mongoConj:"$or",reversedConj:"AND",formatConj:function(e,t,n,a){return e.size>1?(n?"NOT ":"")+"("+e.join(" "+(a?"OR":"||")+" ")+")":(n?"NOT (":"")+e.first()+(n?")":"")},sqlFormatConj:function(e,t,n){return e.size>1?(n?"NOT ":"")+"("+e.join(" OR ")+")":(n?"NOT (":"")+e.first()+(n?")":"")}}},operators:la,widgets:{text:{type:"text",jsType:"string",valueSrc:"value",valueLabel:"String",valuePlaceholder:"Enter string",factory:function(e){return Object(Se.jsx)(Kn,Object(d.a)({},e))},formatValue:function(e,t,n,a){return a?ca(e):JSON.stringify(e)},sqlFormatValue:function(e,t,n,a,i){return"LIKE"==i.sqlOp||"NOT LIKE"==i.sqlOp?Qt.escapeLike(e,"starts_with"!=a,"ends_with"!=a):Qt.escape(e)},toJS:function(e,t){return e},mongoFormatValue:function(e,t,n){return e}},textarea:{type:"text",jsType:"string",valueSrc:"value",valueLabel:"Text",valuePlaceholder:"Enter text",factory:function(e){return Object(Se.jsx)(Yn,Object(d.a)({},e))},formatValue:function(e,t,n,a){return a?ca(e):JSON.stringify(e)},sqlFormatValue:function(e,t,n,a,i){return"LIKE"==i.sqlOp||"NOT LIKE"==i.sqlOp?Qt.escapeLike(e,"starts_with"!=a,"ends_with"!=a):Qt.escape(e)},toJS:function(e,t){return e},mongoFormatValue:function(e,t,n){return e},fullWidth:!0},number:{type:"number",jsType:"number",valueSrc:"value",factory:function(e){return Object(Se.jsx)(ta,Object(d.a)({},e))},valueLabel:"Number",valuePlaceholder:"Enter number",valueLabels:[{label:"Number from",placeholder:"Enter number from"},{label:"Number to",placeholder:"Enter number to"}],formatValue:function(e,t,n,a){return a?ca(e):JSON.stringify(e)},sqlFormatValue:function(e,t,n,a,i){return Qt.escape(e)},toJS:function(e,t){return e},mongoFormatValue:function(e,t,n){return e}},slider:{type:"number",jsType:"number",valueSrc:"value",factory:function(e){return Object(Se.jsx)(na,Object(d.a)({},e))},valueLabel:"Number",valuePlaceholder:"Enter number or move slider",formatValue:function(e,t,n,a){return a?ca(e):JSON.stringify(e)},sqlFormatValue:function(e,t,n,a,i){return Qt.escape(e)},toJS:function(e,t){return e},mongoFormatValue:function(e,t,n){return e}},select:{type:"select",jsType:"string",valueSrc:"value",factory:function(e){return Object(Se.jsx)(ea,Object(d.a)({},e))},valueLabel:"Value",valuePlaceholder:"Select value",formatValue:function(e,t,n,a){var i=Object(K.f)(t.fieldSettings.listValues||t.asyncListValues,e);return a?ca(i):JSON.stringify(e)},sqlFormatValue:function(e,t,n,a,i){return Qt.escape(e)},toJS:function(e,t){return e},mongoFormatValue:function(e,t,n){return e}},multiselect:{type:"multiselect",jsType:"array",valueSrc:"value",factory:function(e){return Object(Se.jsx)($n,Object(d.a)({},e))},valueLabel:"Values",valuePlaceholder:"Select values",formatValue:function(e,t,n,a){var i=e.map((function(e){return Object(K.f)(t.fieldSettings.listValues||t.asyncListValues,e)}));return a?i.map(ca):e.map(JSON.stringify)},sqlFormatValue:function(e,t,n,a,i){return e.map((function(e){return Qt.escape(e)}))},toJS:function(e,t){return e},mongoFormatValue:function(e,t,n){return e}},date:{type:"date",jsType:"string",valueSrc:"value",factory:function(e){return Object(Se.jsx)(Qn,Object(d.a)({},e))},dateFormat:"DD.MM.YYYY",valueFormat:"YYYY-MM-DD",useKeyboard:!0,valueLabel:"Date",valuePlaceholder:"Enter date",valueLabels:[{label:"Date from",placeholder:"Enter date from"},{label:"Date to",placeholder:"Enter date to"}],formatValue:function(e,t,n,a){var i=kn()(e,n.valueFormat);return a?i.format(n.dateFormat):JSON.stringify(e)},sqlFormatValue:function(e,t,n,a,i){var r=kn()(e,n.valueFormat);return Qt.escape(r.format("YYYY-MM-DD"))},jsonLogic:function(e,t,n){return kn()(e,n.valueFormat).toDate()},toJS:function(e,t){var n=kn()(e,t.valueFormat);return n.isValid()?n.toDate():void 0},mongoFormatValue:function(e,t,n){var a=kn()(e,n.valueFormat);return a.isValid()?a.toDate():void 0}},time:{type:"time",jsType:"string",valueSrc:"value",factory:function(e){return Object(Se.jsx)(Zn,Object(d.a)({},e))},timeFormat:"HH:mm",valueFormat:"HH:mm:ss",use12Hours:!1,useKeyboard:!0,valueLabel:"Time",valuePlaceholder:"Enter time",valueLabels:[{label:"Time from",placeholder:"Enter time from"},{label:"Time to",placeholder:"Enter time to"}],formatValue:function(e,t,n,a){var i=kn()(e,n.valueFormat);return a?i.format(n.timeFormat):JSON.stringify(e)},sqlFormatValue:function(e,t,n,a,i){var r=kn()(e,n.valueFormat);return Qt.escape(r.format("HH:mm:ss"))},jsonLogic:function(e,t,n){var a=kn()(e,n.valueFormat);return 60*a.get("hour")*60+60*a.get("minute")+a.get("second")},toJS:function(e,t){var n=kn()(e,t.valueFormat);return n.isValid()?60*n.get("hour")*60+60*n.get("minute")+n.get("second"):void 0},mongoFormatValue:function(e,t,n){var a=kn()(e,n.valueFormat);return 60*a.get("hour")*60+60*a.get("minute")+a.get("second")},elasticSearchFormatValue:function(e,t,n,a){return{script:{script:{source:"doc[".concat(a,"][0].getHour() >== params.min && doc[").concat(a,"][0].getHour() <== params.max"),params:{min:t[0],max:t[1]}}}}}},datetime:{type:"datetime",jsType:"string",valueSrc:"value",factory:function(e){return Object(Se.jsx)(Xn,Object(d.a)({},e))},timeFormat:"HH:mm",dateFormat:"DD.MM.YYYY",valueFormat:"YYYY-MM-DD HH:mm:ss",use12Hours:!1,useKeyboard:!0,valueLabel:"Datetime",valuePlaceholder:"Enter datetime",valueLabels:[{label:"Datetime from",placeholder:"Enter datetime from"},{label:"Datetime to",placeholder:"Enter datetime to"}],formatValue:function(e,t,n,a){var i=kn()(e,n.valueFormat);return a?i.format(n.dateFormat+" "+n.timeFormat):JSON.stringify(e)},sqlFormatValue:function(e,t,n,a,i){var r=kn()(e,n.valueFormat);return Qt.escape(r.toDate())},jsonLogic:function(e,t,n){return kn()(e,n.valueFormat).toDate()},toJS:function(e,t){var n=kn()(e,t.valueFormat);return n.isValid()?n.toDate():void 0},mongoFormatValue:function(e,t,n){var a=kn()(e,n.valueFormat);return a.isValid()?a.toDate():void 0}},boolean:{type:"boolean",jsType:"boolean",valueSrc:"value",factory:function(e){return Object(Se.jsx)(Hn,Object(d.a)({},e))},labelYes:"Yes",labelNo:"No",formatValue:function(e,t,n,a){return a?e?"Yes":"No":JSON.stringify(!!e)},sqlFormatValue:function(e,t,n,a,i){return Qt.escape(e)},defaultValue:!1,toJS:function(e,t){return e},mongoFormatValue:function(e,t,n){return e}},field:{valueSrc:"field",factory:function(e){return Object(Se.jsx)(aa,Object(d.a)({},e))},formatValue:function(e,t,n,a,i,r,o){return a&&o.label||e},sqlFormatValue:function(e,t,n,a,i,r){return e},valueLabel:"Field to compare",valuePlaceholder:"Select field to compare",customProps:{showSearch:!0}},func:{valueSrc:"func",factory:function(e){return Object(Se.jsx)(ia,Object(d.a)({},e))},valueLabel:"Function",valuePlaceholder:"Select function",customProps:{}}},types:{text:{defaultOperator:"equal",mainWidget:"text",widgets:{text:{operators:["equal","not_equal","is_empty","is_not_empty","like","not_like","starts_with","ends_with","proximity"],widgetProps:{},opProps:{}},textarea:{operators:["equal","not_equal","is_empty","is_not_empty","like","not_like","starts_with","ends_with"],widgetProps:{},opProps:{}},field:{operators:["equal","not_equal","proximity"]}}},number:{defaultOperator:"equal",mainWidget:"number",widgets:{number:{operators:["equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between","is_empty","is_not_empty"]},slider:{operators:["equal","not_equal","less","less_or_equal","greater","greater_or_equal","is_empty","is_not_empty"]}}},date:{defaultOperator:"equal",widgets:{date:{operators:["equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between","is_empty","is_not_empty"]}}},time:{defaultOperator:"equal",widgets:{time:{operators:["equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between","is_empty","is_not_empty"]}}},datetime:{defaultOperator:"equal",widgets:{datetime:{operators:["equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between","is_empty","is_not_empty"]}}},select:{mainWidget:"select",defaultOperator:"select_equals",widgets:{select:{operators:["select_equals","select_not_equals","is_empty","is_not_empty"],widgetProps:{customProps:{showSearch:!0}}},multiselect:{operators:["select_any_in","select_not_any_in","is_empty","is_not_empty"]}}},multiselect:{defaultOperator:"multiselect_equals",widgets:{multiselect:{operators:["multiselect_equals","multiselect_not_equals","is_empty","is_not_empty"]}}},boolean:{defaultOperator:"equal",widgets:{boolean:{operators:["equal","not_equal"],widgetProps:{}},field:{operators:["equal","not_equal"]}}},"!group":{defaultOperator:"some",mainWidget:"number",widgets:{number:{widgetProps:{min:0},operators:["some","all","none","equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between"],opProps:{equal:{label:"Count =="},not_equal:{label:"Count !="},less:{label:"Count <"},less_or_equal:{label:"Count <="},greater:{label:"Count >"},greater_or_equal:{label:"Count >="},between:{label:"Count between"},not_between:{label:"Count not between"}}}}}},settings:Object(d.a)(Object(d.a)({},zt.a),{},{formatField:function(e,t,n,a,i,r){return r?n:e},sqlFormatReverse:function(e,t,n,a,i){if(void 0!=e)return"NOT("+e+")"},formatReverse:function(e,t,n,a,i,r){if(void 0!=e)return r?"NOT ("+e+")":"!("+e+")"},formatAggr:function(e,t,n,a,i,r,o,s,l,c){var u=o.labelForFormat,d=o.cardinality;if(0==d)return"".concat(u," OF ").concat(t," HAVE ").concat(e);if(void 0==d||1==d)return"COUNT OF ".concat(t," WHERE ").concat(e," ").concat(u," ").concat(a);if(2==d){var p=a.first(),b=a.get(1);return"COUNT OF ".concat(t," WHERE ").concat(e," ").concat(u," ").concat(p," AND ").concat(b)}},canCompareFieldWithField:function(e,t,n,a){return!0},valueSourcesInfo:{value:{label:"Value"},field:{label:"Field",widget:"field"},func:{label:"Function",widget:"func"}},customFieldSelectProps:{showSearch:!0},defaultSliderWidth:"200px",defaultSelectWidth:"200px",defaultSearchWidth:"100px",defaultMaxRows:5})},da=Object(d.a)(Object(d.a)(Object(d.a)({},r),a),i),pa=n(1107),ba=n(2046),fa=n(1083),ja=n.n(fa),ma=n(66),ha=n.n(ma),va=["parentMenuOpen","component","label","rightIcon","leftIcon","children","className","tabIndex","ContainerProps","MenuProps"],ga=["ref"],Oa=x.a.forwardRef((function(e,t){var n=e.parentMenuOpen,a=(e.component,e.label),i=e.rightIcon,r=void 0===i?Object(Se.jsx)(ja.a,{}):i,s=e.leftIcon,l=e.children,c=e.className,p=e.tabIndex,b=e.ContainerProps,f=void 0===b?{}:b,j=e.MenuProps,m=Object(R.a)(e,va),h=f.ref,v=Object(R.a)(f,ga),g=Object(O.useRef)(null);Object(O.useImperativeHandle)(t,(function(){return g.current}));var x=Object(O.useRef)(null);Object(O.useImperativeHandle)(h,(function(){return x.current}));var y,w=Object(O.useRef)(null),k=Object(O.useState)(!1),N=Object(u.a)(k,2),_=N[0],S=N[1],C=function(){var e,t,n,a,i,r=null===(e=x.current)||void 0===e||null===(t=e.ownerDocument)||void 0===t?void 0:t.activeElement,o=Object(L.a)(null!==(n=null===(a=w.current)||void 0===a?void 0:a.children)&&void 0!==n?n:[]);try{for(o.s();!(i=o.n()).done;){if(i.value===r)return!0}}catch(s){o.e(s)}finally{o.f()}return!1},A=_&&n;return e.disabled||(y=void 0!==p?p:-1),Object(Se.jsxs)("div",Object(d.a)(Object(d.a)({},v),{},{ref:x,onFocus:function(e){e.target===x.current&&S(!0),(null===v||void 0===v?void 0:v.onFocus)&&v.onFocus(e)},tabIndex:y,onMouseEnter:function(e){S(!0),(null===v||void 0===v?void 0:v.onMouseEnter)&&v.onMouseEnter(e)},onMouseLeave:function(e){S(!1),(null===v||void 0===v?void 0:v.onMouseLeave)&&v.onMouseLeave(e)},onKeyDown:function(e){var t,n;if("Escape"!==e.key){C()&&e.stopPropagation();var a,i=null===(t=x.current)||void 0===t||null===(n=t.ownerDocument)||void 0===n?void 0:n.activeElement;if("ArrowLeft"===e.key&&C())null!==(a=x.current)&&void 0!==a||x.current.focus();if("ArrowRight"===e.key&&e.target===x.current&&e.target===i){var r,o=void 0|(null===(r=w.current)||void 0===r?void 0:r.children[0]);null!==o&&void 0!==o||o.focus()}}},children:[Object(Se.jsxs)(ba.a,Object(d.a)(Object(d.a)({},m),{},{className:ha()(Object(o.a)({},c,Boolean(c))),ref:g,children:[s,a,r]})),Object(Se.jsx)(pa.a,Object(d.a)(Object(d.a)({style:{pointerEvents:"none"},anchorEl:g.current,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"left"},open:A,autoFocus:!1,disableAutoFocus:!0,disableEnforceFocus:!0,onClose:function(){S(!1)}},j),{},{children:Object(Se.jsx)("div",{ref:w,style:{pointerEvents:"auto"},children:l})}))]}))})),xa=x.a.memo(Oa),ya=n(778),wa=n(2029),ka=n(769),Na=n(2009),_a=n(1803),Sa=(n(1434),n(1820)),Ca=n(2031),Aa=n(2028),Fa=n(2011),Pa=n(2015),Da=n(2020),Ea=["width"],Ta=["width"],qa=n(2051),Ma=n(124),Ia=n(190),Ra=n(2016),La=n(1918),za=n(1928),Va=n(1825),Wa=n(1817),Ja=n(2023),Ba=n(1808),Ua=n(1084),Ga=n.n(Ua),Ha=n(1085),Ka=n.n(Ha),Ya=n(365),Qa=n.n(Ya),Za=function(e,t){var n=e.asyncFetch,a=e.useLoadMore,i=e.useAsyncSearch,r=e.forceAsyncSearch,o=e.asyncListValues,s=e.listValues,p=e.allowCustomValues,b=e.value,f=e.setValue,j=e.placeholder,m=t.debounceTimeout,h=t.multiple,v="Load more...",g="Loading more...",O=r?"Type to search":j,y=x.a.useState(!1),w=Object(u.a)(y,2),k=w[0],N=w[1],_=x.a.useState(void 0),S=Object(u.a)(_,2),C=S[0],A=S[1],F=x.a.useState(0),P=Object(u.a)(F,2),D=P[0],E=P[1],T=x.a.useState(!1),q=Object(u.a)(T,2),M=q[0],I=q[1],R=x.a.useState(""),L=Object(u.a)(R,2),z=L[0],V=L[1],W=x.a.useState(void 0),J=Object(u.a)(W,2),B=J[0],U=J[1],G=x.a.useRef(0),H=x.a.useRef(!0),Y=x.a.useRef(!1),Q=Object(K.i)(o),Z=n?p?B:Bn(B,Q,!0):s,X=D>0,$=k&&n&&void 0===B&&(!r||z),ee=$&&X,te=!ee&&Z&&Z.length>0&&C&&C.hasMore&&(C.filter||"")===z,ne=!X&&te,ae=Object(K.j)(Z,Un),ie=null!=b,re=function(){var e=Object(c.a)(l.a.mark((function e(){var t,i,r,o,s,c,u,p,b,f,j,m,h,v,g=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=g.length>0&&void 0!==g[0]?g[0]:null,!(i=g.length>1&&void 0!==g[1]&&g[1])&&C&&A(void 0),r=i&&B?B.length:0,o=i&&C||!a&&{pageSize:0},s=++G.current,e.next=8,n(t,r,o);case 8:if(c=e.sent,!(G.current!=s)&&H.current){e.next=12;break}return e.abrupt("return",null);case 12:return u=c&&c.values?c:{values:c},p=u.values,b=u.hasMore,f=u.meta,j=Object(K.i)(p),i?(h=Bn(B,j,!1),m=h.length>B.length):(h=j,a&&(m=h.length>0)),(v=null!=b||null!=f||null!=m?Object(d.a)(Object(d.a)(Object(d.a)(Object(d.a)({},null!=m?{hasMore:m}:{}),null!=b?{hasMore:b}:{}),null!=f?f:{}),{},{filter:t}):void 0)&&A(v),e.abrupt("return",h);case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=Object(c.a)(l.a.mark((function e(){var t,n,a,i=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:null,n=i.length>1&&void 0!==i[1]&&i[1],E((function(e){return e+1})),I(n),e.next=6,re(t,n);case 6:if(a=e.sent,H.current){e.next=9;break}return e.abrupt("return");case 9:null!=a&&U(a),E((function(e){return e-1})),I(!1);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),se=x.a.useCallback(Qa()(oe,m),[]);x.a.useEffect((function(){return function(){H.current=!1}}),[]),x.a.useEffect((function(){$&&0==D&&0==G.current&&Object(c.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe();case 2:case"end":return e.stop()}}),e)})))()}),[$]);var le=function(){var e=Object(c.a)(l.a.mark((function e(t,n){var a,i,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n||"LOAD_MORE"!=n.specialValue){e.next=6;break}return Y.current=!0,e.next=4,oe(z,!0);case 4:e.next=7;break;case 6:n&&"LOADING_MORE"==n.specialValue?Y.current=!0:h?(a=n.map((function(e){return null!=e.value?e:Gn(e,Z)})),(i=a.map((function(e){return e.value}))).length||(i=void 0),f(i,a)):(r=null==n?void 0:n.value,f(r,[n]));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ce=function(){var e=Object(c.a)(l.a.mark((function e(t,n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=n)!==v&&a!==g){e.next=3;break}return e.abrupt("return");case 3:if(V(a),p&&(h||f(a,[a])),!(i&&(!r||!!a))){e.next=11;break}return e.next=9,se(a);case 9:e.next=12;break;case 11:i&&r&&U([]);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return{options:ae,listValues:Z,hasValue:ie,open:k,onOpen:function(){N(!0)},onClose:function(e){Y.current?Y.current=!1:N(!1)},onChange:le,inputValue:z,onInputChange:ce,canShowLoadMore:ne,isInitialLoading:ee,isLoading:X,isLoadingMore:M,extendOptions:function(e,t){var n=Object(At.a)(e);return a&&(ne?n.push({specialValue:"LOAD_MORE",title:v}):M&&n.push({specialValue:"LOADING_MORE",title:g,disabled:!0})),n},getOptionSelected:function(e,t){if(null==t)return null;var n=void 0!=t.value?t.value:t;return e.value===n},getOptionDisabled:function(e){return e&&e.disabled},getOptionLabel:function(e){if(null==e)return null;var t=void 0!=e.value?e:Un(Gn(e,Z));return!t&&e.specialValue?e.title:!t&&p?e:t?t.title:e},aPlaceholder:O}},Xa=["width","showCheckboxes"],$a=Object(Se.jsx)(Ga.a,{fontSize:"small"}),ei=Object(Se.jsx)(Ka.a,{fontSize:"small"}),ti=Object(za.a)(),ni=[],ai=function(e){var t=e.allowCustomValues,n=e.multiple,a=e.value,i=e.customProps,r=e.readonly,o=e.config,s=e.groupBy,l=e.filterOptionsConfig,c=l?Object(za.a)(l):ti,u=Za(e,{debounceTimeout:100,multiple:n}),p=u.open,b=u.onOpen,f=u.onClose,j=u.onChange,m=u.onInputChange,h=u.inputValue,v=u.options,g=u.isInitialLoading,O=u.isLoading,y=u.aPlaceholder,w=u.extendOptions,k=u.getOptionSelected,N=u.getOptionDisabled,_=u.getOptionLabel,S=o.settings,C=S.defaultSelectWidth,A=S.defaultSearchWidth,F=i||{},P=F.width,D=F.showCheckboxes,E=Object(R.a)(F,Xa),T=E.input||{},q=T.width||A;T=Z()(T,["width"]);var M=Z()(E,["showSearch","showCheckboxes"]),I=P||C,L={width:n?void 0:I,minWidth:I},z=r?"":y,V=null!=a?a:n?ni:null,W=Object(Ba.a)((function(e){return{input:{minWidth:q+" !important"}}})),J=Object(Ba.a)((function(e){return{root:{height:"auto"},label:{marginTop:"3px",marginBottom:"3px"}}}))(),B=W();return Object(Se.jsx)(Ca.a,{fullWidth:true,children:Object(Se.jsx)(Va.a,Object(d.a)(Object(d.a)({disableCloseOnSelect:n,fullWidth:true,multiple:n,style:L,classes:B,freeSolo:t,loading:g,variant:"filled",open:p,onOpen:b,onClose:f,inputValue:h,onInputChange:m,label:z,onChange:j,value:V,getOptionSelected:k,disabled:r,readOnly:r,options:v,groupBy:s,getOptionLabel:_,getOptionDisabled:N,renderInput:function(e){return Object(Se.jsx)(Sa.a,Object(d.a)(Object(d.a)({},e),{},{InputProps:Object(d.a)(Object(d.a)({},e.InputProps),{},{readOnly:r,endAdornment:Object(Se.jsxs)(x.a.Fragment,{children:[O?Object(Se.jsx)(Wa.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment]})}),disabled:r,placeholder:z},T))},renderTags:function(e,t){return e.map((function(e,n){return Object(Se.jsx)(Ja.a,Object(d.a)({classes:J,label:_(e)},t({index:n})),n)}))},renderOption:function(e,t){var a=t.selected;return n&&0!=D?Object(Se.jsxs)(x.a.Fragment,{children:[Object(Se.jsx)(Ra.a,{icon:$a,checkedIcon:ei,style:{marginRight:8},checked:a}),e.title]}):Object(Se.jsx)(x.a.Fragment,{children:e.renderTitle||e.title})},filterOptions:function(e,t){var n=c(e,t);return w(n,t)}},M),{},{fullWidth:!0}))})},ii=n(2047),ri=["items","selectedKey","setField"],oi=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.map((function(t){var a=t.items,i=t.path,r=t.label,o=t.disabled,s=t.grouplabel,l="\xa0\xa0".repeat(n);return a?e(a,n+1):{title:r,renderTitle:l+r,value:i,disabled:o,groupTitle:n>0?l+s:null}})).flat(1/0)},si={stringify:function(e){return["title","value","grouplabel","label"].map((function(t){return"string"==typeof e[t]?e[t]:""})).join("\0")}},li=n(653),ci=n.n(li),ui=n(387),di=n.n(ui),pi=n(656),bi=n(2059),fi=n(2045),ji=n(1087),mi=n.n(ji),hi=n(1086),vi=n.n(hi),gi=n(1088),Oi=n.n(gi),xi=n(2035),yi=n(2012),wi=n(1927),ki=n(1911),Ni=Object(Ba.a)((function(e){return{paper:{padding:e.spacing(1)}}})),_i={MaterialTextWidget:function(e){var t=e.value,n=e.setValue,a=(e.config,e.readonly),i=e.placeholder,r=e.customProps,o=e.maxLength,s=t||"";return Object(Se.jsx)(Ca.a,{children:Object(Se.jsx)(Sa.a,Object(d.a)({value:s,placeholder:a?"":i,InputProps:{readOnly:a},inputProps:{maxLength:o},disabled:a,onChange:function(e){var t=e.target.value;""===t&&(t=void 0),n(t)}},r))})},MaterialTextAreaWidget:function(e){var t=e.value,n=e.setValue,a=e.config,i=e.readonly,r=e.placeholder,o=e.customProps,s=e.maxLength,l=e.maxRows,c=e.fullWidth,u=a.settings.defaultMaxRows,p=t||"";return Object(Se.jsx)(Ca.a,{fullWidth:c,children:Object(Se.jsx)(Sa.a,Object(d.a)({fullWidth:c,maxRows:l||u,multiline:!0,value:p,placeholder:i?"":r,InputProps:{readOnly:i},inputProps:{maxLength:s},disabled:i,onChange:function(e){var t=e.target.value;""===t&&(t=void 0),n(t)}},o))})},MaterialDateWidget:function(e){var t=e.value,n=e.setValue,a=e.readonly,i=e.customProps,r=e.dateFormat,o=e.valueFormat,s=e.placeholder,l=(e.useKeyboard,Aa.a);return Object(Se.jsx)(Ca.a,{children:Object(Se.jsx)(l,Object(d.a)({readOnly:a,disabled:a,placeholder:a?"":s,format:r,value:t||null,onChange:function(e){n(function(e){return e&&e.isValid()?e.format(o):void 0}(e))}},i))})},MaterialDateTimeWidget:function(e){var t=e.value,n=e.setValue,a=e.use12Hours,i=e.readonly,r=e.placeholder,o=e.dateFormat,s=e.timeFormat,l=e.valueFormat,c=e.customProps,u=(e.useKeyboard,Fa.a),p=o+" "+s;return Object(Se.jsx)(Ca.a,{children:Object(Se.jsx)(u,Object(d.a)({readOnly:i,disabled:i,ampm:!!a,placeholder:i?"":r,format:p,value:t||null,onChange:function(e){n(function(e){return e&&e.isValid()?e.format(l):void 0}(e))}},c))})},MaterialTimeWidget:function(e){var t=e.value,n=e.setValue,a=e.use12Hours,i=e.readonly,r=e.placeholder,o=e.timeFormat,s=e.valueFormat,l=e.customProps,c=(e.useKeyboard,-1!=o.indexOf(":ss")),u=t?kn()(t,o):null;return Object(Se.jsx)(Ca.a,{children:Object(Se.jsx)(Fa.a,Object(d.a)({readOnly:i,disabled:i,ampm:!!a,placeholder:i?"":r,format:o,value:u||null,onChange:function(e){n(function(e){return e&&e.isValid()?e.format(s):void 0}(e))},views:c?["hours","minutes","seconds"]:["hours","minutes"]},l))})},MaterialSelectWidget:function(e){var t=e.listValues,n=e.value,a=e.setValue,i=(e.allowCustomValues,e.readonly),r=e.placeholder,o=e.customProps,s=function(e){return Object(K.j)(t,(function(t){var n=t.title;return t.value===e?n:null})).filter((function(e){return null!==e})).shift()},l=null!=n;return Object(Se.jsx)(Ca.a,{children:Object(Se.jsx)(Pa.a,Object(d.a)(Object(d.a)({autoWidth:!0,displayEmpty:!0,label:i?"":r,onChange:function(e){void 0!==e.target.value&&a(e.target.value)},value:l?n:"",disabled:i,readOnly:i,renderValue:function(e){return i||null!=e?s(e):r},variant:"filled"},Z()(o,["showSearch","input"])),{},{children:Object(K.j)(t,(function(e){var t=e.title,n=e.value;return Object(Se.jsx)(ba.a,{value:n,children:t},n)}))}))})},MaterialNumberWidget:function(e){var t=e.value,n=e.setValue,a=(e.config,e.readonly),i=e.min,r=e.max,o=e.step,s=e.placeholder,l=e.customProps,c=void 0==t?"":t;return Object(Se.jsx)(Ca.a,{children:Object(Se.jsx)(Sa.a,Object(d.a)({type:"number",value:c,placeholder:a?"":s,InputProps:{readOnly:a},inputProps:{min:i,max:r,step:o},disabled:a,onChange:function(e){var t=e.target.value;t=""===t||null===t?void 0:Number(t),n(t)}},l))})},MaterialSliderWidget:function(e){var t=e.config,n=e.placeholder,a=e.customProps,i=e.value,r=e.setValue,o=e.min,s=e.max,l=e.step,c=e.marks,u=e.readonly,p=t.settings.defaultSliderWidth,b=a||{},f=b.width,j=Object(R.a)(b,Ea),m=j.input||{},h=j.slider||j,v="number"===typeof i?i:"",g="number"===typeof i?i:null,O=!!c&&Object.keys(c).map((function(e){return{value:e,label:c[e]}})),x=Object(Se.jsx)(Sa.a,Object(d.a)({type:"number",value:v,placeholder:n,InputProps:{readOnly:u},inputProps:{min:o,max:s,step:l},disabled:u,onChange:function(e){var t=e.target.value;t=""===t||null===t?void 0:Number(t),r(t)},onBlur:function(){i<o?r(o):i>s&&r(s)}},m)),y=Object(Se.jsx)(Da.a,Object(d.a)({value:g,onChange:function(e,t){r(t)},disabled:u,min:o,max:s,step:l,marks:O,valueLabelDisplay:"auto"},h)),w={marginLeft:"5px",paddingLeft:"12px",marginBottom:O&&"-16px",width:f||p};return Object(Se.jsx)(Ca.a,{children:Object(Se.jsxs)("div",{style:{display:"inline-flex",alignItems:"center"},children:[Object(Se.jsx)("div",{style:{marginLeft:"5px"},children:x}),Object(Se.jsx)("div",{style:w,children:y})]})})},MaterialRangeWidget:function(e){var t=e.config,n=e.placeholders,a=e.customProps,i=e.value,r=e.setValue,o=e.min,s=e.max,l=e.step,c=e.marks,p=e.readonly,b=e.textSeparators,f=t.settings.defaultSliderWidth;Object(O.useEffect)((function(){var t=e.value||[void 0,void 0],n=Object(u.a)(t,2),a=n[0],i=n[1];!e.value||void 0!=a&&void 0!=i||setTimeout((function(){var e=a||i;r([e,e])}),1)}),[]);var j=function(){i&&(i[0]<o?r([o,i[1]]):i[1]>s&&r([i[0],s]))},m=a||{},h=m.width,v=Object(R.a)(m,Ta),g=v.input||{},x=v.slider||v,y=!!c&&Object.keys(c).map((function(e){return{value:e,label:c[e]}})),w=i?Object(At.a)(i):[void 0,void 0],k=Object(u.a)(w,2),N=k[0],_=k[1];void 0==N&&(N="",w[0]=0),void 0==_&&(_="",w[1]=0);var S=Object(Se.jsx)(Sa.a,Object(d.a)({type:"number",value:N,placeholder:n[0],InputProps:{readOnly:p},inputProps:{min:o,max:s,step:l},disabled:p,onChange:function(t){var n=t.target.value;n=""===n||null==n?void 0:Number(n);var a=e.value?Object(At.a)(e.value):[void 0,void 0];a[0]=n,r(a)},onBlur:j},g)),C=Object(Se.jsx)(Sa.a,Object(d.a)({type:"number",value:_,placeholder:n[1],InputProps:{readOnly:p},inputProps:{min:o,max:s,step:l},disabled:p,onChange:function(t){var n=t.target.value;n=""===n||null==n?void 0:Number(n);var a=e.value?Object(At.a)(e.value):[void 0,void 0];a[1]=n,r(a)},onBlur:j},g)),A=Object(Se.jsx)(Da.a,Object(d.a)({value:w,onChange:function(e,t){r(t)},disabled:p,min:o,max:s,step:l,marks:y,valueLabelDisplay:"auto"},x)),F={marginLeft:"5px"},P={marginLeft:"5px",paddingLeft:"12px",marginBottom:y&&"-16px",width:h||f};return Object(Se.jsx)(Ca.a,{children:Object(Se.jsxs)("div",{style:{display:"inline-flex"},children:[Object(Se.jsx)("div",{style:F,children:S}),Object(Se.jsx)("div",{className:"widget--sep",children:Object(Se.jsx)("span",{children:b[1]})}),Object(Se.jsx)("div",{style:F,children:C}),Object(Se.jsx)("div",{style:P,children:A})]})})},MaterialBooleanWidget:function(e){var t=e.customProps,n=e.value,a=e.setValue,i=e.labelYes,r=e.labelNo,o=e.readonly;return Object(Se.jsx)(Ca.a,{children:Object(Se.jsx)(Ia.a,{component:"div",children:Object(Se.jsxs)(Ma.a,{component:"label",container:!0,alignItems:"center",spacing:0,children:[Object(Se.jsx)(Ma.a,{item:!0,component:"span",children:r}),Object(Se.jsx)(Ma.a,{item:!0,component:"span",children:Object(Se.jsx)(qa.a,Object(d.a)({checked:!!n,onChange:function(){a(!n)},disabled:o},t))}),Object(Se.jsx)(Ma.a,{item:!0,component:"span",children:i})]})})})},MaterialMultiSelectWidget:function(e){var t,n=e.listValues,a=e.value,i=e.setValue,r=(e.allowCustomValues,e.readonly),o=e.placeholder,s=e.customProps,l=null!=a&&a.length>0;return Object(Se.jsx)(Ca.a,{children:Object(Se.jsx)(Pa.a,Object(d.a)(Object(d.a)({multiple:!0,autoWidth:!0,displayEmpty:!0,label:r?"":o,onChange:function(e){void 0!==e.target.value&&i(e.target.value)},value:l?a:[],disabled:r,readOnly:r,renderValue:function(e){if(!r&&!e.length)return o;var t=Object(K.j)(n,(function(t){var n=t.title,a=t.value;return e.indexOf(a)>-1?n:null})).filter((function(e){return null!==e}));return t.join(", ")}},Z()(s,["showSearch","input","showCheckboxes"])),{},{children:(t=l?a:[],Object(K.j)(n,(function(e){var n=e.title,a=e.value;return Object(Se.jsxs)(ba.a,{value:a,children:[Object(Se.jsx)(Ra.a,{checked:t.indexOf(a)>-1}),Object(Se.jsx)(La.a,{primary:n})]},a)})))}))})},MaterialAutocompleteWidget:ai,MaterialFieldSelect:function(e){var t=e.items,n=e.setField,a=e.selectedKey,i=e.readonly,r=e.placeholder,o=null!=a;return Object(Se.jsx)(Ca.a,{children:Object(Se.jsx)(Pa.a,{autoWidth:!0,displayEmpty:!0,label:r,onChange:function(e){void 0!==e.target.value&&n(e.target.value)},value:o?a:"",disabled:i,renderValue:function(e){if(!i&&!e)return r;return function t(n){return n.map((function(n){return n.items?t(n.items):n.path===e?n.label:null}))}(t).filter((function(e){return Array.isArray(e)?e.some((function(e){return null!==e})):null!==e})).pop()},children:function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.map((function(t){var a=t.items,i=t.path,r=t.label,o=t.disabled,s="\xa0\xa0".repeat(n);return a?[Object(Se.jsxs)(ii.a,{disabled:o,disableSticky:!0,children:[s&&Object(Se.jsx)("span",{children:s}),r]},i),e(a,n+1)]:Object(Se.jsxs)(ba.a,{disabled:o,value:i,children:[s&&Object(Se.jsx)("span",{children:s}),r]},i)}))}(t)})})},MaterialFieldAutocomplete:function(e){return Object(Se.jsx)(ai,Object(d.a)({},function(e){var t=e.items,n=e.selectedKey,a=e.setField,i=Object(R.a)(e,ri),r=oi(t),o=n;return Object(d.a)(Object(d.a)({},i),{},{listValues:r,setValue:function(e,t){if(e)return a(e)},groupBy:function(e){return e.groupTitle},filterOptionsConfig:si,allowCustomValues:!1,multiple:!1,value:o})}(e)))},MaterialButton:function(e){var t=e.type,n=e.label,a=e.onClick,i=e.readonly,r=(e.config,{delGroup:Object(Se.jsx)(ci.a,{}),delRuleGroup:Object(Se.jsx)(ci.a,{}),delRule:Object(Se.jsx)(ci.a,{}),addRuleGroup:Object(Se.jsx)(di.a,{})}),o={addRule:Object(Se.jsx)(di.a,{}),addGroup:Object(Se.jsx)(di.a,{}),addRuleGroupExt:Object(Se.jsx)(di.a,{})},s={addRule:"inherit",addGroup:"primary",delGroup:"secondary",delRuleGroup:"secondary",delRule:"secondary"};return r[t]?Object(Se.jsx)(pi.a,{size:"small",disabled:i,onClick:a,color:s[t],children:r[t]}):Object(Se.jsx)(h.a,{size:"small",disabled:i,onClick:a,color:s[t],startIcon:o[t],children:n})},MaterialButtonGroup:function(e){var t=e.children;e.config;return Object(Se.jsx)(Se.Fragment,{children:t})},MaterialConjs:function(e){var t=e.id,n=e.not,a=e.setNot,i=e.conjunctionOptions,r=e.setConjunction,o=e.disabled,s=e.readonly,l=e.config,c=e.showNot,u=e.notLabel,d=Object.keys(i).length,p=o,b=l.settings.forceShowConj||d>1&&!p,f=function(e){return r(e)},j=function(e){return a(e)};return Object(Se.jsx)(Ca.a,{children:Object(Se.jsxs)(bi.a,{disableElevation:!0,variant:"contained",size:"small",disabled:s,children:[c&&(s&&!n?null:Object(Se.jsx)(h.a,{id:t+"__not",color:n?"secondary":"inherit",onClick:j.bind(null,!n),disabled:s,children:u||"NOT"},t)),b&&Object.keys(i).map((function(e){var t=i[e],n=t.id,a=(t.name,t.label),l=t.checked,c=r.isDummyFn?"__dummy":"";return!s&&!o||l?Object(Se.jsx)(h.a,{id:n+c,color:l?"primary":"inherit",value:e,onClick:f.bind(null,e),disabled:s||o,children:a},n+c):null}))]})})},MaterialSwitch:function(e){var t=e.value,n=e.setValue,a=e.label,i=e.checkedLabel,r=e.hideLabel,o=e.id,s=e.config,l=e.type,c=(s.settings.renderSize,function(){return n(!t)}),u=l,d=t&&i||a,p=t?Object(Se.jsx)(vi.a,{}):Object(Se.jsx)(mi.a,{});return"lock"==l?r?Object(Se.jsx)(pi.a,{onClick:c,size:"small",children:p},o+u):Object(Se.jsx)(h.a,{onClick:c,size:"small",startIcon:p,children:d},o+u):Object(Se.jsx)(fi.a,{control:Object(Se.jsx)(qa.a,{checked:!!t,size:"small",onChange:function(e){return n(e.target.checked)}}),label:d})},MaterialValueSources:function(e){var t=e.valueSources,n=e.valueSrc,a=e.title,i=e.setValueSrc,r=(e.readonly,x.a.useState(null)),o=Object(u.a)(r,2),s=o[0],l=o[1],c=Ni(),d=function(){l(null)},p=Boolean(s);return Object(Se.jsxs)("div",{children:[Object(Se.jsx)(pi.a,{size:"small",onClick:function(e){s?d():function(e){l(e.currentTarget)}(e)},children:Object(Se.jsx)(Oi.a,{})}),Object(Se.jsx)(xi.a,{open:p,anchorEl:s,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},onClose:d,classes:{paper:c.paper},disablePortal:!0,children:Object(Se.jsxs)(Ca.a,{component:"fieldset",children:[Object(Se.jsx)(ki.a,{component:"legend",children:a}),Object(Se.jsx)(wi.a,{value:n||"value",onChange:function(e){void 0!==e.target.value&&(i(e.target.value),d())},children:function(e){return e.map((function(e){var t=Object(u.a)(e,2),a=t[0],i=t[1];return Object(Se.jsx)(fi.a,{value:a,checked:n==a||!n&&"value"==a,control:Object(Se.jsx)(yi.a,{}),label:i.label},a)}))}(t)})]})})]})},MaterialConfirm:function(e){var t=e.onOk,n=e.okText,a=e.cancelText,i=e.title;(0,e.confirmFn)({description:i||"Are you sure?",title:null,confirmationText:n||"Ok",cancellationText:a||"Cancel"}).then(t).catch((function(){}))},MaterialUseConfirm:ka.b,MaterialProvider:function(e){var t=e.config,n=e.children,a=t.settings.theme||{},i=t.settings.locale||{},r=a.material,o=i.material,s=r||o?Object(ya.a)(r,o):null,l=Object(Se.jsx)("div",{className:"mui",children:n}),c=Object(Se.jsx)(_a.b,{dateAdapter:Na.a,children:Object(Se.jsx)(ka.a,{children:l})});return s?Object(Se.jsx)(wa.a,{theme:s,children:c}):c}},Si=_i.MaterialBooleanWidget,Ci=_i.MaterialTextWidget,Ai=_i.MaterialTextAreaWidget,Fi=_i.MaterialDateWidget,Pi=_i.MaterialTimeWidget,Di=_i.MaterialDateTimeWidget,Ei=_i.MaterialMultiSelectWidget,Ti=_i.MaterialSelectWidget,qi=_i.MaterialNumberWidget,Mi=_i.MaterialSliderWidget,Ii=_i.MaterialRangeWidget,Ri=_i.MaterialAutocompleteWidget,Li=_i.MaterialFieldSelect,zi=_i.MaterialFieldAutocomplete,Vi=_i.MaterialConjs,Wi=_i.MaterialSwitch,Ji=_i.MaterialButton,Bi=_i.MaterialButtonGroup,Ui=_i.MaterialValueSources,Gi=_i.MaterialProvider,Hi=_i.MaterialConfirm,Ki=_i.MaterialUseConfirm,Yi=Object(d.a)(Object(d.a)({},ua.settings),{},{renderField:function(e){var t;return(null===e||void 0===e||null===(t=e.customProps)||void 0===t?void 0:t.showSearch)?Object(Se.jsx)(zi,Object(d.a)({},e)):Object(Se.jsx)(Li,Object(d.a)({},e))},renderOperator:function(e){return Object(Se.jsx)(Li,Object(d.a)({},e))},renderFunc:function(e){return Object(Se.jsx)(Li,Object(d.a)({},e))},renderConjs:function(e){return Object(Se.jsx)(Vi,Object(d.a)({},e))},renderSwitch:function(e){return Object(Se.jsx)(Wi,Object(d.a)({},e))},renderButton:function(e){return Object(Se.jsx)(Ji,Object(d.a)({},e))},renderButtonGroup:function(e){return Object(Se.jsx)(Bi,Object(d.a)({},e))},renderValueSources:function(e){return Object(Se.jsx)(Ui,Object(d.a)({},e))},renderProvider:function(e){return Object(Se.jsx)(Gi,Object(d.a)({},e))},renderConfirm:Hi,useConfirm:Ki}),Qi=Object(d.a)(Object(d.a)({},ua.widgets),{},{text:Object(d.a)(Object(d.a)({},ua.widgets.text),{},{factory:function(e){return Object(Se.jsx)(Ci,Object(d.a)({},e))}}),textarea:Object(d.a)(Object(d.a)({},ua.widgets.textarea),{},{factory:function(e){return Object(Se.jsx)(Ai,Object(d.a)({},e))}}),number:Object(d.a)(Object(d.a)({},ua.widgets.number),{},{factory:function(e){return Object(Se.jsx)(qi,Object(d.a)({},e))}}),multiselect:Object(d.a)(Object(d.a)({},ua.widgets.multiselect),{},{factory:function(e){return e.asyncFetch||e.showSearch?Object(Se.jsx)(Ri,Object(d.a)({multiple:!0},e)):Object(Se.jsx)(Ei,Object(d.a)({},e))}}),select:Object(d.a)(Object(d.a)({},ua.widgets.select),{},{factory:function(e){return e.asyncFetch||e.showSearch?Object(Se.jsx)(Ri,Object(d.a)({},e)):Object(Se.jsx)(Ti,Object(d.a)({},e))}}),slider:Object(d.a)(Object(d.a)({},ua.widgets.slider),{},{factory:function(e){return Object(Se.jsx)(Mi,Object(d.a)({},e))}}),boolean:Object(d.a)(Object(d.a)({},ua.widgets.boolean),{},{factory:function(e){return Object(Se.jsx)(Si,Object(d.a)({},e))}}),date:Object(d.a)(Object(d.a)({},ua.widgets.date),{},{factory:function(e){return Object(Se.jsx)(Fi,Object(d.a)({},e))}}),time:Object(d.a)(Object(d.a)({},ua.widgets.time),{},{factory:function(e){return Object(Se.jsx)(Pi,Object(d.a)({},e))}}),datetime:Object(d.a)(Object(d.a)({},ua.widgets.datetime),{},{factory:function(e){return Object(Se.jsx)(Di,Object(d.a)({},e))}}),rangeslider:{type:"number",jsType:"number",valueSrc:"value",factory:function(e){return Object(Se.jsx)(Ii,Object(d.a)({},e))},valueLabel:"Range",valuePlaceholder:"Select range",valueLabels:[{label:"Number from",placeholder:"Enter number from"},{label:"Number to",placeholder:"Enter number to"}],formatValue:function(e,t,n,a){return a?ca(e):JSON.stringify(e)},sqlFormatValue:function(e,t,n,a,i){return Qt.escape(e)},singleWidget:"slider",toJS:function(e,t){return e}}}),Zi=Object(d.a)(Object(d.a)({},ua.types),{},{number:Object(d.a)(Object(d.a)({},ua.types.number),{},{widgets:Object(d.a)(Object(d.a)({},ua.types.number.widgets),{},{rangeslider:{opProps:{between:{isSpecialRange:!0},not_between:{isSpecialRange:!0}},operators:["between","not_between","is_empty","is_not_empty"]}})})}),Xi=Object(d.a)(Object(d.a)({},ua),{},{types:Zi,widgets:Qi,settings:Yi}),$i=n(2037),er=n(2056),tr=n(2058),nr=n(2057),ar=n(1091),ir=n.n(ar),rr=n(367),or=n.n(rr),sr=n(1092),lr=n.n(sr),cr=n(1093),ur=n.n(cr),dr=n(376),pr=n.n(dr),br=n(375),fr=n.n(br),jr=n(2024),mr=n(24),hr=["items","label","setField","placeholder","readonly","max","min","value","selectedKey"],vr=["children"],gr=["value","onChange","format","title","className","search","sort","builder"],Or=["tree","config"],xr=Object(O.memo)((function(e){var t=e.listValues,n=(e.fieldDefinition,e.label),a=e.setValue,i=e.placeholder,r=(e.readonly,e.max),o=(e.min,e.value),s=Object(O.useState)({}),l=Object(u.a)(s,2),c=l[0],d=l[1];Object(O.useEffect)((function(){var e={};Array.isArray(t)&&t.map((function(t){var n=t.title,a=t.value;e[a]=n})),d(e)}),[t]);var p=Object(O.useRef)(Function.debounce((function(e){Function.isFunction(a)&&Promise.all([a(e)]).catch((function(e){}))}),500)).current;return Object(Se.jsx)(I.j,{options:c,onChange:function(e){return p(e)},label:n,placeholder:i,variant:"filled",size:"small",value:o,defaultValue:o,max:r,min:r})})),yr=Object(O.memo)((function(e){var t=e.items,n=e.label,a=e.setField,i=e.placeholder,r=(e.readonly,e.max),o=(e.min,e.value,e.selectedKey),s=(Object(R.a)(e,hr),Object(O.useMemo)((function(){var e={};return Array.isArray(t)&&t.map((function(t){var n=t.key,a=t.label;t.path,t.tooltip;t.disabled||(e[n]=a)})),e}),[t])),l=Object(O.useCallback)((function(e){Function.isFunction(a)&&Promise.all([a(e)]).catch((function(e){}))}),[t]);return Object(Se.jsx)(I.j,{options:s,onChange:l,label:n,placeholder:i,variant:"filled",size:"small",value:o,defaultValue:o,max:r,min:r})})),wr=Object(d.a)(Object(d.a)({},Xi),{},{settings:Object(d.a)(Object(d.a)({},Xi.settings),{},{renderProvider:function(e){var t=e.children;Object(R.a)(e,vr);return Object(Se.jsx)(wa.a,{theme:mr.e,children:t})},renderField:function(e){return Object(Se.jsx)(yr,Object(d.a)({},e))}}),widgets:Object(d.a)(Object(d.a)({},Xi.widgets),{},{select:Object(d.a)(Object(d.a)({},Xi.widgets.select),{},{factory:function(e){return Object(Se.jsx)(xr,Object(d.a)({},e))}})})}),kr=(da.uuid(),!1),Nr=function(e){return Object(Se.jsx)(wt,Object(d.a)({},e))},_r=Object(O.memo)((function(e){var t,n,a=e.value,i=e.onChange,r=e.format,o=(e.title,e.className),s=e.search,l=e.sort,c=e.builder,p=(Object(R.a)(e,gr),Object(O.useState)(JSON.isJSON(a)?Object(d.a)(Object(d.a)({},a),{},{search:a.search,sort:a.sort,populate:a.populate,builder:Object(d.a)({id:da.uuid(),type:"group"},a.builder),config:Object(d.a)(Object(d.a)({},wr),a.config),tree:da.checkTree(da.loadTree(Object(d.a)({id:da.uuid(),type:"group"},a.builder)),Object(d.a)(Object(d.a)({},wr),a.config))}):{search:void 0,sort:void 0,populate:!1,builder:{id:da.uuid(),type:"group"},config:wr,tree:da.checkTree(da.loadTree({id:da.uuid(),type:"group"}),wr)})),b=Object(u.a)(p,2),f=b[0],j=b[1],m=Object(O.useState)(!1),h=Object(u.a)(m,2),g=h[0],x=h[1],y=Object(O.useState)(null),k=Object(u.a)(y,2),N=k[0],_=k[1];Object(O.useCallback)((function(e,t){return"querystring"===r?da.queryString(e,t):"mongodb"===r?da.mongodbFormat(e,t):da.getTree(e)}),[r]);Object(O.useEffect)((function(){w.a.isEqual(a,f)||j(JSON.isJSON(a)?Object(d.a)(Object(d.a)({},a),{},{search:a.search,sort:a.sort,populate:a.populate,builder:Object(d.a)({id:da.uuid(),type:"group"},a.builder),config:Object(d.a)(Object(d.a)({},wr),a.config),tree:da.checkTree(da.loadTree(Object(d.a)({id:da.uuid(),type:"group"},a.builder)),Object(d.a)(Object(d.a)({},wr),a.config))}):{search:void 0,sort:void 0,populate:!1,builder:{id:da.uuid(),type:"group"},config:wr,tree:da.checkTree(da.loadTree({id:da.uuid(),type:"group"}),wr)})}),[a]);var S=Object(O.useRef)(Function.debounce((function(e){var t=e.tree,n=e.config,a=Object(R.a)(e,Or);if(Function.isFunction(i)){var r=Object(d.a)(Object(d.a)({},a),{},{builder:da.getTree(t),querystring:da.queryString(t,n),mongodb:da.mongodbFormat(t,n),tree:t,config:n});Promise.all([i(r)]).catch((function(e){}))}kr=!0}),500)).current,C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";return function(n){n.preventDefault();var a=f;j((function(n){var i=String.isString(n.sort)?n.sort:"",r=!i.includes("-"+e)&&"desc"===t||!i.includes("-"+e)&&!i.includes(e)&&"asc"===t;return i=i.replaceAll(" ","").replaceAll("-"+e+",","").replaceAll(",-"+e,"").replaceAll("-"+e,"").replaceAll(e+",","").replaceAll(","+e,"").replaceAll(e,""),i+=r?(i.length>0?",":"")+("desc"===t?"-":"")+e:"",a=Object(d.a)(Object(d.a)({},n),{},{sort:i})})),S(a)}};return Object(Se.jsx)("form",{className:"p-0 flex "+(o?" "+o:""),onSubmit:function(e){return function(t){t.preventDefault(),S(e)}}(f),children:Object(Se.jsxs)(er.a,{expanded:g,className:"flex-grow",elevation:0,children:[Object(Se.jsx)(nr.a,{expandIcon:Object(Se.jsx)(jr.a,{title:"Toggle Query Builder",children:Object(Se.jsx)(pi.a,{disabled:!c,onClick:function(){return x(!g)},color:g?"secondary":"default",children:Object(Se.jsx)(ir.a,{fontSize:"small"})})}),"aria-controls":"panelqb-content",id:"panelqb-header",className:"bg-transparent",children:Object(Se.jsxs)(v.a,{className:"flex flex-row justify-center items-center",children:[s&&Object(Se.jsx)(jr.a,{title:"Enter Search Query",children:Object(Se.jsx)(I.n,{variant:"outlined",placeholder:"Search...",InputProps:{endAdornment:Object(Se.jsx)($i.a,{position:"end",children:Object(Se.jsx)(jr.a,{title:"Search",children:Object(Se.jsxs)(pi.a,{type:"submit",size:"small",children:[Object(Se.jsx)(or.a,{fontSize:"small"})," "]})})})},value:f.search,onChange:function(e){var t=!1,n=f;j((function(a){return t=String.isEmpty(e)&&!String.isEmpty(a.search),n=Object(d.a)(Object(d.a)({},a),{},{search:e})})),kr&&t&&S(n)},margin:"dense",size:"small"})}),Object(Se.jsx)(jr.a,{title:"Populate and Resolve IDs",children:Object(Se.jsx)(pi.a,{className:f.populate?"accent-text mx-1":"mx-1",onClick:function(e){e.preventDefault();var t=f;j((function(e){return t=Object(d.a)(Object(d.a)({},e),{},{populate:!e.populate})})),S(t)},children:Object(Se.jsx)(lr.a,{fontSize:"small"})})}),l&&Object(Se.jsx)(jr.a,{title:"Sort",children:Object(Se.jsx)(pi.a,{disabled:!1,className:Boolean(f.sort)?"accent-text":"",onClick:function(e){e.preventDefault(),_(e.currentTarget)},children:Object(Se.jsx)(ur.a,{fontSize:"small"})})}),Object(Se.jsx)(pa.a,{id:"sort-by-field-menu",anchorEl:N,keepMounted:!0,open:Boolean(N),onClose:function(){return _(null)},children:Object.entries(null!==(t=null===f||void 0===f||null===(n=f.config)||void 0===n?void 0:n.fields)&&void 0!==t?t:{}).map((function(e){var t,n,a,i,r,o,s=Object(u.a)(e,2),l=s[0],c=s[1];return Object(Se.jsxs)(xa,{label:c.label,parentMenuOpen:Boolean(N),selected:(null!==(t=f.sort)&&void 0!==t?t:"").includes(l),MenuProps:{},leftIcon:null,rightIcon:(null!==(n=f.sort)&&void 0!==n?n:"").includes("-"+l)?Object(Se.jsx)(pr.a,{fontSize:"small",className:"ml-1"}):(null!==(a=f.sort)&&void 0!==a?a:"").includes(l)?Object(Se.jsx)(fr.a,{fontSize:"small",className:"ml-1"}):null,children:[Object(Se.jsx)(ba.a,{disabled:!0,children:c.label}),Object(Se.jsx)(ba.a,{onClick:C(l,"asc"),selected:!(null!==(i=f.sort)&&void 0!==i?i:"").includes("-"+l)&&(null!==(r=f.sort)&&void 0!==r?r:"").includes(l),children:"Ascending"}),Object(Se.jsx)(ba.a,{onClick:C(l,"desc"),selected:(null!==(o=f.sort)&&void 0!==o?o:"").includes("-"+l),children:"Descending"})]},"sort-field-"+l)}))})]})}),Object(Se.jsx)(tr.a,{elevation:0,children:Object(Se.jsx)(Fe,Object(d.a)(Object(d.a)({},f.config),{},{value:f.tree,onChange:function(e,t){j((function(n){return Object(d.a)(Object(d.a)({},n),{},{builder:da.getTree(e),tree:e,config:t})}))},renderBuilder:Nr}))})]})})}));_r.defaultProps={title:!1,search:!0,builder:!0,sort:!0,value:{search:void 0,populate:!0,builder:{id:da.uuid(),type:"group"},config:{fields:{}}},format:"mongodb",fields:{}};var Sr=Object(k.b)((function(e){return{app:e.app}}),{})(_r),Cr=n(2044),Ar=n(787),Fr=n(1810),Pr=n(1989),Dr=n(1990),Er=n(1959),Tr=n(1094),qr=n.n(Tr),Mr=n(78),Ir=n(84),Rr=n(399),Lr=n(230),zr=n(231),Vr=n(177),Wr=n(26),Jr=n(103),Br=n(67),Ur=function(e){Object(j.a)(n,e);var t=Object(m.a)(n);function n(e){var a;Object(p.a)(this,n),(a=t.call(this,e)).calendarRef=x.a.createRef(),a.state={view:"month",view_title:(new Date).format(Jr.b.dateformats.month),calendars:[],tasks:[],schedules:[]},a.handleChangeCalendarView=function(e,t){if(a.calendarRef.current){var n=a.calendarRef.current.getInstance().getDate().toDate();a.setState((function(e){return{view:t,view_title:"day"===t?n.format(Jr.b.dateformats.date):"week"===t?n.format(Jr.b.dateformats.week):n.format(Jr.b.dateformats.month)}}))}else a.setState((function(e){return{view:t}}))},a.handleClickPrevButton=function(){if(a.calendarRef.current){var e=a.calendarRef.current.getInstance();e.prev();var t=e.getDate().toDate();a.setState((function(e){return{view_title:"day"===e.view?t.format(Jr.b.dateformats.date):"week"===e.view?t.format(Jr.b.dateformats.week):t.format(Jr.b.dateformats.month)}}))}},a.handleClickNextButton=function(){if(a.calendarRef.current){var e=a.calendarRef.current.getInstance();e.next();var t=e.getDate().toDate();a.setState((function(e){return{view_title:"day"===e.view?t.format(Jr.b.dateformats.date):"week"===e.view?t.format(Jr.b.dateformats.week):t.format(Jr.b.dateformats.month)}}))}},a.handleOnEditEntryClick=function(e){a.calendarRef.current},a.handleOnDeleteEntryClick=function(e){a.calendarRef.current};var i=e.theme,r=e.view,o=e.calendars,s=e.tasks,l=e.schedules,c=e.show_actions,u=e.icon,b=e.title,j=e.subtitle,m=e.icon_color,h=e.title_color,v=e.subtitle_color,g=e.calendarProps;return a.state=Object(d.a)(Object(d.a)({},a.state),{},{theme:i,view:r,view_title:"day"===r?(new Date).format(Jr.b.dateformats.date):"week"===r?(new Date).format(Jr.b.dateformats.week):(new Date).format(Jr.b.dateformats.month),calendars:o,tasks:s,schedules:l,show_actions:c,icon:u,title:b,subtitle:j,icon_color:m,title_color:h,subtitle_color:v,calendarProps:g}),a.handleChangeCalendarView=a.handleChangeCalendarView.bind(Object(f.a)(a)),a.handleClickPrevButton=a.handleClickPrevButton.bind(Object(f.a)(a)),a.handleClickNextButton=a.handleClickNextButton.bind(Object(f.a)(a)),a}return Object(b.a)(n,[{key:"componentDidMount",value:function(){this.initCalendarEvents()}},{key:"getSnapshotBeforeUpdate",value:function(e){return{refreshRequired:!Object.areEqual(e,this.props)}}},{key:"componentDidUpdate",value:function(e,t,n){var a=this.props,i=a.theme,r=a.view,o=a.calendars,s=a.tasks,l=a.schedules,c=a.show_actions,u=a.icon,d=a.title,p=a.subtitle,b=a.icon_color,f=a.title_color,j=a.subtitle_color,m=a.calendarProps;n.refreshRequired&&this.setState({theme:i,view:r,view_title:"day"===r?(new Date).format(Jr.b.dateformats.date):"week"===r?(new Date).format(Jr.b.dateformats.week):(new Date).format(Jr.b.dateformats.month),calendars:o,tasks:s,schedules:l,show_actions:c,icon:u,title:d,subtitle:p,icon_color:b,title_color:f,subtitle_color:j,calendarProps:m},this.initCalendarEvents)}},{key:"initCalendarEvents",value:function(){var e=this.props,t=e.onSelect,n=e.onClickEntry,a=e.onClickEdit,i=e.onClickDelete,r=this.calendarRef.current.getInstance();r&&r.on({clickSchedule:function(e){Br.d.isOfType(n,"function")&&n(e.schedule)},beforeCreateSchedule:function(e){Br.d.isOfType(t,"function")&&t(e)},beforeUpdateSchedule:function(e){Br.d.isOfType(a,"function")&&a(e)},beforeDeleteSchedule:function(e){Br.d.isOfType(i,"function")&&i(e)}})}},{key:"render",value:function(){var e=this.props,t=e.height,n=e.defaultView,a=e.disableDblClick,i=e.disableClick,r=e.isReadOnly,o=e.useDetailPopup,s=e.useCreationPopup,l=e.scheduleView,c=e.taskView,u=this.state,p=u.theme,b=u.view,f=u.view_title,j=u.calendars,m=u.tasks,h=u.schedules,O=(u.show_actions,u.icon),x=u.title,y=u.subtitle,w=u.icon_color,k=(u.title_color,u.subtitle_color,u.calendarProps),N=Object(d.a)({height:t+"px",defaultView:n,disableDblClick:a,disableClick:i,isReadOnly:r,useDetailPopup:o,useCreationPopup:s,scheduleView:l,taskView:c},k);return Object(Se.jsxs)(Ir.a,{elevation:0,children:[Object(Se.jsx)(zr.a,{avatar:Object(Se.jsx)(Mr.a,{"aria-label":x,style:{background:w},children:O}),title:x,subheader:y}),Object(Se.jsx)(Lr.a,{className:"p-0 m-0",children:Object(Se.jsxs)(v.a,{className:"p-0 m-0",children:[Object(Se.jsxs)(v.a,{className:"p-0 m-0",children:[Object(Se.jsx)(g.a,{sm:6,md:4,children:Object(Se.jsxs)(Fr.a,{value:b,onChange:this.handleChangeCalendarView,indicatorColor:"primary",textColor:"primary",variant:"fullWidth","aria-label":"view change tabs",children:[Object(Se.jsx)(Ar.a,{value:"month",label:"Month"}),Object(Se.jsx)(Ar.a,{value:"week",label:"Week"}),Object(Se.jsx)(Ar.a,{value:"day",label:"Day"})]})}),Object(Se.jsx)(g.a,{sm:6,md:4,children:Object(Se.jsxs)(Wr.a,{variant:"h3",center:!0,children:[" ",f," "]})}),Object(Se.jsx)(g.a,{sm:12,md:4,children:Object(Se.jsxs)("div",{className:"float-right",children:[Object(Se.jsx)(pi.a,{onClick:this.handleClickPrevButton,children:Object(Se.jsx)(Pr.a,{})}),Object(Se.jsx)(pi.a,{onClick:this.handleClickNextButton,children:Object(Se.jsx)(Dr.a,{})})]})})]}),Object(Se.jsx)(v.a,{className:"p-0 m-0",children:Object(Se.jsx)(g.a,{xs:12,children:Object(Se.jsx)(qr.a,Object(d.a)({theme:p,view:b,calendars:j,tasks:m,schedules:h,ref:this.calendarRef},N))})})]})}),Object(Se.jsx)(Rr.a,{children:Object(Se.jsxs)(v.a,{className:"p-0 m-0",children:[Object(Se.jsx)(g.a,{xs:12,children:Object(Se.jsxs)(Wr.a,{variant:"subtitle2",display:"block",gutterBottom:!0,children:[" ","Calendar index"," "]})}),Object(Se.jsx)(g.a,{xs:12,children:j.map((function(e,t){return Object(Se.jsx)(Vr.a,{color:e.bgColor?e.bgColor:mr.b.hex.secondary,text:e.name},"calendar-"+t)}))})]})})]})}}]),n}(x.a.Component);Ur.defaultProps={calendars:[],tasks:[],schedules:[],view:"month",theme:{"common.border":"1px solid rgba("+mr.b.rgb.grey+", 0.5)","common.backgroundColor":"#fcfcfc","common.holiday.color":mr.b.hex.grey,"common.saturday.color":mr.b.hex.grey,"common.dayname.color":mr.b.hex.default,"common.today.color":mr.b.hex.primary,"week.currentTime.color":mr.b.hex.primarydark},show_actions:!0,icon:Object(Se.jsx)(Er.a,{}),title:"My",subtitle:"Calendar",icon_color:mr.b.hex.primary,title_color:mr.b.hex.primary,subtitle_color:mr.b.hex.grey,calendarProps:{},height:900,defaultView:"month",disableDblClick:!0,disableClick:!1,isReadOnly:!1,useDetailPopup:!0,useCreationPopup:!1,scheduleView:!0,taskView:!0};var Gr=Ur,Hr=n(152),Kr=n(35),Yr=n(21),Qr=function(e){Object(j.a)(n,e);var t=Object(m.a)(n);function n(e){var a;Object(p.a)(this,n),(a=t.call(this,e)).calendarRef=x.a.createRef(),a.state={loading:!0,load_error:!1,records:[]},a.handleDeleteItem=function(e){return function(t){var n=a.props,i=n.openDialog,r=n.closeDialog;i({title:"Deleting safely",body:"Please wait. Executing safe delete...",actions:{}}),a.state.service.deleteRecordById(e).then((function(e){r(),a.loadData()})).catch((function(e){r()}))}};var i=e.defination,r=e.service,o=e.query;e.app;return a.state.defination=i,a.state.service=r,a.state.query=o?Object(d.a)(Object(d.a)({},o),{},{p:1}):{p:1},a.handleEditItem=a.handleEditItem.bind(Object(f.a)(a)),a.handleDeleteItemConfirm=a.handleDeleteItemConfirm.bind(Object(f.a)(a)),a.handleDeleteItem=a.handleDeleteItem.bind(Object(f.a)(a)),a}return Object(b.a)(n,[{key:"componentDidMount",value:function(){this.loadContext()}},{key:"getSnapshotBeforeUpdate",value:function(e){return{contextReloadRequired:!Object.areEqual(e.defination,this.props.defination)&&!Object.areEqual(e.service,this.props.service),dataReloadRequired:!Object.areEqual(e.query,this.props.query)}}},{key:"componentDidUpdate",value:function(e,t,n){if(n.contextReloadRequired&&this.loadContext(),n.dataReloadRequired){var a=this.props.query;this.setState({query:a?Object(d.a)(Object(d.a)({},a),{},{p:1}):{p:1}},this.loadData)}}},{key:"componentWillUnmount",value:function(){var e=this.props;e.openDialog;(0,e.closeDialog)()}},{key:"handleEditItem",value:function(e){var t=this.props.auth;this.state.defination.access.actions.update.restricted(t.user)||(window.location.href="/"+this.state.defination.access.actions.update.uri(e.schedule.id))}},{key:"handleDeleteItemConfirm",value:function(e){var t=this.props,n=t.openDialog,a=t.closeDialog;n({title:"Confirm Delete",body:"Are you sure you want delete "+e.schedule.title+"? This action might be irreversible",actions:{cancel:{text:"Cancel",color:"default",onClick:function(){return a()}},delete:{text:"Delete",color:"error",onClick:this.handleDeleteItem(e.schedule.id)}}})}},{key:"loadContext",value:function(){var e=this.props,t=e.defination,n=e.service,a=e.query;e.auth;t&&this.setState({defination:t,service:n,query:a?Object(d.a)(Object(d.a)({},a),{},{p:1}):{p:1},calendars:[{id:t.name,name:t.label,bgColor:t.color,borderColor:t.color}],records:[],loading:!1},this.loadData)}},{key:"loadData",value:function(){var e=this,t=this.props,n=(t.auth,t.cache),a=t.defination,i=t.apiCallRequest,r=t.cache_data,o=t.onLoadData,s=t.load_data;if(a)if(s)i(a.name,{uri:a.endpoint,type:"records",params:this.state.query,data:{},cache:r}).then((function(t){var n=t.body.data;Function.isFunction(o)&&o(n,e.state.query),e.prepareData(n)})).catch((function(t){e.setState((function(e){return{records:[],load_error:t,loading:!1}}))}));else{var l=Array.isArray(n.data[a.name])?n.data[a.name]:[];Function.isFunction(o)&&o(l,this.state.query),this.prepareData(l)}else this.setState((function(e){return{records:[],load_error:{msg:"No Context defination or provided"},loading:!1}}))}},{key:"prepareData",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=this.props,a=(n.auth,n.cache),i=n.defination,r=Array.isArray(t)?t:Array.isArray(a.data[i.name])?a.data[i.name]:[];i&&i.scope.columns;Function.isFunction(i.views.listing.calendarview.resolveData)&&i.views.listing.calendarview.resolveData(r,!0).then((function(t){e.setState((function(e){return{records:t,loading:!1}}))})).catch((function(t){e.setState((function(e){return{records:[],loading:!1}}))}))}},{key:"render",value:function(){return Object(Se.jsx)(v.a,{children:this.state.defination&&Object(Se.jsx)(g.a,{className:"p-0 m-0",xs:12,children:this.state.loading?Object(Se.jsx)(v.a,{justify:"center",alignItems:"center",children:Object(Se.jsx)(g.a,{xs:1,children:Object(Se.jsx)(Hr.a,{size:24,thickness:4,color:"secondary",disableShrink:!0})})}):Object(Se.jsx)(v.a,{className:"p-0 m-0",children:this.state.load_error?Object(Se.jsxs)(v.a,{children:[Object(Se.jsx)(g.a,{xs:12,children:Object(Se.jsx)(Wr.a,{color:"error",variant:"h1",fullWidth:!0,children:Object(Se.jsx)(Cr.a,{fontSize:"large",children:"error"})})}),Object(Se.jsx)(g.a,{xs:12,children:Object(Se.jsxs)(Wr.a,{color:"error",variant:"body1",fullWidth:!0,children:["An error occured.",Object(Se.jsx)("br",{}),"Status Code :"," ",this.state.load_error.code,Object(Se.jsx)("br",{}),this.state.load_error.msg]})})]}):Object(Se.jsx)(v.a,{className:"p-0 m-0",children:Object(Se.jsx)(g.a,{className:"p-0 m-0",xs:12,children:Array.isArray(this.state.records)&&this.state.records.length>0?Object(Se.jsx)(v.a,{className:"p-0 m-0",children:Object(Se.jsx)(g.a,{xs:12,children:Object(Se.jsx)(Gr,{icon:this.state.defination.icon,title:this.state.defination.label,title_color:this.state.defination.color,icon_color:this.state.defination.color,subtitle:"",calendars:this.state.calendars,view:"month",schedules:this.state.records,onClickEdit:this.handleEditItem,onClickDelete:this.handleDeleteItemConfirm})})}):Object(Se.jsxs)(v.a,{className:"p-0 m-0",justify:"center",alignItems:"center",children:[Object(Se.jsx)("img",{alt:"Empty list",className:"m-8 w-9/12",src:"https://realfield.nyc3.cdn.digitaloceanspaces.com/public/img/empty-state-table.svg"}),Object(Se.jsxs)(Wr.a,{className:"mt-4",color:"grey",variant:"body2",fullWidth:!0,children:["No"," ",this.state.defination.label?this.state.defination.label:"Records"," ","found"]})]})})})})})})}}]),n}(x.a.Component);Qr.defaultProps={calendarProps:{height:"900px",defaultView:"month",disableDblClick:!0,disableClick:!0,isReadOnly:!1,useDetailPopup:!0,useCreationPopup:!1,scheduleView:!0,taskView:!1},query:{p:1},cache_data:!0,load_data:!0};var Zr=_()(Object(k.b)((function(e){return{auth:e.auth,app:e.app}}),{apiCallRequest:Yr.hb,openDialog:Yr.ub,closeDialog:Yr.lb}))(Qr),Xr=n(749),$r=n(1991),eo=n(2036),to=n(2038),no=n(2040),ao=n(1980),io=n(525),ro=function(e){Object(j.a)(n,e);var t=Object(m.a)(n);function n(e){var a;Object(p.a)(this,n),(a=t.call(this,e)).state={loading:!0,load_error:!1,raw_records:[],records:[]},a.handleDeleteItemConfirm=function(e){return function(t){var n=a.props.dispatch;Object(f.a)(a);n(Yr.ub({title:"Confirm Delete",body:"Are you sure you want delete entry? This action might be irreversible",actions:{cancel:{text:"Cancel",color:"default",onClick:function(){return n(Yr.lb())}},delete:{text:"Delete",color:"error",onClick:a.handleDeleteItem(e)}}}))}},a.handleDeleteItem=function(e){return function(e){var t=a.props.dispatch;t(Yr.ub({title:"Deleting safely",body:"Please wait. Executing safe delete...",actions:{close:{text:"Close",color:"default",onClick:function(){return t(Yr.lb())}}}}))}};e.defination;return a.handleDeleteItemConfirm=a.handleDeleteItemConfirm.bind(Object(f.a)(a)),a.handleDeleteItem=a.handleDeleteItem.bind(Object(f.a)(a)),a}return Object(b.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.cache,n=e.defination;this.mounted=!0,this.loadContext(),this.prepareData(Array.isArray(t.data[n.name])?t.data[n.name]:[])}},{key:"getSnapshotBeforeUpdate",value:function(e){this.mounted=!1;var t=this.props;t.cache,t.defination;return{contextReloadRequired:!Object.areEqual(e.defination,this.props.defination),dataReloadRequired:!Object.areEqual(e.query,this.props.query),dataPreparationRequired:!1}}},{key:"componentDidUpdate",value:function(e,t,n){if(n.contextReloadRequired&&(this.loadContext(),this.prepareData()),n.dataReloadRequired){var a=this.props.query;this.setState({query:a?Object(d.a)(Object(d.a)({},a),{},{p:1}):{p:1}},this.loadData)}}},{key:"loadContext",value:function(){var e=this.props,t=e.defination,n=e.service,a=e.query;e.cache;t&&this.setState({defination:t,service:n,query:a?Object(d.a)(Object(d.a)({},a),{},{p:1}):{p:1},loading:!1},this.loadData)}},{key:"loadData",value:function(){var e=this,t=this.props,n=(t.auth,t.cache),a=t.defination,i=t.apiCallRequest,r=t.cache_data,o=t.onLoadData,s=t.load_data;if(a){if(s)i(a.name,{uri:a.endpoint,type:"records",params:this.state.query,data:{},cache:r}).then((function(t){var n=t.body.data;Function.isFunction(o)&&o(n,e.state.query),e.prepareData(n)})).catch((function(t){e.setState((function(e){return{records:[],load_error:t,loading:!1}}))}));else if(r){var l=Array.isArray(n.data[a.name])?n.data[a.name]:[];Function.isFunction(o)&&o(l,this.state.query),this.prepareData(l)}}else this.setState((function(e){return{records:[],load_error:{msg:"No Context defination or provided"},loading:!1}}))}},{key:"prepareData",value:function(){var e,t,n,a=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=this.props,o=r.auth,s=r.cache,l=r.defination,c=r.entryItemProps,u=Array.isArray(i)?i:Array.isArray(s.data[l.name])?s.data[l.name]:[];l&&l.scope.columns;Function.isFunction(null===l||void 0===l||null===(e=l.views)||void 0===e||null===(t=e.listing)||void 0===t||null===(n=t.listview)||void 0===n?void 0:n.resolveData)&&l.views.listing.listview.resolveData(u,o.user,c).then((function(e){a.setState((function(t){return{raw_records:i,records:e,loading:!1}}))})).catch((function(e){a.setState((function(e){return{records:[],raw_records:[],loading:!1}}))}))}},{key:"prepareForData",value:function(){var e=this.props,t=e.defination;e.auth,e.dispatch,t.scope.columns;this.state.records=[],this.state.loading=!1}},{key:"render",value:function(){var e=this,t=this.props,n=t.defination,a=(t.service,t.onClickEntry);return Object(Se.jsx)(v.a,{className:"p-0",children:Object(Se.jsx)(g.a,{className:"p-0 m-0",xs:12,children:this.state.loading?Object(Se.jsxs)(v.a,{children:[Object(Se.jsxs)(g.a,{md:12,className:"flex flex-row items-center relative p-0 px-4 my-4",children:[Object(Se.jsx)(io.a,{variant:"circle",width:40,height:40}),Object(Se.jsx)("div",{className:"flex-grow mx-2 flex flex-col",children:Object(Se.jsx)(io.a,{variant:"text",className:"w-3/12"})})]}),Object(Se.jsxs)(g.a,{md:12,className:"flex flex-row items-center relative p-0 px-4 my-4",children:[Object(Se.jsx)(io.a,{variant:"circle",width:40,height:40}),Object(Se.jsx)("div",{className:"flex-grow mx-2 flex flex-col",children:Object(Se.jsx)(io.a,{variant:"text",className:"w-8/12"})})]}),Object(Se.jsxs)(g.a,{md:12,className:"flex flex-row items-center relative p-0 px-4 my-4",children:[Object(Se.jsx)(io.a,{variant:"circle",width:40,height:40}),Object(Se.jsx)("div",{className:"flex-grow mx-2 flex flex-col",children:Object(Se.jsx)(io.a,{variant:"text",className:"w-4/12"})})]}),Object(Se.jsxs)(g.a,{md:12,className:"flex flex-row items-center relative p-0 px-4 my-4",children:[Object(Se.jsx)(io.a,{variant:"circle",width:40,height:40}),Object(Se.jsx)("div",{className:"flex-grow mx-2 flex flex-col",children:Object(Se.jsx)(io.a,{variant:"text",className:"w-3/12"})})]}),Object(Se.jsxs)(g.a,{md:12,className:"flex flex-row items-center relative p-0 px-4 my-4",children:[Object(Se.jsx)(io.a,{variant:"circle",width:40,height:40}),Object(Se.jsx)("div",{className:"flex-grow mx-2 flex flex-col",children:Object(Se.jsx)(io.a,{variant:"text",className:"w-5/12"})})]}),Object(Se.jsxs)(g.a,{md:12,className:"flex flex-row items-center relative p-0 px-4 my-4",children:[Object(Se.jsx)(io.a,{variant:"circle",width:40,height:40}),Object(Se.jsx)("div",{className:"flex-grow mx-2 flex flex-col",children:Object(Se.jsx)(io.a,{variant:"text",className:"w-9/12"})})]}),Object(Se.jsxs)(g.a,{md:12,className:"flex flex-row items-center relative p-0 px-4 my-4",children:[Object(Se.jsx)(io.a,{variant:"circle",width:40,height:40}),Object(Se.jsx)("div",{className:"flex-grow mx-2 flex flex-col",children:Object(Se.jsx)(io.a,{variant:"text",className:"w-4/12"})})]}),Object(Se.jsxs)(g.a,{md:12,className:"flex flex-row items-center relative p-0 px-4 my-4",children:[Object(Se.jsx)(io.a,{variant:"circle",width:40,height:40}),Object(Se.jsx)("div",{className:"flex-grow mx-2 flex flex-col",children:Object(Se.jsx)(io.a,{variant:"text",className:"w-3/12"})})]}),Object(Se.jsxs)(g.a,{md:12,className:"flex flex-row items-center relative p-0 px-4 my-4",children:[Object(Se.jsx)(io.a,{variant:"circle",width:40,height:40}),Object(Se.jsx)("div",{className:"flex-grow mx-2 flex flex-col",children:Object(Se.jsx)(io.a,{variant:"text",className:"w-4/12"})})]})]}):Object(Se.jsx)(v.a,{className:"p-0 m-0",children:this.state.load_error?Object(Se.jsxs)(v.a,{children:[Object(Se.jsx)(g.a,{xs:12,children:Object(Se.jsx)(Wr.a,{color:"error",variant:"h1",fullWidth:!0,children:Object(Se.jsx)(Cr.a,{fontSize:"large",children:"error"})})}),Object(Se.jsx)(g.a,{xs:12,children:Object(Se.jsxs)(Wr.a,{color:"error",variant:"body1",className:"w-full text-center",fullWidth:!0,children:["An error occured.",Object(Se.jsx)("br",{}),"Status Code :"," ",this.state.load_error.code,Object(Se.jsx)("br",{}),this.state.load_error.msg]})})]}):Object(Se.jsx)(v.a,{className:"p-0 m-0",children:Object(Se.jsx)(g.a,{className:"p-0 m-0",xs:12,children:Array.isArray(this.state.records)&&this.state.records.length>0?Object(Se.jsx)(v.a,{className:"p-0 m-0",children:Object(Se.jsx)(g.a,{xs:12,children:Object(Se.jsx)(eo.a,{className:"p-0 transparent-bg",children:this.state.records.map((function(t,i){return Object(Se.jsxs)("div",{children:[Object(Se.jsxs)(to.a,{alignItems:"flex-start",onClick:function(){Function.isFunction(a)&&a(e.state.raw_records[i],i)},children:[t.avatar&&Object(Se.jsx)(no.a,{children:t.avatar}),t.icon&&Object(Se.jsxs)(ao.a,{children:[" ",t.icon," "]}),Object(Se.jsx)(La.a,{primary:t.title,secondary:t.body})]}),Object(Se.jsx)($r.a,{component:"li"})]},n.name+"-"+i)}))})})}):Object(Se.jsxs)(v.a,{className:"p-0 m-0",justify:"center",alignItems:"center",children:[Object(Se.jsx)("img",{alt:"Empty list",src:"https://realfield.nyc3.cdn.digitaloceanspaces.com/public/img/empty-state-table.svg"}),Object(Se.jsxs)(Wr.a,{color:"grey",variant:"body2",fullWidth:!0,children:["No",(null===n||void 0===n?void 0:n.label)||"Records"," found"]})]})})})})})})}}]),n}(x.a.Component);ro.defaultProps={show_actions:!0,show_links:!0,query:{p:1},load_data:!0,cache_data:!0};var oo=_()(Object(k.b)((function(e,t){t.defination;return{auth:e.auth,cache:e.cache,api:e.api}}),{apiCallRequest:Yr.hb,openDialog:Yr.ub,closeDialog:Yr.lb}))(ro),so=n(32),lo=(n(1478),n(424),n(705),n(657)),co=n(1119),uo=n(1123),po=n(1124),bo=n(789),fo=n(788),jo=n(1780),mo=n(2050),ho=n(1827),vo=n(524),go=n(2049),Oo=n(1813),xo=n(2034),yo=n(2033),wo=n(251),ko=n(1993),No=n(1994),_o=n(1995),So=n(1996),Co=n(1998),Ao=n(1999),Fo=n(2e3),Po=n(1992),Do=n(1997),Eo=n(239),To=n.n(Eo),qo=function(e,t){var n={pl:2,pr:1};return!e&&Object.keys(t).length>0&&(n=Object(d.a)(Object(d.a)({},n),{},{color:function(e){return"light"===e.palette.mode?"secondary.main":"text.primary"},backgroundColor:function(e){return"light"===e.palette.mode?Object(vo.e)(e.palette.secondary.light,.85):"secondary.dark"}})),n};function Mo(e){var t=e.selected,n=e.descriptorAttribute,a=e.handleActionClick,i=e.actionButtons,r=e.handleUniversalFilterChange,o=e.handleDateChange,s=e.dates,l=e.loading,c=e.refreshBadgeCount,u=e.disableSelection,p=Object(O.useMemo)((function(){return Object(wo.a)((function(e){return r(e)}),700)}),[]);return Object(Se.jsxs)(go.a,{sx:qo(u,t),children:[!u&&Object.keys(t).length>0?Object(Se.jsx)(Ia.a,{sx:{flex:"1 1 100%"},color:"inherit",variant:"subtitle1",component:"div",children:To()(t,n)}):i.includes("dateFilters")?Object(Se.jsxs)(O.Fragment,{children:[Object(Se.jsx)(_a.b,{dateAdapter:Na.a,children:Object(Se.jsx)(Aa.a,{inputFormat:"dd/MM/yyyy",id:"date-from",label:"From",value:s.from||null,onChange:function(e){return o("from",e)},renderInput:function(e){return Object(Se.jsx)(Sa.a,Object(d.a)({size:"small"},e))}})}),Object(Se.jsx)(lo.a,{sx:{ml:1},children:Object(Se.jsx)(_a.b,{dateAdapter:Na.a,children:Object(Se.jsx)(Aa.a,{inputFormat:"dd/MM/yyyy",id:"date-to",label:"To",value:s.to||null,onChange:function(e){return o("to",e)},renderInput:function(e){return Object(Se.jsx)(Sa.a,Object(d.a)({size:"small"},e))}})})}),Object(Se.jsx)(lo.a,{sx:{flexGrow:1}})]}):Object(Se.jsx)(lo.a,{sx:{flexGrow:1}}),!u&&Object.keys(t).length>0?Object(Se.jsxs)(O.Fragment,{children:[i.includes("download")?Object(Se.jsx)(jr.a,{title:"Download",children:Object(Se.jsx)(pi.a,{"aria-label":"download",sx:{color:Po.a[400]},onClick:function(e){return a(e,"download")},size:"large",children:Object(Se.jsx)(ko.a,{})})}):null,i.includes("edit")?Object(Se.jsx)(jr.a,{title:"Edit",children:Object(Se.jsx)(pi.a,{"aria-label":"edit",sx:{color:Po.a[500]},onClick:function(e){return a(e,"edit")},size:"large",children:Object(Se.jsx)(No.a,{})})}):null,i.includes("delete")?Object(Se.jsx)(jr.a,{title:"Delete",children:Object(Se.jsx)(pi.a,{"aria-label":"delete",sx:{color:"error.main"},onClick:function(e){return a(e,"delete")},size:"large",children:Object(Se.jsx)(_o.a,{})})}):null]}):Object(Se.jsxs)(O.Fragment,{children:[i.includes("refresh")&&Object(Se.jsx)(jr.a,{title:"Refresh",children:Object(Se.jsx)(pi.a,{"aria-label":"refresh",sx:{color:Po.a[400]},onClick:function(e){return a(e,"refresh")},size:"large",children:Object(Se.jsx)(Oo.a,{badgeContent:c,color:"error",children:Object(Se.jsx)(So.a,{})})})}),i.includes("import")&&Object(Se.jsx)(jr.a,{title:"Import",children:Object(Se.jsx)(pi.a,{"aria-label":"import",sx:{color:Do.a[600]},onClick:function(e){return a(e,"import")},size:"large",children:Object(Se.jsx)(Co.a,{})})}),i.includes("bulkEdit")&&Object(Se.jsx)(jr.a,{title:"Bulk Edit",children:Object(Se.jsx)(pi.a,{"aria-label":"bulk-edit",sx:{color:Po.a[500]},onClick:function(e){return a(e,"bulkEdit")},size:"large",children:Object(Se.jsx)(No.a,{})})}),i.includes("create")&&Object(Se.jsx)(jr.a,{title:"Create",children:Object(Se.jsx)(pi.a,{"aria-label":"create",sx:{color:"success.main"},onClick:function(e){return a(e,"create")},size:"large",children:Object(Se.jsx)(Ao.a,{})})}),i.includes("filter")&&Object(Se.jsxs)(Ca.a,{variant:"outlined",children:[Object(Se.jsx)(xo.a,{htmlFor:"universal-filter",children:"Filter"}),Object(Se.jsx)(yo.a,{id:"universal-filter",size:"small",onChange:function(e){p(e)},disabled:l,startAdornment:Object(Se.jsx)($i.a,{position:"start",children:Object(Se.jsx)(jr.a,{title:"Filter",children:Object(Se.jsx)(Fo.a,{})})}),label:"Filter"})]})]})]})}Mo.defaultProps={actionButtons:["create","edit","delete","filter"],refreshBadgeCount:0,disableSelection:!1,loading:!1};var Io=n(2027);function Ro(e){var t=e.headers,n=e.order,a=e.orderBy,i=e.sorting,r=e.onRequestSort,o=Object(M.a)();function s(e){return Object(Se.jsxs)(Ma.a,{container:!0,alignItems:"center",children:[e.label,e.headerActions&&e.headerActions.map((function(e){return e.hideCondition?null:Object(Se.jsx)(jr.a,{title:e.tooltip,children:Object(Se.jsx)(pi.a,{"aria-label":e.tooltip,style:{color:e.color||o.palette.primary.main,marginLeft:o.spacing(1)},onClick:function(t){return e.onClick(t)},size:"small",children:e.icon})},e.id)}))]})}return Object(Se.jsx)(ho.a,{children:Object(Se.jsx)(bo.a,{children:t.map((function(e){return Object(Se.jsx)(fo.a,{padding:e.disablePadding?"none":"normal",sortDirection:!!(a===e.attribute||JSON.isJSON(i)&&e.attribute in i)&&(JSON.isJSON(i)&&e.attribute in i?i[e.attribute]:n),children:e.sortable?Object(Se.jsxs)(Io.a,{active:a===e.attribute||JSON.isJSON(i)&&!!i[e.attribute],direction:a===e.attribute?n:JSON.isJSON(i)&&i[e.attribute]?i[e.attribute]:"asc",onClick:(t=e.attribute,function(e){r(e,t)}),children:[s(e),a===e.attribute||JSON.isJSON(i)&&i[e.attribute]?Object(Se.jsx)(lo.a,{component:"div",sx:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1},children:"desc"===n||JSON.isJSON(i)&&"desc"===i[e.attribute]?"sorted descending":"sorted ascending"}):null]}):s(e)},function(e){return e.key||e.attribute}(e));var t}))})})}var Lo=n(2001),zo=n(2002),Vo=n(2003),Wo=n(41),Jo=n(278),Bo=n(612),Uo=["data","header","selected","htmlContent","collapseOpen","onClickCollapseIcon","truncate","checkboxDisabled","disabled","onClick","disableCopyToClipboard"],Go=["id","icon","Icon","confirmationRequired","restricted","Component","hideCondition","linkProps","disableCondition","onClick","uri","color","tooltip","label"],Ho=x.a.forwardRef((function(e,t){var n=e.data,a=e.header,i=e.selected,r=e.htmlContent,o=(e.collapseOpen,e.onClickCollapseIcon),s=e.truncate,l=e.checkboxDisabled,c=e.disabled,p=e.onClick,b=e.disableCopyToClipboard,f=(Object(R.a)(e,Uo),Object(O.useMemo)((function(){return a.truncate&&a.truncate>0?a.truncate:s&&s>0?s:100}),[s,a])),j=Object(O.useCallback)((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!t)return"";if(e.date)return Date.format(t,"d M Y");if(e.datetime)return"".concat(Date.format(t,"d M Y")," ").concat(Date.format(t,"h:i:s a"));if(e.time)return Date.format(t,"h:i:s a");if(String.isString(t)&&t.length>f)return t.truncate(f);if(e.chip){var a=e.color[t]||[indigo[50],indigo[200]],i=Object(u.a)(a,2),r=i[0],o=i[1];return Object(Se.jsx)(Ja.a,{style:{backgroundColor:r,border:"2px solid ".concat(o)},label:t,size:"small"})}return e.price?n?n+" "+t:"$ "+t:t}),[s,f]),m=Object(O.useMemo)((function(){var e;return a.multiField?(a.html?(e=a.html,a.data.forEach((function(t,a){var i=JSON.getDeepPropertyValue(t.attribute,n)||"";e=e.replace("{{".concat(a,"}}"),j(t,i))}))):(e="",a.data.forEach((function(t,i){var r=JSON.getDeepPropertyValue(t.attribute,n)||"";e+=j(t,r),i!==a.data.length-1&&(e+=", ")}))),e):a.html?(e=a.html).replace("{{0}}",JSON.getDeepPropertyValue(a.attribute,n)):a.object||a.reference?Function.isFunction(null===a||void 0===a?void 0:a.resolveReferenceText)?a.resolveReferenceText(JSON.getDeepPropertyValue(a.attribute,n),a):JSON.getDeepPropertyValue(a.attribute,n):(e=JSON.getDeepPropertyValue(a.attribute,n),j(a,e))}),[n,a]),h=Object(O.useMemo)((function(){return a&&Function.isFunction(a.className)?a.className(n,a):String.isString(a.className)?a.className:""}),[a,n]);return a.collapse?Object(Se.jsx)(fo.a,{className:h,style:{width:a.width||null,minWidth:a.minWidth||null,maxWidth:a.maxWidth||null},ref:t,children:Object(Se.jsx)(jr.a,{title:o?"Shrink":"Expand",children:Object(Se.jsx)(pi.a,{"aria-label":"expand row",size:"small",onClick:o,children:o?Object(Se.jsx)(Lo.a,{}):Object(Se.jsx)(zo.a,{})})})}):a.boolean?Object(Se.jsx)(fo.a,{className:"text-sm text-center ".concat(h||""),padding:"checkbox",ref:t,children:Boolean(m)&&Object(Se.jsx)(Vo.a,{fontSize:"inherit",color:"primary"})}):a.checkbox?Object(Se.jsx)(fo.a,{className:"text-sm text-center ".concat(h||""),padding:"checkbox",ref:t,children:Object(Se.jsx)(Ra.a,{checked:i,disabled:l})}):a.component?Object(Se.jsx)(fo.a,{className:h,align:a.numeric?"right":"left",style:{width:a.width||null,minWidth:a.minWidth||null,maxWidth:a.maxWidth||null},onClick:function(e){return a.stopPropagation?e.stopPropagation():{}},ref:t,children:a.component(n)}):a.html?Object(Se.jsx)(fo.a,{className:h,align:a.numeric?"right":"left",dangerouslySetInnerHTML:{__html:r},style:{width:a.width||null,minWidth:a.minWidth||null,maxWidth:a.maxWidth||null},ref:t}):a.actions?Object(Se.jsx)(fo.a,{className:h,style:{width:a.width||null,minWidth:a.minWidth||null,maxWidth:a.maxWidth||null},ref:t,children:Object(Se.jsx)("div",{className:"flex",children:a.actions.map((function(e,t){var a=e.id,i=e.icon,r=e.Icon,o=(e.confirmationRequired,e.restricted,e.Component),s=e.hideCondition,l=e.linkProps,u=e.disableCondition,p=e.onClick,b=e.uri,f=e.color,j=e.tooltip,m=e.label,h=Object(R.a)(e,Go);return(!s||Function.isFunction(s)&&!s(n))&&Object(Se.jsxs)("span",{children:[!!o&&Object(Se.jsx)(o,Object(d.a)(Object(d.a)({style:{color:u&&u(n)?grey[400]:f||"currentColor"},size:"small"},h),{},{data:n})),!o&&(!!r||!!i)&&Object(Se.jsx)(jr.a,{title:j||m,children:Object(Se.jsxs)("span",{children:[!!b&&Object(Se.jsx)(Wo.b,Object(d.a)(Object(d.a)({to:Function.isFunction(b)?b(n):b},l),{},{children:Object(Se.jsx)(pi.a,Object(d.a)(Object(d.a)({"aria-label":a,style:{color:u&&u(n)||c?grey[400]:f||"currentColor"},disabled:u&&u(n)||c,size:"small"},h),{},{children:r?Object(Se.jsx)(r,{fontSize:"inherit"}):i}))})),!b&&Object(Se.jsx)(pi.a,Object(d.a)(Object(d.a)({"aria-label":a,onClick:function(e){e.stopPropagation(),Function.isFunction(p)&&p(e,n)},href:Function.isFunction(b)?b(n):b,style:{color:u&&u(n)?grey[400]:f||"currentColor"},disabled:u&&u(n)||c,size:"small"},h),{},{children:r?Object(Se.jsx)(r,{fontSize:"inherit"}):i}))]})},a)]},"".concat(t))}))})}):Object(Se.jsx)(fo.a,{className:"relative ".concat(h),align:a.numeric?"right":"left",sx:{width:a.width||"auto",minWidth:a.minWidth||"auto",maxWidth:a.maxWidth||"auto","& .cell-actions-box":{visibility:"hidden",opacity:0},"&:hover .cell-actions-box":{visibility:"visible",opacity:1}},ref:t,children:Object(Se.jsxs)(lo.a,{className:"relative",onClick:p,children:[!JSON.isJSON(m)&&!Array.isArray(m)||x.a.isValidElement(m)?m:Object(Se.jsx)(Jo.b,{src:m,view:"decorated",showTabs:!1,collapsed:!0}),Object(Se.jsx)(lo.a,{className:"absolute flex items-center justify-center transition-all cell-actions-box ",sx:{top:"auto",right:0,bottom:0,backgroundColor:"transparent"},children:!b&&!!m&&!x.a.isValidElement(m)&&Object(Se.jsx)(Bo.a,{sx:{backgroundColor:function(e){return e.palette.background.paper},"&:hover":{color:function(e){return e.palette.background.paper},backgroundColor:function(e){return e.palette.accent.main}}},color:"accent",size:"small",fontSize:"inherit",className:"copy-cell-value text-xs mx-1",value:Function.isFunction(null===a||void 0===a?void 0:a.resolveReferenceText)||!JSON.isJSON(m)&&!Array.isArray(m)?"".concat(f>0&&String.isString(n[a.attribute])&&n[a.attribute].length>f?n[a.attribute]:m):JSON.stringify(m,null,4)})})]})})})),Ko=Ho,Yo=n(199),Qo=n(429),Zo=n.n(Qo),Xo=n(23),$o=n(2004),es=n(2005),ts=n(2006),ns=n(2007);function as(e){return e.key||e.attribute}function is(e){var t=e.header,n=e.row,a=e.handleNestedAction,i=e.handleNestedFieldChange,r=e.nestedRowAction,o=e.formatContent,s=Object(O.useMemo)((function(){return r[n.id]&&(r[n.id].edit||r[n.id].add)}),[r,n.id]),l=Object(O.useMemo)((function(){var e=To()(n,t.arrayAttribute);return t.orderBy&&t.orderBy[0]?e.sort((function(e,t){return e.min_quantity-t.min_quantity})):e}),[n,t]);return Object(Se.jsx)(fo.a,{onClick:function(e){return e.stopPropagation()},sx:{minWidth:"180px"},children:Object(Se.jsx)(uo.a,{children:Object(Se.jsxs)(po.a,{children:[t.childActions&&(t.childActions.edit||t.childActions.add)&&Object(Se.jsx)(bo.a,{children:Object(Se.jsxs)("td",{align:"right",colSpan:1+!(!t.childActions||!t.childActions.delete)+!!t.childLabelAttribute,children:[s?Object(Se.jsx)(jr.a,{title:"Reset",children:Object(Se.jsx)(pi.a,{edge:"end","aria-label":"reset",onClick:function(e){return a(e,"reset",n,t.key)},size:"large",children:Object(Se.jsx)($o.a,{})})}):null,s?Object(Se.jsx)(jr.a,{title:"Save",children:Object(Se.jsx)(pi.a,{edge:"end",sx:{color:Po.a[400]},"aria-label":"save",onClick:function(e){return a(e,"save",n,t.key)},size:"large",children:Object(Se.jsx)(es.a,{})})}):null,!t.childActions.edit||r[n.id]&&r[n.id].edit?null:Object(Se.jsx)(jr.a,{title:"Edit",children:Object(Se.jsx)(pi.a,{edge:"end",sx:{color:Po.a[500]},"aria-label":"edit",onClick:function(e){return a(e,"edit",n,t.key)},size:"large",children:Object(Se.jsx)(No.a,{})})}),t.childActions.add?Object(Se.jsx)(jr.a,{title:"Add",children:Object(Se.jsx)(pi.a,{edge:"end",sx:{color:"success.main"},"aria-label":"add",onClick:function(e){return a(e,"add",n,t.key)},size:"large",children:Object(Se.jsx)(ts.a,{})})}):null]})}),Object(Se.jsxs)(bo.a,{children:[t.childLabelAttributeLabel&&!s&&Object(Se.jsx)(fo.a,{style:{padding:0},children:t.childLabelAttributeLabel}),t.childAttributeLabel&&!s&&Object(Se.jsx)(fo.a,{style:{padding:0},children:t.childAttributeLabel})]}),l.map((function(e,r){return Object(Se.jsxs)(bo.a,{children:[t.childLabelAttribute?Object(Se.jsx)("td",{align:"left",children:s?Object(Se.jsx)(Ca.a,{variant:"outlined",sx:{minWidth:"80px"},children:Object(Se.jsx)(Sa.a,{fullWidth:!0,variant:"outlined",size:"small",id:"".concat(as(t),"-").concat(e.id||r,"-label"),value:e[t.childLabelAttribute],onChange:function(a){return i(n.id,e.id||r,t.childLabelAttribute,a.target.value)},label:t.childLabelAttributeLabel||Object(Xo.a)(t.childLabelAttribute)})}):Object(Se.jsx)("div",{children:To()(e,t.childLabelAttribute)})},"".concat(as(t),"-").concat(e.id||r,"-label")):null,Object(Se.jsx)("td",{align:t.numeric?"right":"left",children:s?Object(Se.jsxs)("div",{style:{display:"flex"},children:[t.childAttribute2?Object(Se.jsx)(Ca.a,{variant:"outlined",style:{marginRight:"2px"},sx:{minWidth:"80px"},children:Object(Se.jsx)(Sa.a,{fullWidth:!0,variant:"outlined",size:"small",id:"".concat(as(t),"-").concat(e.id||r,"-2"),value:To()(e,t.childAttribute2),onChange:function(a){return i(n.id,e.id||r,t.childAttribute2,a.target.value)},inputProps:{style:{textAlign:t.numeric?"right":"left"}},label:t.childAttribute2Label||Object(Xo.a)(t.childAttribute2.split(".").pop())})}):null,Object(Se.jsx)(Ca.a,{variant:"outlined",sx:{minWidth:"80px"},children:Object(Se.jsx)(Sa.a,{fullWidth:!0,variant:"outlined",size:"small",id:"".concat(as(t),"-").concat(e.id||r),value:To()(e,t.childAttribute),onChange:function(a){return i(n.id,e.id||r,t.childAttribute,a.target.value)},inputProps:{style:{textAlign:t.numeric?"right":"left"}},label:t.childAttributeLabel||Object(Xo.a)(t.childAttribute.split(".").pop())})})]}):o(t,To()(e,t.childAttribute),To()(e,t.childAttribute2)||null)},"".concat(as(t),"-").concat(e.id||r)),t.childActions&&t.childActions.delete?Object(Se.jsx)("td",{align:"right",children:Object(Se.jsx)(jr.a,{title:"Delete",children:Object(Se.jsx)(pi.a,{edge:"end",sx:{color:"error.main"},"aria-label":"delete",onClick:function(i){return a(i,"delete",e,t.key,n,r)},size:"large",children:Object(Se.jsx)(ns.a,{})})})},"child-".concat(e.id||r,"-delete")):null]},"".concat(as(t),"-").concat(e.id||r,"-label"))}))]})})},"".concat(as(t),"-").concat(n.id))}is.defaultProps={handleNestedAction:function(){},handleNestedFieldChange:function(){},nestedRowAction:{}};var rs=n(1108),os=n(1090),ss=n(17);function ls(e){return e.key||e.attribute}function cs(e){var t=e.title,n=e.rows,a=e.totalCount,i=e.descriptorAttribute,r=e.headers,o=e.order,s=e.orderBy,l=e.dense,c=e.loading,p=e.page,b=e.rowsPerPage,f=e.selected,j=e.handleRowClick,m=e.handleRowCellClick,h=e.handleRequestSort,v=e.onPageChange,g=e.onRowsPerPageChange,y=e.handleNestedAction,w=e.handleNestedFieldChange,k=e.handleActionClick,N=e.disableRowClick,_=e.handleUniversalFilterChange,C=e.handleDateChange,A=e.dates,F=e.actionButtons,P=e.showToolbar,D=e.collapsible,E=e.collapseHeaders,T=e.collapseContent,q=e.refreshBadgeCount,I=e.disableSelection,R=e.nestedRowAction,L=e.openRows,z=e.handleCollapseIconClick,V=e.selectibleRows,W=e.identifier,J=e.sort,B=e.disableCopyToClipboard,U=e.truncate,G=Object(M.a)(),H=Object(ss.p)({objectDialog:{open:!1,src:{},name:""},contextMenu:null}),K=Object(u.a)(H,3),Y=K[0],Q=K[1],Z=(K[2],Object(O.useMemo)((function(){var e={};return String.isEmpty(J)||(e=J.split(",").reduce((function(e,t){return e[t.replace("-","")]=t.startsWith("-")?"desc":"asc",e}),{})),e}),[J])),X=x.a.useCallback((function(e,t){return function(n){JSON.isJSON(e)&&Function.isFunction(null===t||void 0===t?void 0:t.resolveReferenceText)&&Q({objectDialog:{open:!0,src:e,name:null===t||void 0===t?void 0:t.label,title:null===t||void 0===t?void 0:t.label}}),Function.isFunction(m)&&m(n,e,t)}}),[m]),$=Object(O.useCallback)((function(e){return!I&&f.map((function(e){return e[W]})).includes(e[W])}),[I,f]),ee=Object(O.useCallback)((function(e){null!==V&&V.includes(e[W])}),[V]),te=Object(O.useCallback)((function(e){return null===V||null!==V&&V.includes(e[W])}),[V]),ne=Object(O.useCallback)((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!t)return"";if(e.date)return Object(rs.a)(Object(os.a)(t),"d MMM yyyy");if(e.datetime)return"".concat(Object(rs.a)(Object(os.a)(t),"d MMM yyyy")," ").concat(Object(rs.a)(Object(os.a)(t),"h:mm:ss a"));if(e.time)return Object(rs.a)(Object(os.a)(t),"h:mm:ss a");if(e.truncate&&String.isString(t))return t.truncate(e.truncate||U);if(e.chip){var a=e.color[t]||[Po.a[50],Po.a[200]],i=Object(u.a)(a,2),r=i[0],o=i[1];return Object(Se.jsx)(Ja.a,{style:{backgroundColor:r,border:"2px solid ".concat(o)},label:t,size:"small"})}return e.price?n?n+" "+t:"$ "+t:t}),[U]),ae=Object(O.useCallback)((function(e,t){var n,a,i,r,o,s,l=ls(e);return e.html?n=ne(e,undefined):e.checkbox?(a=$(t),i=!te(t)):e.actions?s=ee(t):e.collapse&&(r=function(e){return z(e,t[W],!L[t[W]||void 0])},o=L[t[W]]),Object(Se.jsx)(Ko,{className:"relative",data:t,htmlContent:n,selected:a,checkboxDisabled:i,onClickCollapseIcon:r,collapseOpen:o,disabled:s,header:e,formatContent:ne,onClick:X(t[l],e),disableCopyToClipboard:B,truncate:U},l)}),[B,U,n]),ie=(Object(O.useCallback)((function(e){e.preventDefault(),Q((function(t){return{contextMenu:null===t.contextMenu?{mouseX:e.clientX-2,mouseY:e.clientY-4}:null}}))}),[]),function(){Q({contextMenu:null})}),re=Object(O.useCallback)((function(e){return r.map((function(t){return t.arrayAttribute?(JSON.get(e,t.childAttribute)||[]).length:1})).reduce((function(e,t){return Math.max(e,t)}),0)}),[r]),oe=Object(O.useCallback)((function(){Function.isFunction(v)&&v.apply(void 0,arguments)}),[v]);return Object(Se.jsxs)(lo.a,{sx:{width:"100%"},children:[Object(Se.jsx)(Jo.a,Object(d.a)(Object(d.a)({humanize:!0,fullScreen:!1},Y.objectDialog),{},{onClose:function(){return Q({objectDialog:{open:!1,src:{},name:""}})}})),Object(Se.jsxs)(co.a,{sx:{position:"relative",width:"100%",mb:2},children:[P?Object(Se.jsx)(Mo,{selected:f.length>0?f[0]:{},descriptorAttribute:i,handleActionClick:function(e,t){return k(e,t)},actionButtons:F,handleUniversalFilterChange:_,handleDateChange:C,dates:A,loading:c,refreshBadgeCount:q,disableSelection:I}):null,Object(Se.jsx)(Yo.a,{children:Object(Se.jsxs)(uo.a,{"aria-labelledby":"tableTitle",size:l?"small":"medium","aria-label":t,stickyHeader:!0,children:[Object(Se.jsx)(Ro,{headers:r,order:o,orderBy:s,sorting:Z,onRequestSort:h}),Object(Se.jsxs)(po.a,{children:[c&&Object.keys(r).map((function(e,t){return Object(Se.jsx)(bo.a,{children:!!r&&Object.keys(r).map((function(e,n){return Object(Se.jsxs)(fo.a,{className:"p-4 text-center",children:[0===n&&Object(Se.jsxs)(lo.a,{className:"flex flex-row place-content-evenly",children:[Object(Se.jsx)(io.a,{variant:"circular",className:"mx-1",width:32,height:32}),Object(Se.jsx)(io.a,{variant:"circular",className:"mx-1",width:32,height:32}),Object(Se.jsx)(io.a,{variant:"circular",className:"mx-1",width:32,height:32})]}),n>0&&Object(Se.jsx)(io.a,{variant:"text"})]},"placeholder-row-".concat(t,"-cell-").concat(n))}))},"placeholder-row-".concat(t))})),!c&&Array.isArray(n)&&0===n.length&&Object(Se.jsx)(bo.a,{children:Object(Se.jsx)(fo.a,{className:"p-4 text-center",colSpan:(null===r||void 0===r?void 0:r.length)||1,children:Object(Se.jsxs)(jo.a,{className:"p-0 m-0",justify:"center",alignItems:"center",sx:{color:function(e){return e.palette.text.disabled}},children:[Object(Se.jsx)(Zo.a,{className:"m-4 capitalize",sx:{fontSize:56},color:"inherit"}),Object(Se.jsx)(Ia.a,{className:"m-4 capitalize",variant:"subtitle2",fullWidth:!0,children:"No data"})]})})}),!c&&Array.isArray(n)&&n.length>0&&n.map((function(e,t){var n=$(e);return Object(Se.jsxs)(O.Fragment,{children:[Object(Se.jsx)(bo.a,{hover:te(e),onClick:function(t){N||(D&&z(t,e[W],!L[e[W]||void 0]),j&&j(t,e))},role:"checkbox","aria-checked":n,tabIndex:-1,selected:n,rowSpan:re(e),sx:{opacity:ee(e)?.3:1,cursor:te(e)?"pointer":"auto"},children:r.map((function(t){return t.arrayAttribute?Object(Se.jsx)(is,{header:t,row:e,handleNestedAction:y,handleNestedFieldChange:w,nestedRowAction:R,formatContent:ne},ls(t)):ae(t,e)}))}),D&&Object(Se.jsx)(bo.a,{style:{backgroundColor:Object(vo.e)(G.palette.primary.light,.9)},children:Object(Se.jsx)(fo.a,{style:{paddingBottom:0,paddingTop:0},colSpan:r.length,children:Object(Se.jsx)(mo.a,{in:L[e[W]||void 0],timeout:"auto",mountOnEnter:!0,unmountOnExit:!0,children:Object(Se.jsx)(lo.a,{margin:1,children:T?T[t]:Object(Se.jsxs)(uo.a,{size:"small","aria-label":"details",children:[Object(Se.jsx)(ho.a,{children:Object(Se.jsx)(bo.a,{children:E.map((function(e){return Object(Se.jsx)(fo.a,{children:e.label},ls(e))}))})}),Object(Se.jsx)(po.a,{children:Object(Se.jsx)(bo.a,{children:E.map((function(t){return ae(t,e)}))})})]})})})})})]},e[W]||t)}))]})]})}),!!a&&!c&&Object(Se.jsx)(S.a,{rowsPerPageOptions:[5,10,25,50,100,250,500],component:"div",count:a||0,rowsPerPage:b,page:p,onPageChange:oe,onRowsPerPageChange:g}),Object(Se.jsxs)(pa.a,{open:null!==Y.contextMenu,onClose:ie,anchorReference:"anchorPosition",anchorPosition:null!==Y.contextMenu?{top:Y.contextMenu.mouseY,left:Y.contextMenu.mouseX}:void 0,children:[Object(Se.jsx)(ba.a,{onClick:ie,children:"Copy"}),Object(Se.jsx)(ba.a,{onClick:ie,children:"Print"}),Object(Se.jsx)(ba.a,{onClick:ie,children:"Highlight"}),Object(Se.jsx)(ba.a,{onClick:ie,children:"Email"})]})]})]})}cs.defaultProps={order:"asc",orderBy:"id",dense:!0,loading:!1,page:1,rowsPerPage:10,selected:[],handleRowClick:function(){},handleRequestSort:function(){},handleNestedAction:function(){},handleNestedFieldChange:function(){},handleActionClick:function(){},disableRowClick:!1,handleUniversalFilterChange:function(){},handleDateChange:function(){},dates:{from:Object(rs.a)(new Date,"yyyy-MM-dd"),to:Object(rs.a)(new Date,"yyyy-MM-dd")},actionButtons:["delete"],showToolbar:!1,collapsible:!1,collapseHeaders:[],collapseContent:null,refreshBadgeCount:0,disableSelection:!1,nestedRowAction:{},openRows:{},handleCollapseIconClick:function(){},selectibleRows:null,identifier:"id",disableCopyToClipboard:!1,truncate:100};var us=cs,ds=n(74),ps=function(e){var t,n,a=e.defination,i=(e.service,e.query),r=e.auth,o=e.onLoadData,s=(e.load_data,Object(ss.p)({loading:!0,load_error:!1,columns:[],data:[],raw_data:[],raw_data_mutated:!1,mouseX:null,mouseY:null,actionsView:"contextMenu",context:null,page:0,order:"",orderBy:"",rowsPerPage:10,selectedRow:null,selectedItems:{},openRows:{},filters:null,notificationsCount:0})),l=Object(u.a)(s,3),c=l[0],p=l[1],b=(l[2],x.a.useRef([])),f=x.a.useRef(i),j=Object(ds.c)().Api,m=Object(O.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!1;return Function.isFunction(e)&&(n=0===e.length?e():1===e.length?e((null===r||void 0===r?void 0:r.user)||{}):e((null===r||void 0===r?void 0:r.user)||{},t)),n}),[null===r||void 0===r?void 0:r.user]),h=(Object(O.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="#";return Function.isFunction(e)&&(n=0===check.length?e():1===check.length?e((null===r||void 0===r?void 0:r.user)||{}):e((null===r||void 0===r?void 0:r.user)||{},t)),n}),[null===r||void 0===r?void 0:r.user]),Object(O.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Function.isFunction(uri)&&(0===check.length?actionUri=uri():1===check.length?actionUri=uri((null===r||void 0===r?void 0:r.user)||{}):actionUri=uri((null===r||void 0===r?void 0:r.user)||{},t)),actionUri}),[null===r||void 0===r?void 0:r.user]),Object(O.useCallback)((function(){var e,t=[];if(Object.isObject(null===a||void 0===a||null===(e=a.scope)||void 0===e?void 0:e.columns)){var n,i,o,s,l,c,p=[],f=[],j=[];Function.isFunction(null===a||void 0===a||null===(n=a.access)||void 0===n||null===(i=n.actions)||void 0===i?void 0:i.tableview)?j=a.access.actions.tableview(r.user):Array.isArray(null===a||void 0===a||null===(o=a.access)||void 0===o||null===(s=o.actions)||void 0===s?void 0:s.tableview)?j=j.concat(a.access.actions.tableview):JSON.isEmpty(null===a||void 0===a||null===(l=a.access)||void 0===l?void 0:l.actions)||Object.entries(a.access.actions).map((function(e,t){var n=Object(u.a)(e,2),a=n[0],i=n[1],o=!0,s=!1;if(Function.isFunction(null===i||void 0===i?void 0:i.restricted)?1===i.restricted.length?o=i.restricted(r.user):s=i.restricted:o=!!(null===i||void 0===i?void 0:i.restricted),!o){var l,c,b=(null===i||void 0===i?void 0:i.icon)||(null===i||void 0===i||null===(l=i.link)||void 0===l||null===(c=l.inline)||void 0===c?void 0:c.listing);(null===i||void 0===i?void 0:i.isFreeAction)?p.push(Object(d.a)(Object(d.a)({},i),{},{id:a,tooltip:(null===i||void 0===i?void 0:i.tooltip)||(null===i||void 0===i?void 0:i.label)||a.humanize(),icon:b,hideCondition:function(e){return m(s,e)}})):j.push(Object(d.a)(Object(d.a)({},i),{},{id:a,tooltip:(null===i||void 0===i?void 0:i.tooltip)||(null===i||void 0===i?void 0:i.label)||a.humanize(),icon:b,hideCondition:function(e){return m(s,e)}}))}})),Array.isArray(j)&&j.length>0&&(f=j.reduce((function(e,t){return(null===t||void 0===t?void 0:t.isFreeAction)?p.push(t):e.push(Object(d.a)({},t)),e}),[]),t.push({key:"actions",label:"Actions",className:"align-center",actions:f})),t.push({key:"_id",attribute:"_id",label:"ID"}),t=Object.entries(null===a||void 0===a||null===(c=a.scope)||void 0===c?void 0:c.columns).reduce((function(e,t){var n,a=Object(u.a)(t,2),i=a[0],o=a[1],s=o.label;return Function.isFunction(o.label)&&(s=o.label(null===r||void 0===r?void 0:r.user)),e.push({key:i,attribute:i,label:s,component:null===(n=o.tableProps)||void 0===n?void 0:n.render,sortable:"object"!==o.type&&JSON.isEmpty(o.reference),object:"object"===o.type||!JSON.isEmpty(o.reference),date:"date"===o.type,datetime:"datetime"===o.type,time:"time"===o.type,boolean:"boolean"===o.type,reference:!JSON.isEmpty(o.reference),truncate:o.truncate||100,className:JSON.isEmpty(o.reference)?"p-2":function(e,t){return JSON.isJSON(e[i])?"p-2 text-blue-400 hover:text-blue-500 transition":"p-2"},resolveReferenceText:function(e,t){if(t.reference){var n,a,i,r=String.isString(e)?e:"";return e&&Array.isArray(null===(n=o.reference)||void 0===n||null===(a=n.resolves)||void 0===a||null===(i=a.display)||void 0===i?void 0:i.primary)&&JSON.isJSON(e)&&(o.reference.resolves.display.primary.map((function(t){var n=JSON.getDeepPropertyValue(t,e);r="".concat(r," ").concat(n||""," ")})),r=r.trim().truncate(50)),r}}}),e}),t)}b.current=t}),[a])),y=Object(O.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];a&&(null===a||void 0===a?void 0:a.endpoint)?(p((function(t){return{loading:!0,load_error:!1,data:e?[]:t.data,pages:e?1:t.pages,page:e?0:t.page,count:e?0:t.count}})),j.get(a.endpoint,{params:Object(d.a)({},f.current)}).then((function(e){var t=Object(d.a)({},f.current).sort,n=Object(d.a)({},null===e||void 0===e?void 0:e.body),a=n.data,i=n.pages,r=n.page,s=n.count;p({loading:!1,data:a,pages:i,page:r,count:s,sort:t}),Function.isFunction(o)&&o(a,f.current)})).catch((function(e){p({load_error:e,loading:!1})}))):p({data:[],load_error:{msg:"No Context defination or provided"},loading:!1})}),[o,a]);return Object(ss.c)((function(){h(),y(!1)})),Object(ss.d)((function(){f.current=Object(d.a)(Object(d.a)({},f.current),i),y(!1)}),[i]),Object(ss.d)((function(){h(),y(!0)}),[a]),Object(Se.jsx)(v.a,{className:"p-0",children:Object(Se.jsx)(g.a,{className:"p-0 m-0",xs:12,children:Object(Se.jsx)(us,{rows:Array.isArray(c.data)?c.data:[],totalCount:c.count,headers:b.current,sort:c.sort,order:c.order,onPageChange:function(e,t){f.current=Object(d.a)(Object(d.a)({},f.current),{},{page:t+1}),y()},onRowsPerPageChange:function(e){var t,n;f.current=Object(d.a)(Object(d.a)({},f.current),{},{rpp:(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value)||10,pagination:(null===e||void 0===e||null===(n=e.target)||void 0===n?void 0:n.value)||10}),y()},orderBy:c.orderBy,loading:c.loading,page:c.page-1,rowsPerPage:(null===(t=f.current)||void 0===t?void 0:t.rpp)||(null===(n=f.current)||void 0===n?void 0:n.pagination)||10})})})};ps.defaultProps={show_actions:!0,show_links:!0,query:{p:1,pagination:50},cache_data:!0,load_data:!0,actionsType:"inline"};var bs=_()(Object(k.b)((function(e,t){return{auth:e.auth}}),{openDialog:Yr.ub,closeDialog:Yr.lb}))(ps);function fs(e){var t=Object(M.a)(),n=e.count,a=e.page,i=e.rowsPerPage,r=e.onPageChange;return Object(Se.jsxs)("div",{className:"ml-2 flex-shrink-0",children:[Object(Se.jsx)(pi.a,{onClick:function(e){Function.isFunction(r)&&r(e,0)},disabled:0===a,"aria-label":"first page",children:"rtl"===t.direction?Object(Se.jsx)(q.a,{}):Object(Se.jsx)(A.a,{})}),Object(Se.jsx)(pi.a,{onClick:function(e){Function.isFunction(r)&&r(e,a-1)},disabled:0===a,"aria-label":"previous page",children:"rtl"===t.direction?Object(Se.jsx)(E.a,{}):Object(Se.jsx)(P.a,{})}),Object(Se.jsx)(pi.a,{onClick:function(e){Function.isFunction(r)&&r(e,a+1)},disabled:a>=Math.ceil(n/i)-1,"aria-label":"next page",children:"rtl"===t.direction?Object(Se.jsx)(P.a,{}):Object(Se.jsx)(E.a,{})}),Object(Se.jsx)(pi.a,{onClick:function(e){Function.isFunction(r)&&r(e,Math.max(0,Math.ceil(n/i)-1))},disabled:a>=Math.ceil(n/i)-1,"aria-label":"last page",children:"rtl"===t.direction?Object(Se.jsx)(A.a,{}):Object(Se.jsx)(q.a,{})})]})}var js=function(e){Object(j.a)(n,e);var t=Object(m.a)(n);function n(e){var a,i,r,o,s;Object(p.a)(this,n),(s=t.call(this,e)).state={defination:null,service:null,view:"tableview",views:{},showViewOptions:!0,showAddBtn:!0,searchKeyword:"",query:{},pages:1,page:1,viewMenuAnchorEl:null,sortFields:[],filterAccordionExpanded:!1,filterableFields:{},filterContext:!1,filterMenuAnchor:null,filters:{values:{},labels:{}},fields:{},loading:{},value_possibilities:{},queryBuilderProps:{value:{populate:!0,config:{fields:{}}}}},s.mounted=!1,s.searchkeywordRef=x.a.createRef(),s.handleViewItemClick=function(e){return function(t){s.mounted?s.setState({view:e,viewMenuAnchorEl:null}):(s.state.view=e,s.state.viewMenuAnchorEl=null)}},s.handleShowViewsMenu=function(e){var t=e.currentTarget;s.mounted?s.setState({viewMenuAnchorEl:t}):s.state.viewMenuAnchorEl=t},s.handleCloseViewsMenu=function(){s.mounted?s.setState({viewMenuAnchorEl:null}):s.state.viewMenuAnchorEl=null},s.handleOnPageChanged=function(e,t){s.setState((function(e){return{page:t+1,query:Object(d.a)(Object(d.a)({},e.query),{},{page:t+1}),viewMenuAnchorEl:null}}))},s.handleOnRecordsPerPageChanged=function(e){var t=Number.parseNumber(e.target.value,s.state.query.pagination);s.setState((function(e){return{page:1,query:Object(d.a)(Object(d.a)({},e.query),{},{pagination:t})}}))};var l=e.defination,c=e.query,b=(e.cache,e.app);s.state.defination=l,s.state.service=Kr.a.getContextRequests(l.endpoint),s.state.query=Object(d.a)({p:1,pagination:(null===c||void 0===c?void 0:c.rpp)||(null===c||void 0===c?void 0:c.pagination)||(null===b||void 0===b||null===(a=b.preferences)||void 0===a||null===(i=a.data)||void 0===i?void 0:i.pagination)||50,page:(null===c||void 0===c?void 0:c.pg)||(null===c||void 0===c?void 0:c.page)||1},c);var j={},m=!1,h="";if(Object.entries(l.scope.columns).map((function(e,t){var n=Object(u.a)(e,2),a=n[0],i=n[1];["file","dynamic","textarea","password","wysiwyg","map","file","slider","multiselect"].includes(i.input.type)||(j[a]=i)})),JSON.isJSON(c)){var v=!1,g=Object.keys(j);Object.entries(c).map((function(e){var t=Object(u.a)(e,2),n=t[0],a=t[1];!v&&g.includes(n)&&(m=n,h=a,h=String.isString(a)?a:String(a),v=!0)}))}return m||!c.q&&!c.query?(s.state.searchKeyword=h,s.state.filterContext=m):c.q?s.state.searchKeyword=c.q:s.state.searchKeyword=c.query,s.handleViewItemClick=s.handleViewItemClick.bind(Object(f.a)(s)),s.handleOnPageChanged=s.handleOnPageChanged.bind(Object(f.a)(s)),s.handleOnRecordsPerPageChanged=s.handleOnRecordsPerPageChanged.bind(Object(f.a)(s)),s.handleOnQueryBuilderChange=s.handleOnQueryBuilderChange.bind(Object(f.a)(s)),console.log("app?.preferences?.data?.pagination",null===b||void 0===b||null===(r=b.preferences)||void 0===r||null===(o=r.data)||void 0===o?void 0:o.pagination),s}return Object(b.a)(n,[{key:"componentDidMount",value:function(){this.mounted=!0,this.prepareForRender()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"getSnapshotBeforeUpdate",value:function(e,t){return this.mounted=!1,{prepareForRenderRequired:!Object.areEqual(e.query,this.props.query),loadQueryBuilderPropsRequired:!Object.areEqual(t.fields,this.state.fields)||!Object.areEqual(t.value_possibilities,this.state.value_possibilities),paramsChangeApplicationRequired:!Object.areEqual(t.query,this.state.query)}}},{key:"shouldComponentUpdate",value:function(e,t){return!Object.areEqual(this.props,e)||!Object.areEqual(this.state,t)}},{key:"componentDidUpdate",value:function(e,t,n){this.mounted=!0,n.prepareForRenderRequired&&(this.prepareForRender(),this.loadFieldValuePosibilities()),n.loadQueryBuilderPropsRequired&&this.setQueryBuilderProps()}},{key:"prepareForRender",value:function(){var e=Object(c.a)(l.a.mark((function e(){var t,n,a,i,r,o,s,c,p,b,f,j,m,h,v,g=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,n=t.defination,a=t.query,i=t.view,r=t.showViewOptions,o=t.showAddBtn,s=t.app,n){c={tableview:"Table View",listview:"List View",googlemapview:"Map View",vectormapview:"Vector Map View",calendarview:"Calendar View"},p={},b="tableview",n.views.listing.default in c&&(b=n.views.listing.default);for(f=0,j=Object.entries(c);f<j.length;f++)m=Object(u.a)(j[f],2),h=m[0],v=m[1],h in n.views.listing&&(p[h]=v);({}),!1,"",this.evaluateFields().then((function(e){var t,l,c,u,f=e.evaluatedFields,j=e.onChangeEffects;g.mounted?g.setState({defination:n,service:Kr.a.getContextRequests(n.endpoint),fields:f,onChangeEffects:j,query:Object(d.a)({p:1,pagination:(null===a||void 0===a?void 0:a.rpp)||(null===a||void 0===a?void 0:a.pagination)||(null===s||void 0===s||null===(t=s.preferences)||void 0===t||null===(l=t.data)||void 0===l?void 0:l.pagination)||50,page:(null===a||void 0===a?void 0:a.pg)||(null===a||void 0===a?void 0:a.page)||1},a),views:p,view:i||b,showViewOptions:r,showAddBtn:o},(function(){g.loadFieldValuePosibilities()})):(g.state=Object(d.a)(Object(d.a)({},g.state),{},{defination:n,service:Kr.a.getContextRequests(n.endpoint),fields:f,onChangeEffects:j,query:Object(d.a)({p:1,pagination:(null===a||void 0===a?void 0:a.rpp)||(null===a||void 0===a?void 0:a.pagination)||(null===s||void 0===s||null===(c=s.preferences)||void 0===c||null===(u=c.data)||void 0===u?void 0:u.pagination)||50,page:(null===a||void 0===a?void 0:a.pg)||(null===a||void 0===a?void 0:a.page)||1},a),views:p,view:i||b,showViewOptions:r,showAddBtn:o}),g.loadFieldValuePosibilities())})).catch((function(e){}))}case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"callDefinationMethod",value:function(){var e=Object(c.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.props.auth,{},a=null,0===t.length?a=t():1===t.length?a=t(this):(2===t.length||3===t.length)&&(a=t({},n.user)),e.abrupt("return",Promise.all([a]).then((function(e){return a})).catch((function(e){return a})));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"evaluateFields",value:function(){var e=Object(c.a)(l.a.mark((function e(){var t,n,a,i,r,o,s,d=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.defination,n={},a={},!t){e.next=12;break}i=t.scope.columns,r=l.a.mark((function e(){var t,i,r,p;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Object(u.a)(s[o],2),i=t[0],r=t[1],p=JSON.parse(JSON.stringify(r)),!r.input.default){e.next=10;break}if(!Function.isFunction(r.input.default)){e.next=9;break}return e.next=6,d.callDefinationMethod(r.input.default);case 6:p.input.default=e.sent,e.next=10;break;case 9:p.input.default=r.input.default;case 10:if(!Function.isFunction(r.label)){e.next=14;break}return e.next=13,d.callDefinationMethod(r.label);case 13:p.label=e.sent;case 14:if(!Function.isFunction(r.input.type)){e.next=18;break}return e.next=17,d.callDefinationMethod(r.input.type);case 17:p.input.type=e.sent;case 18:if(!Function.isFunction(r.input.default)){e.next=22;break}return e.next=21,d.callDefinationMethod(r.input.default);case 21:p.input.value=e.sent;case 22:if(!Function.isFunction(r.input.value)){e.next=26;break}return e.next=25,d.callDefinationMethod(r.input.value);case 25:p.input.value=e.sent;case 26:if(!Function.isFunction(r.input.required)){e.next=30;break}return e.next=29,d.callDefinationMethod(r.input.required);case 29:p.input.required=e.sent;case 30:if(!Function.isFunction(r.input.props)){e.next=34;break}return e.next=33,d.callDefinationMethod(r.input.props);case 33:p.input.props=e.sent;case 34:if(!r.restricted){e.next=42;break}if(!Function.isFunction(r.restricted.input)){e.next=41;break}return e.next=38,d.callDefinationMethod(r.restricted.input);case 38:p.restricted.input=e.sent,e.next=42;break;case 41:Boolean.isBoolean(r.restricted.input)&&(p.restricted.input=r.restricted.input);case 42:if(!r.reference){e.next=86;break}if(!Function.isFunction(r.reference)){e.next=65;break}return e.next=46,d.callDefinationMethod(r.reference);case 46:if(p.reference=e.sent,!JSON.isJSON(p.reference)){e.next=62;break}if(!Function.isFunction(p.reference.name)){e.next=52;break}return e.next=51,d.callDefinationMethod(p.reference.name);case 51:p.reference.name=e.sent;case 52:if(!Function.isFunction(p.reference.resolves)){e.next=56;break}return e.next=55,d.callDefinationMethod(p.reference.resolves);case 55:p.reference.resolves=e.sent;case 56:if(!Function.isFunction(p.reference.service_query)){e.next=60;break}return e.next=59,d.callDefinationMethod(p.reference.service_query);case 59:p.reference.service_query=e.sent;case 60:e.next=63;break;case 62:delete p.reference;case 63:e.next=86;break;case 65:if(!Function.isFunction(r.reference.name)){e.next=71;break}return e.next=68,d.callDefinationMethod(r.reference.name);case 68:p.reference.name=e.sent,e.next=72;break;case 71:p.reference.name=r.reference.name;case 72:if(!Function.isFunction(r.reference.resolves)){e.next=78;break}return e.next=75,d.callDefinationMethod(r.reference.resolves);case 75:p.reference.resolves=e.sent,e.next=79;break;case 78:p.reference.resolves=r.reference.resolves;case 79:if(!Function.isFunction(r.reference.service_query)){e.next=85;break}return e.next=82,d.callDefinationMethod(r.reference.service_query);case 82:p.reference.service_query=e.sent,e.next=86;break;case 85:p.reference.service_query=r.reference.service_query;case 86:if(!r.possibilities){e.next=91;break}if(!Function.isFunction(r.possibilities)){e.next=91;break}return e.next=90,d.callDefinationMethod(r.possibilities);case 90:p.possibilities=e.sent;case 91:n[i]=p,a[i]=function(){var e=Object(c.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=JSON.parse(JSON.stringify(r)),!r.input.default){e.next=6;break}if(!Function.isFunction(r.input.default)){e.next=6;break}return e.next=5,t.callDefinationMethod(r.input.default);case 5:n.input.default=e.sent;case 6:if(!Function.isFunction(r.label)){e.next=10;break}return e.next=9,t.callDefinationMethod(r.label);case 9:n.label=e.sent;case 10:if(!Function.isFunction(r.input.type)){e.next=14;break}return e.next=13,t.callDefinationMethod(r.input.type);case 13:n.input.type=e.sent;case 14:if(!Function.isFunction(r.input.disabled)){e.next=18;break}return e.next=17,t.callDefinationMethod(r.input.disabled);case 17:n.input.disabled=e.sent;case 18:if(!Function.isFunction(r.input.default)){e.next=22;break}return e.next=21,t.callDefinationMethod(r.input.default);case 21:n.input.default=e.sent;case 22:if(!Function.isFunction(r.input.value)){e.next=26;break}return e.next=25,t.callDefinationMethod(r.input.value);case 25:n.input.value=e.sent;case 26:if(!Function.isFunction(r.input.required)){e.next=30;break}return e.next=29,t.callDefinationMethod(r.input.required);case 29:n.input.required=e.sent;case 30:if(!Function.isFunction(r.input.props)){e.next=34;break}return e.next=33,t.callDefinationMethod(r.input.props);case 33:n.input.props=e.sent;case 34:if(!r.restricted){e.next=42;break}if(!Function.isFunction(r.restricted.input)){e.next=41;break}return e.next=38,t.callDefinationMethod(r.restricted.input);case 38:n.restricted.input=e.sent,e.next=42;break;case 41:Boolean.isBoolean(r.restricted.input)?n.restricted.input=r.restricted.input:n.restricted.input=!1;case 42:if(!r.reference){e.next=86;break}if(!Function.isFunction(r.reference)){e.next=65;break}return e.next=46,t.callDefinationMethod(r.reference);case 46:if(n.reference=e.sent,!JSON.isJSON(n.reference)){e.next=62;break}if(!Function.isFunction(n.reference.name)){e.next=52;break}return e.next=51,t.callDefinationMethod(n.reference.name);case 51:n.reference.name=e.sent;case 52:if(!Function.isFunction(n.reference.resolves)){e.next=56;break}return e.next=55,t.callDefinationMethod(n.reference.resolves);case 55:n.reference.resolves=e.sent;case 56:if(!Function.isFunction(n.reference.service_query)){e.next=60;break}return e.next=59,t.callDefinationMethod(n.reference.service_query);case 59:n.reference.service_query=e.sent;case 60:e.next=63;break;case 62:delete n.reference;case 63:e.next=86;break;case 65:if(!Function.isFunction(r.reference.name)){e.next=71;break}return e.next=68,t.callDefinationMethod(r.reference.name);case 68:n.reference.name=e.sent,e.next=72;break;case 71:n.reference.name=r.reference.name;case 72:if(!Function.isFunction(r.reference.resolves)){e.next=78;break}return e.next=75,t.callDefinationMethod(r.reference.resolves);case 75:n.reference.resolves=e.sent,e.next=79;break;case 78:n.reference.resolves=r.reference.resolves;case 79:if(!Function.isFunction(r.reference.service_query)){e.next=85;break}return e.next=82,t.callDefinationMethod(r.reference.service_query);case 82:n.reference.service_query=e.sent,e.next=86;break;case 85:n.reference.service_query=r.reference.service_query;case 86:if(!r.possibilities){e.next=91;break}if(!Function.isFunction(r.possibilities)){e.next=91;break}return e.next=90,t.callDefinationMethod(r.possibilities);case 90:n.possibilities=e.sent;case 91:if(Object.areEqual(t.state.fields[i],n)){e.next=95;break}return e.abrupt("return",n);case 95:return e.abrupt("return",!1);case 96:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();case 93:case"end":return e.stop()}}),e)})),o=0,s=Object.entries(i);case 7:if(!(o<s.length)){e.next=12;break}return e.delegateYield(r(),"t0",9);case 9:o++,e.next=7;break;case 12:return e.abrupt("return",{evaluatedFields:n,onChangeEffects:a});case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadFieldValuePosibilities",value:function(){var e=this,t=this.props,n=t.auth,a=t.fields,i=t.exclude,r=(t.defination,{}),s={},l={};if(Object.size(this.state.onChangeEffectsFields)>0)for(var c=0,p=Object.entries(this.state.onChangeEffectsFields);c<p.length;c++){var b=Object(u.a)(p[c],2),f=b[0],j=b[1];if(JSON.isJSON(j.reference)&&!this.state.loading[f])r[f]=j,s[f]=!0;else if(JSON.isJSON(j.possibilities)&&!(f in this.state.value_possibilities)||!Object.areEqual(this.state.value_possibilities[f],j.possibilities))l[f]=j.possibilities;else if(Array.isArray(j.possibilities)&&!(f in this.state.value_possibilities)){for(var m={},h=0;h<j.possibilities.length;h++)m[j.possibilities[h]]=j.possibilities[h];l[f]=m}}else for(var v=0,g=Object.entries(this.state.fields);v<g.length;v++){var O=Object(u.a)(g[v],2),x=O[0],y=O[1];if(JSON.isJSON(y.reference)&&!this.state.loading[x])x in this.state.value_possibilities||(r[x]=y,s[x]=!0);else if(JSON.isJSON(y.possibilities)&&!(x in this.state.value_possibilities)||!Object.areEqual(this.state.value_possibilities[x],y.possibilities))l[x]=y.possibilities;else if(Array.isArray(y.possibilities)&&!(x in this.state.value_possibilities)){var w={};for(h=0;h<y.possibilities.length;h++)w[y.possibilities[h]]=y.possibilities[h];l[x]=w}}if(Object.size(l)>0&&(this.state.value_possibilities=Object(d.a)(Object(d.a)({},this.state.value_possibilities),l)),Object.size(r)>0){for(var k=function(){var t=Object(u.a)(_[N],2),s=t[0],l=t[1];if(Array.isArray(a)&&a.length>0&&(i&&a.includes(s)||!a.includes(s)))return"continue";if(JSON.isJSON(l.reference)&&String.isString(l.reference.name)&&JSON.isJSON(l.reference.service_query)){var c,p=l.reference.name,b=Kr.a.getContextRequests(null===(c=so[p])||void 0===c?void 0:c.endpoint),f=l.reference.service_query;f&&e.state.last_field_changed!==s&&(e.setState((function(e){return{loading:Object(d.a)(Object(d.a)({},e.loading),{},Object(o.a)({},s,!0))}})),b.getRecords(f).then((function(t){var a=t.body.data,i={},c=l.reference.resolves,u=r;if(c.emulation)if(c.emulation.defination in so){if(Array.isArray(a)){for(var p=[],b=0;b<a.length;b++)c.emulation.key in a[b]&&(Array.isArray(a[b][c.emulation.key])?p=p.concat(a[b][c.emulation.key]):p.push(a[b][c.emulation.key]));a=p}u=so[c.emulation.defination].scope.columns}else a=[];if(a.length>0){for(var f=[],j=0;j<a.length;j++)f.push(Object(o.a)({},s,a[j]));for(var m=Br.c.resolveReferenceColumnsDisplays(f,u,n.user),h=0;h<m.length;h++)i[m[h][s].value]=m[h][s].resolve}e.mounted?e.setState((function(e){return{value_possibilities:Object(d.a)(Object(d.a)({},e.value_possibilities),{},Object(o.a)({},s,i)),loading:Object(d.a)(Object(d.a)({},e.loading),{},Object(o.a)({},s,!1))}})):(e.state.value_possibilities=Object(d.a)(Object(d.a)({},e.state.value_possibilities),{},Object(o.a)({},s,i)),e.state.loading=Object(d.a)(Object(d.a)({},e.state.loading),{},Object(o.a)({},s,!1)))})).catch((function(t){e.mounted?e.setState((function(e){return{loading:Object(d.a)(Object(d.a)({},e.loading),{},Object(o.a)({},s,!1)),openSnackBar:!0,snackbarMessage:"Error fetching "+l.label+" ::: "+t.msg,snackbarColor:"warning"}})):(e.state.loading=Object(d.a)(Object(d.a)({},e.state.loading),{},Object(o.a)({},s,!1)),e.state.openSnackBar=!0,e.state.snackbarMessage="Error fetching "+l.label+" ::: "+t.msg,e.state.snackbarColor="warning")})))}},N=0,_=Object.entries(r);N<_.length;N++)k();this.setState({onChangeEffectsFields:{}})}}},{key:"setQueryBuilderProps",value:function(){var e=Object(c.a)(l.a.mark((function e(){var t,n,a,i,r,o=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props,t.auth,t.query,t.defination,n=this.state,a=n.fields,i=n.value_possibilities,r={_id:{label:"ID",type:"text",valueSources:["value"],fieldSettings:{}}},a&&Object.entries(a).map((function(e){var t=Object(u.a)(e,2),n=t[0],a=t[1],o=a.input.type;if(o="slider"===(o="radio"===(o="textarea"===(o="checkbox"===o?"boolean":o)||"file"===o?"text":o)?"select":o)?"integer"===a.type?"slider":"select":o,r[n]={label:a.label,type:o,valueSources:["value"],fieldSettings:{min:a.input.min,max:a.input.max}},"slider"===o&&(r[n].type="number",r[n].fieldSettings.preferWidgets=["slider"]),!JSON.isEmpty(i[n])){var s=[];Object.entries(i[n]).map((function(e){var t=Object(u.a)(e,2),n=t[0],a=t[1];s.push({value:n,title:a})})),r[n].fieldSettings.listValues=s}})),r.created_on=r.created_on?r.created_on:{label:"Created On",type:"date",valueSources:["value"]},this.mounted?this.setState((function(e){return{queryBuilderProps:{format:"mongodb",value:{populate:e.query.p||e.query.populate,sort:o.state.query.s||o.state.query.sort||void 0,config:{fields:r}}}}})):this.state.queryBuilderProps={format:"mongodb",value:{populate:this.state.query.p||this.state.query.populate,sort:this.state.query.s||this.state.query.sort||"-created_on",config:{fields:r}}};case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleOnQueryBuilderChange",value:function(e){this.setState((function(t){return{query:Object(d.a)(Object(d.a)({},t.query),{},{q:e.search,filter:e.mongodb,sort:e.sort,p:e.populate?1:0})}}))}},{key:"render",value:function(){var e,t,n,a=this,i=this.props,r=i.auth,o=(i.query,i.defination),s=i.cache,l=(i.api,i.showPagination),c=i.showSorter,p=i.cache_data,b=i.onLoadData,f=i.load_data,j=i.onClickEntry,m=(i.sorterFormLayoutType,this.state),O=m.view,x=m.queryBuilderProps;return Object(Se.jsxs)(v.a,{className:"p-0 m-0",children:[Object(Se.jsxs)(v.a,{className:"p-0 m-0",children:[this.state.showViewOptions&&Object(Se.jsx)(g.a,{sm:12,md:8,children:Object.entries(this.state.views).map((function(e,t){var n=Object(u.a)(e,2),i=n[0],r=n[1];return Object(Se.jsx)(h.a,{color:"primary",variant:i===O?"contained":"text",onClick:function(e){a.setState({view:i,viewMenuAnchorEl:null})},children:r},"btn-view-"+i)}))}),this.state.showAddBtn&&o&&!(null===o||void 0===o||null===(e=o.access)||void 0===e||null===(t=e.actions)||void 0===t||null===(n=t.create)||void 0===n?void 0:n.restricted(r.user))&&Object(Se.jsx)(g.a,{sm:12,lg:this.state.showViewOptions?4:12,className:"flex flex-row-reverse",children:Object(Se.jsx)(h.a,{color:"primary",variant:"text",children:"Create New"})})]}),Object(Se.jsxs)(v.a,{className:"p-1 m-0",children:[c&&"googlemapview"!==O&&Object(Se.jsx)(g.a,{xs:12,className:"p-0 m-0 mb-2",children:Object(Se.jsx)(Sr,Object(d.a)({onChange:this.handleOnQueryBuilderChange},x))}),Object(Se.jsxs)(g.a,{xs:12,className:"p-0 m-0",children:["tableview"==O&&Object(Se.jsx)(bs,{defination:o,service:this.state.service,query:this.state.query,cache_data:p,load_data:f,onLoadData:b,onClickEntry:j}),"googlemapview"===O&&Object(Se.jsx)(Xr.default,{context:o.name,service:this.state.service,query:this.state.query,cache_data:p,load_data:f,onLoadData:b,onClickEntry:j}),"calendarview"===O&&Object(Se.jsx)(Zr,{defination:o,service:this.state.service,query:this.state.query,cache_data:p,load_data:f,onLoadData:b,onClickEntry:j}),"listview"===O&&Object(Se.jsx)(oo,{defination:o,service:this.state.service,query:this.state.query,cache_data:p,load_data:f,onLoadData:b,onClickEntry:j})]})]}),l&&"googlemapview"!=O&&"tableview"!=O&&Object(Se.jsx)(v.a,{className:"p-0 m-0 mb-4",children:Object(Se.jsx)(g.a,{xs:12,className:"p-2 flex items-center justify-center",children:Object(Se.jsx)(S.a,{count:o.name in s.res?s.res[o.name].count:1,page:o.name in s.res?s.res[o.name].page-1:this.state.page-1,rowsPerPage:this.state.query.pagination,onPageChange:this.handleOnPageChanged,labelRowsPerPage:"Records per page",rowsPerPageOptions:[5,10,25,50,100,250,500,1e3,{value:-1,label:"All"}],onChangeRowsPerPage:this.handleOnRecordsPerPageChanged,ActionsComponent:fs,component:"div",SelectProps:{label:"Records per page",variant:"outlined"},classes:{toolbar:"flex-col-reverse px-2"}})})})]})}}]),n}(x.a.Component);js.defaultProps={show_actions:!0,show_links:!0,showViewOptions:!0,showAddBtn:!0,showPagination:!0,showSorter:!0,sorterFormLayoutType:"inline",query:{rpp:100},load_data:!0,cache_data:!0};t.a=_()(Object(k.b)((function(e){return{auth:e.auth,cache:e.cache,api:e.api,app:e.app}}),{}))(js)},399:function(e,t,n){"use strict";var a=n(2),i=n(4),r=n(15),o=n(66),s=n.n(o),l=(n(1),n(0)),c=["className","children"];t.a=function(e){var t,n=Object.assign({},e),o=n.className,u=n.children,d=Object(r.a)(n,c),p=s()((t={},Object(i.a)(t,"flex items-center bg-transparent p-4",!0),Object(i.a)(t,o,!!o),t));return Object(l.jsx)("div",Object(a.a)(Object(a.a)({className:p},d),{},{children:u}))}},413:function(e,t,n){"use strict";n.d(t,"d",(function(){return b})),n.d(t,"e",(function(){return f})),n.d(t,"b",(function(){return j})),n.d(t,"c",(function(){return m})),n.d(t,"a",(function(){return v}));var a=n(5),i=n.n(a),r=n(30),o=n(2),s=n(10),l=n(6),c=n(136),u=n(497),d=n(55);function p(e){var t=e;return JSON.isJSON(e)?t=Object.entries(e).reduce((function(e,t){var n=Object(l.a)(t,2),a=n[0],i=n[1];return Array.isArray(i)?e[a]=p(i):JSON.isJSON(i)&&"_id"in i?e[a]=i._id:e[a]=i,e}),{}):Array.isArray(e)&&e.length>0&&(t=e.reduce((function(e,t){return Array.isArray(t)?e.push(p(t)):JSON.isJSON(t)&&"_id"in t?e.push(t._id):e.push(t),e}),[])),t}var b=function(){var e=Object(s.a)(i.a.mark((function e(t){var n,a,s,l,f,j,m,h,v,g,O,x,y,w,k,N,_,S,C,A,F,P,D,E,T,q,M=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=M.length>1&&void 0!==M[1]&&M[1],a=(null===t||void 0===t?void 0:t._id)||t,s=(null===t||void 0===t?void 0:t.uuid)||t,l=null,String.isEmpty(a)&&String.isEmpty(s)){e.next=37;break}return e.prev=5,e.next=8,c.a.messages.filter((function(e){var t=!1;return String.isEmpty(a)||(t=(null===e||void 0===e?void 0:e._id)===a||(null===e||void 0===e?void 0:e.uuid)===a),t||String.isEmpty(s)||(t=(null===e||void 0===e?void 0:e._id)===s||(null===e||void 0===e?void 0:e.uuid)===s),t})).last();case 8:if(l=e.sent,String.isEmpty(null===(f=l)||void 0===f?void 0:f.uuid)?String.isEmpty(null===(j=l)||void 0===j?void 0:j._id)?null:"_id":"uuid",!JSON.isJSON(t)){e.next=31;break}if(O=(null===t||void 0===t||null===(m=t.conversation)||void 0===m?void 0:m._id)||(null===t||void 0===t?void 0:t.conversation)||(null===(h=l)||void 0===h?void 0:h.conversation),x=(null===t||void 0===t||null===(v=t.conversation)||void 0===v?void 0:v.uuid)||(null===t||void 0===t?void 0:t.conversation_uuid)||(null===t||void 0===t?void 0:t.conversation)||(null===(g=l)||void 0===g?void 0:g.conversation_uuid),y=null,String.isEmpty(O)&&String.isEmpty(x)){e.next=18;break}return e.next=17,c.a.conversations.filter((function(e){return(null===e||void 0===e?void 0:e._id)===O||(null===e||void 0===e?void 0:e._id)===x||(null===e||void 0===e?void 0:e.uuid)&&((null===e||void 0===e?void 0:e.uuid)===O||(null===e||void 0===e?void 0:e.uuid)===x)})).last();case 17:y=e.sent;case 18:w=p(t),delete(k=p(k=Object(o.a)(Object(o.a)({},l),t))).__v,Array.isArray(w.deletions)&&(k.deletions=((null===(N=l)||void 0===N?void 0:N.deletions)||[]).concat(Object(r.a)(w.deletions))),Array.isArray(w.receipts)&&(k.receipts=((null===(_=l)||void 0===_?void 0:_.receipts)||[]).concat(Object(r.a)(w.receipts))),Array.isArray(w.reads)&&(k.reads=((null===(S=l)||void 0===S?void 0:S.reads)||[]).concat(Object(r.a)(w.reads))),Array.isArray(w.archives)&&(k.archives=((null===(C=l)||void 0===C?void 0:C.archives)||[]).concat(Object(r.a)(w.archives))),Object.difference(t,l),JSON.isEmpty(y)||c.a.messages.put(k),!JSON.isEmpty(y)&&n&&(F=null,P=(null===t||void 0===t?void 0:t.sender._id)||(null===t||void 0===t?void 0:t.sender),!JSON.isEmpty(y)&&Array.isArray(null===(A=y)||void 0===A?void 0:A.participants)&&((null===(D=y.started_by)||void 0===D?void 0:D._id)===P?F=(null===(E=y.started_by)||void 0===E?void 0:E.first_name)+" "+(null===(T=y.started_by)||void 0===T?void 0:T.last_name):y.participants.map((function(e){F===P&&P===(null===e||void 0===e?void 0:e._id)&&(F=(null===e||void 0===e?void 0:e.first_name)+" "+(null===e||void 0===e?void 0:e.last_name))})),q={title:"".concat(F===P?"New Message":F),content:t.content,type:"info",mode:"snackbar",icon:"message"},d.a.emit("notification",q))),e.next=32;break;case 31:JSON.isJSON(l)&&!JSON.isEmpty(l)||u.Api.get("/messages/".concat(s||a),{}).then((function(e){var t=Object(o.a)({},e).body;(null===t||void 0===t?void 0:t.data)&&b(null===t||void 0===t?void 0:t.data)}));case 32:e.next=37;break;case 34:e.prev=34,e.t0=e.catch(5),console.error("onMessage error",e.t0);case 37:return e.abrupt("return",l);case 38:case"end":return e.stop()}}),e,null,[[5,34]])})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.map((function(e){return b(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var j=function(){var e=Object(s.a)(i.a.mark((function e(t){var n,a,r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(null===t||void 0===t?void 0:t.uuid)||(null===t||void 0===t?void 0:t._id)||t,a=null,String.isEmpty(n)){e.next=13;break}return e.prev=3,e.next=6,c.a.conversations.where("uuid").equalsIgnoreCase(n).or("_id").equalsIgnoreCase(n).last();case 6:a=e.sent,JSON.isJSON(t)?(s=Object(o.a)(Object(o.a)({},a),t),String.isEmpty(s.uuid)?String.isEmpty(s._id)?null:"_id":"uuid",s.last_used=(null===(r=a)||void 0===r?void 0:r.last_used)||(null===t||void 0===t?void 0:t.last_used)||(null===t||void 0===t?void 0:t.created_on)||new Date,c.a.conversations.put(s)):JSON.isJSON(a)&&!JSON.isEmpty(a)||Api.get("/conversations/".concat(n),{}).then((function(e){var t=Object(o.a)({},e).body;(null===t||void 0===t?void 0:t.data)&&j(null===t||void 0===t?void 0:t.data)})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.error("onConversation error",e.t0);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.map((function(e){return j(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(s.a)(i.a.mark((function e(t){var n,a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(null===t||void 0===t?void 0:t.uuid)||(null===t||void 0===t?void 0:t._id)||t,a=null,String.isEmpty(n)){e.next=13;break}return e.prev=3,e.next=6,c.a.contacts.where("uuid").equalsIgnoreCase(n).or("_id").equalsIgnoreCase(n).last();case 6:a=e.sent,JSON.isJSON(t)?(r=Object(o.a)(Object(o.a)({},a),t),c.a.contacts.put(r)):JSON.isJSON(a)&&!JSON.isEmpty(a)||Api.get("/contacts/".concat(n),{}).then((function(e){var t=Object(o.a)({},e).body;(null===t||void 0===t?void 0:t.data)&&h(null===t||void 0===t?void 0:t.data)})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.error("onContact error",e.t0);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Array.isArray(t)&&t.map((function(e){return h(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},423:function(e,t,n){"use strict";var a=n(2),i=n(15),r=n(5),o=n.n(r),s=n(10),l=n(11),c=n(12),u=n(31),d=n(19),p=n(20),b=n(1),f=n.n(b),j=n(740),m=n(609),h=n(365),v=n.n(h),g=n(0),O=["resolve","path","placeholderType","placeholder","offset"],x=function(e){Object(d.a)(r,e);var t=Object(p.a)(r);function r(){var e;return Object(l.a)(this,r),(e=t.call(this)).state={module:!1,inViewPort:!1},e.onViewportVisibilityChange=e.onViewportVisibilityChange.bind(Object(u.a)(e)),e}return Object(c.a)(r,[{key:"componentDidCatch",value:function(e){this.setState({hasError:e})}},{key:"loadModule",value:function(){var e=Object(s.a)(o.a.mark((function e(){var t,a,i,r,s,l,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=this.props,a=t.resolve,i=t.path,!Function.isFunction(a)){e.next=10;break}return e.next=5,a();case 5:r=e.sent,s=r.default,this.setState({module:s}),e.next=16;break;case 10:if(!String.isString(i)){e.next=16;break}return e.next=13,n(1427)(i);case 13:l=e.sent,c=l.default,this.setState({module:c});case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),this.setState({hasError:e.t0});case 21:case"end":return e.stop()}}),e,this,[[0,18]])})));return function(){return e.apply(this,arguments)}}()},{key:"onViewportVisibilityChange",value:function(e){var t=this.props.onVisible;e&&!this.state.module&&(this.loadModule(),this.setState({inViewPort:e}),Function.isFunction(t)&&t())}},{key:"render",value:function(){var e=this.props,t=(e.resolve,e.path,e.placeholderType),n=e.placeholder,r=(e.offset,Object(i.a)(e,O)),o=this.state,s=o.module,l=o.hasError;o.inViewPort;return Object(g.jsxs)(m.a,{onViewportVisibilityChange:v()(this.onViewportVisibilityChange,200),children:[l&&Object(g.jsx)("h5",{className:"error_text relative center text-center",children:l.message}),!l&&s&&Object(g.jsx)(s,Object(a.a)({},r)),!l&&!s&&Object(g.jsx)(j.a,{placeholder:n,type:t})]})}}]),r}(f.a.Component);x.defaultProps={placeholderType:"skeleton",placeholder:{variant:"rect",width:"100%",height:"100%",animation:"wave"},offset:0},t.a=x},43:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"o",(function(){return l})),n.d(t,"g",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"l",(function(){return d})),n.d(t,"d",(function(){return f})),n.d(t,"i",(function(){return h})),n.d(t,"e",(function(){return v})),n.d(t,"f",(function(){return g})),n.d(t,"j",(function(){return O})),n.d(t,"k",(function(){return k})),n.d(t,"h",(function(){return N})),n.d(t,"m",(function(){return _})),n.d(t,"a",(function(){return C})),n.d(t,"n",(function(){return A}));var a=n(30),i=n(45),r=n(49),o=n.n(r),s=function(e,t){return"undefined"===typeof e?t:e},l=function(e,t,n){if(!t||e.length<=t)return e;var a=e.substr(0,t-1);return(n?a.substr(0,a.lastIndexOf(" ")):a)+"..."},c=function(e,t){return e===t||e.equals(t)},u=function(e,t){return e===t||(r.Map.isMap(e)?e.equals(t):JSON.stringify(e)==JSON.stringify(t))},d=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e===t||(Array.isArray(e)?p(e,t,n):r.Map.isMap(e)?e.equals(t):"object"==typeof e?b(e,t,n):e===t)};function p(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e===t)return!0;if(!e||!t)return!1;var a=e.length;if(t.length!==a)return!1;for(var i=0;i<a;i++){var r=n?d(e[i],t[i]):e[i]===t[i];if(!r)return!1}return!0}function b(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e===t)return!0;if(!e||!t)return!1;var a=Object.keys(e),i=Object.keys(t),r=a.length;if(i.length!==r)return!1;for(var o=0;o<r;o++){var s=a[o],l=n?d(e[s],t[s],n):e[s]===t[s];if(!l)return!1}return!0}var f=function(e){return e.replace(/[.*+?^${}()|[\]\\/]/g,"\\$&")},j=function(e){return"object"==typeof e&&null!==e},m=function(e,t){return j(e)?e:{value:e,title:void 0!==t?t:e}},h=function(e){if(!j(e))return e;if(Array.isArray(e))return e.map((function(e){return m(e)}));var t=[];for(var n in e){var a=e[n];t.push(m(n,a))}return t},v=function(e,t){if(Array.isArray(e)){var n=e.map((function(e){return m(e)}));return n.find((function(e){return e.value===t}))||n.find((function(e){return"".concat(e.value)===t}))}return void 0!==e[t]?m(t,e[t]):void 0},g=function(e,t){if(void 0==e)return t;var n=v(e,t);return void 0!==n?n.title:t},O=function(e,t){var n=[];if(Array.isArray(e)){var a,r=Object(i.a)(e);try{for(r.s();!(a=r.n()).done;){var o=a.value,s=t(m(o));null!=s&&n.push(s)}}catch(u){r.e(u)}finally{r.f()}}else for(var l in e){var c=t(m(l,e[l]));null!=c&&n.push(c)}return n},x={id:"value",pId:"parent",rootPId:void 0},y=function e(t,n){var i=x,r=v(t,n),o=r?r[i.pId]:void 0,s=o?t.find((function(e){return e[i.id]===o})):void 0;return s?[s.value].concat(Object(a.a)(e(t,s.value))):[]},w=function(e,t){var n=x,a=v(e,t);return a?e.filter((function(e){return e[n.pId]===a[n.id]})).map((function(e){return e.value})):[]},k=function(e,t,n){var a=["treeselect","treemultiselect"].includes(t),r=["multiselect","treemultiselect"].includes(t);return a&&(e=function(e,t,n){var a,r=Object(i.a)(e);try{for(r.s();!(a=r.n()).done;){var o=a.value;if(o.path=y(e,o.value),0!=t.treeSelectOnlyLeafs){var s=w(e,o.value);n||(o.selectable=0==s.length)}}}catch(l){r.e(l)}finally{r.f()}return e}(e=function(e){var t,n,a=x,r=function e(r,o,s){if(r.children){1==s&&(r[a.pId]=a.rootPId);var l,c=r.children.length,u=Object(i.a)(r.children);try{for(u.s();!(l=u.n()).done;){var d=l.value;d[a.pId]=r[a.id],t++,o.splice(t,0,d),n++,e(d,o,s+1)}}catch(p){u.e(p)}finally{u.f()}delete r.children,0==c&&(o.splice(t,1),t--,n--)}};if(Array.isArray(e))for(n=e.length,t=0;t<n;t++){var o=e[t];j(o)&&(void 0!==o[a.pId]&&o[a.pId]!=a.rootPId||r(o,e,1))}return e}(e=h(e)),n,r)),e},N=function(e){return"object"===typeof e&&null!==e&&!Array.isArray(e)&&1===Object.keys(e).length};function _(e){return new Promise((function(t){setTimeout(t,e)}))}var S=function(e){return"object"===typeof e&&null!==e&&"function"===typeof e.toJS};function C(e){return S(e)?e.toJS():e}function A(e){return S(e)?e:new o.a.List(e)}},436:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var a=n(2),i=n(11),r=n(12),o=n(31),s=n(19),l=n(20),c=n(1),u=n(513),d=n.n(u),p=n(33),b=n(59),f=n(43),j=n(107),m=n(186),h=n.n(m),v=n(49),g=n.n(v),O=n(15),x=["factory"],y=function(e){var t=e.delta,n=e.isFuncArg,a=(e.valueSrc,e.value),i=e.valueError,r=e.asyncListValues,o=e.isSpecialRange,s=e.fieldDefinition,l=(e.widget,e.widgetDefinition),c=e.widgetValueLabel,u=e.valueLabels,d=e.textSeparators,p=e.setValueHandler,b=e.config,j=e.field,m=e.operator,h=e.readonly,v=e.parentField,g=e.parentFuncs,y=e.id,w=e.groupId,k=l.factory,N=Object(O.a)(l,x),_=n&&s.valueSources&&1==s.valueSources.length&&"const"==s.valueSources[0],S=s.defaultValue;if(!k)return"?";var C=o?[a.get(0),a.get(1)]:a?a.get(t):void 0,A=i&&(o?[i.get(0),i.get(1)]:i.get(t))||null;o&&void 0===C[0]&&void 0===C[1]&&(C=void 0);var F=(s||{}).fieldSettings,P=Object.assign({},N,F,{config:b,field:j,parentField:v,parentFuncs:g,fieldDefinition:s,operator:m,delta:t,isSpecialRange:o,isFuncArg:n,value:C,valueError:A,label:c.label,placeholder:c.placeholder,placeholders:u?u.placeholder:null,textSeparators:d,setValue:p,readonly:h,asyncListValues:r,id:y,groupId:w});return _&&S?"boolean"==typeof S?S?P.labelYes||"YES":P.labelNo||"NO":F.listValues?Array.isArray(S)?S.map((function(e){return Object(f.f)(F.listValues,e)||e})).join(", "):Object(f.f)(F.listValues,S)||S:""+S:k(P)},w=n(86),k=n(0),N={cardinality:1},_=function(e){Object(s.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e))._setValue=function(e,t,n,a,i,o){if(e&&Array.isArray(a)){var s=[r.props.value.get(0),r.props.value.get(1)];s[0]!=a[0]&&r.props.setValue(0,a[0],n,i,o),s[1]!=a[1]&&r.props.setValue(1,a[1],n,i,o)}else r.props.setValue(t,a,n,i,o)},r._onChangeValueSrc=function(e,t){r.props.setValueSrc(e,t)},r.renderWidget=function(e,t,n){var i=n.config,r=n.isFuncArg,o=n.leftField,s=n.operator,l=n.value,c=n.valueError,u=n.readonly,d=n.parentField,p=n.parentFuncs,b=n.id,f=n.groupId,j=i.settings,m=t.widgets,v=t.iValues,g=t.aField,O=r?v:l,x=r?o:g,w=m[e],N=w.valueSrc,_=w.valueLabel,S=j.showLabels?Object(k.jsx)("label",{className:"rule--label",children:_.label}):null;return Object(k.jsxs)("div",{className:"widget--widget",children:["func"==N?null:S,Object(k.jsx)(y,Object(a.a)(Object(a.a)(Object(a.a)({id:b,groupId:f,valueSrc:N,delta:e,value:O,valueError:c,isFuncArg:r},h()(t,["isSpecialRange","fieldDefinition","asyncListValues"])),h()(m[e],["widget","widgetDefinition","widgetValueLabel","valueLabels","textSeparators","setValueHandler"])),{},{config:i,field:x,parentField:d,parentFuncs:p,operator:s,readonly:u}))]},"widget-"+x+"-"+e)},r.renderValueSources=function(e,t,n){var a=n.config,i=n.isFuncArg,r=n.leftField,o=n.operator,s=n.readonly,l=a.settings,c=t.valueSources,u=t.widgets,d=t.aField,p=i?r:d,b=u[e],f=b.valueSrc,j=b.setValueSrcHandler,m=l.valueSourcesInfo,h=l.renderValueSources,v=c.map((function(e){return[e,{label:m[e].label}]})),g=l.showLabels?Object(k.jsx)("label",{className:"rule--label",children:"\xa0"}):null;return c.length>1&&!s&&Object(k.jsxs)("div",{className:"widget--valuesrc",children:[g,Object(k.jsx)(h,{delta:e,valueSources:v,valueSrc:f,config:a,field:p,operator:o,setValueSrc:j,readonly:s,title:l.valueSourcesPopupTitle},"valuesrc-"+e)]},"valuesrc-"+p+"-"+e)},r.renderSep=function(e,t,n){var a=n.config,i=t.widgets,r=a.settings,o=i[e].sepText,s=r.showLabels?Object(k.jsx)("label",{className:"rule--label",children:"\xa0"}):null;return o&&Object(k.jsxs)("div",{className:"widget--sep",children:[s,Object(k.jsx)("span",{children:o})]},"widget-separators-"+e)},r.renderWidgetDelta=function(e){return[r.renderSep(e,r.meta,r.props),r.renderValueSources(e,r.meta,r.props),r.renderWidget(e,r.meta,r.props)]},Object(j.d)(Object(o.a)(r)),r.onPropsChanged(e),r}return Object(r.a)(n,[{key:"onPropsChanged",value:function(e){var t=this.props;(!this.meta||["config","field","fieldFunc","fieldArg","leftField","operator","valueSrc","isFuncArg","asyncListValues"].map((function(n){return e[n]!==t[n]||"isFuncArg"==n&&e.isFuncArg&&e.value!==t.value})).filter((function(e){return e})).length>0)&&(this.meta=this.getMeta(e))}},{key:"getMeta",value:function(e){var t=this,n=e.config,a=e.field,i=e.fieldFunc,r=e.fieldArg,o=e.operator,s=e.valueSrc,l=e.value,c=e.isForRuleGruop,u=e.isFuncArg,j=e.leftField,m=e.asyncListValues,h=u?{func:i,arg:r}:a,v=s,O=l;(u||c)&&(v=g.a.List([s]),O=g.a.List([l]));var x=Object(p.getFieldConfig)(n,h),y=Object(b.l)(n,h,o),w=(Object(b.m)(n,h,o),u?N:Object(p.getOperatorConfig)(n,o,h));if(null==x||null==w)return null;var k=w.isSpecialRange,_=k&&("field"==v.get(0)||"field"==v.get(1)),S=k&&!_,C=S?1:Object(f.c)(w.cardinality,1);if(0===C)return null;var A=Object(b.k)(n,h,o,x,u?j:null),F=d()(0,C).map((function(e){var a=v.get(e)||null,i=Object(b.l)(n,h,o,a),r=Object(p.getFieldWidgetConfig)(n,h,o,i,a);_&&(i=r.singleWidget,r=Object(p.getFieldWidgetConfig)(n,h,o,i,a));var s=r.type,l=Object(b.j)(n,h,o,e,a,S),c=Object(b.j)(n,h,o,e,null,S),u=w.textSeparators?w.textSeparators[e]:null,d=t._onChangeValueSrc.bind(t,e),f=null,j=null;return k&&(f={placeholder:[(f=[Object(b.j)(n,h,o,0),Object(b.j)(n,h,o,1)])[0].placeholder,f[1].placeholder],label:[f[0].label,f[1].label]},j=w.textSeparators),{valueSrc:a,valueLabel:l,widget:i,sepText:u,setValueSrcHandler:d,widgetDefinition:r,widgetValueLabel:c,valueLabels:f,textSeparators:j,setValueHandler:t._setValue.bind(t,k,e,s)}}));return{defaultWidget:y,fieldDefinition:x,operatorDefinition:w,isSpecialRange:S,cardinality:C,valueSources:A,widgets:F,iValues:O,aField:h,asyncListValues:m}}},{key:"render",value:function(){if(!this.meta)return null;var e=this.meta,t=e.defaultWidget,n=e.cardinality,a=t;return Object(k.jsx)(w.a,{className:"rule--widget rule--widget--".concat(a.toUpperCase()),children:d()(0,n).map(this.renderWidgetDelta)},"widget-col-"+a)}}]),n}(c.PureComponent)},493:function(e,t,n){"use strict";var a=n(5),i=n.n(a),r=n(10),o=n(2),s=n(6),l=n(15),c=n(1),u=n.n(c),d=n(1120),p=n(124),b=n(1819),f=n(1809),j=n(190),m=n(349),h=n(91),v=n(41),g=n(17),O=n(18),x=(n(131),n(232)),y=(n(27),n(639)),w=n(0),k=["username","password","onSubmit","onLogin","onSubmitSuccess","onSubmitError"],N=u.a.forwardRef((function(e,t){var n=e||{},a=n.username,u=n.password,N=(n.onSubmit,n.onLogin),_=n.onSubmitSuccess,S=n.onSubmitError,C=Object(l.a)(n,k),A=Object(h.g)(),F=Object(v.d)(),P=Object(s.a)(F,2),D=P[0],E=(P[1],Object(O.c)()),T=Object(O.d)((function(e){return e.auth})),q=(Object(O.d)((function(e){var t;return Object(o.a)({},null===e||void 0===e||null===(t=e.app.settings)||void 0===t?void 0:t.auth)})),D.get("navigateTo")||"/home".toUriWithDashboardPrefix()),M=Object(g.p)({submitting:!1,alert:!1,showEmail:!0,strategy:null}),I=Object(s.a)(M,2),R=I[0],L=I[1],z=Object(g.l)({name:"login-auth-form",mode:"onChange",reValidateMode:"onChange",defaultValues:{username:a||"",password:u||""},onSubmit:function(){var e=Object(r.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(Object(x.a)(t)).then((function(e){e.access_token;var t=e.profile;L((function(e){return{submitting:!1,error:!1,alert:"Login successful."}})),Function.isFunction(N)&&N(t),Function.isFunction(_)&&_(res),Function.isFunction(N)&&N(null===T||void 0===T?void 0:T.user),J(),A(q)})).catch((function(e){console.log("err",e),L({submitting:!1,error:e.msg,alert:!1}),Function.isFunction(S)&&S(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}),V=z.submit,W=z.TextField,J=(z.values,z.setValue,z.resetValues),B=z.formState;Object(c.useCallback)((function(e){Function.isFunction(N)&&N(null===e||void 0===e?void 0:e.profile),J(),A(q)}),[N,q]);return Object(g.c)((function(){(null===T||void 0===T?void 0:T.isAuthenticated)&&!JSON.isEmpty(null===T||void 0===T?void 0:T.user)&&(Function.isFunction(N)&&N(null===T||void 0===T?void 0:T.user),J(),A(q))})),Object(g.d)((function(){(null===T||void 0===T?void 0:T.isAuthenticated)&&!JSON.isEmpty(null===T||void 0===T?void 0:T.user)&&(Function.isFunction(N)&&N(null===T||void 0===T?void 0:T.user),J(),A(q))}),[T,q,N]),Object(w.jsxs)(p.a,Object(o.a)(Object(o.a)({container:!0},C),{},{component:"form",onSubmit:V,ref:t,children:[Object(w.jsxs)(p.a,{container:!0,children:[Object(w.jsx)(p.a,{item:!0,xs:12,className:"p-4 md:pb-8 text-center",children:Object(w.jsx)(j.a,{color:"action.disabled",variant:"subtitle1",children:"Proceed with your credentials"})}),Object(w.jsxs)(p.a,{item:!0,xs:12,className:"mb-4 flex flex-col",children:[Object(w.jsx)(W,{type:"email",variant:"filled",name:"username",label:"Email address",placeholder:"email@example.com",rules:{required:"Email address is required.",pattern:{value:/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,message:"Invalid Email Address"}},className:"mb-8",fullWidth:!0,required:!0,validate:!0}),Object(w.jsx)(W,{type:"password",variant:"filled",name:"password",label:"Password",placeholder:"Password",rules:{required:"Password is required."},className:"mb-4",fullWidth:!0,required:!0,validate:!0})]}),Object(w.jsx)(p.a,{item:!0,xs:12,className:"mb-4"}),Object(w.jsx)(p.a,{item:!0,xs:12,className:"flex flex-row justify-center items-center mb-4",children:Object(w.jsx)(b.a,{disabled:!B.isValid||B.isSubmitting,loading:B.isSubmitting,sx:{},type:"submit",variant:"text",children:"Login"})}),Object(w.jsx)(p.a,{item:!0,xs:12,className:"flex flex-col justify-center items-center",sx:{color:function(e){return e.palette.text.disabled}},children:Object(w.jsx)(v.b,{to:"/auth/forgot-password",children:Object(w.jsx)(m.a,{variant:"text",sx:{color:function(e){return e.palette.text.primary}},className:"capitalize rounded-full px-8 my-4",children:"Forgot password"})})})]}),Object(w.jsxs)(p.a,{container:!0,children:[Object(w.jsx)(p.a,{item:!0,xs:12,className:"flex flex-col justify-center my-4 items-center",children:Object(w.jsx)(y.a,{})}),Object(w.jsxs)(p.a,{item:!0,xs:12,className:"flex flex-col justify-center items-center my-4",sx:{color:function(e){return e.palette.text.disabled}},children:[Object(w.jsx)(j.a,{variant:"body2",children:" No Account? "}),Object(w.jsx)(v.b,{to:"/jobs".toUriWithLandingPagePrefix(),children:Object(w.jsx)(m.a,{variant:"text",sx:{},className:"capitalize rounded-full px-8 ",children:"Apply here"})})]})]}),Object(w.jsx)(d.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:!!R.alert||!!R.error,autoHideDuration:3e3,onClose:function(){return L({error:!1,alert:!1})},children:Object(w.jsx)(f.a,{onClose:function(){return L({error:!1,alert:!1})},severity:R.error?"error":"success",sx:{width:"100%"},variant:"filled",children:R.alert||R.error})})]}))}));t.a=u.a.memo(N)},495:function(e,t,n){"use strict";var a=n(2),i=n(15),r=n(1926),o=n(24),s=n(1),l=n.n(s),c=n(5),u=n.n(c),d=n(30),p=n(10),b=n(6),f=n(657),j=n(2044),m=n(1817),h=n(656),v=n(2036),g=n(2038),O=n(2040),x=n(2039),y=n(1918),w=n(1919),k=n(1778),N=n(78),_=n(26),S=n(35),C=n(67),A=n(1808),F=n(0),P=Object(A.a)((function(e){return{root:{width:"100%"},actionBtn:{},fileAvatar:{background:"rgba("+o.b.rgb.default+", 0.05)",color:o.b.hex.default,transition:".5s ease","&:hover":{background:"rgba("+o.b.rgb.default+", 0.3)"}},listItem:{display:"flex"},listItemAvatar:{flex:"1",flexGrow:"1",maxWidth:"8%"},listItemText:{flex:"7",flexGrow:"7",maxWidth:"50%",overflow:"hidden"},listItemSecondaryAction:{flex:"4",flexGrow:"4"},fileName:{display:"inline-block",textOverflow:"ellipsis",overflow:"hidden"},downloadBtn:{transition:".5s ease",margin:"1rem 0","&:hover":{color:o.b.hex.accent}},uploadProgressBtn:{transition:".5s ease",margin:"0 1rem","&:hover":{color:o.b.hex.accent}},deleteBtn:{transition:".5s ease","&:hover":{color:o.b.hex.error}}}}));var D=function(e){var t=e.fileObjects,n=e.handleCancelUpload,a=(e.title,e.handleDownload,e.handleRemove),i=(e.showFileNames,e.disabled,l.a.useState(!1)),r=Object(b.a)(i,2),o=r[0],s=(r[1],P());return Object(F.jsx)(v.a,{dense:o,"aria-labelledby":"files-preview-list-subheader",className:s.root,children:t.map((function(e,t){if(void 0!==e&&(C.d.isOfType(e.attachment,"object")||C.d.isOfType(e.file,"object")))return Object(F.jsxs)(g.a,{className:"p-0",children:[Object(F.jsx)(O.a,{className:s.listItemAvatar,children:C.b.isImage(e.attachment?e.attachment.name:e.file.name)?Object(F.jsx)(N.a,{className:s.fileAvatar,alt:e.attachment?e.attachment.name:e.file.name,src:e.attachment?S.a.getAttachmentFileUrl(e.attachment):e.data}):Object(F.jsx)(N.a,{className:s.fileAvatar,children:C.b.fileIcon(e.attachment?e.attachment.name:e.file.name)})}),Object(F.jsx)(y.a,{className:s.listItemText,primary:Object(F.jsx)(_.a,{className:"truncate",component:"span",variant:"body1",color:"grey",children:(e.progress,e.attachment?e.attachment.name:e.file.name)}),secondary:C.d.readableFileSize(e.attachment?e.attachment.size:e.file.size)}),Object(F.jsxs)(x.a,{className:s.listItemSecondaryAction,children:[e.progress?Object(F.jsx)(h.a,{className:s.uploadProgressBtn,edge:"end",onClick:C.d.isOfType(n,"function")?n(t):function(){},"aria-label":"upload",children:Object(F.jsx)(m.a,{className:s.progress,size:20,thickness:3})}):e.attachment&&Object(F.jsxs)(h.a,{className:s.downloadBtn,edge:"end",onClick:function(t){t.preventDefault(),window.open(S.a.getAttachmentFileUrl(e.attachment),"_blank").focus()},"aria-label":"download",children:[" ",Object(F.jsx)(w.a,{})]}),Object(F.jsx)(h.a,{className:s.deleteBtn,edge:"end",onClick:a(t),"aria-label":"delete",children:Object(F.jsx)(k.a,{})})]})]},"file-preview-list-item-"+t)}))})},E=n(13),T=n(7),q=n(1924),M=n(2032),I=n(74),R=n(17),L=n(1925),z=["acceptedFiles","activeColor","className","readOnly","disabled","dropzoneIcon","defaultColor","containerStyle","helperText","error","variant","label","onChange","onDelete","onDrop","onDropRejected","value","defaultValue","upload","filesLimit","uploadData","maxFileSize","required","showPreviews","dropzoneParagraphClass","dropzoneText","showFileNamesInPreview","showPreviewsInDropzone","showFileNames","showAlerts","onFocus","onBlur"],V=l.a.forwardRef((function(e,t){var n=e.acceptedFiles,r=(e.activeColor,e.className),o=(e.readOnly,e.disabled),c=e.dropzoneIcon,m=(e.defaultColor,e.containerStyle,e.helperText,e.error,e.variant,e.label),h=e.onChange,v=e.onDelete,g=e.onDrop,O=e.onDropRejected,x=e.value,y=e.defaultValue,w=e.upload,k=e.filesLimit,N=e.uploadData,S=e.maxFileSize,C=(e.required,e.showPreviews),A=(e.dropzoneParagraphClass,e.dropzoneText),P=e.showFileNamesInPreview,V=(e.showPreviewsInDropzone,e.showFileNames,e.showAlerts,e.onFocus),W=e.onBlur,J=Object(i.a)(e,z),B=Object(R.p)({fileObjects:[],value:x||y}),U=Object(b.a)(B,3),G=U[0],H=U[1],K=U[2],Y=Object(I.d)().queueNotification,Q=Object(s.useMemo)((function(){return k>1}),[k]),Z=Array.isArray(G.value)?G.value.length<k:!String.isString(G.value)||G.value.trim().length>0&&1===k||Array.isArray(G.value)||!G.value,X=Object(I.c)().Api,$=Object(R.e)(t),ee=Object(s.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{populate:1};return new Promise((function(n,i){X.get("/attachments/"+(JSON.isJSON(e)&&"_id"in e?e._id:e),Object(a.a)({populate:1},t)).then((function(e){var t,a;(null===e||void 0===e||null===(t=e.body)||void 0===t?void 0:t.data)?n(null===e||void 0===e||null===(a=e.body)||void 0===a?void 0:a.data):i(null===e||void 0===e?void 0:e.body)})).catch((function(e){i(e)}))}))}),[]),te=Object(s.useCallback)((function(){return new Promise(function(){var e=Object(p.a)(u.a.mark((function e(t,n){var a,i,r,o,s,l,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=K(),i=a.fileObjects,r=x,o=[],s=[],!x||!w){e.next=16;break}if(o=Q?Object(d.a)(x):[x],Array.isArray(i)&&(s=i.map((function(e,t){if(e.attachment){if(e.progress)return e;if(void 0!=e.attachment._id&&o.includes(e.attachment._id))return o.removeItem(e.attachment._id),e}else if(e.progress)return e}))),!Array.isArray(o)){e.next=15;break}l=u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o[c],e.next=3,ee(o[c]).then((function(e){s=s.concat([{attachment:e}])})).catch((function(e){Q&&(r=[],r=Array.isArray(o)?o.filter((function(e){return t!==e})):[])}));case 3:case"end":return e.stop()}}),e)})),c=0;case 10:if(!(c<o.length)){e.next=15;break}return e.delegateYield(l(),"t0",12);case 12:c++,e.next=10;break;case 15:t({fileObjects:s,value:r});case 16:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}),[x,w,Q]),ne=Object(s.useCallback)((function(e,t,n,a){var i="",r=K().fileObjects,o=r.indexOf(e);if(-1!==o){if(r[o].progress=!1,r[o].attachment=a.body.data,Q){var s=[];if(Array.isArray(r))for(var l=0;l<r.length;l++)r[l].attachment&&s.push(r[l].attachment._id);H({fileObjects:r,value:s})}else H({value:a.body.data._id,fileObjects:r});i+=(i.length>0?"<br />":"")+"File ".concat(n.name," successfully uploaded. "),t.length}}),[Q]),ae=Object(s.useCallback)((function(e,t){return function(n){var a=K().fileObjects.indexOf(e);Y({content:"File ".concat(t.name," upload failed. "),severity:"error",priority:1,timeout:3e3}),H((function(e){return{fileObjects:e.fileObjects.remove(a)}}))}}),[]),ie=Object(s.useCallback)((function(e){var t=K().fileObjects;if(t.length+e.length>k)Y({content:"Maximum allowed number of files exceeded. Only ".concat(k," allowed"),severity:"error",timeout:3e3});else{var n=0,a="";e.forEach((function(i){var r=new FileReader;r.onload=function(r){var o=t;o=Array.isArray(o)?o:[];for(var s=!0,l=0;l<o.length;l++)if(Object.is(i,o[l].file)){s=!1;break}if(s){var c={file:i,data:r.target.result,progress:!!w};if(H({fileObjects:o.concat([c])}),g&&g(i),w&&"object"!==typeof c.attachment){var u=new FormData;if(N&&"object"===typeof N)for(var d=0,p=Object.entries(N);d<p.length;d++){var f=Object(b.a)(p[d],2),j=f[0],m=f[1];u.append(j,m)}u.append("attachment_file",i),X.post("/attachments/upload",u,{}).then((function(t){return ne(c,e,i,t)})).catch(ae(c,i))}else h&&h(e),a+="File ".concat(i.name," successfully added. "),++n===e.length&&Y({content:a,severity:"success",priority:1,timeout:3e3})}},r.readAsDataURL(i)}))}}),[k,w,N,g]),re=Object(s.useCallback)((function(e){return function(t){t.stopPropagation();var n=K(),a=n.fileObjects,i=n.value,r=a.filter((function(t,n){return n===e}))[0];if(r.attachment){var o=[],s=[];Q&&(s=[]),Array.isArray(a)&&(o=a.removeAtIndex(e),Array.isArray(o)||(o=[]),Q?(s=i.removeAtIndex(e),Array.isArray(s)||(s=[])):s=null),Y({content:"Attached file ".concat(r.attachment.name,"  deleted"),severity:"warning",priority:1,timeout:3e3}),H({fileObjects:o,value:s}),X.delete("/attachments/"+r.attachment._id).catch((function(e){}))}else H((function(t){return{fileObjects:t.fileObjects.remove(e)}}))}}),[Q,v]),oe=(Object(s.useCallback)((function(e,t){var a="";e.forEach((function(e){a="File ".concat(e.name," was rejected. "),n.includes(e.type)||(a+="File type not supported. "),e.size>S&&(a+="File is too big. Size limit is "+S+" bytes. ")})),O&&O(e,t),Y({content:a,severity:"error",priority:1,timeout:3e3})}),[O,n,S]),Object(s.useCallback)((function(e){Function.isFunction(h)&&Promise.all([h(e)])}),[h])),se=Object(s.useCallback)((function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&(null===$||void 0===$?void 0:$.current)&&$.current.click(),Function.isFunction(V)&&V(e)}),[V]),le=Object(s.useCallback)(Function.debounce((function(e){Function.isFunction(W)&&W(e)}),350),[W]),ce=Object(s.useCallback)(Function.debounce((function(e){var t,n=(null===(t=e.target)||void 0===t?void 0:t.files)||[];if(n.length>0){for(var a=[],i=0;i<n.length;i++)a.push(n[i]);ie(a),e.target.value=""}}),350),[]);Object(R.d)((function(){oe(G.value)}),[G.value]),Object(R.c)((function(){te().then((function(e){H(e)})).catch((function(e){console.error("Get Attachments error",e)}))}),[]);var ue=Object(L.a)({onFiles:ie,onUri:function(e){},onText:function(e){}}),de=Object(b.a)(ue,2),pe=de[0],be=de[1];return Object(R.d)((function(){(null===be||void 0===be?void 0:be.over)?se(null,!1):le()}),[be.over]),Object(F.jsx)(q.a,{onClickAway:le,children:Object(F.jsx)(f.a,Object(a.a)(Object(a.a)({className:"".concat(r||""," cursor-pointer min-h-20 ")},pe),{},{onClick:function(e){return se(e,!0)},children:Object(F.jsxs)(E.a,{className:"h-full w-full p-0 px-4 py-2",children:[Object(F.jsxs)(T.a,{xs:12,children:[Z&&Object(F.jsxs)(E.a,{direction:"column",justify:"center",alignItems:"center",children:[Object(F.jsxs)(_.a,{className:"m-4 text-8xl",color:(null===be||void 0===be?void 0:be.over)?"primary":"text.secondary",fullWidth:!0,paragraph:!0,children:[String.isString(c)&&Object(F.jsxs)(j.a,{children:[" ",c," "]}),l.a.isValidElement(c)&&c]}),Object(F.jsxs)(M.a,{children:[" ",A," "]})]}),C&&Object(F.jsx)(D,{className:"p-0",fileObjects:G.fileObjects,handleRemove:re,showFileNames:P,disabled:o,title:m})]}),Object(F.jsx)("input",Object(a.a)(Object(a.a)({},J),{},{onChange:ce,type:"file",accept:n.join(","),className:"hidden",ref:$}))]})}))})}));V.defaultProps={acceptedFiles:["image/*","video/*","audio/*","application/*"],variant:"filled",filesLimit:3,type:"text",maxFileSize:3e6,readOnly:!1,disabled:!1,dropzoneText:"Click to select file \n or \n Drag and drop a file here",dropzoneIcon:Object(F.jsx)(r.a,{fontSize:"inherit"}),showPreviews:!0,showPreviewsInDropzone:!1,showFileNamesInPreview:!0,showAlerts:!0,upload:!0,uploadData:{},defaultColor:"grey",activeColor:"primarydark",onChange:function(){},onDrop:function(){},onDropRejected:function(){},onDelete:function(){}};var W=Object(s.memo)(V),J=n(1820),B=["className","readOnly","disabled","helperText","error","variant","label","required"],U=l.a.forwardRef((function(e,t){var n=e.className,r=e.readOnly,o=e.disabled,s=e.helperText,l=e.error,c=e.variant,u=e.label,d=e.required,p=Object(i.a)(e,B);return Object(F.jsx)(J.a,{InputProps:{inputComponent:W,inputProps:Object(a.a)({},p)},className:"".concat(n||""," cursor-pointer"),variant:c,readOnly:r,disabled:o,helperText:s,error:l,label:u,required:d,fullWidth:!0,multiline:!0,inputRef:t})}));U.defaultProps={acceptedFiles:["image/*","video/*","audio/*","application/*"],variant:"filled",filesLimit:3,type:"text",maxFileSize:3e6,readOnly:!1,disabled:!1,dropzoneText:"Click to select file \n or \n Drag and drop a file here",dropzoneIcon:Object(F.jsx)(r.a,{}),showPreviews:!0,showPreviewsInDropzone:!1,showFileNamesInPreview:!0,showAlerts:!0,upload:!0,uploadData:{},defaultColor:"grey",activeColor:"primarydark",clearOnUnmount:!0,onChange:function(){},onDrop:function(){},onDropRejected:function(){},onDelete:function(){}};t.a=Object(s.memo)(U)},497:function(e,t,n){"use strict";n.r(t),n.d(t,"Api",(function(){return i.a})),n.d(t,"Firebase",(function(){return a})),n.d(t,"SocketIO",(function(){return c.a}));var a,i=n(35),r=(n(2),n(5),n(10),n(598)),o=n(342),s=n(179),l=n(27);a=Object(r.a)(l.q),Object(o.a)(),Object(s.d)(a);var c=n(87)},511:function(e){e.exports=JSON.parse('["Accounting","Actuarial Science","Aeronautical Engineering","Agriculture","Analytical Chemistry","Animal Health","Animation","Anthropology","Architecture","Automotive Engineering","Baking","Bioengineering","Biostatistics","Biosystems Engineering","Business","Chemistry","Civil Engineering","Clinical Medicine","Communication","Communications","Community Health","Community Resource Management","Conservation","Construction Management","Cooperative Management","Criminology","Crop Management","Development Studies","Disaster Managerment","Economics","Education","Engineering","English","Entrepreneurship","Environment","Film","Finance","Forestry","Gender","Geography","Geospatial Information Systems","History","Horticulture","Human Resources","Humanities","ICT","IR","Linguistics","Linguitsics","Literature","Logistics","Management","Marine Resources","Marketing","Media","Medicine","Meteorology","Microbiology","Natural Resource Management","Nursing","Operations Management","Penology","Petroleum Chemistry","Phsyics","Politics","Procurement","Psychology","Purchasing","Range Management","Remote Sensing","Renewable Energy","Rural Development","Sociology","Software Engineering","Statistics","Supply Chain","Surgery","Trade","Veterinary Medicine"]')},512:function(e){e.exports=JSON.parse('["Agriculture","Architecture","Business Administration","Communication","Communications","Criminology","Culinary Arts","Earth Sciences","Economics","Education","Energy","Engineering","Environmental Science","Environmental Sciences","Geography","Humanities","ICT","Linguistics","Media","Medicine","Meteorology","Modern Languages","Natural Resource Management","Natural Resources","Natural Sciences","Public Health","Rural Development","Security Studies","Social Science","Social Sciences","Statistics","Veterinary Sciences"]')},52:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"m",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"e",(function(){return p})),n.d(t,"h",(function(){return b})),n.d(t,"i",(function(){return f})),n.d(t,"j",(function(){return j})),n.d(t,"g",(function(){return m})),n.d(t,"l",(function(){return h})),n.d(t,"k",(function(){return v}));var a=n(4),i=n(49),r=n.n(i),o=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return e.interpose("children1").withMutations((function(e){return e.skip(1),e.push.apply(e,n),e}))},s=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return e.interpose("children1").withMutations((function(e){return e.push.apply(e,n),e}))},l=function(e,t){var n=new r.a.OrderedMap(Object(a.a)({},e.get("id"),e)),i=e;return t.forEach((function(e){i=n.get(e),n=i.get("children1")})),i},c=function(e){var t=e;return function e(n,a){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=a.push(n.get("id")),s=n.getIn(["properties","isLocked"]);i&&s&&(t=t.deleteIn(o(r,"properties","isLocked")));var l=n.get("children1");l&&l.map((function(t,n){e(t,r,s||i)}))}(e,new r.a.List),t},u=function(e){var t=e;return function e(n,a,i){if(n){n.get("id");var s=a.push(n.get("id")),l=n.get("path");l&&l.equals(s)||(t=t.setIn(o(s,"path"),s));var c=n.get("children1");c&&("Map"==c.constructor.name&&(t=t.setIn(o(s,"children1"),new r.a.OrderedMap(c))),c.map((function(t,n){e(t,s,i+1)})))}}(e,new r.a.List,0),t},d=function(e){var t=e;return function e(n,a,i){if(!n)return!1;n.get("id");var r=a.push(n.get("id")),s=n.get("children1");if(s){var l=s.map((function(t,n){return e(t,r,i+1)})).reduce((function(e,t){return e&&t}),!0);if((0==s.size||l)&&i>0)return t=t.deleteIn(o(r)),!0}return!1}(e,new r.a.List,0),t},p=function(e){var t=[],n={},a=0;!function e(i,r,o,s,l,c,u){var d=i.get("type"),p=i.get("collapsed"),b=i.get("id"),f=i.get("children1"),j=i.getIn(["properties","isLocked"]),m=f?f.map((function(e,t){return t})):null,h=t.length,v=a;if(t.push(b),o||(a+=1),c.height=(c.height||0)+1,f){var g={};f.map((function(t,n){e(t,r.concat(b),o||p,s||j,l+1,g,d)})),p||(c.height=(c.height||0)+(g.height||0))}var O=t.length,x=c.height;n[b]={type:d,parent:r.length?r[r.length-1]:null,parentType:u,path:r.concat(b),lev:l,leaf:!f,index:h,id:b,children:m,_top:h,_height:O-h,top:o?null:v,height:x,bottom:(o?null:v)+x,collapsed:p,node:i,isLocked:j||s}}(e,[],!1,!1,0,{},null);for(var i=0;i<t.length;i++){var r=i>0?t[i-1]:null,o=i<t.length-1?t[i+1]:null,s=n[t[i]];s.prev=r,s.next=o}return{flat:t,items:n}},b=function(e){if(!e)return-1;var t=0;return function e(n,a,i){var r=n.get("id"),o=n.get("children1"),s="rule_group"==n.get("type");t++,o&&!s&&o.map((function(t,n){e(t,a.concat(r),i+1)}))}(e,[],0),t-1},f=function(e){if(!e)return-1;var t=0;return function e(n,a,i){var r=n.get("id"),o=n.get("children1"),s="group"==n.get("type");o&&s?o.map((function(t,n){e(t,a.concat(r),i+1)})):t++}(e,[],0),t},j=function(e){var t=[];return e&&function e(n,a,i){var r=n.get("id"),o=n.get("children1"),s=n.getIn(["properties","valueError"]),l=n.getIn(["properties","field"]);s&&s.size>0&&s.filter((function(e){return null!=e})).size>0&&t.push(l),o&&o.map((function(t,n){e(t,a.concat(r),i+1)}))}(e,[],0),Array.from(new Set(t))},m=function(e){var t=e;return function e(t,n){t.path&&delete t.path,n&&delete t.id;var a=t.properties;a&&null==a.operatorOptions&&delete a.operatorOptions;var i=t.children1;if(i)for(var r in i)e(i[r],r)}(e,null),t},h=function(e){return!e.get("children1")||0==e.get("children1").size},v=function(e,t){return e.getIn(o(t,"children1")).size>0}},55:function(e,t,n){"use strict";var a=n(832);n.d(t,"a",(function(){return a.a}));n(67)},576:function(e,t,n){"use strict";(function(e){var a=n(2),i=n(1);t.a=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n||e,s=Object(i.useRef)(),l=Object(a.a)({},r),c=l.capture,u=l.passive,d=l.once,p=Object(i.useCallback)((function(e){if(s.current=e,o&&o.addEventListener&&Function.isFunction(s.current)){var n={capture:c,passive:u,once:d};o.addEventListener(t,s.current,n)}}),[t,o,c,u,d]),b=Object(i.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=o&&o.removeEventListener;if(n&&(Function.isFunction(s.current)||Function.isFunction(e))){var a={capture:c,passive:u,once:d};o.removeEventListener(t,e||s.current,a)}}),[t,o,c,u,d]);return[p,b]}}).call(this,n(125))},577:function(e,t,n){"use strict";(function(e){var a=n(1);t.a=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:CustomEvent,r=Object(a.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=n&&n.dispatchEvent;if(a){var r=null;i===CustomEvent?r=new CustomEvent(t,{detail:e}):i instanceof Event&&(r=new i(t)),n.dispatchEvent(r)}}),[t,n]);return r}}).call(this,n(125))},578:function(e,t,n){"use strict";var a=n(2),i=n(4),r=n(15),o=n(656),s=n(1823),l=n(1056),c=n.n(l),u=n(331),d=n.n(u),p=n(1058),b=n.n(p),f=n(615),j=n.n(f),m=n(1057),h=n.n(m),v=(n(24),n(66)),g=n.n(v),O=n(1),x=n.n(O),y=n(0),w=["classes","className","message","onClose","color"],k={success:c.a,warning:h.a,error:b.a,info:j.a},N=x.a.forwardRef((function(e,t){var n,l=e.classes,c=e.className,u=e.message,p=e.onClose,b=e.color,f=Object(r.a)(e,w),m=k[b]?k[b]:j.a,h=["white","inverse","transparent"].includes(b)?"default_text":"inverse_text";return Object(y.jsx)(s.a,Object(a.a)({className:g()(null===l||void 0===l?void 0:l.root,(n={},Object(i.a)(n,b,b),Object(i.a)(n,h,h),Object(i.a)(n,c,c),n)),"aria-describedby":"client-snackbar",message:Object(y.jsxs)("span",{id:"client-snackbar",className:null===l||void 0===l?void 0:l.message,children:[Object(y.jsx)(m,{className:g()(null===l||void 0===l?void 0:l.icon,null===l||void 0===l?void 0:l.iconVariant)}),u]}),action:[Object(y.jsx)(o.a,{"aria-label":"Close",color:"inherit",className:null===l||void 0===l?void 0:l.close,onClick:p,children:Object(y.jsx)(d.a,{className:null===l||void 0===l?void 0:l.icon})},"close")],ref:t},f))}));t.a=x.a.memo(N)},59:function(e,t,n){"use strict";n.d(t,"h",(function(){return b})),n.d(t,"e",(function(){return f})),n.d(t,"i",(function(){return j})),n.d(t,"f",(function(){return m})),n.d(t,"c",(function(){return h})),n.d(t,"g",(function(){return v})),n.d(t,"d",(function(){return g})),n.d(t,"j",(function(){return O})),n.d(t,"m",(function(){return y})),n.d(t,"a",(function(){return w})),n.d(t,"k",(function(){return k})),n.d(t,"l",(function(){return N})),n.d(t,"b",(function(){return _}));var a=n(30),i=n(6),r=n(33),o=n(43),s=n(49),l=n.n(s),c=n(270),u=n(304),d=n.n(u),p=["select","multiselect","treeselect","treemultiselect"],b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,d=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];t||(t=e);var b=n.get("field"),f=n.get("operator"),j=n.get("value"),m=n.get("valueSrc",new l.a.List),h=n.get("valueType",new l.a.List),v=n.get("asyncListValues"),g=e.settings,O=g.convertableWidgets,x=g.clearValueOnChangeField,y=g.clearValueOnChangeOp,w=g.showErrorMessage,_=Object(r.getOperatorConfig)(e,s,a),S=s?Object(o.c)(_.cardinality,1):null,C=Object(r.getFieldConfig)(t,b),A=Object(r.getFieldConfig)(e,a),F=b&&f&&s&&void 0!=j&&(!u||"field"==u&&!x||"operator"==u&&!y)&&C&&A&&C.type==A.type;F&&p.includes(C.type)&&"field"==u&&(F=!1);for(var P=0;P<S;P++){var D=m.get(P)||null,E=N(t,b,f,D),T=N(e,a,s,D),q="value"==D?E:N(t,b,f,"value"),M="value"==D?T:N(e,a,s,"value"),I=M==q||(O[q]||[]).includes(M);I||(F=!1)}f!=s&&[f,s].includes("proximity")&&(F=!1);var R=Object(r.getFieldWidgetConfig)(e,a,s,null,m.first()),L=k(e,a,s),z={},V=Array.from({length:S},(function(){return null}));if(F)for(var W=function(t){var n=j.get(t),r=h.get(t)||null,o=m.get(t)||null,l=null!=L.find((function(e){return e==o}));!l&&t>0&&null==o&&(l=!0);var p=!d,b=v,f=Object(c.b)(e,a,a,s,n,r,o,b,d,p),g=Object(i.a)(f,2),O=g[0],x=g[1],y=!O;if(!y&&w&&"field"!=u)V[t]=O;else{if(!l||!y)return F=!1,"break";d&&x!==n&&(z[t]=x)}},J=0;J<S;J++){var B=W(J);if("break"===B)break}var U=null,G=null,H=null,K=null;if(U=new l.a.List(Array.from({length:S},(function(e,t){var n=void 0;return F?t<j.size&&(n=j.get(t),void 0!==z[t]&&(n=z[t])):1==S&&(R||A)&&(void 0!==A.defaultValue?n=A.defaultValue:A.fieldSettings&&void 0!==A.fieldSettings.defaultValue?n=A.fieldSettings.defaultValue:void 0!==R.defaultValue&&(n=R.defaultValue)),n}))),G=new l.a.List(Array.from({length:S},(function(e,t){var n=null;return F?t<m.size&&(n=m.get(t)):(1==L.length||L.length>1)&&(n=L[0]),n}))),w){if(_&&_.validateValues&&G.toJS().filter((function(e){return"value"==e||null==e})).length==S){var Y=R&&R.toJS?U.toJS().map((function(e){return R.toJS(e,R)})):U.toJS(),Q=_.validateValues(Y);w&&V.push(Q)}K=new l.a.List(V)}return H=new l.a.List(Array.from({length:S},(function(e,t){var n=null;return F?t<h.size&&(n=h.get(t)):1==S&&R&&void 0!==R.type?n=R.type:1==S&&A&&void 0!==A.type&&(n="!group"==A.type?"number":A.type),n}))),{canReuseValue:F,newValue:U,newValueSrc:G,newValueType:H,newValueError:K,operatorCardinality:S}},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.settings.fieldSeparator,a="string"==typeof t?t.split(n):t,i=t?Object(r.getFieldRawConfig)(e,t):e,o=i,s=null,l=[];do{var c=o===e?e.fields:o.subfields;if(!c||!Object.keys(c).length){o=s=null;break}s=Object.keys(c)[0],l.push(s),o=c[s]}while("!struct"==o.type||"!group"==o.type);return(a||[]).concat(l).join(n)},j=function(e,t){var n=Object(r.getFieldConfig)(e,t);return n?n.operators:[]},m=function(e,t){var n=j(e,t);return n?n[0]:null},h=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e)return null;var a=t.settings.fieldSeparator,i=Array.isArray(e)?e:e.split(a);return n?i:i.map((function(e,t,n){return n.slice(0,t+1)})).map((function(e){return e.join(a)}))},v=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return g(e,t,n,"funcs","subfields")},g=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"fields",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"subfields";if(!e)return null;var s=t.settings.fieldSeparator,l=Array.isArray(e)?e:e.split(s),c=n?Array.isArray(n)?n:n.split(s):[];return l.slice(c.length).map((function(e,t,n){return n.slice(0,t+1)})).map((function(e){return[].concat(Object(a.a)(c),Object(a.a)(e)).join(s)})).map((function(e){var n=Object(r.getFieldRawConfig)(t,e,i,o);return n&&n.label||n&&d()(e.split(s))})).filter((function(e){return null!=e}))},O=function(e,t,n,a){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s="object"==typeof t&&!!t.func&&!!t.arg,l=e.settings.showLabels,c=Object(r.getFieldConfig)(e,t),u=Object(r.getFieldWidgetConfig)(e,t,n,null,i)||{},d=Object(r.getOperatorConfig)(e,n,t)||{},p=o?1:d.cardinality,b=null;if(p>1){var f=u.valueLabels||d.valueLabels;f&&(b=f[a]),b&&"object"!=typeof b&&(b={label:b,placeholder:b}),b||(b={label:e.settings.valueLabel+" "+(a+1),placeholder:e.settings.valuePlaceholder+" "+(a+1)})}else{var j=u.valueLabel,m=u.valuePlaceholder;s&&(j||(j=c.label||t.arg),m||l||(m=c.label||t.arg)),b={label:j||e.settings.valueLabel,placeholder:m||e.settings.valuePlaceholder}}return b};function x(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=[],o=[];if(!t)return{widgets:i,valueSrcs:o};var s="object"==typeof t&&(!!t.func&&!!t.arg||t._isFuncArg),l=Object(r.getFieldConfig)(e,t),c=n?e.operators[n]:null;if(l&&l.widgets){var u=function(t){var r=l.widgets[t],u=e.widgets[t].valueSrc||"value",d=!0;if("field"==t&&(d=d&&w(e,["field"],l).length>0),"func"==t&&(d=d&&w(e,["func"],l).length>0),"value"!=a||r.operators||s||(d=!1),r.operators&&n&&(d=d&&-1!=r.operators.indexOf(n)),a&&a!=u&&"const"!=a&&(d=!1),c&&0==c.cardinality&&"value"!=u&&(d=!1),d){i.push(t);var p=l.valueSources&&-1!=l.valueSources.indexOf(u);c&&c.valueSources&&-1==c.valueSources.indexOf(u)&&(p=!1),p&&!o.find((function(e){return e==u}))&&o.push(u)}};for(var d in l.widgets)u(d)}var p=function(e){var t=0;return l.preferWidgets?l.preferWidgets.includes(e)&&(t+=10-l.preferWidgets.indexOf(e)):e==l.mainWidget&&(t+=100),"field"==e&&(t-=1),"func"==e&&(t-=2),t};return i.sort((function(e,t){return p(t)-p(e)})),{widgets:i,valueSrcs:o}}var y=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=x(e,t,n,a),r=i.widgets;return r},w=function(e,t,n){return n?t.filter((function(t){var a=!0;if("field"==t&&e._fieldsCntByType){var i=n._isFuncArg?0:1;a=a&&e._fieldsCntByType[n.type]>i}return"func"==t&&(e._funcsCntByType&&(a=a&&!!e._funcsCntByType[n.type]),n.funcs&&(a=a&&n.funcs.length>0)),a})):t},k=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=x(e,t,n,null),r=i.valueSrcs,o=w(e,r,a);return o},N=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=x(e,t,n,a),r=i.widgets,o=null;return r.length&&(o=r[0]),o},_=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=Object(r.getFieldConfig)(t,e)||{},s=t.settings.fieldSeparator,l=Array.isArray(e)?e:e.split(s),c=Array.isArray(e)?e.join(s):e;if(o.tableName){var u=Object(a.a)(l);u[0]=o.tableName,c=u.join(s)}if(o.fieldName&&(c=o.fieldName),i){var d=Object(r.getFieldConfig)(t,i)||{},p=i;d.fieldName&&(p=d.fieldName),0==c.indexOf(p+s)?c=c.slice((p+s).length):n.errors.push("Can't cut group ".concat(p," from field ").concat(c))}return c}},609:function(e,t,n){"use strict";var a=n(2),i=n(15),r=n(1),o=n.n(r),s=n(657),l=n(17),c=(n(740),n(0)),u=["className","children","offset","onViewportVisibilityChange","placeholder","placeholderType"],d=o.a.forwardRef((function(e,t){var n=e.className,o=e.children,d=e.offset,p=e.onViewportVisibilityChange,b=(e.placeholder,e.placeholderType,Object(i.a)(e,u)),f=t||Object(r.useRef)(null),j=Object(r.useRef)(!1),m=0-Number.parseNumber(d,0)+"px",h=Object(l.q)(f,{rootMargin:m});return Object(r.useEffect)((function(){return j.current=!0,function(){j.current=!1}}),[]),Object(l.d)((function(){j.current&&Function.isFunction(p)&&p(h)}),[h]),Object(c.jsx)(s.a,Object(a.a)(Object(a.a)({className:n||"w-full "},b),{},{ref:f,children:o}))}));d.defaultProps={placeholderType:"skeleton",placeholder:{variant:"rect",width:"100%",height:200,animation:"wave"},offset:0},t.a=d},61:function(e,t,n){"use strict";var a=n(2),i=n(4),r=n(15),o=n(349),s=(n(24),n(66)),l=n.n(s),c=n(1),u=n.n(c),d=n(0),p=["color","round","children","fullWidth","simple","size","textCase","block","link","justIcon","className","outlined","left","right","gradient"],b=u.a.memo((function(e){e.color,e.round;var t=e.children,n=(e.fullWidth,e.simple,e.size,e.textCase,e.block,e.link,e.justIcon,e.className),s=(e.outlined,e.left,e.right,e.gradient,Object(r.a)(e,p)),c=l()(Object(i.a)({},n,n));return Object(d.jsx)(o.a,Object(a.a)(Object(a.a)({},s),{},{className:c,children:t}))}));b.defaultProps={gradient:!1},t.a=b},612:function(e,t,n){"use strict";var a=n(2),i=n(6),r=n(15),o=n(1),s=n.n(o),l=n(656),c=n(742),u=n.n(c),d=n(1807),p=n(17),b=n(1818),f=n(0),j=["value","onClick","disabled","fontSize","className"],m=function(e){var t=e.value,n=e.onClick,c=e.disabled,m=e.fontSize,h=void 0===m?"inherit":m,v=e.className,g=Object(r.a)(e,j),O=Object(b.a)(),x=Object(i.a)(O,2),y=(x[0],x[1]),w=s.a.useState(!1),k=Object(i.a)(w,2),N=k[0],_=k[1],S=Object(o.useRef)(null);return s.a.useEffect((function(){return N&&(S.current=setTimeout((function(){return _(!1)}),1e3)),function(){clearTimeout(S.current),S.current=null}}),[N]),Object(p.d)((function(){_(!1)}),[t]),Object(f.jsxs)(l.a,Object(a.a)(Object(a.a)({className:" ".concat(v||""),"aria-label":"Copy to clipboard",title:"Copy to clipboard",disabled:c||N,onClick:function(e){e.stopPropagation(),y(t),_(!0),Function.isFunction(n)&&n(e)},sx:{position:"relative",fontSize:"1rem"}},g),{},{children:[Object(f.jsx)(u.a,{fontSize:h}),Object(f.jsx)(d.a.span,{variants:{hidden:{opacity:0,top:0},visible:{opacity:1,top:-36}},initial:"hidden",animate:N?"visible":"hidden",transition:{duration:N?.4:0},className:"".concat(N?"visible left-2/4 -translate-x-2/4":"invisible"," p-1 px-4 bg-gray-700 bg-opacity-10 z-50 rounded absolute transform text-sm font-semibold text-black"),children:"Copied!"})]}))};t.a=s.a.memo(m)},62:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"h",(function(){return i})),n.d(t,"j",(function(){return r})),n.d(t,"p",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"i",(function(){return l})),n.d(t,"n",(function(){return c})),n.d(t,"q",(function(){return u})),n.d(t,"t",(function(){return d})),n.d(t,"u",(function(){return p})),n.d(t,"r",(function(){return b})),n.d(t,"o",(function(){return f})),n.d(t,"s",(function(){return j})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return h})),n.d(t,"f",(function(){return v})),n.d(t,"e",(function(){return g})),n.d(t,"g",(function(){return O})),n.d(t,"l",(function(){return x})),n.d(t,"m",(function(){return y})),n.d(t,"k",(function(){return w}));var a="ADD_GROUP",i="REMOVE_GROUP",r="SET_CONJUNCTION",o="SET_NOT",s="ADD_RULE",l="REMOVE_RULE",c="SET_FIELD",u="SET_OPERATOR",d="SET_VALUE",p="SET_VALUE_SRC",b="SET_OPERATOR_OPTION",f="SET_LOCK",j="SET_TREE",m="MOVE_ITEM",h="after",v="before",g="append",O="prepend",x="SET_DRAG_PROGRESS",y="SET_DRAG_START",w="SET_DRAG_END"},635:function(e,t,n){"use strict";var a=n(2),i=n(15),r=n(1),o=n.n(r),s=(n(1764),n(80)),l=n(1820),c=n(5),u=n.n(c),d=n(10),p=n(6),b=n(1039),f=n(1106),j=n(1935),m=n(1936),h=n(1937),v=n(1938),g=n(1939),O=n(1940),x=n(1941),y=n(1942),w=n(1943),k=n(1944),N=n(1945),_=n(1946),S=n(1947),C=n(1948),A=n(1934),F=n(1949),P=n(1950),D=n(1951),E=n(656),T=n(17),q=n(0),M=function(e){var t=e.config;return Object(T.c)((function(){console.log("IconsOnly props",e)})),Object(q.jsx)("div",{className:"inline-block",children:Array.isArray(t.options)&&t.options.map((function(e,n){return e in t&&Object(q.jsxs)(E.a,{sx:{color:function(e){return e.palette.text.secondary}},size:"small",children:[String.isString(t[e].icon)?Object(q.jsx)("img",{src:t[e].icon}):t[e].icon," "]},e+"-"+n)}))})},I=o.a.memo(M),R=n(1107),L=n(2046),z=n(349),V=n(190),W=function(e){var t=e.config,n=e.currentState,a=e.onChange,i={normal:"Normal",h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",h4:"Heading 4",h5:"Heading 5",h6:"Heading 6",blockquote:"Blockquote",code:"Code"},r={normal:"Normal",h1:"H1",h2:"H2",h3:"H3",h4:"H4",h5:"H5",h6:"H6",blockquote:"Blockquote",code:"Code"},o={normal:"body1",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",blockquote:"caption",code:"body2"},s=n.blockType?n.blockType.toLowerCase():"normal",l=Object(T.p)({open:!1,popOverAnchorEl:null,id:String.uuid()}),c=Object(p.a)(l,2),u=c[0],d=c[1];console.log("BlockTypeComponent props ",e);return Object(q.jsxs)("div",{className:"inline-block",children:[Object(q.jsx)(z.a,{"aria-controls":u.id,"aria-haspopup":"true",className:"capitalize",sx:{color:function(e){return u.open?e.palette.text.disabled:e.palette.text.secondary}},onClick:function(e){d({open:!0,popOverAnchorEl:e.currentTarget})},title:"".concat((null===t||void 0===t?void 0:t.title)||"Type"),size:"small",children:i[s]}),Object(q.jsx)(R.a,{id:u.id,open:u.open,anchorEl:u.popOverAnchorEl,onClose:function(){d({open:!1,popOverAnchorEl:null})},children:Array.isArray(t.options)&&t.options.map((function(e,t){return Object(q.jsx)(L.a,{onClick:(n=r[e.toLowerCase()],function(e){d({open:!1,popOverAnchorEl:null}),a(n)}),children:Object(q.jsx)(V.a,{variant:o[e.toLowerCase()],children:i[e.toLowerCase()]})},"option-"+t);var n}))})]})},J=o.a.memo(W,(function(e,t){return Object.areEqual(e.currentState,t.currentState)})),B=n(1932),U=n(1933),G=function(e){var t=e.config,n=e.currentState,a=e.onChange,i=n.fontFamily?n.fontFamily.toLowerCase():"arial",r=Object(T.p)({open:!1,popOverAnchorEl:null,id:String.uuid()}),o=Object(p.a)(r,2),s=o[0],l=o[1];return Object(q.jsxs)("div",{className:"inline-block",children:[Object(q.jsx)(z.a,{"aria-controls":s.id,"aria-haspopup":"true",sx:{color:function(e){return s.open?e.palette.text.disabled:e.palette.text.secondary}},size:"small",onClick:function(e){l({open:!0,popOverAnchorEl:e.currentTarget})},endIcon:s.open?Object(q.jsx)(B.a,{}):Object(q.jsx)(U.a,{}),children:{arial:"Arial",georgia:"Georgia",impact:"Impact",tahoma:"Tahoma","times new roman":"Times New Roman",verdana:"Verdana"}[i]}),Object(q.jsx)(R.a,{id:s.id,open:s.open,anchorEl:s.popOverAnchorEl,onClose:function(){l({open:!1,popOverAnchorEl:null})},children:Array.isArray(t.options)&&t.options.map((function(e,t){return Object(q.jsx)(L.a,{onClick:(n=e,function(e){l({open:!1,popOverAnchorEl:null}),a("fontFamily",n)}),children:Object(q.jsx)(V.a,{variant:"body2",children:e})},"option-"+t);var n}))})]})},H=o.a.memo(G),K=function(e){var t=e.config,n=e.currentState,a=e.onChange,i=(null===n||void 0===n?void 0:n.fontSize)||12,r=Object(T.p)({open:!1,popOverAnchorEl:null,id:String.uuid()}),o=Object(p.a)(r,2),s=o[0],l=o[1];return Object(q.jsxs)("div",{onClick:function(e){return e.stopPropagation()},className:"inline-block",children:[Object(q.jsx)(z.a,{"aria-controls":s.id,"aria-haspopup":"true",sx:{color:function(e){return s.open?e.palette.text.disabled:e.palette.text.secondary}},size:"small",onClick:function(e){e.stopPropagation(),l({open:!0,popOverAnchorEl:e.currentTarget})},title:"Font Size",endIcon:s.open?Object(q.jsx)(B.a,{}):Object(q.jsx)(U.a,{}),children:i}),Object(q.jsx)(R.a,{id:s.id,open:s.open,anchorEl:s.popOverAnchorEl,onClose:function(){l({open:!1,popOverAnchorEl:null})},children:Array.isArray(t.options)&&t.options.map((function(e,t){return Object(q.jsx)(L.a,{onClick:(n=e,function(e){e.stopPropagation(),l({open:!1,popOverAnchorEl:null}),a("fontSize",n)}),children:Object(q.jsx)(V.a,{variant:"body2",children:e})},"option-"+t);var n}))})]})},Y=o.a.memo(K,(function(e,t){return Object.areEqual(e.currentState,t.currentState)})),Q=(n(26),["className","controls","value","defaultValue","onChange","type"]),Z=o.a.forwardRef((function(e,t){var n=e.className,o=(e.controls,e.value),l=e.defaultValue,c=e.onChange,E=e.type,M=Object(i.a)(e,Q),R=Object(T.p)({touched:!1}),L=Object(p.a)(R,2),z=(L[0],L[1],Object(r.useRef)(null)),V=Object(r.useRef)(null),W=Object(T.e)(t),B=Object(T.b)((function(){if(z.current)return z.current.currentContent;if(V.current)return V.current;var e=o||l;return String.isString(e)?/<([A-Za-z][A-Za-z0-9]*)\b[^>]*>(.*?)<\/\1>/.test(e)?s.ContentState.createFromBlockArray(Object(s.convertFromHTML)(e).contentBlocks):s.ContentState.createFromText(e):Array.isArray(e)?s.ContentState.createFromBlockArray(e):s.EditorState.createEmpty().currentContent}),[o,l,V.current]),U=Object(T.b)((function(){return console.log("contentState",B),z.current?z.current:B?s.EditorState.createWithContent(B):s.EditorState.createEmpty()}),[B,z.current]),G=Object(r.useCallback)(Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Function.isFunction(c)&&(t=null,"html"!==E&&"text"!==E||z.current&&(t=Object(f.a)(z.current.getCurrentContent())),console.log("onChangeValue",t),console.log("WysiwygEditor type",E));case 1:case"end":return e.stop()}}),e)}))),[c,E]);return Object(T.d)((function(){console.log("editorState",U)}),[U]),Object(T.c)((function(){console.log("useDidMount rest",M),console.log("useDidMount inputRef",W)})),Object(q.jsx)(b.Editor,Object(a.a)(Object(a.a)({toolbarClassName:"flex flex-row items-center w-full",wrapperClassName:"w-full ".concat(n),editorClassName:"editorClassName",defaultEditorState:U,onEditorStateChange:function(e){z.current=e,G()},onContentStateChange:function(e){V.current=e},toolbar:{blockType:{component:J,title:"Type"},fontSize:{component:Y,className:void 0,dropdownClassName:void 0},fontFamily:{component:H,title:"Font family"},inline:{className:"flex",bold:{icon:Object(q.jsx)(j.a,{fontSize:"inherit"}),className:"demo-option-custom"},italic:{icon:Object(q.jsx)(m.a,{}),className:"demo-option-custom"},underline:{icon:Object(q.jsx)(h.a,{}),className:"demo-option-custom"},strikethrough:{icon:Object(q.jsx)(v.a,{}),className:"demo-option-custom"},monospace:{className:"demo-option-custom"},superscript:{icon:Object(q.jsx)(g.a,{}),className:"demo-option-custom"},subscript:{icon:Object(q.jsx)(O.a,{}),className:"demo-option-custom"}},list:{className:"inline-block",unordered:{icon:Object(q.jsx)(x.a,{}),className:"demo-option-custom"},ordered:{icon:Object(q.jsx)(y.a,{}),className:"demo-option-custom"},indent:{icon:Object(q.jsx)(w.a,{}),className:"demo-option-custom"},outdent:{icon:Object(q.jsx)(k.a,{}),className:"demo-option-custom"}},textAlign:{component:I,className:"inline-block",left:{icon:Object(q.jsx)(N.a,{}),className:"demo-option-custom"},center:{icon:Object(q.jsx)(_.a,{}),className:"demo-option-custom"},right:{icon:Object(q.jsx)(S.a,{}),className:"demo-option-custom"},justify:{icon:Object(q.jsx)(C.a,{}),className:"demo-option-custom"}},colorPicker:{className:"demo-option-custom"},link:{link:{icon:Object(q.jsx)(A.a,{})},unlink:{icon:Object(q.jsx)(F.a,{})}},emoji:{className:"demo-option-custom"},embedded:{className:"demo-option-custom"},image:{className:"demo-option-custom"},remove:{className:"demo-option-custom"},history:{undo:{icon:Object(q.jsx)(P.a,{}),className:"demo-option-custom"},redo:{icon:Object(q.jsx)(D.a,{}),className:"demo-option-custom"}}}},M),{},{editorRef:function(e){return W.current=e}}))}));Z.defaultProps={value:"",type:"html"};var X=Z,$=["className","readOnly","disabled","minRows","maxRows","rows","color","helperText","error","sx","variant","label","fullWidth","required","editorConfig"],ee=o.a.forwardRef((function(e,t){var n=e.className,r=e.readOnly,o=e.disabled,s=e.minRows,c=e.maxRows,u=e.rows,d=e.color,p=e.helperText,b=e.error,f=e.sx,j=e.variant,m=e.label,h=e.fullWidth,v=void 0===h||h,g=e.required,O=(e.editorConfig,Object(i.a)(e,$));return Object(q.jsx)(l.a,{InputProps:{inputComponent:X,inputProps:Object(a.a)({},O)},className:"".concat(n||""," "),variant:j||"filled",readOnly:r,disabled:o,helperText:p,error:b,label:m,required:g,fullWidth:v,multiline:!0,minRows:s,maxRows:c,rows:u,color:d,sx:f,inputRef:t})}));t.a=Object(r.memo)(ee)},639:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var a=n(15),i=n(2),r=n(1),o=n.n(r),s=n(1819),l=n(1121),c=n(131),u=n(27),d=n(743),p=n.n(d),b=n(0),f=["onSuccess","onError","callApi","sx","postData","render","className","buttonText","cookiePolicy"],j=["onClick","disabled"],m=function(e){return Object(b.jsxs)(l.a,Object(i.a)(Object(i.a)({},e),{},{viewBox:"0 0 150 150",children:[Object(b.jsx)("path",{fill:"#4280EF",d:"M120,76.1c0-3.1-0.3-6.3-0.8-9.3H75.9v17.7h24.8c-1,5.7-4.3,10.7-9.2,13.9l14.8,11.5   C115,101.8,120,90,120,76.1L120,76.1z"}),Object(b.jsx)("path",{fill:"#34A353",d:"M75.9,120.9c12.4,0,22.8-4.1,30.4-11.1L91.5,98.4c-4.1,2.8-9.4,4.4-15.6,4.4c-12,0-22.1-8.1-25.8-18.9   L34.9,95.6C42.7,111.1,58.5,120.9,75.9,120.9z"}),Object(b.jsx)("path",{class:"st12",fill:"#F6B704",d:"M50.1,83.8c-1.9-5.7-1.9-11.9,0-17.6L34.9,54.4c-6.5,13-6.5,28.3,0,41.2L50.1,83.8z"}),Object(b.jsx)("path",{fill:"#E54335",d:"M75.9,47.3c6.5-0.1,12.9,2.4,17.6,6.9L106.6,41C98.3,33.2,87.3,29,75.9,29.1c-17.4,0-33.2,9.8-41,25.3   l15.2,11.8C53.8,55.3,63.9,47.3,75.9,47.3z"})]}))},h=o.a.forwardRef((function(e,t){var n=e.onSuccess,o=e.onError,l=e.callApi,d=void 0===l||l,h=e.sx,v=e.postData,g=(e.render,e.className),O=e.buttonText,x=e.cookiePolicy,y=void 0===x?"single_host_origin":x,w=Object(a.a)(e,f),k=Object(c.b)().Api,N=Object(r.useCallback)((function(e){d?k.proceedWithGoogle(Object(i.a)(Object(i.a)({},e),v)).then((function(t){Function.isFunction(n)&&n({data:e,res:t})})).catch((function(t){Function.isFunction(o)&&o({data:e,error:t})})):Function.isFunction(n)&&n({data:e})}),[n,o,d,v]),_=Object(r.useCallback)((function(e){console.error(e),Function.isFunction(o)&&o({data:null,error:e})}),[o]);return Object(b.jsx)(p.a,{clientId:u.t,render:function(e){var t=e.onClick,n=e.disabled,r=Object(a.a)(e,j);return Object(b.jsx)(s.a,Object(i.a)(Object(i.a)(Object(i.a)({variant:"text",sx:Object(i.a)({backgroundColor:function(e){return e.palette.background.paper},color:function(e){return e.palette.text.primary},"&:hover":{}},h),className:"capitalize rounded-full px-8 ".concat(n?"hidden":""," ").concat(g||""),startIcon:Object(b.jsx)(m,{fontSize:"large"}),onClick:t},w),r),{},{children:"Proceed with Google"}))},buttonText:O,cookiePolicy:y,onSuccess:N,onFailure:_,ref:t})})),v=o.a.memo(h)},67:function(e,t,n){"use strict";n.d(t,"d",(function(){return w})),n.d(t,"c",(function(){return k})),n.d(t,"a",(function(){return N})),n.d(t,"b",(function(){return _}));var a=n(6),i=n(11),r=n(12),o=(n(1),n(76)),s=n.n(o),l=n(135),c=n.n(l),u=n(582),d=n.n(u),p=n(348),b=n(1774),f=n(1775),j=n(27),m=(n(35),n(0));c.a.mixin(d.a);var h=function(){function e(){Object(i.a)(this,e)}return Object(r.a)(e,[{key:"inDevelopment",value:function(){return"development"===j.n}},{key:"inProduction",value:function(){return"production"===j.n}}]),e}(),v=function(){function e(){Object(i.a)(this,e)}return Object(r.a)(e,null,[{key:"objIndexOf",value:function(e,t){return Object.keys(e).find((function(n){return e[n]===t}))}},{key:"singularize",value:function(e){return c.a.singularize(e)}},{key:"pluralize",value:function(e){return c.a.pluralize(e)}},{key:"arrayIntersection",value:function(e,t){return e.filter((function(e){return t.includes(e)}))}},{key:"arrayDifference",value:function(e,t){return e.filter((function(e){return!t.includes(e)}))}},{key:"arraySymetricDifference",value:function(e,t){return e.filter((function(e){return!t.includes(e)})).concat(t.filter((function(t){return!e.includes(t)})))}},{key:"uid",value:function(e,t,n){var a=[],i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=i.length;t?r=(i="0123456789").length:n&&(r=(i="ABCDEFGHIJKLMNOPQRSTUVWXYZ").length);for(var o=0;o<e;++o)a.push(i[this.getRandomInt(0,r-1)]);return a.join("")}},{key:"variablelizeStr",value:function(e){return(e=(e=(e=(e=e.replaceAll(/([A-Z])/g," $1")).trim()).replaceAll(/\s\s+/g," ")).replaceAll(" ","_")).toLowerCase()}},{key:"monochromeColorScheme",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;t=t>0?t:1;for(var n=s()(e),a=1/t,i=[],r=0;r<t;r++){var o=n.isLight()?n.saturate(r*a).mix(n.grayscale().mix(n.saturate(r*a))).hex():n.desaturate(r*a).mix(n.grayscale().mix(n.desaturate(r*a))).hex();i.push(o)}return i}},{key:"rotationColorScheme",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;t=t>0?t:1;for(var n=s()(e),a=360/t,i=[],r=0;r<t;r++)i.push(n.rotate(r*a).hex());return i}},{key:"convertBytesToMbsOrKbs",value:function(e){return e>=1e6?e/1e6+" megabytes":e>=1e3?e/1e3+" kilobytes":e+" bytes"}},{key:"readableFileSize",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t?1e3:1024;if(Math.abs(e)<n)return e+" B";var a=t?["kB","MB","GB","TB","PB","EB","ZB","YB"]:["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],i=-1;do{e/=n,++i}while(Math.abs(e)>=n&&i<a.length-1);return e.toFixed(1)+" "+a[i]}},{key:"isImage",value:function(e){var t=e.substr(e.indexOf(".")+1).toLowerCase();return["jpg","jpeg","bmp","png","ico","svg","tiff","jfif"].includes(t.toLowerCase())}},{key:"isOfType",value:function(e,t){return t.constructor===String&&(["array","arr"].includes(t.toLowerCase())&&void 0!==e&&null!==e&&e.constructor===Array||["boolean","bool"].includes(t.toLowerCase())&&void 0!==e&&null!==e&&e.constructor===Boolean||["function","method","fn","callable"].includes(t.toLowerCase())&&void 0!==e&&null!==e&&(e.constructor===Function||"function"===typeof e)||["number","float","int","long"].includes(t.toLowerCase())&&void 0!==e&&null!==e&&e.constructor===Number&&NaN!==e||["string","str"].includes(t.toLowerCase())&&void 0!==e&&null!==e&&e.constructor===String||["regexp","regex"].includes(t.toLowerCase())&&void 0!==e&&null!==e&&e.constructor===RegExp||["error","err"].includes(t.toLowerCase())&&void 0!==e&&null!==e&&e instanceof Error||["object","obj"].includes(t.toLowerCase())&&void 0!==e&&null!==e&&"object"===typeof e&&e.constructor!==Number&&NaN!==e.constructor&&e.constructor!==String&&e.constructor!==RegExp&&e.constructor!==Boolean&&e.constructor!==Error&&e.constructor!==Function&&!Array.isArray(e)||["json_object","json","jsonobj","jsonobject","json_obj"].includes(t.toLowerCase())&&void 0!==e&&null!==e&&"object"===typeof e&&e.constructor!=={}.constructor)||(null===t||void 0===t||!1===t)&&(void 0===e||null===e||!1===e)}}]),e}(),g=function(){function e(){Object(i.a)(this,e)}return Object(r.a)(e,[{key:"resolveReferenceColumnDisplay",value:function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"(",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:")",s="",l=n;if(v.isOfType(n.display,"function")&&(l.display=n.display(t,i)),v.isOfType(l,"object")){"display"in l&&(l=l.display),l.value="value"in l?l.value:"_id";var c=l.primary,u=l.secondary;if(v.isOfType(c,"function")&&(c=c(t,i)),v.isOfType(u,"function")&&(u=u(t,i)),v.isOfType(t[e],"object")){var d=t[e][l.value],p="";if(v.isOfType(c,"array")&&c.length>0){for(var b="",f=0;f<c.length;f++)if(v.isOfType(c[f],"object"))for(var j=0,m=Object.entries(c[f]);j<m.length;j++){var h=Object(a.a)(m[j],2),g=h[0],O=h[1];if(v.isOfType(t[e][g],"object"))if(v.isOfType(O,"array"))for(var x=0;x<O.length;x++)O[x]in t[e][g]&&t[e][g][O[x]]&&(b+=" "+t[e][g][O[x]]);else v.isOfType(O,"string")&&O in t[e][g]&&(b+=" "+t[e][g][O])}else v.isOfType(c[f],"string")&&t[e][c[f]]&&(b+=" "+t[e][c[f]]);p+=b.trim()}if(v.isOfType(u,"array")&&u.length>0){for(var y="",w=0;w<u.length;w++)u[w]in t[e]&&(y+=" "+t[e][u[w]]);p+=y.trim().length>0?(r||" (")+y+(o||")"):""}s={value:d,resolve:p.trim()}}else if(v.isOfType(t[e],"array")){s=[];for(var k=0;k<t[e].length;k++){var N="",_="";if(t[e][k]&&Array.isArray(c)&&c.length>0){var S="";for(f=0;f<c.length;f++)if(v.isOfType(c[f],"object"))for(var C=0,A=Object.entries(c[f]);C<A.length;C++){var F=Object(a.a)(A[C],2),P=F[0],D=F[1];if(v.isOfType(t[e][k][P],"object"))if(v.isOfType(D,"array"))for(x=0;x<D.length;x++)D[x]in t[e][k][P]&&t[e][k][P][D[x]]&&(S+=" "+t[e][k][P][D[x]]);else v.isOfType(D,"string")&&D in t[e][k][P]&&(S+=" "+t[e][k][P][D])}else v.isOfType(c[f],"string")&&t[e][k][c[f]]&&(S+=" "+t[e][k][c[f]]);_+=S.trim()}if(v.isOfType(u,"array")&&u.length>0){var E="";for(w=0;w<u.length;w++)u[w]in t[e][k]&&(E+=" "+t[e][k][u[w]]);_+=E.trim().length>0?(r||" (")+E+(o||")"):""}s.push({value:N,resolve:_.trim()})}}else v.isOfType(t[e],"string")&&(s={value:t[e],resolve:t[e]})}return s}},{key:"resolveReferenceColumnsDisplays",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"(",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:")",o=[],s={};if(v.isOfType(t,"object"))for(var l=0,c=Object.entries(t);l<c.length;l++){var u=Object(a.a)(c[l],2),d=u[0],p=u[1];p.reference&&v.isOfType(p.reference,"object")&&"resolves"in p.reference&&(s[d]=p.reference.resolves)}if(v.isOfType(e,"array"))for(var b=0;b<e.length;b++){for(var f={},j=0,m=Object.entries(e[b]);j<m.length;j++){var h=Object(a.a)(m[j],2),g=h[0];h[1];g in s?e[b][g]?f[g]=this.resolveReferenceColumnDisplay(g,e[b],s[g],n,i,r):f[g]=e[b][g]:JSON.isJSON(e[b][g])?f[g]=JSON.prettyStringify(e[b][g]):f[g]=e[b][g]}o.push(f)}return o}}]),e}(),O=function(){function e(){Object(i.a)(this,e),this.fileTypes={text:{extensions:["doc","docx","ebook","log","md","msg","odt","org","pages","pdf","rtf","rst","tex","txt","wpd","wps"],icon:Object(m.jsx)(p.a,{})},sheet:{extensions:["ods","xls","xlsx","csv","ics","vcf"],icon:Object(m.jsx)(p.a,{})},slide:{extensions:["ppt","odp"],icon:Object(m.jsx)(p.a,{})},archive:{extensions:["7z","a","ar","bz2","cab","cpio","deb","dmg","egg","gz","iso","jar","lha","mar","pea","rar","rpm","s7z","shar","tar","tbz2","tgz","tlz","war","whl","xpi","zip","zipx","deb","rpm","xz","pak","crx"],icon:Object(m.jsx)(p.a,{})},web:{extensions:["html","htm","css","less","scss"],icon:Object(m.jsx)(p.a,{})},image:{extensions:["bmp","gif","jpg","jpeg","png","tif","tiff","yuv","ico","svg","webp"],icon:Object(m.jsx)(p.a,{})},video:{extensions:["3g2","3gp","aaf","asf","avchd","avi","drc","flv","m2v","m4p","m4v","mkv","mng","mov","mp2","mp4","mpe","mpeg","mpg","mpv","mxf","nsv","ogg","ogv","ogm","qt","rm","rmvb","roq","srt","svi","vob","webm","wmv","yuv"],icon:Object(m.jsx)(b.a,{})},audio:{extensions:["aac","aiff","ape","au","flac","gsm","it","m3u","m4a","mid","mod","mp3","mpa","pls","ra","s3m","sid","wav","wma","xm"],icon:Object(m.jsx)(f.a,{})},code:{extensions:["c","cc","class","clj","cpp","cs","cxx","el","go","h","java","js","jsx","lua","m","m4","php","pl","po","py","rb","rs","sh","sql","swift","vb","vcxproj","xcodeproj","xml","diff","patch"],icon:Object(m.jsx)(p.a,{})}}}return Object(r.a)(e,[{key:"convertBytesToMbsOrKbs",value:function(e){return e>=1e6?e/1e6+" megabytes":e>=1e3?e/1e3+" kilobytes":e+" bytes"}},{key:"readableFileSize",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t?1e3:1024;if(Math.abs(e)<n)return e+" B";var a=t?["kB","MB","GB","TB","PB","EB","ZB","YB"]:["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],i=-1;do{e/=n,++i}while(Math.abs(e)>=n&&i<a.length-1);return e.toFixed(1)+" "+a[i]}},{key:"isImage",value:function(e){var t=this.fileExtension(e);return this.fileTypes.image.extensions.includes(t.toLowerCase())}},{key:"fileExtension",value:function(e){return String.isString(e)?e.split(".").pop():""}},{key:"fileType",value:function(e){for(var t=this.fileExtension(e),n=0,i=Object.entries(this.fileTypes);n<i.length;n++){var r=Object(a.a)(i[n],2),o=r[0];if(r[1].extensions.includes(t.toLowerCase()))return o}return"file"}},{key:"fileIcon",value:function(e){var t=this.fileType(e);return"file"!==t?this.fileTypes[t].icon:Object(m.jsx)(p.a,{})}}]),e}(),x=function(){function e(){Object(i.a)(this,e)}return Object(r.a)(e,null,[{key:"names",value:function(){return{ET:"Ethiopia",KE:"Kenya",RW:"Rwanda",TZ:"Tanzania",UG:"Uganda"}}},{key:"allNames",value:function(){return{AD:"Andorra",AE:"United Arab Emirates",AF:"Afghanistan",AG:"Antigua and Barbuda",AI:"Anguilla",AL:"Albania",AM:"Armenia",AO:"Angola",AQ:"Antarctica",AR:"Argentina",AS:"American Samoa",AT:"Austria",AU:"Australia",AW:"Aruba",AX:"Aland Islands",AZ:"Azerbaijan",BA:"Bosnia and Herzegovina",BB:"Barbados",BD:"Bangladesh",BE:"Belgium",BF:"Burkina Faso",BG:"Bulgaria",BH:"Bahrain",BI:"Burundi",BJ:"Benin",BL:"Saint Barthelemy",BM:"Bermuda",BN:"Brunei",BO:"Bolivia",BQ:"Bonaire, Saint Eustatius and Saba ",BR:"Brazil",BS:"Bahamas",BT:"Bhutan",BV:"Bouvet Island",BW:"Botswana",BY:"Belarus",BZ:"Belize",CA:"Canada",CC:"Cocos Islands",CD:"Democratic Republic of the Congo",CF:"Central African Republic",CG:"Republic of the Congo",CH:"Switzerland",CI:"Ivory Coast",CK:"Cook Islands",CL:"Chile",CM:"Cameroon",CN:"China",CO:"Colombia",CR:"Costa Rica",CU:"Cuba",CV:"Cape Verde",CW:"Curacao",CX:"Christmas Island",CY:"Cyprus",CZ:"Czech Republic",DE:"Germany",DJ:"Djibouti",DK:"Denmark",DM:"Dominica",DO:"Dominican Republic",DZ:"Algeria",EC:"Ecuador",EE:"Estonia",EG:"Egypt",EH:"Western Sahara",ER:"Eritrea",ES:"Spain",ET:"Ethiopia",FI:"Finland",FJ:"Fiji",FK:"Falkland Islands",FM:"Micronesia",FO:"Faroe Islands",FR:"France",GA:"Gabon",GB:"United Kingdom",GD:"Grenada",GE:"Georgia",GF:"French Guiana",GG:"Guernsey",GH:"Ghana",GI:"Gibraltar",GL:"Greenland",GM:"Gambia",GN:"Guinea",GP:"Guadeloupe",GQ:"Equatorial Guinea",GR:"Greece",GS:"South Georgia and the South Sandwich Islands",GT:"Guatemala",GU:"Guam",GW:"Guinea-Bissau",GY:"Guyana",HK:"Hong Kong",HM:"Heard Island and McDonald Islands",HN:"Honduras",HR:"Croatia",HT:"Haiti",HU:"Hungary",ID:"Indonesia",IE:"Ireland",IL:"Israel",IM:"Isle of Man",IN:"India",IO:"British Indian Ocean Territory",IQ:"Iraq",IR:"Iran",IS:"Iceland",IT:"Italy",JE:"Jersey",JM:"Jamaica",JO:"Jordan",JP:"Japan",KE:"Kenya",KG:"Kyrgyzstan",KH:"Cambodia",KI:"Kiribati",KM:"Comoros",KN:"Saint Kitts and Nevis",KP:"North Korea",KR:"South Korea",KW:"Kuwait",KY:"Cayman Islands",KZ:"Kazakhstan",LA:"Laos",LB:"Lebanon",LC:"Saint Lucia",LI:"Liechtenstein",LK:"Sri Lanka",LR:"Liberia",LS:"Lesotho",LT:"Lithuania",LU:"Luxembourg",LV:"Latvia",LY:"Libya",MA:"Morocco",MC:"Monaco",MD:"Moldova",ME:"Montenegro",MF:"Saint Martin",MG:"Madagascar",MH:"Marshall Islands",MK:"Macedonia",ML:"Mali",MM:"Myanmar",MN:"Mongolia",MO:"Macao",MP:"Northern Mariana Islands",MQ:"Martinique",MR:"Mauritania",MS:"Montserrat",MT:"Malta",MU:"Mauritius",MV:"Maldives",MW:"Malawi",MX:"Mexico",MY:"Malaysia",MZ:"Mozambique",NA:"Namibia",NC:"New Caledonia",NE:"Niger",NF:"Norfolk Island",NG:"Nigeria",NI:"Nicaragua",NL:"Netherlands",NO:"Norway",NP:"Nepal",NR:"Nauru",NU:"Niue",NZ:"New Zealand",OM:"Oman",PA:"Panama",PE:"Peru",PF:"French Polynesia",PG:"Papua New Guinea",PH:"Philippines",PK:"Pakistan",PL:"Poland",PM:"Saint Pierre and Miquelon",PN:"Pitcairn",PR:"Puerto Rico",PS:"Palestinian Territory",PT:"Portugal",PW:"Palau",PY:"Paraguay",QA:"Qatar",RE:"Reunion",RO:"Romania",RS:"Serbia",RU:"Russia",RW:"Rwanda",SA:"Saudi Arabia",SB:"Solomon Islands",SC:"Seychelles",SD:"Sudan",SE:"Sweden",SG:"Singapore",SH:"Saint Helena",SI:"Slovenia",SJ:"Svalbard and Jan Mayen",SK:"Slovakia",SL:"Sierra Leone",SM:"San Marino",SN:"Senegal",SO:"Somalia",SR:"Suriname",SS:"South Sudan",ST:"Sao Tome and Principe",SV:"El Salvador",SX:"Sint Maarten",SY:"Syria",SZ:"Swaziland",TC:"Turks and Caicos Islands",TD:"Chad",TF:"French Southern Territories",TG:"Togo",TH:"Thailand",TJ:"Tajikistan",TK:"Tokelau",TL:"East Timor",TM:"Turkmenistan",TN:"Tunisia",TO:"Tonga",TR:"Turkey",TT:"Trinidad and Tobago",TV:"Tuvalu",TW:"Taiwan",TZ:"Tanzania",UA:"Ukraine",UG:"Uganda",UM:"United States Minor Outlying Islands",US:"United States",UY:"Uruguay",UZ:"Uzbekistan",VA:"Vatican",VC:"Saint Vincent and the Grenadines",VE:"Venezuela",VG:"British Virgin Islands",VI:"U.S. Virgin Islands",VN:"Vietnam",VU:"Vanuatu",WF:"Wallis and Futuna",WS:"Samoa",XK:"Kosovo",YE:"Yemen",YT:"Mayotte",ZA:"South Africa",ZM:"Zambia",ZW:"Zimbabwe"}}}]),e}(),y=function(){function e(){Object(i.a)(this,e)}return Object(r.a)(e,null,[{key:"asyncValidate",value:function(e){return"development"===j.n}}]),e}(),w=(new h,v),k=new g,N=x,_=(new y,new O)},7:function(e,t,n){"use strict";var a=n(2),i=n(15),r=n(124),o=n(1),s=n.n(o),l=n(0),c=["children","className"],u=s.a.forwardRef((function(e,t){var n=e.children,o=e.className,s=Object(i.a)(e,c);return Object(l.jsx)(r.a,Object(a.a)(Object(a.a)({xs:12,sx:{padding:function(e){return e.spacing()}},className:"".concat(o||""),ref:t},s),{},{item:!0,children:n}))}));t.a=s.a.memo(u)},705:function(e,t,n){"use strict";n(6),n(2),n(15),n(1),n(767),n(752),n(1123),n(788),n(1124),n(1827),n(789),n(349),n(657),n(779),n(278),n(199),n(17),n(0)},71:function(e,t,n){"use strict";n.d(t,"Z",(function(){return a})),n.d(t,"tb",(function(){return i})),n.d(t,"jb",(function(){return r})),n.d(t,"qb",(function(){return o})),n.d(t,"nb",(function(){return s})),n.d(t,"I",(function(){return l})),n.d(t,"rb",(function(){return c})),n.d(t,"sb",(function(){return u})),n.d(t,"Y",(function(){return d})),n.d(t,"kb",(function(){return p})),n.d(t,"K",(function(){return b})),n.d(t,"pb",(function(){return f})),n.d(t,"ub",(function(){return j})),n.d(t,"fb",(function(){return m})),n.d(t,"S",(function(){return h})),n.d(t,"T",(function(){return v})),n.d(t,"O",(function(){return g})),n.d(t,"P",(function(){return O})),n.d(t,"Q",(function(){return x})),n.d(t,"V",(function(){return y})),n.d(t,"R",(function(){return w})),n.d(t,"U",(function(){return k})),n.d(t,"bb",(function(){return N})),n.d(t,"cb",(function(){return _})),n.d(t,"db",(function(){return S})),n.d(t,"ab",(function(){return C})),n.d(t,"A",(function(){return A})),n.d(t,"u",(function(){return F})),n.d(t,"k",(function(){return P})),n.d(t,"s",(function(){return D})),n.d(t,"hb",(function(){return E})),n.d(t,"ib",(function(){return T})),n.d(t,"a",(function(){return q})),n.d(t,"v",(function(){return M})),n.d(t,"L",(function(){return I})),n.d(t,"b",(function(){return R})),n.d(t,"E",(function(){return L})),n.d(t,"w",(function(){return z})),n.d(t,"mb",(function(){return V})),n.d(t,"lb",(function(){return W})),n.d(t,"M",(function(){return J})),n.d(t,"N",(function(){return B})),n.d(t,"H",(function(){return U})),n.d(t,"W",(function(){return G})),n.d(t,"C",(function(){return H})),n.d(t,"p",(function(){return K})),n.d(t,"ob",(function(){return Y})),n.d(t,"G",(function(){return Q})),n.d(t,"t",(function(){return Z})),n.d(t,"J",(function(){return X})),n.d(t,"B",(function(){return $})),n.d(t,"m",(function(){return ee})),n.d(t,"n",(function(){return te})),n.d(t,"gb",(function(){return ne})),n.d(t,"F",(function(){return ae})),n.d(t,"r",(function(){return ie})),n.d(t,"X",(function(){return re})),n.d(t,"D",(function(){return oe})),n.d(t,"q",(function(){return se})),n.d(t,"o",(function(){return le})),n.d(t,"d",(function(){return ce})),n.d(t,"i",(function(){return ue})),n.d(t,"c",(function(){return de})),n.d(t,"f",(function(){return pe})),n.d(t,"e",(function(){return be})),n.d(t,"j",(function(){return fe})),n.d(t,"g",(function(){return je})),n.d(t,"h",(function(){return me})),n.d(t,"x",(function(){return he})),n.d(t,"z",(function(){return ve})),n.d(t,"y",(function(){return ge})),n.d(t,"l",(function(){return Oe})),n.d(t,"eb",(function(){return xe}));var a="[APP]INITIALIZED",i="[APP]VERSION",r="[APP]ONBOARDED",o="[APP]SET_SETTINGS",s="[APP]SET_PREFERENCES",l="[AUTH]SET_AUTHENTICATED",c="[AUTH]SET_TOKEN",u="[AUTH]SET_USER",d="[DEVICE] SET_IDENTITY",p="[DEVICE] SET_OPERATING_SYSTEM",b="[DEVICE] SET_BROWSER",f="[DEVICE] SET_SCREEN_SIZE",j="[DEVICE] SET_WINDOW_SIZE",m="[DEVICE] SET_LOCATION",h="[DASHBOARD] SET_DASHBOARD_LANGUAGE",v="[DASHBOARD] SET_DASHBOARD_LAYOUT_DIRECTION",g="[DASHBOARD] SET_DASHBOARD_APPBAR_DISPLAYED",O="[DASHBOARD] SET_DASHBOARD_DRAWER_DISPLAYED",x="[DASHBOARD] SET_DASHBOARD_FOOTER_DISPLAYED",y="[DASHBOARD] SET_DASHBOARD_SEARCHBAR_DISPLAYED",w="[DASHBOARD] SET_DASHBOARD_HOMEPAGE_STATE",k="[DASHBOARD] SET_DASHBOARD_LIGHTBOX",N="[LANDINGPAGE] SET_LANDINGPAGE_LANGUAGE",_="[LANDINGPAGE] SET_LANDINGPAGE_LAYOUT_DIRECTION",S="[LANDINGPAGE] SET_LANDINGPAGE_NAVBAR_DISPLAYED",C="[LANDINGPAGE] SET_LANDINGPAGE_FOOTER_DISPLAYED",A="[DIALOG] OPEN",F="[DIALOG] CLOSE",P="APPEND_NAV_HISTORY",D="CLEAR_NAV_HISTORY",E="SET_NAV_HISTORY_THRESHOLD",T="SET_NAV_LOADING",q="ADD_FLASH_MESSAGE",M="DELETE_FLASH_MESSAGE",I="[ECOMMERCE] SET_CART",R="[ECOMMERCE] ADD_TO_CART",L="[ECOMMERCE] REMOVE_FROM_CART",z="[ECOMMERCE] EMPTY_CART",V="[ECOMMERCE] SET_ORDER_PROGRESS",W="[ECOMMERCE] SET_ORDER",J="[ECOMMERCE] SET_CART_NOTE",B="[ECOMMERCE] SET_CHECKOUT_DATA",U="[ECOMMERCE] RESET_ECOMMERCE",G="[CACHE] SET_DATA_CACHE",H="[CACHE] REMOVE_DATA_CACHE",K="[CACHE] CLEAR_DATA_CACHE",Y="[CACHE] SET_RESPONSE_CACHE",Q="[CACHE] REMOVE_RESPONSE_CACHE",Z="[CACHE] CLEAR_RESPONSE_CACHE",X="[CACHE] SET_BLOB_CACHE",$="[CACHE] REMOVE_BLOB_CACHE",ee="[CACHE] CLEAR_BLOB_CACHE",te="[CACHE] CLEAR_CACHE",ne="[COMMUNICATION] SET_MESSAGING_CACHE",ae="[COMMUNICATION] REMOVE_MESSAGING_CACHE",ie="[COMMUNICATION] CLEAR_MESSAGING_CACHE",re="[COMMUNICATION] SET_EMAILING_CACHE",oe="[COMMUNICATION] REMOVE_EMAILING_CACHE",se="[COMMUNICATION] CLEAR_EMAILING_CACHE",le="[COMMUNICATION] CLEAR_CACHE",ce="[API] CALL_REQUEST",ue="[API] SET_LOADING",de="[API] ADD_TASK",pe="[API] REMOVE_TASK",be="[API] CLEAR_TASKS",fe="[API] SET_RESPONSE",je="[API] SET_COMPLETE",me="[API] SET_ERROR",he="[FORMS] ADD",ve="[FORMS] SET",ge="[FORMS] REMOVE",Oe="[APP] CLEAR_STATE",xe="[UI] LIGHTBOX"},74:function(e,t,n){"use strict";n.d(t,"a",(function(){return a.a})),n.d(t,"c",(function(){return a.b})),n.d(t,"e",(function(){return a.c})),n.d(t,"b",(function(){return ne})),n.d(t,"d",(function(){return ae})),n.d(t,"f",(function(){return ie}));var a=n(131),i=n(1),r=n.n(i),o=Object(i.createContext)(null),s=n(0);var l=n(15),c=n(6),u=n(4),d=n(2),p=n(1809),b=n(657),f=n(1808),j=n(11),m=n(12),h=n(31),v=n(19),g=n(20),O="granted",x=function(){var e=0;return function(){return e++}}(),y=function(e){Object(v.a)(n,e);var t=Object(g.a)(n);function n(e){var a;Object(j.a)(this,n),a=t.call(this,e);var i=!1,r=!1;return"Notification"in window&&window.Notification&&(i=!0,window.Notification.permission===O&&(r=!0)),a.state={supported:i,granted:r},a.notifications={},a.windowFocus=!0,a.onWindowFocus=a._onWindowFocus.bind(Object(h.a)(a)),a.onWindowBlur=a._onWindowBlur.bind(Object(h.a)(a)),a}return Object(m.a)(n,[{key:"_onWindowFocus",value:function(){this.windowFocus=!0}},{key:"_onWindowBlur",value:function(){this.windowFocus=!1}},{key:"_askPermission",value:function(){var e=this;window.Notification.requestPermission((function(t){var n=t===O;e.setState({granted:n},(function(){n?e.props.onPermissionGranted():e.props.onPermissionDenied()}))}))}},{key:"componentDidMount",value:function(){this.props.disableActiveWindow&&(window.addEventListener("focus",this.onWindowFocus),window.addEventListener("blur",this.onWindowBlur)),this.state.supported?this.state.granted?this.props.onPermissionGranted():"denied"===window.Notification.permission?this.props.askAgain?this._askPermission():this.props.onPermissionDenied():this._askPermission():this.props.notSupported()}},{key:"componentWillUnmount",value:function(){this.props.disableActiveWindow&&(window.removeEventListener("focus",this.onWindowFocus),window.removeEventListener("blur",this.onWindowBlur))}},{key:"doNotification",value:function(){var e=this,t=this.props.options;if("string"!==typeof t.tag&&(t.tag="web-notification-"+x()),!this.notifications[t.tag])if(this.props.swRegistration&&this.props.swRegistration.showNotification)this.props.swRegistration.showNotification(this.props.title,t),this.notifications[t.tag]={};else{var n=new window.Notification(this.props.title,t);n.onshow=function(a){e.props.onShow(a,t.tag),e.props.timeout>0&&setTimeout((function(){e.close(n)}),e.props.timeout)},n.onclick=function(n){e.props.onClick(n,t.tag)},n.onclose=function(n){e.props.onClose(n,t.tag)},n.onerror=function(n){e.props.onError(n,t.tag)},this.notifications[t.tag]=n}}},{key:"render",value:function(){var e=this.props.disableActiveWindow&&this.windowFocus;return!this.props.ignore&&this.props.title&&this.state.supported&&this.state.granted&&!e&&this.doNotification(),Object(s.jsx)("input",{type:"hidden",name:"dummy-for-react-web-notification",style:{display:"none"}})}},{key:"close",value:function(e){e&&"function"===typeof e.close&&e.close()}},{key:"_getNotificationInstance",value:function(e){return this.notifications[e]}}]),n}(r.a.Component);y.defaultProps={ignore:!1,disableActiveWindow:!1,askAgain:!1,notSupported:function(){},onPermissionGranted:function(){},onPermissionDenied:function(){},onShow:function(){},onClick:function(){},onClose:function(){},onError:function(){},timeout:5e3,options:{},swRegistration:null};var w=y,k=n(784),N=n(656),_=n(190),S=n(314),C=n.n(S),A=n(1821),F=n(2043),P=n(2042),D=n(1822),E=n(2041),T=n(331),q=n.n(T),M=n(1817),I=n(1923),R=n(97),L=n(17),z=["content","className","onShow","title","subtitle","timingOut","timeout","icon","id","avatar","actions","avatarProps","mediaProps","elevation","action","onClose","onClick"],V=["icon","Icon","className"],W=r.a.forwardRef((function(e,t){var n=e.content,a=e.className,r=(e.onShow,e.title),o=e.subtitle,u=(e.timingOut,e.timeout),p=void 0===u?6e3:u,f=e.icon,j=e.id,m=e.avatar,h=e.actions,v=e.avatarProps,g=e.mediaProps,O=(e.elevation,e.action),x=e.onClose,y=e.onClick,w=Object(l.a)(e,z),S=Object(R.a)(),T=Object(L.p)({paused:!1,pauseElapsed:0}),W=Object(c.a)(T,2),J=W[0],B=W[1],U=J.paused&&J.pauseElapsed>0?p*J.pauseElapsed:p,G=Object(I.a)(J.paused?0:U,500),H=100*(1-(J.paused?J.pauseElapsed:G)),K=Object(i.useCallback)((function(e){B((function(e){return{paused:!0,pauseElapsed:1}})),Function.isFunction(x)&&x(e)}),[x]),Y=Object(i.useCallback)((function(e){return function(t){B((function(t){return{paused:!t.paused,pauseElapsed:t.paused?t.pauseElapsed:e}})),Function.isFunction(y)&&y(t)}}),[y]);return Object(L.d)((function(){0===H&&K()}),[H]),Object(s.jsxs)(A.a,Object(d.a)(Object(d.a)({onClick:Y(G),className:"cursor ".concat(a||""),raised:!0},w),{},{ref:t,children:[(!!m||!!O||!!f||!!r||!!o)&&Object(s.jsx)(D.a,{avatar:m?Object(s.jsx)(k.a,Object(d.a)({alt:"".concat(r),src:"".concat(m)},v)):f?Object(s.jsx)(k.a,Object(d.a)(Object(d.a)({},v),{},{children:f})):void 0,action:O||!!x&&Object(s.jsxs)(b.a,{className:"relative flex flex-row items-center justify-center",children:[Object(s.jsx)(M.a,{variant:"determinate",className:"",sx:{left:S.spacing(1),top:S.spacing(1)},color:"inherit",disableShrink:!0,size:S.spacing(2.5),thickness:4,value:H}),Object(s.jsx)(N.a,{size:"small",color:"inherit",className:"absolute center",sx:{fontSize:function(e){return e.spacing(1.5)}},"aria-label":"notification-".concat(j||String.uuid()),onClick:x,children:Object(s.jsx)(q.a,{fontSize:"inherit"})})]}),title:r,subheader:o}),!!g&&Object(s.jsx)(E.a,Object(d.a)({},g)),Object(s.jsx)(P.a,{className:"relative ".concat(r||o?"":"p-5"),children:Object(s.jsx)(_.a,{variant:"body2",color:"inherit",children:n})}),Array.isArray(h)&&h.length>0&&Object(s.jsx)(F.a,{disableSpacing:!0,children:h.map((function(e){var t=e.icon,n=e.Icon,a=e.className,i=Object(l.a)(e,V);return Object(s.jsx)(N.a,Object(d.a)(Object(d.a)({size:"small",className:"".concat(a||""," mx-1")},i),{},{children:t||(n?Object(s.jsx)(n,{fontSize:"inherit"}):Object(s.jsx)(C.a,{fontSize:"inherit"}))}))}))})]}))})),J=["type","title","content","image","icon","timeout","color","open","actions","audio","onClose","audible","onClick","desktopNotificationProps","inAppNotificationProps","severity"],B=Object(f.a)((function(e){return{root:{"&.MuiCard-root":{backgroundColor:e.palette.text.primary,color:e.palette.background.paper,"& .MuiCardHeader-root":{paddingBottom:e.spacing(1),paddingTop:e.spacing(1),"& .MuiCardHeader-avatar":{"& .MuiAvatar-root":{width:e.spacing(3.5),height:e.spacing(3.5),backgroundColor:e.palette.action.selected,"& .MuiSvgIcon-root":{width:e.spacing(2),height:e.spacing(2)}}},"& .MuiCardHeader-title":{fontSize:e.spacing(1.75)},"& .MuiCardHeader-subheader":{fontSize:e.spacing(1.35)}},"& .MuiCardContent-root":{"&:last-child":{paddingBottom:e.spacing(1)},paddingBottom:e.spacing(1),paddingTop:e.spacing(1)}}},default:{"&.MuiCard-root":{backgroundColor:e.palette.text.primary,color:e.palette.background.paper,"& .MuiCardHeader-root":{"& .MuiCardHeader-subheader":{color:e.palette.background.paper}}}},info:{"&.MuiCard-root":{backgroundColor:e.palette.info.main,color:e.palette.background.paper,"& .MuiCardHeader-root":{}}},success:{"&.MuiCard-root":{backgroundColor:e.palette.success.main,color:e.palette.background.paper,"& .MuiCardHeader-root":{}}},warning:{"&.MuiCard-root":{backgroundColor:e.palette.warning.main,color:e.palette.background.paper,"& .MuiCardHeader-root":{"& .MuiCardHeader-title":{}}}},error:{"&.MuiCard-root":{backgroundColor:e.palette.error.main,color:e.palette.background.paper,"& .MuiCardHeader-root":{}}},prioritized:{"& .MuiCardHeader-title":{color:e.palette.accent.main}}}})),U=r.a.forwardRef((function(e,t){var n=e.type,a=e.title,r=e.content,o=(e.image,e.icon),u=e.timeout,p=(e.color,e.open,e.actions,e.audio),f=e.onClose,j=(e.audible,e.onClick),m=e.desktopNotificationProps,h=(e.inAppNotificationProps,e.severity),v=void 0===h?"default":h,g=Object(l.a)(e,J),O=Array.isArray(n)?n:[n],x=(Object(i.useRef)(null),B()),y=Object(L.p)({timingOut:u>0,timeout:u||3e3}),k=Object(c.a)(y,2),N=(k[0],k[1],Object(i.useCallback)((function(){Function.isFunction(null===p||void 0===p?void 0:p.play)&&p.play()}),[p]));return Object(L.c)((function(){N()})),Object(s.jsxs)(b.a,{ref:t,children:[O.includes("desktop")&&Object(s.jsx)(w,Object(d.a)({notSupported:function(e){},onPermissionGranted:function(e){},onPermissionDenied:function(e){},onShow:function(e){},onClick:function(e){},onClose:function(e){},onError:function(e){},timeout:u,title:a},m)),Object(s.jsx)(W,Object(d.a)({className:"".concat(x.root," ").concat(x[v]," p-0 m-0 flex-1"),title:a,icon:o,onClose:f,onClick:j,content:r,timout:u},g))]})}));U.defaultProps={onShow:function(){},onClick:function(){},onClose:function(){},onError:function(){},timeout:5e3,options:{},content:"",color:"primary",type:["in-app"],audible:!1,open:!0};var G=U,H=n(1120),K=n(1823),Y=n(18),Q=n(55),Z=["onClose"],X=["anchorOrigin","onClose"],$=r.a.forwardRef((function(e,t){return Object(s.jsx)(p.a,Object(d.a)({elevation:6,ref:t,variant:"filled"},e))})),ee=Object(f.a)((function(e){return{root:{"& .MuiSnackbarContent-root":Object(u.a)({color:"".concat(e.palette.text.primary," !important"),backgroundColor:e.palette.background.paper},"backgroundColor","transparent")},snackbarContent:{"& .MuiSnackbarContent-message":{p:0,flex:1,paddingBottom:0,paddingTop:0,maxWidth:"40vw"}}}})),te=function(e){var t=e.children,n=(e.queue,e.displayMax),r=void 0===n?2:n,u=ee(),p=Object(a.b)(),b=p.SocketIO,f=p.network.online,j=Object(Y.d)((function(e){return e.auth})),m=Object(L.p)({websocketsConnection:!0}),h=Object(c.a)(m,2),v=h[0],g=h[1],O=Object(L.n)([]),x=O.entries,y=O.add,w=O.remove,k=O.removeAll,N=Object(L.b)((function(){var e=[];return Array.isArray(x)&&(e=x.reduce((function(e,t){return e.concat([t.data])}),[])),e}),[x]),_=Object(i.useCallback)((function(e){if(JSON.isJSON(e)){var t=String.uuid(),n=e.onClose,a=Object(l.a)(e,Z),i=Object(d.a)(Object(d.a)({priority:0},a),{},{id:t,onClose:Function.isFunction(n)?function(){w(t),n()}:function(){w(t)}});y(t,i)}}),[x]),S=Object(i.useCallback)((function(e){Array.isArray(e)?e.map((function(e){return _(e)})):_(e)}),[]),C=Object(i.useCallback)((function(e){var t=(null===e||void 0===e?void 0:e.id)||e;w(t)}),[x]),A=Object(L.b)((function(){return N.sort((function(e,t){return t.priority-e.priority})).slice(0,r)}),[N,r]),F=(Object(L.b)((function(){return N.reduce((function(e,t){return e+(t.timeout||t.autoHideDuration||3e3)+500}),0)}),[N]),Object(i.useCallback)((function(e){var t;j.isAuthenticated&&"_id"in(null===j||void 0===j?void 0:j.user)&&(e.notify!==(null===(t=j.user)||void 0===t?void 0:t._id)||e.read||S({content:e.body}))}),[j])),P=Object(i.useCallback)((function(){j.isAuthenticated&&"_id"in(null===j||void 0===j?void 0:j.user)&&g({websocketsConnection:!0})}),[j]),D=Object(i.useCallback)((function(){j.isAuthenticated&&"_id"in(null===j||void 0===j?void 0:j.user)&&g({websocketsConnection:!1})}),[j]),E=function(e){_(Object(d.a)({},e.detail))};return Object(L.c)((function(){b.on("connect",(function(){return P})),b.on("disconnect",D),b.on("new_notification",F);var e=Q.a.on("notification",E);return function(){b.off("connect",(function(){return P})),b.off("disconnect",D),b.off("new_notification",F),e.remove()}})),Object(s.jsxs)(o.Provider,{value:{notificationsQueue:N,queueNotification:S,dequeueNotification:C,clearNotificationsQueue:k},children:[t,(null===A||void 0===A?void 0:A.length)>0&&A.map((function(e,t){var n=e.anchorOrigin,a=e.onClose,r=Object(l.a)(e,X);return Object(s.jsx)(H.a,{className:"".concat(u.root," p-0 m-0 flex-1"),open:!0,onClose:a,anchorOrigin:Object(d.a)(Object(d.a)({},n),{},{vertical:"bottom",horizontal:"center"}),children:Object(s.jsx)(K.a,{className:"".concat(u.snackbarContent," p-0 m-0 flex-1 "),elevation:0,message:Object(i.createElement)(G,Object(d.a)(Object(d.a)({},r),{},{onClose:a,key:r.id}))})})})),Object(s.jsx)(H.a,{open:!v.websocketsConnection||!f,anchorOrigin:{vertical:"top",horizontal:"center"},children:Object(s.jsx)($,{severity:"error",sx:{width:"100%"},children:v.websocketsConnection?"Network connection unavailable!":"Server connection unavailable!"})})]})},ne=Object(i.memo)(te);function ae(){var e=Object(i.useContext)(o);if(!e)throw new Error("useNotificationsQueue should be used within NotificationsQueueProvider. \n Make sure you are rendering a NotificationsQueueProvider at the top of your component hierarchy");return e}var ie=function(e){return function(e){return r.a.memo((function(t){var n=ae();return Object(s.jsx)(e,Object(d.a)(Object(d.a)({},t),{},{notificationsQueue:n}))}))}(e)}},740:function(e,t,n){"use strict";var a=n(2),i=n(15),r=n(6),o=n(1),s=n(152),l=n(525),c=n(0),u=["variant","width","height"],d=["variant","width","height","className"],p=["variant","width","height","className"];function b(e){var t=Object(o.useState)(e),n=Object(r.a)(t,2),b=n[0],f=n[1];Object(o.useEffect)((function(){f(e)}),[e]);b.className;var j=b.placeholder,m=b.type;if("skeleton"===m){if(JSON.isJSON(j)){var h=j.variant,v=j.width,g=j.height,O=Object(i.a)(j,u);return Object(c.jsx)(l.a,Object(a.a)({variant:h||"rect",width:v||"100%",height:g||"auto"},O))}return Array.isArray(j)?Object(c.jsx)("div",{className:"w-full min-h-full flex flex-col relative",children:j.map((function(e,t){if(JSON.isJSON(e)){var n=e.variant,r=e.width,s=e.height,u=e.className,b=Object(i.a)(e,d);return Object(c.jsx)("div",{className:u||"w-full",children:Object(c.jsx)(l.a,Object(a.a)(Object(a.a)({variant:n||"rect",width:r||"100%"},s?{height:s}:{}),b))},"skeleton-"+t)}return Array.isArray(e)?Object(c.jsx)("div",{className:"w-full flex flex-row relative",children:e.map((function(e,t){var n=e.variant,r=e.width,s=e.height,c=e.className,u=Object(i.a)(e,p);return Object(o.createElement)(l.a,Object(a.a)(Object(a.a)(Object(a.a)({className:c||"",variant:n||"rect",width:r||"100%"},s?{height:s}:{}),u),{},{key:"row-skeleton-"+t}))}))},"skeleton-row-"+t):Object(c.jsx)("div",{className:"w-full"},"skeleton-"+t)}))}):Object(c.jsx)(l.a,{variant:"rect",width:"100%",height:120})}return"progress"===m?Object(c.jsx)(s.a,{type:"circular",size:24}):"logo"===m?Object(c.jsx)(s.a,{type:"logo",size:24,thickness:5,className:"absolute center"}):Object(c.jsx)(l.a,{variant:"rect",width:"100%",height:"100%"})}b.defaultProps={type:"skeleton",placeholder:{variant:"rect",width:"100%",height:"100%",animation:"wave"}},t.a=b},746:function(e,t,n){"use strict";n.d(t,"a",(function(){return ie}));var a=n(2),i=n(6),r=n(24),o=n(120),s=n(753),l=n(5),c=n.n(l),u=n(15),d=n(10),p=n(21),b=n(35),f=["data"],j=["data"],m=["data"],h=["data"],v=["data"],g=["data"],O=["data"],x=function(e){var t=e.dispatch,n=e.getState;return function(e){return function(i){var r=function(){var e=Object(d.a)(c.a.mark((function e(){var r,o,s,l,d,x,y,w,k,N,_,S,C,A,F;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n(),o=i.key,s=i.options,l=Object(a.a)({key:String.uid(50)},s),!o||!s){e.next=65;break}if(d=s.uri,x=s.type,y=s.params,w=s.data,k=s.cache,N=s.silent,_=s.id,S=b.a.getContextRequests(String.isString(d)?d:"/"),"records"!==x){e.next=11;break}return N||(t(Object(p.fb)(l)),k&&t(Object(p.xb)(o))),e.next=10,S.getRecords(y).then((function(e){if(k){var n=e.body,a=n.data,i=Object(u.a)(n,f);if(t(Object(p.Tb)(o,i)),Array.isArray(a))if(a.length<=50)t(Object(p.Kb)(o,a));else{var r=a.slice(0,50);t(Object(p.Kb)(o,r))}else t(Object(p.Kb)(o,[]))}return N||t(Object(p.vb)(l)),e})).catch((function(e){throw N||t(Object(p.vb)(l)),e}));case 10:case 16:case 24:case 32:case 40:case 48:case 60:return e.abrupt("return",e.sent);case 11:if("count"!==x){e.next=19;break}return t(Object(p.fb)(l)),k&&t(Object(p.xb)(o)),e.next=16,S.getRecordsCount(y).then((function(e){if(k){var n=e.body,a=n.data,i=Object(u.a)(n,j);t(Object(p.Tb)(o,i)),t(Object(p.Kb)(o,a.count))}if(N||t(Object(p.vb)(l)),e.err)throw e.err;return e})).catch((function(e){throw N||t(Object(p.vb)(l)),e}));case 19:if("aggregates"!==x){e.next=27;break}return t(Object(p.fb)(l)),k&&t(Object(p.xb)(o)),e.next=24,S.getAggregatesCount(y).then((function(e){if(k){var n=e.body,a=n.data,i=Object(u.a)(n,m);t(Object(p.Tb)(o,i)),t(Object(p.Kb)(o,a))}if(N||t(Object(p.vb)(l)),e.err)throw e.err;return e})).catch((function(e){throw N||t(Object(p.vb)(l)),t(Object(p.Tb)(o,e)),e}));case 27:if("create"!==x){e.next=35;break}return t(Object(p.fb)(l)),k&&t(Object(p.xb)(o)),e.next=32,S.create(w).then((function(e){if(k){var n=e.body,a=(n.data,Object(u.a)(n,h));t(Object(p.Tb)(o,a))}if(N||t(Object(p.vb)(l)),e.err)throw e.err;return e})).catch((function(e){throw N||t(Object(p.vb)(l)),e}));case 35:if("update"!==x){e.next=43;break}return t(Object(p.fb)(l)),k&&t(Object(p.xb)(o)),e.next=40,S.update(_,w,y).then((function(e){if(k){var n=e.body,a=(n.data,Object(u.a)(n,v));t(Object(p.Tb)(o,a))}if(N||t(Object(p.vb)(l)),e.err)throw e.err;return e})).catch((function(e){throw N||t(Object(p.vb)(l)),e}));case 43:if("delete"!==x){e.next=51;break}return t(Object(p.fb)(l)),k&&t(Object(p.xb)(o)),e.next=48,S.deleteRecordById(_).then((function(e){if(k){var n=e.body,a=(n.data,Object(u.a)(n,g));t(Object(p.Tb)(o,a))}return N||t(Object(p.vb)(l)),e})).catch((function(e){throw N||t(Object(p.vb)(l)),e}));case 51:if("search"!==x){e.next=65;break}if(t(Object(p.fb)(l)),k&&t(Object(p.xb)(o)),C="",JSON.isJSON(y)&&(String.isString(y.q)||String.isString(y.query))&&(C=(C=String.isString(y.q)?y.q:y.query).trim()),""===C){e.next=63;break}return k&&((A=Array.isArray(r.cache.data.search_history)?r.cache.data.search_history:[]).unshift(C),F=A.unique(),t(Object(p.Kb)("search_history",F))),e.next=60,S.searchGlobally(C).then((function(e){if(k){e.data;var n=Object(u.a)(e,O);t(Object(p.Tb)(o,n))}return N||t(Object(p.vb)(l)),e.data})).catch((function(e){throw N||t(Object(p.vb)(l)),e}));case 63:return N||t(Object(p.vb)(l)),e.abrupt("return",[]);case 65:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(i){if(i.type===p.c)return r();e(i)}}}},y=n(27),w=n(1001),k=Object(w.createLogger)({}),N=y.F?Object(o.a)(s.a,x,k):Object(o.a)(s.a,x),_=n(981),S=n(4),C=["key"],A=["key"],F={volatile:!0,tasks:{},busy:!1,base:{options:{uri:"/",type:"records",params:{},data:{}},loading:!1,response:null,complete:!1,error:null,cache:!0}},P={version:"0.0.0",onboarded:!1,initialized:!1,settings:{general:{"seo-title":"Realfield","seo-tagline":"We are not smart, We give you the data to be smart!",copyright:"Copyright YYYY",trademark:"Registered in Eng & wales Co No.","landing-page-routing":"sections"},reading:{"enable-blog":!0,"enable-press":!0,"enable-faq":!0},legal:{"terms-of-use":"Terms of use","end-user-agreement":"End user agreement","privacy-policy":"Privacy Policy","cookies-consent":"We use cookies to personalise content and ads, to provide social media features and to analyse our traffic. We also share information about your use of our site with our social media, advertising and analytics partners who may combine it with other information that you\u2019ve provided to them or that they\u2019ve collected from your use of their services"},social:{facebook:null,twitter:null,instagram:null,youtube:null,linkedin:null,whatsapp:null,google_plus:null,pinterest:null},mobile:{enabled:!0,"commission-embarkment":!0,"response-submission":!0,"user-registration":!0,"new-logins":!0,"oath2-logins":!0,"show-message":!1,"access-availability":"administrators-only",message:""},tracking:{contexts:["roam","commission"],"interval-type":"distance",interval:20,"min-positions-per-track":2,"max-positions-per-track":30,"trackable-time-window":"any-time","enforce-context-location-availability":!0,"enforce-onlocation-actions":!0},contact:{phone:"",email:"",address:""},mail:{smtp_host:"smtp.gmail.com",smtp_port:465,smtp_tls_ssl:!0,smtp_user:"",smtp_password:"",smtp_sender_name:y.d},auth:{logins_enabled:!0,registrations_enabled:!0,account_recovery_enabled:!0,OAuth2_enabled:!1,google:{enabled:!1,client_id:"",client_secret:"",client_callback_url:""},twitter:{enabled:!1,client_id:"",client_secret:"",client_callback_url:""},facebook:{enabled:!1,client_id:"",client_secret:"",client_callback_url:""},linkedin:{enabled:!1,client_id:"",client_secret:"",client_callback_url:""},github:{enabled:!1,client_id:"",client_secret:"",client_callback_url:""}}},preferences:{theme:"light",locale:"en",data:{pagination:10,defaultMapZoom:15},presentation:{formats:{date:"iso",time:"iso"},views:{records:"tableview",record:"basic"}},notifications:{all:{push:!0,sms:!0,email:!0},activity:{push:!0,sms:!0,email:!0},subscriptions:{push:!0,sms:!0,email:!0},features:{push:!0,sms:!0,email:!0},financial:{push:!0,sms:!0,email:!0}},subscriptions:{newsletter:!0,posts:!0,updates:!0},cookies:{necessary:!0,statistics:!1,preferences:!1,marketing:!1}}},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.eb:return Object(a.a)(Object(a.a)({},e),{},{version:t.version});case p.W:return Object(a.a)(Object(a.a)({},e),{},{onboarded:t.onboarded});case p.Q:return Object(a.a)(Object(a.a)({},e),{},{initialized:t.initialized});case p.bb:return Object(a.a)(Object(a.a)({},e),{},{settings:JSON.isJSON(t.settings)?JSON.merge(P.settings,t.settings):P.settings});case p.Z:return Object(a.a)(Object(a.a)({},e),{},{preferences:JSON.isJSON(t.preferences)?JSON.merge(P.preferences,t.preferences):P.preferences});default:return e}},E=n(71);function T(){return q.apply(this,arguments)}function q(){return(q=Object(d.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={isAuthenticated:!1,token:{},user:{}},e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e){var t={};if(e&&(t=e,Object.keys(e).length>0)){delete t.login_attempts,delete t.account_verifacation_mode,delete t.password_reset_code,delete t.account_verifacation_code,delete t.password_reset_code_expiration,delete t.provider_account_id,delete t.password,delete t.__v,delete t.last_login_attempt;var n=Array.isArray(null===e||void 0===e?void 0:e.role)?null===e||void 0===e?void 0:e.role.includes("owner"):"owner"==(null===e||void 0===e?void 0:e.role),a=Array.isArray(null===e||void 0===e?void 0:e.role)?null===e||void 0===e?void 0:e.role.includes("debugger"):"debugger"==(null===e||void 0===e?void 0:e.role),i=Array.isArray(null===e||void 0===e?void 0:e.role)?null===e||void 0===e?void 0:e.role.includes("superadmin"):"superadmin"==(null===e||void 0===e?void 0:e.role),r=n||a||i||(Array.isArray(null===e||void 0===e?void 0:e.role)?null===e||void 0===e?void 0:e.role.includes("admin"):"admin"==(null===e||void 0===e?void 0:e.role)),o=Array.isArray(null===e||void 0===e?void 0:e.role)?null===e||void 0===e?void 0:e.role.includes("customer"):"customer"==(null===e||void 0===e?void 0:e.role),s=Array.isArray(null===e||void 0===e?void 0:e.role)?null===e||void 0===e?void 0:e.role.includes("collector"):"collector"==(null===e||void 0===e?void 0:e.role);n&&(t.isOwner=n),a&&(t.isDebugger=a),i&&(t.isSuperAdmin=i),r&&(t.isAdmin=r),o&&(t.isCustomer=o),s&&(t.isCollector=s)}return t}var I={data:{},blob:{},res:{},volatile:!0},R={identity:{type:"Uknown",vendor:"Uknown",model:"Uknown"},os:{name:"Uknown",version:"Uknown"},browser:{name:"Uknown",version:"Uknown"},screen_size:{width:1366,height:768,orientation:"potrait"},window_size:{width:1024,height:768,name:"xs"},location:Object(a.a)(Object(a.a)({},y.m),{},{altitude:0,accuracy:0,altitudeAccuracy:0,heading:0,speed:0,timestamp:(new Date).getTime()/1e3})};function L(){return{threshold:5,entries:[{name:"home",uri:"/home".toUriWithDashboardPrefix(),title:"Home",view:null,color:null,scrollTop:0}],loading:!1}}function z(e,t){var n=e.threshold,a=e.entries;return a.length>0&&(a=a.filter((function(e){return t.name!==e.name})),(a=Array.isArray(a)?a:[]).length>0&&(a.length+1>n&&a[a.length-1].name!==t.name?(a.shift(),a.push(t)):a[a.length-1].name===t.name?a[a.length-1]=t:a.push(t))),a}var V={language:"en_us",layout_direction:"ltr",appbar_displayed:!0,drawer_displayed:!0,searchbar_displayed:!1,footer_displayed:!0,lightbox:{open:!1,src:null,alt:null},homepage_state:{sections:{quicklinks:!1,static_aggregates:!0,static_map:!0,compact_aggregates:!1,compact_maps:!1,calendar:!0}}},W={language:"en_us",layout_direction:"ltr",navbar_displayed:!0,footer_displayed:!0},J={state:!1,options:{children:"Hi"},volatile:!0},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.t:return Object(a.a)(Object(a.a)({},e),{},{state:!0,options:Object(a.a)(Object(a.a)({},e.options),t.options)});case p.r:return Object(a.a)(Object(a.a)({},e),{},{state:!1,options:J.options});default:return e}},U={order_progress:{step_name:"start",steps_data:{}},cart:{currency:"USD",total:0,options_total:0,entries:[],note:""},order:!1,checkout_data:{}};function G(e,t){var n=JSON.parse(JSON.stringify(e));Array.isArray(n.entries)||(n.entries=[]),n.entries=n.entries.concat([t]);var a=n.total,i=Number.parseNumber(n.options_total,0);return JSON.isJSON(t.item)&&(a+=Number.parseNumber(t.item.cost,0)),a+=Number.parseNumber(t.options_cost,0),i+=Number.parseNumber(t.options_cost,0),n.total=a,n.options_total=i,n}function H(e,t){var n=JSON.parse(JSON.stringify(e)),a=Number.parseNumber(n.total,0),i=Number.parseNumber(n.options_total,0);return Array.isArray(n.entries)&&(n.entries=n.entries.filter((function(e,n){if(JSON.isJSON(t)){if(!Object.areEqual(e,t))return!0;JSON.isJSON(e.item)&&(a-=Number.parseNumber(e.item.cost,0)),a-=Number.parseNumber(e.options_cost,0),i-=Number.parseNumber(e.options_cost,0)}else if(Number.isNumber(t)){if(t!==n)return!0;JSON.isJSON(e.item)&&(a-=Number.parseNumber(e.item.cost,0)),a-=Number.parseNumber(e.options_cost,0),i-=Number.parseNumber(e.options_cost,0)}return!1}))),a<0&&(a=0),i<0&&(i=0),n.total=a,n.options_total=i,n}var K={messaging:{unread_count:0,unread_ids:[],unsent_messages:[],conversations:[],drafts:[],contacts:[],contactactable_contacts_ids:[],active_conversation:!1,active_conversation_messages:[],contacts_open:!1,fetching_inbox:!1,creating_conversation:!1},emailing:{popup_open:!1,recipient_address:"",recipient_name:"",cc:[],bcc:[],subject:"",content:"",context:null,record:null}},Y={},Q={src:null,alt:void 0},Z=Object(o.c)({api:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case p.c:return Object(a.a)(Object(a.a)({},e),{},Object(S.a)({},t.key,Object(a.a)(Object(a.a)({},e[t.key]),{},{options:t.options,cache:t.cache})));case p.h:return Object(a.a)(Object(a.a)({},e),{},Object(S.a)({},t.key,Object(a.a)(Object(a.a)({},e[t.key]),{},{loading:t.loading})));case p.b:var n=t.task,i=n.key,r=Object(u.a)(n,C);return Object(a.a)(Object(a.a)({},e),{},{busy:!0,tasks:Object(a.a)(Object(a.a)({},e.tasks),{},Object(S.a)({},i,r))});case p.e:var o=t.task,s=o.key,l=(Object(u.a)(o,A),JSON.fromJSON(e.tasks));return delete l[s],l=JSON.isJSON(l)?l:{},Object(a.a)(Object(a.a)({},e),{},{busy:Object.size(l)>0,tasks:l});case p.d:return Object(a.a)(Object(a.a)({},e),{},{busy:!1,tasks:{}});case p.i:return Object(a.a)(Object(a.a)({},e),{},Object(S.a)({},t.key,Object(a.a)(Object(a.a)({},e[t.key]),{},{response:t.response})));case p.f:return Object(a.a)(Object(a.a)({},e),{},Object(S.a)({},t.key,Object(a.a)(Object(a.a)({},e[t.key]),{},{complete:t.complete})));case p.g:return Object(a.a)(Object(a.a)({},e),{},Object(S.a)({},t.key,Object(a.a)(Object(a.a)({},e[t.key]),{},{error:t.error})));default:return e}},app:D,auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case E.I:return Object(a.a)(Object(a.a)({},e),{},{isAuthenticated:!!t.authenticated});case E.rb:return Object(a.a)(Object(a.a)({},e),{},{token:JSON.isJSON(t.token)?t.token:{}});case E.sb:return Object(a.a)(Object(a.a)({},e),{},{user:M(t.user)});default:return e}},cache:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case p.O:return Object(a.a)(Object(a.a)({},e),{},{data:Object(a.a)(Object(a.a)({},e.data),{},Object(S.a)({},t.key,t.data))});case p.v:return Object(a.a)(Object(a.a)({},e),{},{data:JSON.removeProperty(e.data,t.key)});case p.n:return Object(a.a)(Object(a.a)({},e),{},{data:I.data});case p.ab:return Object(a.a)(Object(a.a)({},e),{},{res:Object(a.a)(Object(a.a)({},e.res),{},Object(S.a)({},t.key,t.res))});case p.z:return Object(a.a)(Object(a.a)({},e),{},{res:JSON.removeProperty(e.res,t.key)});case p.q:return Object(a.a)(Object(a.a)({},e),{},{res:I.res});case p.C:return Object(a.a)(Object(a.a)({},e),{},{blob:Object(a.a)(Object(a.a)({},e.blob),{},Object(S.a)({},t.key,t.blob))});case p.u:return Object(a.a)(Object(a.a)({},e),{},{blob:JSON.removeProperty(e.blob,t.key)});case p.k:return Object(a.a)(Object(a.a)({},e),{},{blob:I.blob});case p.l:return I;default:return e}},device:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case E.Y:return Object(a.a)(Object(a.a)({},e),{},{identity:t.identity});case E.kb:return Object(a.a)(Object(a.a)({},e),{},{os:t.os});case E.K:return Object(a.a)(Object(a.a)({},e),{},{browser:t.browser});case E.pb:return Object(a.a)(Object(a.a)({},e),{},{screen_size:t.screen_size});case E.ub:return Object(a.a)(Object(a.a)({},e),{},{window_size:t.window_size});case E.fb:return Object(a.a)(Object(a.a)({},e),{},{location:JSON.isJSON(t.location)?"lat"in t.location&&"lng"in t.location?t.location:e.location:R.location});default:return e}},dialog:B,nav:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case E.k:return Object(a.a)(Object(a.a)({},e),{},{entries:z(e,t.nav)});case E.hb:return Object(a.a)(Object(a.a)({},e),{},{threshold:t.threshold?t.threshold:1});case E.s:return Object(a.a)(Object(a.a)({},e),{},{entries:[]});case E.ib:return Object(a.a)(Object(a.a)({},e),{},{loading:t.loading});default:return e}},dashboard:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case p.K:return Object(a.a)(Object(a.a)({},e),{},{language:t.language});case p.L:return Object(a.a)(Object(a.a)({},e),{},{layout_direction:t.layout_direction});case p.G:return Object(a.a)(Object(a.a)({},e),{},{appbar_displayed:t.appbar_displayed});case p.N:return Object(a.a)(Object(a.a)({},e),{},{searchbar_displayed:t.searchbar_displayed});case p.H:return Object(a.a)(Object(a.a)({},e),{},{drawer_displayed:t.drawer_displayed});case p.I:return Object(a.a)(Object(a.a)({},e),{},{footer_displayed:t.footer_displayed});case p.J:return Object(a.a)(Object(a.a)({},e),{},{homepage_state:t.homepage_state});case p.M:return Object(a.a)(Object(a.a)({},e),{},{lightbox:t.lightbox});default:return e}},landingpage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case p.S:return Object(a.a)(Object(a.a)({},e),{},{language:t.language});case p.T:return Object(a.a)(Object(a.a)({},e),{},{layout_direction:t.layout_direction});case p.U:return Object(a.a)(Object(a.a)({},e),{},{navbar_displayed:t.navbar_displayed});case p.R:return Object(a.a)(Object(a.a)({},e),{},{footer_displayed:t.footer_displayed});default:return e}},form:_.a,forms:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case E.x:return String.isEmpty(t.name)?e:Object(a.a)(Object(a.a)({},e),{},Object(S.a)({},t.name,Object(a.a)({},t.payload)));case E.z:var n=t.name,i=t.payload;return String.isEmpty(n)||(e[n]=Object(a.a)({},i)),e;case E.y:var r=t.name||t.payload,o=String.isString(r)&&!String.isEmpty(r)?JSON.removeProperty(e,r):e;return Object(a.a)({},o);default:return e}},ecommerce:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case p.D:return Object(a.a)(Object(a.a)({},e),{},{cart:t.cart});case p.a:return Object(a.a)(Object(a.a)({},e),{},{cart:G(e.cart,t.entry)});case p.x:return Object(a.a)(Object(a.a)({},e),{},{cart:H(e.cart,t.entry)});case p.E:return Object(a.a)(Object(a.a)({},e),{},{cart:Object(a.a)(Object(a.a)({},e.cart),{},{note:t.note})});case p.s:return Object(a.a)(Object(a.a)({},e),{},{cart:U.cart});case p.Y:return Object(a.a)(Object(a.a)({},e),{},{order_progress:t.order_progress});case p.X:return Object(a.a)(Object(a.a)({},e),{},{order:t.order});case p.F:return Object(a.a)(Object(a.a)({},e),{},{checkout_data:t.checkout_data});case p.A:return U;default:return e}},communication:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case p.V:return Object(a.a)(Object(a.a)({},e),{},{messaging:Object(a.a)(Object(a.a)({},e.messaging),{},Object(S.a)({},t.key,Function.isFunction(t.messaging)?t.messaging(e.messaging[t.key]):t.messaging))});case p.y:return Object(a.a)(Object(a.a)({},e),{},{messaging:JSON.removeProperty(e.messaging,t.key)});case p.p:return Object(a.a)(Object(a.a)({},e),{},{messaging:K.messaging});case p.P:return Object(a.a)(Object(a.a)({},e),{},{emailing:Object(a.a)(Object(a.a)({},e.emailing),{},Object(S.a)({},t.key,Function.isFunction(t.emailing)?t.emailing(e.emailing[t.key]):t.emailing))});case p.w:return Object(a.a)(Object(a.a)({},e),{},{emailing:JSON.removeProperty(e.emailing,t.key)});case p.o:return Object(a.a)(Object(a.a)({},e),{},{emailing:K.emailing});case p.m:return K;default:return e}},lightbox:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.type===E.eb?Object(a.a)(Object(a.a)({},e),t.payload):e}}),X=(Object(o.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e})),function(e,t){if(t.type===p.j){var n=e.app;return Z(e={app:n},t)}return Z(e,t)});var $={},ee=function(e){for(var t={},n=0,a=Object.entries(e);n<a.length;n++){var o=Object(i.a)(a[n],2),s=o[0];o[1].volatile?$[s]=e[s]:t[s]=e[s]}return function(e){try{var t=JSON.stringify(e);localStorage.setItem(r.a.name.replace(/\s+/g,"").toLowerCase()+"-state",t)}catch(n){}}(t),e},te=function(){try{var e=localStorage.getItem(r.a.name.replace(/\s+/g,"").toLowerCase()+"-state");if(null===e)return;return JSON.parse(e)}catch(t){return}}(),ne=Object(a.a)(Object(a.a)({},te),$),ae=function(){var e;function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(o.e)(X,e||ne,Object(o.d)(N,window.__REDUX_DEVTOOLS_EXTENSION__&&"development"===y.n?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e}));return t.subscribe((function(){return ee(t.getState())})),t}return{getInstance:function(){return e||(e=t()),e},destroyInstance:function(){return e=void 0},newInstance:function(n){return e=t(n)}}}(),ie=ae.getInstance()},749:function(e,t,n){"use strict";n.r(t);var a=n(15),i=n(6),r=n(5),o=n.n(r),s=n(4),l=n(2),c=n(10),u=n(11),d=n(12),p=n(31),b=n(19),f=n(20),j=n(656),m=(n(66),n(243)),h=n(2036),v=n(2038),g=n(1918),O=n(2040),x=n(254),y=n.n(x),w=n(178),k=n(78),N=n(84),_=n(399),S=n(230),C=n(231),A=n(13),F=n(7),P=n(26),D=n(2060),E=n(2061),T=n(1798),q=n(1095),M=n.n(q),I=n(1),R=n.n(I),L=n(18),z=n(21),V=n(0),W=n(17),J=function(e){return function(e){return R.a.forwardRef((function(t,n){var a=Object(W.a)();return Object(V.jsx)(e,Object(l.a)(Object(l.a)({clientsPositions:a},t),{},{ref:n}))}))}(e)},B=n(48),U=n.n(B),G=n(339),H=n(380),K=n(93),Y=n(237),Q=n(35),Z=n(32),X=["onClick","icon"],$=!1,ee=function(e){Object(b.a)(n,e);var t=Object(f.a)(n);function n(e){var a;Object(u.a)(this,n),(a=t.call(this,e)).state={definations:{},services:{},defination:null,service:null,drawerOpen:!0,show_client_positions:!0,clients_positions:{},context:"commissions",context_entry:null,defaultZoom:10,multicontexts:!0,rendered_contexts:[],contexts_props:{},zoom:15,query:{},records:[],markers:[],circles:[],polylines:[]},a.toggleDrawer=function(e){return function(t){(!t||"keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&e!==a.state.drawerOpen&&a.setState((function(t){return{drawerOpen:e}}))}},a.handleOnDrawerNavigationValueChange=function(e,t){var n=a.props,i=(n.services,n.cache);a.setState((function(e){var n=-1!==e.rendered_contexts.indexOf(t)?e.rendered_contexts:e.rendered_contexts.concat([t]);return{context:t,context_entry:null,context_entries:["commissions","tracks"].includes(t)&&Array.isArray(i.data[t])?i.data[t]:[],defination:["commissions","tracks"].includes(t)?Z[t]:e.defination,service:["commissions","tracks"].includes(t)?Q.a.getContextRequests(Z[t]):e.service,rendered_contexts:n,context_entry_type:["commissions","tracks"].includes(t)?Z[t].views.listing.googlemapview.type:"clients_positions"}}))},a.handleClientListItemClick=function(e,t){return function(e){$&&$.panTo({lat:t.latitude,lng:t.longitude})}},a.handleToggleContextRender=function(e,t){var n=a.props,i=(n.cache,n.apiCallRequest),r=n.app;a.setState((function(t){var n=t.rendered_contexts.indexOf(e);return{rendered_contexts:t.rendered_contexts.includes(e)?t.rendered_contexts.removeAtIndex(n):t.rendered_contexts.concat([e])}}),Object(c.a)(o.a.mark((function n(){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:Z[e]&&t?i(Z[e].name,{uri:Z[e].endpoint,type:"records",params:JSON.isJSON(a.state.contexts_props[e])?a.state.contexts_props[e].query:{page:1,pagination:r.preferences.data.pagination,populate:1},data:{},cache:!0}).then((function(t){var n=t.body.data;Z[e]&&Function.isFunction(Z[e].views.listing.googlemapview.resolveData)&&Array.isArray(n)&&Z[e].views.listing.googlemapview.resolveData(n,!0).then((function(t){a.isMounted()?a.setState((function(a){return{context_entry_type:Z[e].views.listing.googlemapview.type,context_entry:n.length>0?0:void 0,contexts_props:Object(l.a)(Object(l.a)({},a.contexts_props),{},Object(s.a)({},e,Object(l.a)(Object(l.a)({},a.contexts_props[e]),{},{elements:t,element:Z[e].views.listing.googlemapview.type,loaded:!0})))}})):(a.state.context_entry_type=Z[e].views.listing.googlemapview.type,a.state.context_entry=n.length>0?0:void 0,a.state.contexts_props=Object(l.a)(Object(l.a)({},a.state.contexts_props),{},Object(s.a)({},e,Object(l.a)(Object(l.a)({},a.state.contexts_props[e]),{},{elements:t,element:Z[e].views.listing.googlemapview.type,loaded:!0}))))}))})).catch((function(e){})):Z[e]&&(a.isMounted()?a.setState((function(t){return{context_entry_type:void 0,context_entry:void 0,contexts_props:Object(l.a)(Object(l.a)({},t.contexts_props),{},Object(s.a)({},e,Object(l.a)(Object(l.a)({},t.contexts_props[e]),{},{elements:[],element:Z[e].views.listing.googlemapview.type,loaded:!1})))}})):(a.state.context_entry_type=void 0,a.state.context_entry=void 0,a.state.contexts_props=Object(l.a)(Object(l.a)({},a.state.contexts_props),{},Object(s.a)({},e,Object(l.a)(Object(l.a)({},a.state.contexts_props[e]),{},{elements:[],element:Z[e].views.listing.googlemapview.type,loaded:!1})))));case 1:case"end":return n.stop()}}),n)}))))},a.handleContextEntryClick=function(e,t){a.setState({context_entry:t}),$&&("commissions"===a.state.context&&$.panTo(e.focus_center),"tracks"===a.state.context&&e.positions&&Array.isArray(e.positions)&&JSON.isJSON(e.positions[0])&&$.panTo({lat:e.positions[0].latitude,lng:e.positions[0].longitude}))};var i=a.props,r=(i.device,i.cache),d=i.context,b=i.contexts,f=i.app;return a.elementRef=R.a.createRef(),a.prepareForView(),a.toggleDrawer=a.toggleDrawer.bind(Object(p.a)(a)),a.handleOnLoadMap=a.handleOnLoadMap.bind(Object(p.a)(a)),a.handleClientListItemClick=a.handleClientListItemClick.bind(Object(p.a)(a)),a.handleOnToggleShowClients=a.handleOnToggleShowClients.bind(Object(p.a)(a)),a.handleOnClientsPositionsLoaded=a.handleOnClientsPositionsLoaded.bind(Object(p.a)(a)),a.handleOnClientPositionAvailable=a.handleOnClientPositionAvailable.bind(Object(p.a)(a)),a.handleOnClientPositionUnavailable=a.handleOnClientPositionUnavailable.bind(Object(p.a)(a)),a.handleOnClientPositionChanged=a.handleOnClientPositionChanged.bind(Object(p.a)(a)),a.handleOnDrawerNavigationValueChange=a.handleOnDrawerNavigationValueChange.bind(Object(p.a)(a)),a.handleContextEntryClick=a.handleContextEntryClick.bind(Object(p.a)(a)),a.handleToggleContextRender=a.handleToggleContextRender.bind(Object(p.a)(a)),a.state=Object(l.a)(Object(l.a)({},a.state),{},{context:d||a.state.context,defaultZoom:f.preferences.data.defaultMapZoom,multicontexts:!!Array.isArray(b)&&b.length>1,rendered_contexts:d?[d]:[],contexts_props:d?Object(s.a)({},d,{query:{page:1,pagination:f.preferences.data.pagination,populate:1},element:"marker",records:[]}):{},context_entries:Array.isArray(r.data[a.state.defination.name])?r.data[a.state.defination.name]:[]}),a}return Object(d.a)(n,[{key:"isMounted",value:function(){return null!=this.elementRef.current}},{key:"componentDidMount",value:function(){}},{key:"prepareForView",value:function(){for(var e=this.props,t=e.auth,n=e.app,a=null,r=null,o={},s={},l=this.state.contexts_props,c=0,u=Object.entries(Z);c<u.length;c++){var d=Object(i.a)(u[c],2),p=d[0],b=d[1];b.access.restricted(t.user)||b.views.listing.googlemapview&&Function.isFunction(b.views.listing.googlemapview.resolveData)&&(o[p]=b,s[p]=Q.a.getContextRequests(b.endpoint),l[p]={query:{page:1,pagination:n.preferences.data.pagination,populate:1},element:b.views.listing.googlemapview.type,elements:[],loaded:!1},null===a&&(a=b,r=Q.a.getContextRequests(b.endpoint)))}this.state.contexts_props=l,this.state.definations=o,this.state.services=s,this.state.defination=a,this.state.service=r}},{key:"handleOnToggleShowClients",value:function(e){this.setState((function(e){return{show_client_positions:!e.show_client_positions}}))}},{key:"handleOnLoadMap",value:function(e,t){var n=Object(i.a)(this.props.clientsPositions,2);n[0];n[1].setGoogleMap(e),$=e}},{key:"handleOnClientsPositionsLoaded",value:function(e){this.setState((function(t){return{clients_positions:e}}))}},{key:"handleOnClientPositionAvailable",value:function(e,t){this.setState((function(n){return{clients_positions:Object(l.a)(Object(l.a)({},n.clients_positions),{},Object(s.a)({},e,t))}}))}},{key:"handleOnClientPositionUnavailable",value:function(e,t){this.setState((function(t){var n=t.clients_positions;return delete n[e],{clients_positions:n}}))}},{key:"handleOnClientPositionChanged",value:function(e,t){this.setState((function(n){return{clients_positions:n.drawerOpen?Object(l.a)(Object(l.a)({},n.clients_positions),{},Object(s.a)({},e,t)):n.clients_positions}}))}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.theme,o=(n.showAll,n.device),c=Object(i.a)(n.clientsPositions,1)[0],u=n.contexts,d=n.actions,p=this.state,b=p.context,f=(p.show_client_positions,p.rendered_contexts),x=p.contexts_props,T=[],q=[],I=[];return f.map((function(e){Z[e]&&e in x&&("marker"===x[e].element&&Array.isArray(x[e].elements)?q=q.concat(x[e].elements):"circle"===x[e].element&&Array.isArray(x[e].elements)?T=T.concat(x[e].elements):"polyline"===x[e].element&&Array.isArray(x[e].elements)&&(I=I.concat(x[e].elements)))})),Object(V.jsxs)(N.a,{elevation:0,sx:{},children:[Object(V.jsx)(C.a,{avatar:Object(V.jsx)(k.a,{sx:{backgroundColor:"rgba(0,0,0,0.05)",color:function(e){return e.palette.text.primary}},children:Object(V.jsx)(M.a,{})}),title:this.props.context?Z[this.props.context]?Z[this.props.context].label+" Map":"Map":"Map Overview",subheader:"Click on any context element in the map for more infomation on the context ",sx:{backgroundColor:function(e){return e.palette.background.default},borderBottom:function(e){return"1px solid ".concat(e.palette.divider)}},className:"border-b",action:Object(V.jsxs)("div",{children:[Array.isArray(d)&&d.map((function(e,t){var n=e.onClick,i=e.icon,r=Object(a.a)(e,X);return Object(V.jsx)(j.a,Object(l.a)(Object(l.a)({"aria-label":"Action",className:"mx-1 inverse-text translucent ",onClick:n,style:{backgroundColor:"rgba(0,0,0,0.05)"}},r),{},{children:i}),"action-button-"+t)})),Object(V.jsx)(j.a,{"aria-label":"menu",color:"secondary",className:"mx-1",title:"Toggle Map Overview Drawer Menu",onClick:this.toggleDrawer(!this.state.drawerOpen),sx:{backgroundColor:"rgba(0,0,0,0.05)",color:function(e){return e.palette.accent.main}},children:Object(V.jsx)(y.a,{path:w.f,rotate:this.state.drawerOpen?0:180,size:.8,color:"inherit"})})]})}),Object(V.jsxs)(S.a,{className:"p-0 m-0 overflow-x-hidden relative",children:[Object(V.jsx)(A.a,{className:"p-0 m-0",children:Object(V.jsx)(F.a,{xs:12,className:"m-0 p-0 flex relative",children:Object(V.jsx)("div",{className:"flex-grow p-0 transition-all",style:{minHeight:o.window_size.height,backgroundColor:r.palette.background.paper},ref:this.elementRef,children:Object(V.jsx)(G.a,{mapHeight:o.window_size.height,showClientsPositions:f.includes("clients_positions"),showCurrentPosition:!0,onLoadClientsPositions:this.handleOnClientsPositionsLoaded,onClientPositionAvailable:this.handleOnClientPositionAvailable,onClientPositionUnavailable:this.handleOnClientPositionUnavailable,onClientPositionChanged:this.handleOnClientPositionChanged,selectedEntry:this.state.context_entry,selectedEntryType:this.state.context_entry_type?this.state.context_entry_type:"clients_position",defaultZoom:this.state.defaultZoom,zoom:this.state.zoom,onMapLoad:this.handleOnLoadMap,polylines:I,markers:q,circles:T})})})}),Object(V.jsxs)(m.a,(e={variant:"persistent"},Object(s.a)(e,"variant","persistent"),Object(s.a)(e,"anchor","right"),Object(s.a)(e,"sx",Object(s.a)({},"& .MuiDrawer-paper",{width:Y.b,paddingTop:function(e){return e.spacing(1.5)},overflowX:"hidden",position:"absolute"})),Object(s.a)(e,"open",this.state.drawerOpen),Object(s.a)(e,"onClose",this.toggleDrawer(!1)),Object(s.a)(e,"onOpen",this.toggleDrawer(!0)),Object(s.a)(e,"children",[this.state.multicontexts&&Object(V.jsxs)(D.a,{value:b,onChange:this.handleOnDrawerNavigationValueChange,showLabels:!0,className:"w-full",children:[Object(V.jsx)(E.a,{value:"clients_positions",label:"Users",icon:Object(V.jsx)(y.a,{path:w.a,title:"Clients Postions Users",size:1})}),Object.entries(this.state.definations).map((function(e,t){var n=Object(i.a)(e,2),a=n[0],r=n[1];return Object(V.jsx)(E.a,{value:a,label:r.label,icon:r.icon},"googlemapview-btn-"+a+"-option")}))]}),"clients_positions"===b&&0===Object.size(c)&&Object(V.jsxs)(A.a,{children:[Object(V.jsx)(F.a,{xs:12,className:"flex items-center justify-center p-2",children:Object(V.jsx)(y.a,{path:w.e,title:"No Records available yet.",color:"#CCCCCC",size:5})}),Object(V.jsx)(F.a,{xs:12,className:"flex items-center justify-center p-2",children:Object(V.jsx)(P.a,{children:"No Records available yet."})})]}),"clients_positions"===b&&Object(V.jsx)(h.a,{className:"p-0",children:Object.entries(c).map((function(e,n){var a,r,o=Object(i.a)(e,2),s=o[0],l=o[1];return Object(V.jsxs)(v.a,{className:"cursor-pointer hover:bg-gray-400",onClick:t.handleClientListItemClick(s,l),children:[Object(V.jsx)(O.a,{children:Object(V.jsx)(k.a,{src:l.icon})}),Object(V.jsx)(g.a,{primary:l.title,secondary:String.isString(null===(a=l.user)||void 0===a?void 0:a.role)?null===(r=l.user)||void 0===r?void 0:r.role.humanize():""})]},"client-"+s)}))}),"commissions"===b&&Object(V.jsx)(H.a,{defination:Z.commissions,service:Q.a.getContextRequests(Z[b].endpoint),query:{},showViewOptions:!1,showAddBtn:!1,showSorter:!0,sorterFormLayoutType:"normal",view:"listview",onLoadData:function(e,n){Z[b]&&Function.isFunction(Z[b].views.listing.googlemapview.resolveData)&&Array.isArray(e)&&Z[b].views.listing.googlemapview.resolveData(e,!0).then((function(n){t.setState((function(t){var a,i=-1!==t.rendered_contexts.indexOf(b)?t.rendered_contexts:t.rendered_contexts.concat([b]);return a={context_entries:Array.isArray(e)?e:[],rendered_contexts:i,context_entry_type:Z[b].views.listing.googlemapview.type,context_entry:Array.isArray(e)&&e.length>0?0:void 0,contexts_props:Object(l.a)(Object(l.a)({},t.contexts_props),{},Object(s.a)({},b,Object(l.a)(Object(l.a)({},t.contexts_props[b]),{},{elements:n,element:Z[b].views.listing.googlemapview.type,loaded:!0}))),records:e},Object(s.a)(a,"rendered_contexts",i),Object(s.a)(a,"defination",Z[b]),Object(s.a)(a,"service",Q.a.getContextRequests(Z[b].endpoint)),a}))})).catch((function(n){t.setState((function(t){return{contexts_props:Object(l.a)(Object(l.a)({},t.contexts_props),{},Object(s.a)({},b,Object(l.a)(Object(l.a)({},t.contexts_props[b]),{},{elements:[],loaded:!0}))),records:e}}))}))},onClickEntry:this.handleContextEntryClick}),"tracks"===b&&Object(V.jsx)(H.a,{defination:Z.tracks,service:Q.a.getContextRequests(Z[b].endpoint),showViewOptions:!1,showAddBtn:!1,showSorter:!0,showPagination:!0,sorterFormLayoutType:"normal",view:"listview",onLoadData:function(e,n){Z[b]&&Function.isFunction(Z[b].views.listing.googlemapview.resolveData)&&Array.isArray(e)&&Z[b].views.listing.googlemapview.resolveData(e,!0).then((function(n){t.setState((function(t){var a,i=-1!==t.rendered_contexts.indexOf(b)?t.rendered_contexts:t.rendered_contexts.concat([b]);return a={context_entries:Array.isArray(e)?e:[],rendered_contexts:i,context_entry_type:Z[b].views.listing.googlemapview.type,context_entry:Array.isArray(e)&&e.length>0?0:void 0,contexts_props:Object(l.a)(Object(l.a)({},t.contexts_props),{},Object(s.a)({},b,Object(l.a)(Object(l.a)({},t.contexts_props[b]),{},{elements:n,element:Z[b].views.listing.googlemapview.type,loaded:!0}))),records:e},Object(s.a)(a,"rendered_contexts",i),Object(s.a)(a,"defination",Z[b]),Object(s.a)(a,"service",Q.a.getContextRequests(Z[b].endpoint)),a}))})).catch((function(n){t.setState((function(t){return{contexts_props:Object(l.a)(Object(l.a)({},t.contexts_props),{},Object(s.a)({},b,Object(l.a)(Object(l.a)({},t.contexts_props[b]),{},{elements:[],loaded:!0}))),records:e}}))}))},onClickEntry:this.handleContextEntryClick})]),e))]}),Object(V.jsx)(_.a,{children:Object(V.jsxs)(A.a,{className:"p-0 m-0",children:[Array.isArray(u)&&u.map((function(e,n){return Object(V.jsx)(F.a,{xs:12,md:Math.round(12/u.length),className:"flex items-center justify-center",children:Object(V.jsx)(K.m,{label:"clients_positions"===e?"Users":Z[e]?Z[e].label:e,value:t.state.rendered_contexts.includes(e),onChange:function(n){t.handleToggleContextRender(e,n)}})},"context_entry_switch-"+n)})),Object(V.jsx)(F.a,{xs:12,children:Object(V.jsx)(P.a,{variant:"body2",children:this.props.context&&Z[this.props.context]?Z[this.props.context].label+" Map from a glance":"Map from a glance"})})]})})]})}}]),n}(R.a.Component);ee.defaultProps={contexts:["clients_positions","commissions","tracks"],context:"clients_positions",actions:[]};t.default=U()(Object(L.b)((function(e){return{app:e.app,auth:e.auth,cache:e.cache,device:e.device}}),{apiCallRequest:z.hb,closeDialog:z.lb,openDialog:z.ub}),T.a,J)(ee)},78:function(e,t,n){"use strict";var a=n(2),i=n(4),r=n(15),o=n(1),s=n.n(o),l=n(784),c=n(24),u=n(66),d=n.n(u),p=n(0),b=["classes","className","color","textColor","children"],f=function(e){e.classes;var t=e.className,n=e.color,o=e.textColor,s=e.children,c=Object(r.a)(e,b),u=d()(Object(i.a)({},t,t));return Object(p.jsx)(l.a,Object(a.a)(Object(a.a)({className:u,style:{backgroundColor:n+" !important",color:o+" !important"}},c),{},{children:s}))};f.defaultProps={color:c.b.hex.primary,textColor:c.b.hex.inverse},t.a=s.a.memo(f)},790:function(e,t,n){"use strict";var a=n(2),i=n(6),r=n(784),o=n(1804),s=n(1805),l=n(1806),c=n(84),u=n(13),d=n(7),p=(n(213),n(177)),b=(n(1),n(18)),f=n(48),j=n.n(f),m=n(35),h=n(232),v=n(17),g=n(0),O=["female","female_1","female_2","female_3","female_4","female_5","female_6","male","male_1","male_2","male_3","male_4","male_5","male_6","them_1","them_2","them_3"];t.a=j()(Object(b.b)((function(e){return{auth:e.auth}}),{updateCurrentUser:h.f}))((function(e){var t,n,b,f,j,h,x,y,w,k,N=e.auth,_=e.updateCurrentUser,S=Object(v.k)({src:m.a.getAttachmentFileUrl(null===(t=N.user)||void 0===t?void 0:t.avatar),fallback:m.a.endpoint("/public/img/avatars/".concat(null===(n=N.user)||void 0===n?void 0:n.icon,".png"))}),C=Object(i.a)(S,2),A=C[0],F=C[1].ref;return Object(g.jsxs)(u.a,{children:[Object(g.jsx)(d.a,{xs:12,children:Object(g.jsxs)("div",{className:"max-w-4xl flex items-center h-auto flex-wrap mx-auto my-32 lg:my-0",children:[Object(g.jsx)(c.a,{className:"w-full lg:w-3/5 rounded-lg lg:rounded-l-lg lg:rounded-r-none  mx-6 lg:mx-0",children:Object(g.jsxs)("div",{className:"p-4 md:p-12 text-center lg:text-left",children:[Object(g.jsx)("img",{src:A,className:"block lg:hidden rounded-full mx-auto -mt-16 h-48 w-48 bg-cover bg-center"}),Object(g.jsx)("h1",{className:"text-3xl pt-8 lg:pt-0",children:(null===(b=N.user)||void 0===b?void 0:b.first_name)+" "+(null===(f=N.user)||void 0===f?void 0:f.last_name)}),Object(g.jsx)("p",{className:"text-sm",children:Object(g.jsx)(p.a,{color:"online"===(null===(j=N.user)||void 0===j?void 0:j.presence)?"#00796b":"away"===(null===(h=N.user)||void 0===h?void 0:h.presence)?"#b88d00":"#5C5C5C",text:null===(x=N.user)||void 0===x?void 0:x.presence})}),Object(g.jsx)("div",{className:"mx-auto lg:mx-0 w-4/5 pt-3 border-b-2 border-grey-500 opacity-25"}),Object(g.jsxs)("p",{className:"flex items-center justify-center lg:justify-start",children:[Object(g.jsx)(o.a,{className:"mr-4"})," ",null===(y=N.user)||void 0===y?void 0:y.role]}),Object(g.jsxs)("p",{className:"flex items-center justify-center lg:justify-start",children:[Object(g.jsx)(s.a,{className:"mr-4"})," ",null===(w=N.user)||void 0===w?void 0:w.email_address]}),Object(g.jsxs)("p",{className:"flex items-center justify-center lg:justify-start",children:[Object(g.jsx)(l.a,{className:"mr-4"})," ",null===(k=N.user)||void 0===k?void 0:k.phone_number]})]})}),Object(g.jsx)("img",{src:A,ref:F,className:"rounded-none lg:rounded-lg shadow-xl hidden lg:w-2/5 lg:block",style:{height:"50vh"}})]})}),Object(g.jsx)(d.a,{xs:12,className:"",children:Object(g.jsxs)(c.a,{className:"w-full rounded-lg lg:rounded-l-lg lg:rounded-r-none p-4  mx-6 lg:mx-0",children:[Object(g.jsx)(d.a,{xs:12,children:Object(g.jsx)("h1",{className:"text-xl pt-8 lg:pt-0",children:"Preffered Icon"})}),Object(g.jsx)(d.a,{xs:12,className:"inline-flex flex-wrap flex-row items-center",children:O.map((function(e){var t;return(null===(t=N.user)||void 0===t?void 0:t.icon)===e?Object(g.jsx)(r.a,{className:"m-2 h-20 w-20 border-2 border-green-600",src:m.a.endpoint("/public/img/avatars/".concat(e,".png")),alt:e},e):Object(g.jsx)(r.a,{className:"m-2 h-16 w-16 cursor-pointer",src:m.a.endpoint("/public/img/avatars/".concat(e,".png")),alt:e,onClick:function(){_(Object(a.a)(Object(a.a)({},N.user),{},{icon:e}))}},e)}))})]})})]})}))},832:function(e,t,n){"use strict";(function(e){var a=n(5),i=n.n(a),r=n(10),o=n(11),s=n(12),l=function(){function t(){Object(o.a)(this,t)}return Object(s.a)(t,null,[{key:"removeEventListener",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(String.isString(t)){var i=e&&Function.isFunction(e.removeEventListener);i&&e.removeEventListener(t,n,a)}}},{key:"addEventListener",value:function(n,a){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e&&Function.isFunction(e.addEventListener);return String.isString(n)&&Function.isFunction(a)&&r?(e.addEventListener(n,a,i),-1===t._RegisteredEvents.indexOf(n)&&t._RegisteredEvents.push(n),{name:n,remove:function(){t.removeEventListener(n,a,i)}}):{id:null,remove:function(){}}}},{key:"removeAllListeners",value:function(){Array.isArray(t._RegisteredEvents)&&(t._RegisteredEvents.forEach((function(e){t.removeEventListener(e)})),t._RegisteredEvents=[])}},{key:"emitEvent",value:function(){var t=Object(r.a)(i.a.mark((function t(n){var a,r=arguments;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=r.length>1&&void 0!==r[1]?r[1]:{};try{e&&e.dispatchEvent&&e.dispatchEvent(new CustomEvent(n,{detail:a}))}catch(error){console.error("emitEvent error",error)}case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"on",value:function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.addEventListener(e,n,a)}},{key:"rm",value:function(e){return t.removeEventListener(e)}},{key:"off",value:function(e){return t.removeEventListener(e)}},{key:"rmAll",value:function(){return t.removeAllListeners()}},{key:"emit",value:function(e,n){t.emitEvent(e,n)}},{key:"dispatchEvent",value:function(e,n){t.emitEvent(e,n)}}]),t}();l._RegisteredEvents=[],l._RegisteredListeners={},t.a=l}).call(this,n(125))},833:function(e,t,n){"use strict";var a=n(2),i=n(15),r=(n(1),n(66),n(1813)),o=n(24),s=n(0),l=["children"];function c(e){var t=e.children,n=Object(i.a)(e,l);return Object(s.jsx)(r.a,Object(a.a)(Object(a.a)({},n),{},{children:t}))}c.defaultProps={color:o.b.hex.primary,textColor:o.b.hex.inverse,position:"top-right"},t.a=c},84:function(e,t,n){"use strict";var a=n(2),i=n(15),r=n(1821),o=(n(66),n(1)),s=n.n(o),l=n(0),c=["children"],u=s.a.forwardRef((function(e,t){var n=e.children,o=Object(i.a)(e,c);return Object(l.jsx)(r.a,Object(a.a)(Object(a.a)({ref:t},o),{},{children:n}))}));t.a=u},86:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return u}));var a=n(2),i=n(15),r=(n(1),n(0)),o=["children"],s=function(e){var t=e.children,n=Object(i.a)(e,o);return Object(r.jsx)("div",Object(a.a)(Object(a.a)({},n),{},{children:t}))},l=function(){},c=function(){return Object(r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"gray",width:"18px",height:"18px",children:[Object(r.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),Object(r.jsx)("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"})]})},u=function(e){return function(t){var n=t.config.settings.useConfirm,i=n?n():null;return Object(r.jsx)(e,Object(a.a)(Object(a.a)({},t),{},{confirmFn:i}))}}},87:function(e,t,n){"use strict";var a=n(1105),i=n(27),r=function(){var e;function t(){var e=i.g.api,t={transports:["websocket"]};"production"===i.n&&(t.secure=!0);return Object(a.a)(e,t)}return{getInstance:function(){return e||(e=t()),e},createInstance:t}}().getInstance();t.a=r},913:function(e,t,n){"use strict";(function(e){n(6),n(576),n(577)}).call(this,n(125))},92:function(e,t,n){"use strict";n.r(t),n.d(t,"defaultField",(function(){return u})),n.d(t,"defaultOperator",(function(){return d})),n.d(t,"defaultOperatorOptions",(function(){return p})),n.d(t,"defaultRuleProperties",(function(){return b})),n.d(t,"defaultGroupConjunction",(function(){return f})),n.d(t,"defaultConjunction",(function(){return j})),n.d(t,"defaultGroupProperties",(function(){return m})),n.d(t,"defaultItemProperties",(function(){return h})),n.d(t,"defaultRule",(function(){return v})),n.d(t,"defaultRoot",(function(){return g}));var a=n(2),i=n(4),r=n(49),o=n.n(r),s=n(132),l=n(33),c=n(59),u=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return"function"===typeof e.settings.defaultField?e.settings.defaultField(n):e.settings.defaultField||(t?Object(c.e)(e,n):null)},d=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Object(l.getFieldConfig)(e,t),i=a&&a.operators||[],r=a&&a.defaultOperator;i.includes(r)||(r=null),!r&&n&&(r=Object(c.f)(e,t));var o="function"===typeof e.settings.defaultOperator?e.settings.defaultOperator(t,a):r;return o},p=function(e,t,n){var a=t?Object(l.getOperatorConfig)(e,t,n):null;return a&&a.options?new o.a.Map(a.options&&a.options.defaults||{}):null},b=function(e){var t,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=null,s=null,l=e.settings,b=l.setDefaultFieldAndOp,f=l.showErrorMessage;i?(r=null===i||void 0===i||null===(t=i.properties)||void 0===t?void 0:t.field,s=null===i||void 0===i||null===(n=i.properties)||void 0===n?void 0:n.operator):b&&(r=u(e,!0,a),s=d(e,r));var j=new o.a.Map({field:r,operator:s,value:new o.a.List,valueSrc:new o.a.List,operatorOptions:p(e,s,r)});if(f&&(j=j.set("valueError",new o.a.List)),r&&s){var m=Object(c.h)(e,e,j,r,s,"operator",!1),h=m.newValue,v=m.newValueSrc,g=m.newValueType,O=m.newValueError;j=j.set("value",h).set("valueSrc",v).set("valueType",g),f&&(j=j.set("valueError",O))}return j},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=(t=Object(l.getFieldConfig)(e,t))&&t.conjunctions||Object.keys(e.conjunctions);return 1==n.length?n[0]:e.settings.defaultGroupConjunction||e.settings.defaultConjunction||n[0]},j=function(e){return e.settings.defaultConjunction||Object.keys(e.conjunctions)[0]},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new o.a.Map({conjunction:f(e,t),not:!1})},h=function(e,t){var n;return t&&"group"==t.type?m(e,null===t||void 0===t||null===(n=t.properties)||void 0===n?void 0:n.field):b(e,null,t)},v=function(e,t){return Object(i.a)({},e,new o.a.Map({type:"rule",id:e,properties:b(t)}))},g=function(e){return e.tree?new o.a.Map(e.tree):new o.a.Map({type:"group",id:Object(s.a)(),children1:new o.a.OrderedMap(Object(a.a)({},v(Object(s.a)(),e))),properties:m(e)})}},93:function(e,t,n){"use strict";n.d(t,"n",(function(){return Le})),n.d(t,"i",(function(){return Be})),n.d(t,"f",(function(){return et})),n.d(t,"b",(function(){return pt})),n.d(t,"l",(function(){return bt})),n.d(t,"c",(function(){return ft})),n.d(t,"p",(function(){return jt})),n.d(t,"a",(function(){return mt})),n.d(t,"k",(function(){return ht})),n.d(t,"o",(function(){return vt})),n.d(t,"h",(function(){return gt})),n.d(t,"j",(function(){return Ot})),n.d(t,"e",(function(){return xt})),n.d(t,"g",(function(){return yt})),n.d(t,"m",(function(){return wt})),n.d(t,"d",(function(){return kt}));var a=n(2),i=n(5),r=n.n(i),o=n(10),s=n(6),l=n(15),c=n(1),u=n.n(c),d=n(1820),p=n(1824),b=n(2045),f=n(2016),j=n(2032),m=n(190),h=n(2020),v=n(2031),g=n(1911),O=n(2051),x=n(2028),y=n(2011),w=n(2062),k=n(1434),N=n(1803),_=n(370),S=n(11),C=n(12),A=n(19),F=n(20),P=n(84),D=n(230),E=n(231),T=n(26),q=n(45),M=n(4),I=n(31),R=n(2050),L=n(1116),z=n(1122),V=n(786),W=n(1826),J=n(1117),B=n(656),U=n(1107),G=n(2046),H=n(2024),K=n(387),Y=n.n(K),Q=n(376),Z=n.n(Q),X=n(375),$=n.n(X),ee=n(238),te=n.n(ee),ne=n(617),ae=n.n(ne),ie=n(66),re=n.n(ie),oe=n(61),se=n(13),le=n(7),ce=n(0),ue=["type","size","value","defaultValue"],de=function(e){Object(A.a)(n,e);var t=Object(F.a)(n);function n(e){var i,r;Object(S.a)(this,n),(r=t.call(this,e)).state={contextDialogOpen:!1,expandedGroups:[],addContextMenuAnchor:null,inputMenuAnchor:null,context:{},active:!1},r.input_types={text:"Text",date:"Date",datetime:"Date & Time",time:"Time",number:"Number",email:"Email",textarea:"Textarea",radio:"Radio",password:"Password",checkbox:"Checkbox",select:"Select",transferlist:"Transferlist",file:"File",wysiwyg:"WYSIWYG",map:"Map"},r.handleOnItemMove=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){r.props.onChange;var a=t||r.state.context;if(JSON.isJSON(a)){var i=JSON.positionOfKey(r.state.value,a.name);if(["up","prev","minus"].includes(e)){if(i>0){var o=JSON.moveKey(r.state.value,a.name,i-1);r.setState({value:o,addContextMenuAnchor:null,inputMenuAnchor:null},(function(){r.triggerOnChange(o)}))}}else if(["down","next","plus"].includes(e)&&i<Object.size(r.state.value)-1){var s=JSON.moveKey(r.state.value,a.name,i+1);r.setState({value:s,addContextMenuAnchor:null,inputMenuAnchor:null},(function(){r.triggerOnChange(s)}))}}}},r.handleOnAddMenuOpen=function(e){var t=e.currentTarget;r.setState({active:!0,addContextMenuAnchor:t})},r.handleOnInputMenuOpen=function(e){return function(t){var n=t.currentTarget;r.setState({active:!0,inputMenuAnchor:n,context:e})}},r.handleOnInputItemClick=function(e){return function(t){var n;r.setState((n={active:!0,inputMenuAnchor:null,context:e,addContextMenuAnchor:null},Object(M.a)(n,"inputMenuAnchor",null),Object(M.a)(n,"contextDialogOpen",!0),n))}},r.handleOnGroupContextExpand=function(e){return function(t){r.setState((function(t){return{expandedGroups:[e],inputMenuAnchor:null}}))}},r.handleOnGroupContextCollapse=function(e){return function(t){r.setState((function(t){return{expandedGroups:t.expandedGroups.removeItem(e),inputMenuAnchor:null}}))}},r.handleOnAddContextClick=function(e,t){return function(n){if("group"===e&&(r.state.enableGrouping||r.state.defination.enableGrouping)){var a={type:e,size:"12",multientries:!0,joinedfields:!1,fields:[]};r.setState({active:!0,context:a,addContextMenuAnchor:null,inputMenuAnchor:null,contextDialogOpen:!0})}else{var i={type:"field",group:!1,input:{type:"text",size:12,props:{},required:!1,disabled:!1}};t&&(i.group=t),r.setState({active:!0,context:i,addContextMenuAnchor:null,inputMenuAnchor:null,contextDialogOpen:!0})}}},r.handleOnEditContextClick=function(e){r.setState({active:!0,addContextMenuAnchor:null,inputMenuAnchor:null,contextDialogOpen:!0})},r.handleContextSave=function(e){var t=r.state,n=t.context,a=(t.value,r.state);if(Object.size(n)>0)if("field"===n.type)n.input||(n.input={type:"text",size:"12",props:{},required:!1,disabled:!1,group:!1}),n.group&&n.group in a.value?("value"in n&&delete n.value,r.setState({value:a.nextValue,context:{},addContextMenuAnchor:null,contextDialogOpen:!1},(function(){r.triggerOnChange()}))):r.setState({value:a.nextValue,context:{},addContextMenuAnchor:null,contextDialogOpen:!1},(function(){r.triggerOnChange()}));else{n.fields||(n.fields=[]),n.size||(n.size="12");var i=r.state.nextValue;r.setState({value:i,context:{},addContextMenuAnchor:null,contextDialogOpen:!1}),r.triggerOnChange(i)}else r.setState({context:{},addContextMenuAnchor:null,contextDialogOpen:!1})},r.handleContextRemove=function(e){var t=r.state,n=t.value,a=t.context,i=a.type,o=a.name,s=a.group;"group"===i?(delete n[o],r.setState({value:n,addContextMenuAnchor:null,inputMenuAnchor:null}),r.triggerOnChange(n)):"field"===i&&(s?n[s].value=n[s].fields.map((function(e,t){if(e.name!==o)return e})):delete n[o],r.setState({value:n,addContextMenuAnchor:null,inputMenuAnchor:null}),r.triggerOnChange(n))};var o=e.value,s=e.onChange,l=e.name,c=e.readOnly,u=e.required,d=e.disabled,p=e.helperText,b=e.enableGrouping,f=e.appendProps;return r.state=Object(a.a)(Object(a.a)({},r.state),{},(i={value:o,nextValue:o},Object(M.a)(i,"value",o),Object(M.a)(i,"onChange",s),Object(M.a)(i,"name",l),Object(M.a)(i,"readOnly",c),Object(M.a)(i,"required",u),Object(M.a)(i,"disabled",d),Object(M.a)(i,"helperText",p),Object(M.a)(i,"enableGrouping",b),Object(M.a)(i,"appendProps",f),i)),r.handleOnItemMove=r.handleOnItemMove.bind(Object(I.a)(r)),r.handleOnAddContextClick=r.handleOnAddContextClick.bind(Object(I.a)(r)),r.handleOnEditContextClick=r.handleOnEditContextClick.bind(Object(I.a)(r)),r.handleContextSave=r.handleContextSave.bind(Object(I.a)(r)),r.handleContextRemove=r.handleContextRemove.bind(Object(I.a)(r)),r.handleAddContextDialogClose=r.handleAddContextDialogClose.bind(Object(I.a)(r)),r.onContextParamsChange=r.onContextParamsChange.bind(Object(I.a)(r)),r.handleOnAddMenuOpen=r.handleOnAddMenuOpen.bind(Object(I.a)(r)),r.handleOnAddMenuClose=r.handleOnAddMenuClose.bind(Object(I.a)(r)),r.handleOnInputMenuOpen=r.handleOnInputMenuOpen.bind(Object(I.a)(r)),r.handleOnInputItemClick=r.handleOnInputItemClick.bind(Object(I.a)(r)),r.handleOnInputMenuClose=r.handleOnInputMenuClose.bind(Object(I.a)(r)),r.handleOnGroupContextExpand=r.handleOnGroupContextExpand.bind(Object(I.a)(r)),r.handleOnGroupContextCollapse=r.handleOnGroupContextCollapse.bind(Object(I.a)(r)),r}return Object(C.a)(n,[{key:"getSnapshotBeforeUpdate",value:function(e){return{refreshRequired:!Object.areEqual(e,this.props)}}},{key:"componentDidUpdate",value:function(e,t,n){var a=this.props,i=a.value,r=a.onChange,o=a.name,s=a.readOnly,l=a.required,c=a.disabled,u=a.helperText,d=a.enableGrouping,p=a.appendProps;n.refreshRequired&&this.setState((function(e){return{value:i,onChange:r,name:o,readOnly:s,required:l,disabled:c,helperText:u,enableGrouping:d,appendProps:p}}))}},{key:"handleOnAddMenuClose",value:function(){this.setState({active:!1,addContextMenuAnchor:null})}},{key:"handleOnInputMenuClose",value:function(){this.setState({active:!1,inputMenuAnchor:null,context:{}})}},{key:"triggerOnChange",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.props.onChange;Function.isFunction(t)&&(e||(e=this.state.value),t(e))}},{key:"onContextParamsChange",value:function(e,t){var n=this,a=JSON.parse(JSON.stringify(this.state.context)),i=JSON.parse(JSON.stringify(this.state.value));if("name"==e){a.label=t,t=t.variablelize(),a.name=t;var r,o=this.getAppendableProps(a),s=Object(q.a)(o);try{for(s.s();!(r=s.n()).done;){var l=r.value;l.name in a||(a[l.name]=JSON.isJSON(l.input)?l.input.value?l.input.value:l.input.defaultValue:void 0)}}catch(m){s.e(m)}finally{s.f()}if(t!==this.state.context.name)if(this.state.context.group){var c=i[this.state.context.group],u=[a];c&&(Array.isArray(c.fields)&&(u=c.fields.map((function(e,t){return e.name!==n.state.context.name?e:a}))),c.fields=u),i[this.state.context.group]=c}else{var d=JSON.positionOfKey(i,this.state.context.name);-1!==d?(delete i[this.state.context.name],i[t]=a,i=JSON.moveKey(i,t,d)):i[t]=a}else if(this.state.context.group){var p=i[this.state.context.group],b=[a];p&&(Array.isArray(p.fields)&&(b=p.fields.map((function(e,t){return e.name!==n.state.context.name?e:a}))),p.fields=b),i[this.state.context.group]=p}else i[t]=a}else if(a[e]=t,this.state.context.group){var f=i[this.state.context.group],j=[a];f&&(Array.isArray(f.fields)&&(j=f.fields.map((function(e,t){return e.name!==n.state.context.name?e:a}))),f.fields=j),i[this.state.context.group]=f}else i[t]=a;this.setState((function(e){return{context:a,nextValue:i}}))}},{key:"handleAddContextDialogClose",value:function(){this.setState({contextDialogOpen:!1})}},{key:"renderInputsDefination",value:function(){var e=this,t=this.state,n=t.value,i=(t.disabled,t.readOnly,t.context),r=t.inputMenuAnchor;return Object(ce.jsxs)(se.a,{className:"m-0 p-1",children:[Object.entries(n).map((function(t,i){var r=Object(s.a)(t,2),o=r[0],l=r[1];return Object(ce.jsxs)(le.a,{className:"m-0 p-1 rounded hover:bg-gray-200",xs:12,md:"field"===l.type?l.input.size?Number.parseNumber(l.input.size):12:l.size?Number.parseNumber(l.size):12,children:["field"===l.type&&Object(ce.jsxs)("div",{children:[Object(ce.jsx)("div",{children:Object(ce.jsxs)(se.a,{className:"m-0",children:[Object(ce.jsx)(le.a,{xs:12,className:"m-0 p-0",children:Object(ce.jsx)(T.a,{variant:"body1",className:"cursor-pointer truncate hover:text-blue-600",onClick:e.handleOnInputItemClick(Object(a.a)({name:o},l)),children:(l.input&&l.input.multiple?"[":"")+l.label+(l.input&&l.input.required?"*":"")+(l.input&&l.input.multiple?"]":"")})}),Object(ce.jsx)(le.a,{xs:12,className:"m-0 p-0",children:Object(ce.jsxs)(T.a,{variant:"body2",color:"grey",className:"w-full truncate",children:[" ",l.input&&l.input.type in e.input_types?e.input_types[l.input.type]:"Field"," "]})})]})}),Object(ce.jsxs)("div",{children:["group"===l.type&&Object(ce.jsx)(B.a,{fontSize:"small",onClick:e.state.expandedGroups.includes(o)?e.handleOnGroupContextCollapse(o):e.handleOnGroupContextExpand(o),"aria-label":"menu-icon",children:Object(ce.jsx)(te.a,{className:"text-lg"})}),0!==JSON.positionOfKey(n,o)&&Object(ce.jsx)(B.a,{size:"small",onClick:e.handleOnItemMove("up",Object(a.a)({name:o},l)),"aria-label":"menu-icon",children:Object(ce.jsx)($.a,{className:"text-lg"})}),JSON.positionOfKey(n,o)<Object.size(n)-1&&Object(ce.jsx)(B.a,{size:"small",onClick:e.handleOnItemMove("down",Object(a.a)({name:o},l)),"aria-label":"menu-icon",children:Object(ce.jsx)(Z.a,{className:"text-lg"})}),Object(ce.jsx)(B.a,{size:"small",onClick:e.handleOnInputMenuOpen(Object(a.a)({name:o},l)),"aria-label":"menu-icon",children:Object(ce.jsx)(ae.a,{className:"text-lg"})})]})]}),"group"===l.type&&Object(ce.jsxs)("div",{className:"w-full p-1",children:[Object(ce.jsxs)("div",{className:" m-0",children:[Object(ce.jsx)("div",{children:Object(ce.jsxs)(se.a,{className:"m-0 p-0",children:[Object(ce.jsx)(le.a,{xs:12,className:"m-0 p-0",children:Object(ce.jsx)(T.a,{variant:"body1",className:"cursor-pointer truncate hover:text-blue-600",onClick:e.handleOnInputItemClick(Object(a.a)({name:o},l)),children:l.label})}),Object(ce.jsx)(le.a,{xs:12,className:"m-0 p-0",children:Object(ce.jsxs)(T.a,{variant:"body2",color:"grey",className:"w-full truncate",children:[" ","Group"," "]})})]})}),Object(ce.jsxs)("div",{children:[Object(ce.jsx)(B.a,{size:"small",onClick:e.state.expandedGroups.includes(o)?e.handleOnGroupContextCollapse(o):e.handleOnGroupContextExpand(o),"aria-label":"menu-icon",children:Object(ce.jsx)(te.a,{className:"text-lg"})}),0!==JSON.positionOfKey(n,o)&&Object(ce.jsx)(B.a,{size:"small",onClick:e.handleOnItemMove("up",Object(a.a)({name:o},l)),"aria-label":"menu-icon",children:Object(ce.jsx)($.a,{className:"text-lg"})}),JSON.positionOfKey(n,o)<Object.size(n)-1&&Object(ce.jsx)(B.a,{size:"small",onClick:e.handleOnItemMove("down",Object(a.a)({name:o},l)),"aria-label":"menu-icon",children:Object(ce.jsx)(Z.a,{className:"text-lg"})}),Object(ce.jsx)(B.a,{size:"small",onClick:e.handleOnInputMenuOpen(Object(a.a)({name:o},l)),"aria-label":"menu-icon",children:Object(ce.jsx)(ae.a,{className:"text-lg"})})]})]}),Object(ce.jsx)(se.a,{className:"m-0 p-0"+(e.state.expandedGroups.includes(o)?"":"hidden"),children:Object(ce.jsx)(le.a,{xs:12,className:"m-0 p-0 px-4",children:Object(ce.jsx)(R.a,{in:e.state.expandedGroups.includes(o),timeout:"auto",children:Object(ce.jsx)(se.a,{children:Array.isArray(l.fields)&&l.fields.map((function(t,n){return Object(ce.jsxs)(le.a,{xs:12,md:t.input.size?Number.parseNumber(t.input.size):12,className:"m-0 p-0",children:[Object(ce.jsx)("div",{children:Object(ce.jsxs)(se.a,{className:"m-0",children:[Object(ce.jsx)(le.a,{xs:12,className:"m-0 p-0",children:Object(ce.jsx)(T.a,{variant:"body1",fullWidth:!0,children:(t.input&&t.input.multiple?"[":"")+t.label+(t.input&&t.input.required?"*":"")+(t.input&&t.input.multiple?"]":"")})}),Object(ce.jsx)(le.a,{xs:12,className:"m-0 p-0",children:Object(ce.jsxs)(T.a,{variant:"body2",color:"grey",fullWidth:!0,children:[" ",t.input&&t.input.type in e.input_types?e.input_types[t.input.type]:"Field"," "]})})]})}),Object(ce.jsx)("div",{children:Object(ce.jsx)(B.a,{size:"small",onClick:e.handleOnInputMenuOpen(t),"aria-label":"menu-icon",children:Object(ce.jsx)(ae.a,{className:"text-lg"})})})]},"group-field-"+n)}))})})})})]})]},"field-"+i)})),Object(ce.jsxs)(U.a,{id:"input-menu",anchorEl:r,keepMounted:!0,open:Boolean(r),onClose:this.handleOnInputMenuClose,children:["group"===i.type&&Object(ce.jsxs)(G.a,{onClick:this.handleOnAddContextClick("field",i.name),children:[" ","New Field"," "]}),"group"===i.type&&Object(ce.jsxs)(G.a,{onClick:this.state.expandedGroups.includes(i.name)?this.handleOnGroupContextCollapse(i.name):this.handleOnGroupContextExpand(i.name),children:[" ",this.state.expandedGroups.includes(i.name)?"Collapse":"Expand"," "]}),Object(ce.jsxs)(G.a,{onClick:this.handleOnEditContextClick,children:[" ","Edit"," "]}),0!==JSON.positionOfKey(n,i.name)&&Object(ce.jsxs)(G.a,{onClick:this.handleOnItemMove("up"),children:[" ","Move Up"," "]}),JSON.positionOfKey(n,i.name)<Object.size(n)-1&&Object(ce.jsxs)(G.a,{onClick:this.handleOnItemMove("down"),children:[" ","Move Down"," "]}),Object(ce.jsxs)(G.a,{onClick:this.handleContextRemove,children:[" ","Delete"," "]})]})]})}},{key:"renderInputs",value:function(){return Object(ce.jsx)(se.a,{className:"p-0 m-0",children:this.renderInputsDefination()})}},{key:"renderGroupContextDefination",value:function(){var e=this,t=this.state.context;return Object(ce.jsxs)(se.a,{className:"p-0 m-0",children:[Object(ce.jsx)(le.a,{xs:12,children:Object(ce.jsx)(Le,{autoFocus:!0,variant:"outlined",defaultValue:t.label,onChange:function(t){String.isString(t)&&t.trim().length>0&&e.onContextParamsChange("name",t)},label:"Group Name",type:"text",fullWidth:!0,required:!0,validate:!0})}),Object(ce.jsx)(le.a,{xs:12,children:Object(ce.jsx)(Ot,{textFieldProps:{label:"Size",InputLabelProps:{shrink:!0},variant:"outlined",required:!0},onChange:function(t){String.isString(t)&&t.trim().length>0&&e.onContextParamsChange("size",t)},options:{12:"100%",10:"5/6",8:"2/3",6:"1/2",4:"1/3",3:"1/4",2:"1/6"},value:t.input&&["12","10","8","6","4","2"].includes(t.input.size)?t.input.size:"12",placeholder:"Select Size"})}),Object(ce.jsx)(le.a,{xs:12,children:Object(ce.jsx)(mt,{label:"Joined Fields",checked:!!t.joinedfields,onChange:function(t){e.onContextParamsChange("joinedfields",t)},color:"primary"})}),Object(ce.jsx)(le.a,{xs:12,children:Object(ce.jsx)(mt,{checked:!!t.multientries,onChange:function(t){e.onContextParamsChange("multientries",t)},color:"primary",label:"Multi Entries"})})]})}},{key:"mapInputPropsDefinationHelper",value:function(){var e=this,t=this.state.context,n=t.input&&t.input.props&&t.input.props.type?t.input.props.type:void 0;return Object(ce.jsx)(se.a,{className:"p-0 m-0",children:Object(ce.jsx)(le.a,{xs:12,children:Object(ce.jsx)(Ot,{textFieldProps:{label:"Type",InputLabelProps:{shrink:!0},variant:"outlined",required:!0},onChange:function(n){String.isString(n)&&n.trim().length>0&&e.onContextParamsChange("input",t.input?Object(a.a)(Object(a.a)({},t.input),{},{props:t.input.props?Object(a.a)(Object(a.a)({},t.input.props),{},{type:n}):{type:n}}):{type:"text",size:12,props:{type:n},required:!1,disabled:!1})},options:{coordinates:"Coordinates",address:"Address"},value:["coordinates","address"].includes(n)?n:"coordinates",placeholder:"Select Map data type"})})})}},{key:"inputDefaultValueDefinationHelper",value:function(){var e=this,t=this.state.context;return Object(ce.jsxs)(se.a,{className:"p-0 m-0 mb-4",children:[["select","transferlist","radio","checkbox"].includes(t.input?t.input.type:void 0)&&Object(ce.jsx)(le.a,{xs:12,className:"p-0 m-0",children:Object(ce.jsx)(Ot,{textFieldProps:{label:"Default Value",InputLabelProps:{shrink:!0},variant:"outlined",required:!0},onChange:function(n){e.onContextParamsChange("input",t.input?Object(a.a)(Object(a.a)({},t.input),{},{default:n}):{default:n})},options:t.possibilities,value:t.input&&t.input.default?t.input.default:void 0,placeholder:"Select Default"})}),!["select","transferlist","multiselect","radio","checkbox","map"].includes(t.input?t.input.type:void 0)&&Object(ce.jsx)(le.a,{xs:12,className:"p-0 m-0",children:Object(ce.jsx)(Le,{onChange:function(n){n.trim().length>0&&e.onContextParamsChange("input",t.input?Object(a.a)(Object(a.a)({},t.input),{},{default:n}):{default:n})},label:"Default",type:"text",fullWidth:!0})}),["map"].includes(t.input?t.input.type:void 0)&&!!t.input&&!!t.input.props&&!!t.input.props.type&&t.input.props.type&&Object(ce.jsx)(le.a,{xs:12,className:"p-0 m-0",children:Object(ce.jsx)(yt,{onChange:function(n){n.trim().length>0&&e.onContextParamsChange("input",t.input?Object(a.a)(Object(a.a)({},t.input),{},{default:n}):{default:n})},label:"Default",type:t.input.props.type,fullWidth:!0})})]})}},{key:"inputPossibilitiesDefinationHelper",value:function(){var e=this,t=this.state.context;return Object(ce.jsx)(se.a,{className:"p-0 m-0",children:["select","transferlist","radio","checkbox"].includes(t.input?t.input.type:void 0)&&Object(ce.jsx)(le.a,{xs:12,children:Object(ce.jsx)(Le,{variant:"outlined",onChange:function(t){var n={};t.split(",").map((function(e,t){e.length>0&&(n[e.variablelize()]=e.trim())})),Object.keys(n).length>0&&e.onContextParamsChange("possibilities",n)},label:"Options",defaultValue:t.possibilities?Object.values(t.possibilities).join(", "):"",type:"text",multiline:!0,rows:3,helperText:"Enter options each separated by a comma (,)",fullWidth:!0})})})}},{key:"getAppendableProps",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.state.appendProps;e||(e=this.state.context);var n=[];return JSON.isJSON(t)&&(e.name in t?Array.isArray(t[e.name])?n=n.concat(t[e.name]):JSON.isJSON(t[e.name])&&(n=n.concat([t[e.name]])):e.type in t&&(Array.isArray(t[e.type])?n=n.concat(t[e.type]):JSON.isJSON(t[e.type])&&(n=n.concat([t[e.type]])))),n}},{key:"appendPropsDefinationHelper",value:function(){var e=this,t=this.state,n=t.context,i=(t.appendProps,this.getAppendableProps());return Object(ce.jsx)(se.a,{className:"p-0 m-0",children:i.map((function(t,i){var r=t.name,o=t.label,s=t.input,c=(t.size,t.possibilities);if(JSON.isJSON(t.input)){var u=s.type,d=s.size,p=s.value,b=s.defaultValue,f=Object(l.a)(s,ue),j=n[r]?n[r]:p||b;return Object(ce.jsxs)(le.a,{xs:12,md:Number.parseNumber(d,12),children:[["text","email","phone","number"].includes(u||void 0)&&Object(ce.jsx)(Le,Object(a.a)({onChange:function(t){e.onContextParamsChange(r,t)},name:r,label:o,type:u,defaultValue:j},f)),"select"==u&&Object(ce.jsx)(Ot,{textFieldProps:{label:{label:o},InputLabelProps:{shrink:!0},variant:"outlined",required:!0},onChange:function(t){e.onContextParamsChange(r,t)},options:c,value:j,placeholder:"Select "+o}),"radio"==u&&Object(ce.jsx)(Be,{onChange:function(t){e.onContextParamsChange(r,t)},options:c,value:j,name:r,label:o})]},"appendableProp-"+i)}return Object(ce.jsxs)(le.a,{xs:12,className:"p-0 m-0",children:[" ",o," render Error"]},"appendableProp-"+i)}))})}},{key:"renderFieldContextDefination",value:function(){var e=this,t=this.state.context;return Object(ce.jsxs)(se.a,{className:"p-0 m-0",children:[Object(ce.jsx)(le.a,{xs:12,children:Object(ce.jsx)(Le,{autoFocus:!0,variant:"outlined",defaultValue:t.label?t.label:"",onChange:function(t){String.isString(t)&&t.trim().length>0&&e.onContextParamsChange("name",t)},label:"Name",type:"text",required:!0,validate:!0})}),Object(ce.jsx)(le.a,{xs:12,md:6,children:Object(ce.jsx)(Ot,{textFieldProps:{label:"Field Type",InputLabelProps:{shrink:!0},variant:"outlined",required:!0},onChange:function(n){String.isString(n)&&n.trim().length>0&&e.onContextParamsChange("input",t.input?Object(a.a)(Object(a.a)({},t.input),{},{type:n}):{type:n})},options:this.input_types,value:t.input&&t.input.type in this.input_types?t.input.type:"text",placeholder:"Select Type"})}),Object(ce.jsx)(le.a,{xs:12,md:6,children:Object(ce.jsx)(Ot,{textFieldProps:{label:"Input Size",InputLabelProps:{shrink:!0},variant:"outlined",required:!0},onChange:function(n){var i=n;String.isString(i)&&i.trim().length>0&&e.onContextParamsChange("input",t.input?Object(a.a)(Object(a.a)({},t.input),{},{size:Number.parseNumber(i)}):{size:Number.parseNumber(i)})},options:{12:"100%",10:"5/6",8:"2/3",6:"1/2",4:"1/3",3:"1/4",2:"1/6"},value:t.input&&["12","10","8","6","4","2"].includes(t.input.size?t.input.size.toString():"12")?t.input.size.toString():"12",placeholder:"Select Input Size"})}),Object(ce.jsx)(le.a,{xs:12,children:this.inputPossibilitiesDefinationHelper()}),Object(ce.jsx)(le.a,{xs:12,children:this.inputDefaultValueDefinationHelper()}),"map"===(t.input?t.input.type:void 0)&&Object(ce.jsx)(le.a,{xs:12,children:this.mapInputPropsDefinationHelper()}),["select","transferlist","checkbox","map"].includes(t.input?t.input.type:void 0)&&Object(ce.jsx)(le.a,{xs:12,children:Object(ce.jsx)(mt,{checked:!!t.input&&(!!t.input.props&&(!!t.input.props.isMulti&&t.input.props.isMulti)),onChange:function(n){e.onContextParamsChange("input",t.input?Object(a.a)(Object(a.a)({},t.input),{},{props:t.input.props?Object(a.a)(Object(a.a)({},t.input.props),{},{isMulti:n}):{isMulti:n}}):{type:"text",size:12,props:{isMulti:n},required:!1,disabled:!1})},color:"primary",label:"Multiple"})}),Object(ce.jsx)(le.a,{xs:12,children:Object(ce.jsx)(mt,{checked:!!t.input&&(!!t.input.required&&t.input.required),onChange:function(n){e.onContextParamsChange("input",t.input?Object(a.a)(Object(a.a)({},t.input),{},{required:n}):{required:n})},color:"primary",label:"Required"})}),Object(ce.jsx)(le.a,{xs:12,children:Object(ce.jsx)(mt,{checked:!!t.input&&(!!t.input.disabled&&t.input.disabled),onChange:function(n){e.onContextParamsChange("input",t.input?Object(a.a)(Object(a.a)({},t.input),{},{disabled:n}):{disabled:n})},color:"primary",label:"Disabled"})}),Object(ce.jsx)(le.a,{xs:12,children:this.appendPropsDefinationHelper()})]})}},{key:"renderContextDialog",value:function(){var e=this.state,t=e.context,n=e.value;e.enableGrouping;return Object(ce.jsxs)(L.a,{open:this.state.contextDialogOpen,onClose:this.handleAddContextDialogClose,"aria-labelledby":"form-dialog-title",children:[Object(ce.jsx)(J.a,{id:"context-form-title",children:"group"===t.type?"Grouped Input":(t.group&&t.group in n?n[t.group].label:"")+" Input"}),Object(ce.jsxs)(V.a,{children:[Object(ce.jsxs)(W.a,{children:["Enter","group"===t.type?"Group":"Field","Details Below"]}),"group"===t.type?this.renderGroupContextDefination():this.renderFieldContextDefination()]}),Object(ce.jsxs)(z.a,{children:[Object(ce.jsx)(oe.a,{onClick:this.handleAddContextDialogClose,color:"error",children:"Cancel"}),Object(ce.jsxs)(oe.a,{onClick:this.handleContextSave,color:"primary",disabled:!t.name,children:["Save ","group"===t.type?"Group":"Field"]})]})]})}},{key:"render",value:function(){var e=this.state,t=e.addContextMenuAnchor,n=(e.context,e.value,e.onChange,e.name,e.readOnly),a=(e.required,e.disabled),i=(e.helperText,e.inputs,e.active,e.enableGrouping);return Object(ce.jsxs)(se.a,{children:[Object(ce.jsxs)(se.a,{className:"p-0 m-0",children:[this.renderInputs(),this.renderContextDialog()]}),Object(ce.jsx)(se.a,{className:"p-0 m-0",children:Object(ce.jsxs)(le.a,{xs:12,children:[Object(ce.jsx)(H.a,{title:"Add New",children:Object(ce.jsx)(B.a,{"aria-label":"add-element-btn",onClick:this.handleOnAddMenuOpen,disabled:a||n,className:"float-right",children:Object(ce.jsx)(Y.a,{fontSize:"small"})})}),Object(ce.jsxs)(U.a,{id:"simple-menu",anchorEl:t,keepMounted:!0,open:Boolean(t),onClose:this.handleOnAddMenuClose,children:[i&&Object(ce.jsx)(G.a,{onClick:this.handleOnAddContextClick("group",null),children:"New Group"}),Object(ce.jsxs)(G.a,{onClick:this.handleOnAddContextClick("field",null),children:[" ","New Field"," "]})]})]})})]})}}]),n}(u.a.Component);de.defaultProps={value:{},name:"",readOnly:!1,disabled:!1,enableGrouping:!0,appendProps:{field:[],group:[]}};var pe=de,be=["type","size","props"],fe=function(e){Object(A.a)(n,e);var t=Object(F.a)(n);function n(e){var i;Object(S.a)(this,n),(i=t.call(this,e)).state={contextDialogOpen:!1,expandedGroups:[],textfields_variant:"outlined",addContextMenuAnchor:null,inputMenuAnchor:null,context:{},active:!1,value:{}},i.input_types={text:"Text",date:"Date",datetime:"Date & Time",time:"Time",number:"Number",email:"Email",textarea:"Textarea",radio:"Radio",password:"Password",checkbox:"Checkbox",select:"Select",multiselect:"Multi Select",transferlist:"Transferlist",file:"File"},i.handleChange=function(e){return function(t){var n=JSON.isJSON(i.state.value)?JSON.parse(JSON.stringify(i.state.value)):{};n[e]=t,i.setState({value:n}),i.triggerOnChange(n)}};var r=i.props,o=r.value,s=r.blueprint,l=r.name,c=r.readOnly,u=r.required,d=r.disabled,p=r.validate,b=r.helperText,f=r.errors,j=r.error;return i.state=Object(a.a)(Object(a.a)({},i.state),{},{blueprint:JSON.isJSON(s)?s:{},value:JSON.isJSON(o)?o:{},name:l,readOnly:c,required:u,disabled:d,validate:p,helperText:b,errors:f,error:j}),i.handleChange=i.handleChange.bind(Object(I.a)(i)),i.mounted=!1,i}return Object(C.a)(n,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"getSnapshotBeforeUpdate",value:function(e){if(this.mounted=!1,!Object.areEqual(e,this.props)){var t=this.props,n=t.value,i=t.blueprint,r=t.name,o=t.readOnly,s=t.required,l=t.disabled,c=t.validate,u=t.helperText,d=t.errors,p=t.error;this.state=Object(a.a)(Object(a.a)({},this.state),{},{blueprint:JSON.isJSON(i)?i:{},value:JSON.isJSON(n)?n:{},name:r,readOnly:o,required:s,disabled:l,validate:c,helperText:u,errors:d,error:p})}}},{key:"componentDidUpdate",value:function(e,t,n){}},{key:"triggerOnChange",value:function(){var e=Object(o.a)(r.a.mark((function e(){var t,n,a=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.length>0&&void 0!==a[0]&&a[0],n=this.props.onChange,JSON.isJSON(t)||(t=this.state.value),n&&n(t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"renderInputField",value:function(e){var t=this,n=this.props,i=n.textfield_variant,r=n.readOnly,o=n.disabled,s=e.input,c=e.name,u=e.label,d=e.group,p=e.possibilities,b=this.state.value[c];if(!JSON.isJSON(s))return Object(ce.jsx)("div",{});var f=s.type,j=s.size,m=s.props,h=Object(l.a)(s,be),v=r||o||h.disabled||h.readOnly||h.readonly;return j=Number.parseNumber(j,12),"select"!==f&&"multiselect"!==f||!JSON.isJSON(p)?["email","number","phone","text"].includes(f)?Object(ce.jsx)(le.a,{xs:12,md:Number.parseNumber(j,12),children:Object(ce.jsx)(Le,Object(a.a)(Object(a.a)({type:f,label:u,name:c,variant:i,value:b,onChange:function(e){return t.handleChange(c,e)}},h),JSON.isJSON(m)?m:{}))},String.isString(d)?d+"-field-"+c:"field-"+c):"textarea"===f?Object(ce.jsx)(le.a,{xs:12,md:Number.parseNumber(j,12),children:Object(ce.jsx)(Le,Object(a.a)(Object(a.a)({type:f,label:u,name:c,multiline:!0,rows:4,variant:i,value:b,onChange:this.handleChange(c)},h),JSON.isJSON(m)?m:{}))},String.isString(d)?d+"-field-"+c:"field-"+c):"checkbox"===f?Object(ce.jsx)(le.a,{xs:12,md:Number.parseNumber(j,12),children:Object(ce.jsx)(mt,Object(a.a)(Object(a.a)({label:u,name:c,value:b,onChange:this.handleChange(c)},h),JSON.isJSON(m)?m:{}))},String.isString(d)?d+"-field-"+c:"field-"+c):"radio"===f?Object(ce.jsx)(le.a,{xs:12,md:Number.parseNumber(j,12),children:Object(ce.jsx)(Be,Object(a.a)(Object(a.a)({label:u,name:c,value:b,onChange:this.handleChange(c)},h),JSON.isJSON(m)?m:{}))},String.isString(d)?d+"-field-"+c:"field-"+c):"file"===f?Object(ce.jsx)(le.a,{xs:12,md:Number.parseNumber(j,12),children:Object(ce.jsx)(xt,Object(a.a)(Object(a.a)({label:u,name:c,value:b,onChange:this.handleChange(c)},h),JSON.isJSON(m)?m:{}))},String.isString(d)?d+"-field-"+c:"field-"+c):"date"===f?Object(ce.jsx)(le.a,{xs:12,md:Number.parseNumber(j,12),children:Object(ce.jsx)(pt,Object(a.a)(Object(a.a)({label:u,name:c,autoOk:!0,variant:"inline",openTo:"date",invalidDateMessage:"",inputVariant:i,value:b,onChange:this.handleChange(c)},h),JSON.isJSON(m)?m:{}))},String.isString(d)?d+"-field-"+c:"field-"+c):"map"===f?Object(ce.jsx)(le.a,{xs:12,md:Number.parseNumber(j,12),children:Object(ce.jsx)(yt,Object(a.a)(Object(a.a)({label:u,name:c,value:b,onChange:this.handleChange(c)},h),JSON.isJSON(m)?m:{}))},String.isString(d)?d+"-field-"+c:"field-"+c):"wysiwyg"===f?Object(ce.jsx)(le.a,{xs:12,md:Number.parseNumber(j,12),children:Object(ce.jsx)(jt,Object(a.a)(Object(a.a)({label:u,name:c,variant:i,value:b,onChange:this.handleChange(c)},h),JSON.isJSON(m)?m:{}))},String.isString(d)?d+"-field-"+c:"field-"+c):void 0:Object(ce.jsx)(le.a,{xs:12,md:Number.parseNumber(j,12),children:Object(ce.jsx)(Ot,Object(a.a)(Object(a.a)({textFieldProps:{label:u,InputLabelProps:{shrink:!0},variant:i,disabled:v,required:h.required},label:u,name:c,placeholder:"Select "+u,options:p,isMulti:"multiselect"===f,value:b,onChange:function(e){return t.handleChange(c,e)}},h),JSON.isJSON(m)?m:{}))},String.isString(d)?d+"-field-"+c:"field-"+c)}},{key:"renderInputGroup",value:function(e,t){var n=this,a=Array.isArray(t.value)?t.value:[];return Object(ce.jsxs)(le.a,{xs:12,md:Number.isNumber(t.size)?t.size:12,className:"p-0",children:[Object(ce.jsxs)(se.a,{className:"m-0",children:[" ",t.label+(t.required?"*":"")," "]}),Object(ce.jsx)(se.a,{className:"p-0 m-0",children:a.length>0&&a.map((function(e,t){return n.renderInputField(e)}))})]},"group-"+e)}},{key:"renderInput",value:function(e,t){return"group"===t.type?this.renderInputGroup(e,t):"field"===t.type?this.renderInputField(t):void 0}},{key:"render",value:function(){var e=this,t=this.props.className,n=re()(Object(M.a)({},t,t));return Object(ce.jsx)(se.a,{className:n,children:Object.entries(this.state.blueprint).map((function(t,n){var a=Object(s.a)(t,2),i=a[0],r=a[1];return e.renderInput(i,r)}))})}}]),n}(u.a.Component);fe.defaultProps={value:{},blueprint:{},textfield_variant:"outlined"};var je=fe,me=function(e){Object(A.a)(n,e);var t=Object(F.a)(n);function n(e){var i;Object(S.a)(this,n),(i=t.call(this,e)).state={contextDialogOpen:!1,addContextMenuAnchor:null,context:{},active:!1};var r=e.mode,o=e.blueprint,s=e.value,l=e.onChange,c=e.label,u=e.name,d=e.readOnly,p=e.required,b=e.disabled,f=e.icon,j=e.helperText,m=e.enableGrouping,h=e.appendProps;return i.state=Object(a.a)(Object(a.a)({},i.state),{},{mode:r,blueprint:o,value:s,onChange:l,label:c,name:u,readOnly:d,required:p,disabled:b,icon:f,helperText:j,enableGrouping:m,appendProps:h}),i}return Object(C.a)(n,[{key:"componentDidMount",value:function(){}},{key:"getSnapshotBeforeUpdate",value:function(e){this.mounted=!1,Object.areEqual(e,this.props)||(this.state=JSON.updateJSON(this.state,this.props))}},{key:"componentDidUpdate",value:function(e,t,n){}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.variant,i=this.state,r=i.mode,o=i.label,s=i.readOnly,l=i.required,c=i.disabled,u=i.active;return Object(ce.jsxs)(P.a,{elevation:0,className:"p-0 m-0 bg-transparent"+("outlined"===n&&"defination"===r?u?"border-2 primary outlined":" border border-gray-400 hover:border-black":""),children:[String.isString(o)&&Object(ce.jsx)(E.a,{title:o&&Object(ce.jsxs)(T.a,{color:c||s?"grey":u?"primary":"grey",children:[o," ",l&&Object(ce.jsx)("span",{children:" * "})]})}),Object(ce.jsxs)(D.a,{className:"p-0 m-0",children:["defination"===r&&Object(ce.jsx)(pe,Object(a.a)({className:t},this.state)),"generation"===r&&Object(ce.jsx)(je,Object(a.a)({className:t},this.props))]})]})}}]),n}(u.a.Component);me.defaultProps={blueprint:{},value:{},label:"",name:"",readOnly:!1,disabled:!1,required:!0,variant:"outlined",enableGrouping:!0,mode:"defination"};var he=me,ve=n(495),ge=n(349),Oe=n(124),xe=n(2036),ye=n(2038),we=n(1980),ke=n(1918),Ne=n(1119),_e=n(67),Se=["className","value_options","meta","value"];var Ce=function(e){Object(A.a)(n,e);var t=Object(F.a)(n);function n(e){var a;Object(S.a)(this,n),(a=t.call(this,e)).state={value_options:{},value:[],checked_options:[],checked_value_options:[]},a.handleToggle=function(e){return function(t){if(-1!==a.state.value.indexOf(e))if(a.state.checked_value_options.includes(e)){var n=a.state.checked_value_options;n.remove(n.indexOf(e)),a.setState((function(e){return{checked_value_options:n}}))}else a.setState((function(t){return{checked_value_options:t.checked_value_options.concat([e])}}));else if(a.state.checked_options.includes(e)){var i=a.state.checked_options;i.remove(i.indexOf(e)),a.setState((function(e){return{checked_options:i}}))}else a.setState((function(t){return{checked_options:t.checked_options.concat([e])}}))}};var i=e.value_options,r=e.value;return a.state.value_options=i,Array.isArray(r)?a.state.value=r:"string"===typeof r&&r.trim().startsWith("[")&&r.trim().endsWith("]")&&(a.state.value=JSON.parse(r)),a.handleToggle=a.handleToggle.bind(Object(I.a)(a)),a.handleSelectAll=a.handleSelectAll.bind(Object(I.a)(a)),a.handleSelectChecked=a.handleSelectChecked.bind(Object(I.a)(a)),a.handleUnSelectAll=a.handleUnSelectAll.bind(Object(I.a)(a)),a.handleUnSelectChecked=a.handleUnSelectChecked.bind(Object(I.a)(a)),a}return Object(C.a)(n,[{key:"componentDidUpdate",value:function(e,t){t.value!==this.state.value&&this.triggerOnChangeEvent(this.state.value)}},{key:"triggerOnChangeEvent",value:function(e){var t=new Event("input",{bubbles:!0}),n=new Event("blur",{bubbles:!0});!function(e,t){var n=Object.getOwnPropertyDescriptor(e,"value").set,a=Object.getPrototypeOf(e),i=Object.getOwnPropertyDescriptor(a,"value").set;n&&n!==i?i.call(e,t):n.call(e,t)}(this.inputElement,JSON.stringify(e)),this.inputElement.dispatchEvent(t),this.inputElement.dispatchEvent(n)}},{key:"handleSelectChecked",value:function(){this.setState((function(e){return{value:e.value.concat(e.checked_options),checked_value_options:e.checked_value_options.concat(e.checked_options),checked_options:[]}}))}},{key:"handleUnSelectChecked",value:function(){this.setState((function(e){return{value:_e.d.arrayDifference(e.value,e.checked_value_options),checked_options:e.checked_options.concat(e.checked_value_options),checked_value_options:[]}}))}},{key:"handleSelectAll",value:function(){var e=this.props.value_options;this.setState((function(t){return{value:Object.keys(e),checked_value_options:t.checked_value_options.concat(t.checked_options),checked_options:[]}}))}},{key:"handleUnSelectAll",value:function(){this.setState((function(e){return{value:[],checked_options:e.checked_options.concat(e.checked_value_options),checked_value_options:[]}}))}},{key:"optionsList",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"non-value-options",a=this.props,i=a.name,r=a.value_options,o=i||"nameless";return Object(ce.jsx)(Ne.a,{children:Object(ce.jsxs)(xe.a,{dense:!0,component:"div",role:"list",children:[e.map((function(e){var a="".concat(o,"-").concat(e,"-label");return Object(ce.jsxs)(ye.a,{role:"listitem",onClick:t.handleToggle(e),children:[Object(ce.jsx)(we.a,{children:Object(ce.jsx)(f.a,{checked:"non-value-options"===n&&t.state.checked_options.includes(e)||"value-options"===n&&t.state.checked_value_options.includes(e),tabIndex:-1,inputProps:{"aria-labelledby":a}})}),Object(ce.jsx)(ke.a,{id:a,primary:r[e]})]},e)})),Object(ce.jsx)(ye.a,{})]})})}},{key:"render",value:function(){var e=this,t=this.props,n=(t.className,t.value_options),i=(t.meta,t.value,Object(l.a)(t,Se));return Object(ce.jsxs)(Oe.a,{children:[Object(ce.jsx)(Oe.a,{item:!0,children:this.optionsList(_e.d.arrayDifference(Object.keys(n),this.state.value),"non-value-options")}),Object(ce.jsx)(Oe.a,{item:!0,children:Object(ce.jsxs)(Oe.a,{container:!0,direction:"column",alignItems:"center",children:[Object(ce.jsx)(ge.a,{variant:"outlined",size:"small",onClick:this.handleSelectAll,disabled:Object.keys(n).length===this.state.value.length,"aria-label":"move all right",children:"\u226b"}),Object(ce.jsx)(ge.a,{variant:"outlined",size:"small",onClick:this.handleSelectChecked,disabled:0===this.state.checked_options.length,"aria-label":"move selected right",children:">"}),Object(ce.jsx)(ge.a,{variant:"outlined",size:"small",onClick:this.handleUnSelectChecked,disabled:0===this.state.checked_value_options.length,"aria-label":"unselect selected values",children:"<"}),Object(ce.jsx)(ge.a,{variant:"outlined",size:"small",onClick:this.handleUnSelectAll,disabled:0===this.state.value.length,"aria-label":"move all left",children:"\u226a"}),Object(ce.jsx)("input",Object(a.a)({type:"text",value:JSON.stringify(this.state.value),ref:function(t){return e.inputElement=t}},i))]})}),Object(ce.jsx)(Oe.a,{item:!0,children:this.optionsList(this.state.value,"value-options")})]})}}]),n}(u.a.Component);Ce.defaultProps={value_options:{}};var Ae=Ce,Fe=n(339),Pe=n(635),De=n(162),Ee=n(2037),Te=n(1817),qe=n(1916),Me=n(1917),Ie=["label","touched","invalid","error","onChange","onFocus","onBlur","variant","validate","validator","excludeValidation","onValidityChange","value","defaultValue","helperText","disabled","type","loading","className","inputProps","InputProps","InputLabelProps","onChangeYield"],Re=u.a.forwardRef((function(e,t){var n=e.label,i=e.touched,u=e.invalid,p=e.error,b=e.onChange,f=e.onFocus,j=e.onBlur,m=e.variant,h=e.validate,v=e.validator,g=e.excludeValidation,O=e.onValidityChange,x=e.value,y=e.defaultValue,w=e.helperText,k=e.disabled,N=e.type,_=e.loading,S=e.className,C=e.inputProps,A=e.InputProps,F=e.InputLabelProps,P=e.onChangeYield,D=Object(l.a)(e,Ie),E=Object(c.useState)(x||y),T=Object(s.a)(E,2),q=T[0],M=T[1],I=Object(c.useState)(k),R=Object(s.a)(I,2),L=R[0],z=(R[1],Object(c.useState)(_)),V=Object(s.a)(z,2),W=(V[0],V[1],Object(c.useState)(p)),J=Object(s.a)(W,2),U=J[0],G=J[1],H=Object(c.useState)(u),K=Object(s.a)(H,2),Y=K[0],Q=K[1],Z=Object(c.useState)(i),X=Object(s.a)(Z,2),$=X[0],ee=X[1],te=Object(c.useState)(!1),ne=Object(s.a)(te,2),ae=(ne[0],ne[1],Object(c.useState)(!1)),ie=Object(s.a)(ae,2),re=ie[0],oe=ie[1],se=Object(c.useState)(String.isString(N)?N.toLowerCase():"text"),le=Object(s.a)(se,2),ue=le[0],de=le[1],pe=function(){var e=Object(o.a)(r.a.mark((function e(t){var a,i,o,s,l,c,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=D.required,i=D.max,D.maxlength,o=D.min,D.minlength,(U&&!p||Y)&&(G(void 0),Q(!1)),s=Array.isArray(g)?g:String.isString(g)?g.replaceAll(" ","").toLowerCase().split(","):[],l=!0,c="",!h){e.next=22;break}if(l&&a&&!s.includes("required")&&(t&&""!==t?0===t.toString().length&&(l=!1,c=n+" is required"):(l=!1,c=n+" required")),l&&"email"===N&&!s.includes("email")&&(/^[a-zA-Z0-9\.]+@[a-zA-Z0-9]+(\-)?[a-zA-Z0-9]+(\.)?[a-zA-Z0-9]{2,6}?\.[a-zA-Z]{2,6}$/.test(t)||(l=!1,c="Invalid email")),l&&"number"===N&&!s.includes("number")&&((u=Number.parseNumber(t,!1))?i&&!s.includes("max")?u>i&&(l=!1,c=n+" value cannot exceed "+i):o&&!s.includes("min")&&u<o&&(l=!1,c=n+" value should be atleast "+i):(l=!1,c="Invalid Number")),l&&"password"===N&&!s.includes("password")&&(new RegExp("^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})").test(t)||(l=!1,c=t+" is not strong enough to use as a password")),!l||!Function.isFunction(v)||s.includes("validator")){e.next=22;break}return e.prev=11,e.next=14,v(t);case 14:c=e.sent,e.next=20;break;case 17:e.prev=17,e.t0=e.catch(11),c=" validity cannot be determined.";case 20:l=!String.isString(c);case 22:return l!==!Y&&Function.isFunction(O)&&O(l),G(l?void 0:c),Q(!l),e.abrupt("return",l);case 26:case"end":return e.stop()}}),e,null,[[11,17]])})));return function(t){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){$||ee(!0),M(x)}),[x]);Object(c.useRef)(Function.createThrottle(5)).current;var be=Object(c.useRef)(Function.debounce((function(e){if(!$){ee(!0);pe(q)}if(null===e||void 0===e?void 0:e.target){var t=e.target.value;if("number"==N&&(t=Number.parseNumber(t,void 0)),pe(t),Function.isFunction(b))b("value"===P?t:e);M(t)}}),250)).current,fe=function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.persist(),be(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),je=function(){var e=Object(o.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.persist(),Function.isFunction(f)&&(n=f(t),Promise.all([n]).catch((function(e){console.error(e)})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),me=function(){var e=Object(o.a)(r.a.mark((function e(t){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.persist(),n=t.target.value,"number"==N&&(n=Number.parseNumber(n,void 0)),Function.isFunction(j)&&(a=j(t),Promise.all([a]).catch((function(e){console.error(e)})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){}),[]),"base"===m||"plain"===m?Object(ce.jsx)(De.c,Object(a.a)(Object(a.a)(Object(a.a)({className:"flex-1"+(S?" "+S:""),label:n,onChange:fe,onFocus:je,onBlur:me,defaultValue:state.inputValue,disabled:L,error:!!U||Y,type:ue,ref:t},A),C),D)):Object(ce.jsx)(d.a,Object(a.a)({className:"flex-1 "+(S?" "+S:""),label:n,onChange:fe,onFocus:je,onBlur:me,inputProps:C,InputProps:Object(a.a)(Object(a.a)({},A),{},{endAdornment:("password"===N||_||A&&A.endAdornment)&&(A&&A.endAdornment?Object(ce.jsxs)("div",{className:"flex flex-row",children:[Object(ce.jsxs)(Ee.a,{position:"end",children:[_&&Object(ce.jsx)(Te.a,{size:"1rem",color:"inherit"}),"password"===N&&Object(ce.jsx)(B.a,{"aria-label":"Toggle password visibility",color:"inherit",onClick:function(e){oe("password"===ue),de("password"===ue?"text":"password")},children:re?Object(ce.jsx)(qe.a,{fontSize:"small"}):Object(ce.jsx)(Me.a,{fontSize:"small"})})]}),A&&A.endAdornment]}):Object(ce.jsxs)(Ee.a,{position:"end",children:[_&&Object(ce.jsx)(Te.a,{size:"1rem",color:"inherit"}),"password"===N&&Object(ce.jsx)(B.a,{"aria-label":"Toggle password visibility",color:"inherit",onClick:function(e){oe("password"===ue),de("password"===ue?"text":"password")},children:re?Object(ce.jsx)(qe.a,{fontSize:"small"}):Object(ce.jsx)(Me.a,{fontSize:"small"})})]}))}),InputLabelProps:F,variant:m||"filled",defaultValue:q,disabled:L,error:!!U||Y,helperText:U||(Y?"Invalid":w),type:ue,ref:t,fullWidth:!0},D))}));Re.defaultProps={margin:"dense",size:"small",type:"text",variant:"filled",validate:!0,onChangeYield:"value"};var Le=u.a.memo(Re),ze=n(2012),Ve=n(1927),We=["label","name","touched","invalid","error","onChange","variant","validate","required","validator","excludeValidation","onValidityChange","value","defaultValue","helperText","disabled","options","color","formControlProps","className"],Je=function(e){var t=Object(c.useState)(e),n=Object(s.a)(t,2),i=n[0],u=n[1];Object(c.useEffect)((function(){u(e)}),[e]);var d=i.label,p=i.name,f=i.touched,m=i.invalid,h=i.error,O=i.onChange,x=(i.variant,i.validate),y=i.required,w=i.validator,k=i.excludeValidation,N=i.onValidityChange,_=i.value,S=i.defaultValue,C=i.helperText,A=i.disabled,F=i.options,P=i.color,D=(i.formControlProps,i.className),E=Object(l.a)(i,We),T=Object.keys(F);T=Array.isArray(T)?T:[];var q=Object(c.useState)(_||(S||(T.length>0?T[0]:void 0))),M=Object(s.a)(q,2),I=M[0],R=M[1],L=Object(c.useState)(A),z=Object(s.a)(L,2),V=(z[0],z[1]),W=Object(c.useState)(h),J=Object(s.a)(W,2),B=J[0],U=J[1],G=Object(c.useState)(m),H=Object(s.a)(G,2),K=H[0],Y=H[1],Q=Object(c.useState)(f),Z=Object(s.a)(Q,2),X=Z[0],$=Z[1],ee=function(){var e=Object(o.a)(r.a.mark((function e(t){var n,a,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Array.isArray(k)?k:String.isString(k)?k.replaceAll(" ","").toLowerCase().split(","):[],a=!0,i="",!x){e.next=17;break}if(a&&y&&!n.includes("required")&&(t?0===t.toString().length&&(a=!1,i=d+" is required"):(a=!1,i=d+" required")),!a||!Function.isFunction(w)||n.includes("validator")){e.next=17;break}return e.prev=6,e.next=9,w(t);case 9:i=e.sent,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(6),i=" validity cannot be determined.";case 15:a=!String.isString(i);case 17:return a!==!K&&Function.isFunction(N)&&N(a),U(a?void 0:i),Y(!a),e.abrupt("return",a);case 21:case"end":return e.stop()}}),e,null,[[6,12]])})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(o.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:V(!0),Function.isFunction(O)?(n=O(t),Promise.all([n]).then((function(){V(!1)})).catch((function(e){V(!1)}))):V(!1);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){if(X){var e=ee(I);Promise.all([e]).then((function(e){e[0]&&te(I)})).catch((function(e){}))}}),[X,I]),Object(c.useEffect)((function(){R(_||(S||(T.length>0?T[0]:void 0)))}),[_,S]),Object(ce.jsxs)(v.a,{className:"flex-1"+(D?" "+D:""),component:"div",required:y,error:!!B,children:[Object(ce.jsx)(g.a,{component:"legend",children:d}),JSON.isJSON(F)&&Object(ce.jsx)(Ve.a,Object(a.a)(Object(a.a)({"aria-label":d.variablelize(),name:p||d.variablelize(),onChange:function(){var e=Object(o.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.value,X||$(!0),R(n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),value:I},E),{},{children:Object.entries(F).map((function(e,t){var n=Object(s.a)(e,2),a=n[0],i=n[1];return Object(ce.jsx)(b.a,{value:a,control:Object(ce.jsx)(ze.a,{color:P||"primary"}),label:i},p+"-option-"+t)}))})),Object(ce.jsx)(j.a,{children:B||C})]})};Je.defaultProps={options:{},formControlProps:{margin:"dense",size:"small",variant:"outlined"}};var Be=u.a.memo(Je),Ue=n(1060),Ge=n.n(Ue),He=n(1059),Ke=n.n(He),Ye=n(18),Qe=n(17),Ze=n(738),Xe=["className","device","placeholder","placeholderType","label","defaultValue","type","variant","isMulti","touched","required","disabled","error","invalid","margin","size","query","onOpen","onClose","onChange","isClearable","onClickMyLocationBtn","result_type","short_name","showMyLocationBtn","controlPosition"],$e=function(e){var t=e.className,n=(e.device,e.placeholder,e.placeholderType),i=e.label,r=e.defaultValue,o=e.type,u=e.variant,d=e.isMulti,p=(e.touched,e.required),b=(e.disabled,e.error,e.invalid,e.margin),f=e.size,j=(e.query,e.onOpen),m=e.onClose,h=(e.onChange,e.isClearable,e.onClickMyLocationBtn,e.result_type,e.short_name,e.showMyLocationBtn),v=(e.controlPosition,Object(l.a)(e,Xe)),g=Object(Qe.p)({value:r}),O=Object(s.a)(g,2),x=(O[0],O[1],Object(Qe.m)({requestOptions:{},type:o,label:n,debounce:300,defaultValue:r})),y=(x.ready,x.value),w=(x.keyword,x.suggestions),k=x.setKeyword,N=(x.clearSuggestions,x.selectSuggestion),S=x.loading,C=(x.setValue,Object(c.useCallback)((function(e,t){N(e)}),[]));return Object(ce.jsx)(_.a,Object(a.a)({className:"flex-1"+(t?" "+t:""),options:w.data,onInputChange:function(e){e&&k(e.target.value)},forcePopupIcon:!0,onChange:C,autoComplete:!0,loading:w.loading||S,onOpen:function(){Function.isFunction(j)&&j()},onClose:function(){Function.isFunction(m)&&m()},getOptionLabel:function(e){var t=e.label,n=e.description;return t||n},renderInput:function(e){return Object(ce.jsx)(Le,Object(a.a)(Object(a.a)({},e),{},{InputLabelProps:Object(a.a)(Object(a.a)({},e.InputLabelProps),{},{shrink:d&&Array.isArray(y)&&y.length>0||!!JSON.isJSON(e.InputLabelProps)&&e.InputLabelProps.shrink}),inputProps:Object(a.a)(Object(a.a)({},e.inputProps),{},{autoComplete:String.uid(11)}),InputProps:Object(a.a)(Object(a.a)({},e.InputProps),{},{autoComplete:String.uid(11),endAdornment:w.loading||S?Object(ce.jsx)(Ee.a,{position:"end",children:Object(ce.jsx)(Te.a,{size:"1rem",color:"inherit"})}):h?Object(ce.jsx)(B.a,{"aria-label":"my-location",className:"text-base",children:Object(ce.jsx)(Ke.a,{fontSize:"inherit"})}):e.InputProps.endAdornment}),label:i,variant:u,margin:b,size:f,required:p,fullWidth:!0}))},renderOption:function(e){var t,n,a=(null===(t=e.structured_formatting)||void 0===t?void 0:t.main_text)||e.label||e.description||"",i=(null===(n=e.structured_formatting)||void 0===n?void 0:n.secondary_text)||"";return Object(ce.jsxs)(Oe.a,{container:!0,alignItems:"center",children:[Object(ce.jsx)(Oe.a,{item:!0,children:Object(ce.jsx)(Ge.a,{className:"mr-2 text-current"})}),Object(ce.jsx)(Oe.a,{item:!0,xs:!0,children:Object(ce.jsxs)("span",{className:"mx-1",children:[Object(ce.jsx)("strong",{children:a})," ",Object(ce.jsx)("small",{children:i})]})})]})},multiple:d,disableClearable:!0,fullWidth:!0},v))};$e.defaultProps={margin:"dense",size:"small",variant:"outlined",label:"Search for a location",type:"administrative_area_level_1",placeholderType:"formatted_address",short_name:!1,showMyLocationBtn:!0};var et=Object(Ze.a)(Object(Ye.b)((function(e){return{device:e.device}}),{}))(u.a.memo($e)),tt=["touched","invalid","error","onChange","value","className","defaultValue","inputVariant","margin"],nt=["touched","invalid","error","onChange","value","className","defaultValue"],at=["touched","invalid","error","onChange","validate","validator","onValidityChange","value","defaultValue"],it=["label","touched","invalid","error","variant","onChange","validate","validator","onValidityChange","value","defaultValue"],rt=["label","touched","invalid","required","error","onChange","validate","validator","onValidityChange","helperText","value","defaultValue"],ot=["name","label","touched","invalid","error","onChange","validate","validator","onValidityChange","value","defaultValue"],st=["label","onChange","value","defaultValue","validate","validator","onValidityChange"],lt=["label","touched","invalid","error","validate","validator","onValidityChange","value","defaultValue"],ct=["touched","invalid","error","label","type","onChange","validate","validator","onValidityChange","value","defaultValue"],ut=["touched","invalid","error","label","type","onChange","validate","validator","onValidityChange","value","defaultValue","fullWidth","disabled"],dt=["touched","invalid","error","onChange","value","defaultValue","validate","validator","onValidityChange"],pt=function(e){e.touched,e.invalid,e.error;var t=e.onChange,n=e.value,i=(e.className,e.defaultValue),u=e.inputVariant,p=e.margin,b=Object(l.a)(e,tt),f=Object(c.useState)(n||i),j=Object(s.a)(f,2),m=(j[0],j[1]);return Object(ce.jsx)(N.b,{dateAdapter:k.a,children:Object(ce.jsx)(x.a,Object(a.a)({onChange:function(){var e=Object(o.a)(r.a.mark((function e(n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n._d,m(a),Function.isFunction(t)&&(0===t.length?t():1===t.length?t(a):t(a,n));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),value:n||i||null,renderInput:function(e){return Object(ce.jsx)(d.a,Object(a.a)({fullWidth:!0,margin:p,variant:u},e))}},b))})},bt=function(e){e.touched,e.invalid,e.error;var t=e.onChange,n=e.value,i=(e.className,e.defaultValue),u=Object(l.a)(e,nt),p=Object(c.useState)(n||i),b=Object(s.a)(p,2),f=(b[0],b[1]);return Object(ce.jsx)(N.b,{dateAdapter:k.a,children:Object(ce.jsx)(w.a,Object(a.a)({orientation:"landscape",openTo:"day",onChange:function(){var e=Object(o.a)(r.a.mark((function e(n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n._d,f(a),Function.isFunction(t)&&(0===t.length?t():1===t.length?t(a):t(a,n));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),value:n||i||null,renderInput:function(e){return Object(ce.jsx)(d.a,Object(a.a)({},e))},fullWidth:!0},u))})},ft=function(e){e.touched,e.invalid,e.error;var t=e.onChange,n=(e.validate,e.validator,e.onValidityChange,e.value),i=e.defaultValue,u=Object(l.a)(e,at),p=Object(c.useState)(n||i),b=Object(s.a)(p,2),f=(b[0],b[1]);return Object(ce.jsx)(N.b,{dateAdapter:k.a,children:Object(ce.jsx)(y.a,Object(a.a)({onChange:function(){var e=Object(o.a)(r.a.mark((function e(n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n._i,f(a),Function.isFunction(t)&&(0===t.length?t():1===t.length?t(a):t(a,null));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),value:n||i||null,renderInput:function(e){return Object(ce.jsx)(d.a,Object(a.a)({},e))},fullWidth:!0},u))})},jt=function(e){var t=e.label,n=(e.touched,e.invalid,e.error,e.variant),i=e.onChange,u=(e.validate,e.validator,e.onValidityChange,e.value),d=e.defaultValue,p=Object(l.a)(e,it),b=Object(c.useState)(u||d),f=Object(s.a)(b,2),j=f[0],m=f[1];return Object(ce.jsx)(Pe.a,Object(a.a)({label:t,onChange:function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m(t),Function.isFunction(i)&&(0===i.length?i():1===i.length?i(t):i(t,null));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),value:j,variant:n||"outlined"},p))},mt=function(e){var t=Object(c.useState)(e),n=Object(s.a)(t,2),i=n[0],u=n[1];Object(c.useEffect)((function(){u(e)}),[e]);var d=i.label,m=(i.touched,i.invalid,i.required),h=i.error,v=i.onChange,g=(i.validate,i.validator,i.onValidityChange,i.helperText),O=i.value,x=i.defaultValue,y=Object(l.a)(i,rt),w=Object(c.useState)(O||x),k=Object(s.a)(w,2),N=k[0],_=k[1];return Object(c.useEffect)((function(){_(Boolean.isBoolean(O)?O:!!Boolean.isBoolean(x)&&x)}),[O,x]),Object(ce.jsxs)(p.a,{required:m,error:h,component:"fieldset",children:[Object(ce.jsx)(b.a,{control:Object(ce.jsx)(f.a,Object(a.a)({checked:!!N,color:"primary",onChange:function(){var e=Object(o.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.checked,_(n),Function.isFunction(v)&&(0===v.length?v():1===v.length?v(n):v(n,t));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),required:m},y)),label:d}),g&&Object(ce.jsx)(j.a,{children:g})]})},ht=function(e){var t=e.name,n=e.label,i=(e.touched,e.invalid,e.error,e.onChange),u=(e.validate,e.validator,e.onValidityChange,e.value),d=e.defaultValue,p=Object(l.a)(e,ot),b=Object(c.useState)(u?Number.parseNumber(u,null):Number.parseNumber(d,null)),f=Object(s.a)(b,2),j=f[0],v=f[1];return Object(ce.jsxs)(se.a,{className:"m-0 p-0",children:[Object(ce.jsx)(m.a,{id:t+"-slider",gutterBottom:!0,children:n}),Object(ce.jsx)("br",{}),Object(ce.jsx)(h.a,Object(a.a)({name:t,defaultValue:j,"aria-labelledby":t+"-slider",valueLabelDisplay:"on",onChange:function(e){},onChangeCommitted:function(){var e=Object(o.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v(n),Function.isFunction(i)&&(0===i.length?i():1===i.length?i(n):i(n,t));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},p))]})},vt=function(e){var t=e.label,n=e.onChange,i=e.value,u=e.defaultValue,d=(e.validate,e.validator,e.onValidityChange,Object(l.a)(e,st)),p=Object(c.useState)(i||u),b=Object(s.a)(p,2),f=b[0],j=b[1];return Object(ce.jsxs)(v.a,{fullWidth:!0,children:[Object(ce.jsx)(m.a,{gutterBottom:!0,children:t}),Object(ce.jsx)(Ae,Object(a.a)({onChange:function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(t),Function.isFunction(n)&&(0===n.length?n():1===n.length?n(t):n(t,null));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),value:f},d))]})},gt=function(e){return Object(ce.jsx)(v.a,{fullWidth:!0,children:Object(ce.jsx)(_.a,Object(a.a)({isMulti:!0},e))})},Ot=function(e){return Object(ce.jsx)(v.a,{fullWidth:!0,children:Object(ce.jsx)(_.a,Object(a.a)({},e))})},xt=function(e){var t=e.label,n=e.touched,i=e.invalid,r=e.error,o=(e.validate,e.validator,e.onValidityChange,e.value),u=e.defaultValue,d=Object(l.a)(e,lt),p=Object(c.useState)(o||u),b=Object(s.a)(p,2);b[0],b[1];return Object(ce.jsx)(ve.a,Object(a.a)({label:t,error:n&&i,helperText:n&&r?"Invalid":null,value:o||u},d))},yt=function(e){e.touched,e.invalid,e.error;var t=e.label,n=e.type,i=e.onChange,u=(e.validate,e.validator,e.onValidityChange,e.value),d=e.defaultValue,p=Object(l.a)(e,ct),b=Object(c.useState)(u||d),f=Object(s.a)(b,2),m=f[0],h=f[1];return Object(ce.jsxs)(v.a,{fullWidth:!0,children:[Object(ce.jsx)(g.a,{component:"legend",children:t}),Object(ce.jsx)("br",{}),Object(ce.jsx)(Fe.a,Object(a.a)({isInput:!0,showSearchBar:!0,type:n||"coordinates",onChange:function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h(t),Function.isFunction(i)&&(0===i.length?i():1===i.length?i(t):i(t,null));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),value:m},p)),!u&&Object(ce.jsx)(j.a,{children:"Search and select to add new location"})]})},wt=function(e){var t=e.touched,n=e.invalid,i=e.error,u=e.label,d=(e.type,e.onChange),p=e.validate,f=e.validator,j=e.onValidityChange,m=e.value,h=e.defaultValue,g=e.fullWidth,x=e.disabled,y=Object(l.a)(e,ut),w=Object(c.useState)(!!m||!!h),k=Object(s.a)(w,2),N=k[0],_=k[1],S=Object(c.useState)(x),C=Object(s.a)(S,2),A=C[0],F=C[1],P=Object(c.useState)(i),D=Object(s.a)(P,2),E=(D[0],D[1]),T=Object(c.useState)(n),q=Object(s.a)(T,2),M=q[0],I=q[1],R=Object(c.useState)(t),L=Object(s.a)(R,2),z=L[0],V=L[1],W=function(){var e=Object(o.a)(r.a.mark((function e(t){var n,a,i,o,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=y.required,a=y.excludeValidation,i=Array.isArray(a)?a:String.isString(a)?a.replaceAll(" ","").toLowerCase().split(","):[],o=!0,s="",!p){e.next=18;break}if(o&&n&&!i.includes("required")&&(t||(o=!1,s=u+" required")),!o||!Function.isFunction(f)||i.includes("validator")){e.next=18;break}return e.prev=7,e.next=10,f(t);case 10:s=e.sent,e.next=16;break;case 13:e.prev=13,e.t0=e.catch(7),s=" validity cannot be determined.";case 16:o=!String.isString(s);case 18:return o!==!M&&Function.isFunction(j)&&j(o),E(o?void 0:s),I(!o),e.abrupt("return",o);case 22:case"end":return e.stop()}}),e,null,[[7,13]])})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(o.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:F(!0),Function.isFunction(d)?(n=d(t),Promise.all([n]).then((function(){F(!1)})).catch((function(e){F(!1)}))):F(!1);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){if(z){var e=W(N);Promise.all([e]).then((function(e){e&&J(N)})).catch((function(e){}))}}),[N,z]),Object(ce.jsx)(v.a,{fullWidth:g,children:Object(ce.jsx)(b.a,{control:Object(ce.jsx)(O.a,Object(a.a)({color:"primary",disabled:A,checked:N,onChange:function(){_(!N),z||V(!0)}},y)),label:u,disabled:A})})},kt=function(e){e.touched,e.invalid,e.error;var t=e.onChange,n=e.value,i=e.defaultValue,u=(e.validate,e.validator,e.onValidityChange,Object(l.a)(e,dt)),d=Object(c.useState)(n||i),p=Object(s.a)(d,2),b=p[0],f=p[1];return Object(ce.jsx)(he,Object(a.a)({onChange:function(){var e=Object(o.a)(r.a.mark((function e(n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f(n),Function.isFunction(t)&&(0===t.length?t():1===t.length?t(n):t(n,null));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),value:b},u))}}},[[1761,1,2]]]);
//# sourceMappingURL=main.7395b01e.chunk.js.map