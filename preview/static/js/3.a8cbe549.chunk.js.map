{"version":3,"sources":["views/widgets/Charts/AggregatesPieChart/index.jsx","views/widgets/Charts/AggregatesBarChart/index.jsx","../node_modules/@mui/icons-material/esm/MoreVert.js","../node_modules/@mui/icons-material/FolderOutlined.js","views/widgets/Overview/CompactAggregatesOverview/index.jsx"],"names":["AggregatesPieChart","props","state","loading","load_error","aggregate","aggregates","chart_data","labels","datasets","data","aggregateMenuEl","aggregatables","colors","handleShowAggregateMenu","event","currentTarget","setState","handleAggregateMenuItemClick","column","loadAggregates","g","bind","handleCloseAggregateMenu","this","prepareForData","prepareChartData","prevProps","Object","areEqual","defination","api","Array","isArray","cache","equals","dynamic","monochrome","color","service","onResolveAggregates","entries","scope","columns","properties","possibilities","push","name","label","length","no_of_colors","monochrome_colors","UtilitiesHelper","monochromeColorScheme","rotation_colors","rotationColorScheme","auth","onLoadAggregates","user","error","chart_data_labels","chart_data_data","onload_callback_data","i","_id","count","backgroundColor","query_data","apiCallRequest","new_aggregate","group","uri","endpoint","type","params","className","showTitle","showMenu","xs","variant","fullWidth","onClick","size","id","anchorEl","keepMounted","open","Boolean","onClose","map","aggregatable","index","justify","alignItems","alt","src","complete","msg","React","Component","defaultProps","hex","accent","compose","connect","ownProps","AggregatesBarChart","JSON","isEmpty","options","maintainAspectRatio","scales","yAxes","ticks","beginAtZero","createSvgIcon","_jsx","d","_interopRequireDefault","require","defineProperty","exports","value","default","_createSvgIcon","_jsxRuntime","_default","jsx","CompactAggregatesOverview","context","definations","menuAnchorEl","handleMenuOpen","menuAnchorMenuEl","handleDefinationChange","contexts","possible_definations","access","restricted","view","summary","includes","handleMenuClose","handleOnAggregatesLoad","classes","chartType","gridSize","theme","avatar","style","background","icon","title","subheader","action","margin","fullHeight","direction","height","ApiService","getContextRequests","primary","gutterBottom","fontSize","badgeContent","textColor","inverse","component"],"mappings":"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","file":"static/js/3.a8cbe549.chunk.js","sourcesContent":["/** @format */\n\nimport { Menu, MenuItem } from \"@mui/material\";\n//\n\nimport { MoreVert as AggregateMenuIcon } from \"@mui/icons-material\";\nimport { colors } from \"assets/jss/app-theme\";\nimport Button from \"components/Button\";\nimport GridContainer from \"components/Grid/GridContainer\";\nimport GridItem from \"components/Grid/GridItem\";\nimport Typography from \"components/Typography\";\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport { defaults, Pie } from \"react-chartjs-2\";\nimport { connect } from \"react-redux\";\nimport compose from \"recompose/compose\";\nimport { apiCallRequest } from \"state/actions\";\n\n//\nimport ApiService from \"services/Api\";\nimport { UtilitiesHelper } from \"utils/Helpers\";\n\n\n//\n// defaults.global.legend.display = false;\n\nclass AggregatesPieChart extends React.Component {\n\tstate = {\n\t\tloading: true,\n\t\tload_error: false,\n\t\taggregate: \"status\",\n\t\taggregates: [],\n\t\tchart_data: {\n\t\t\tlabels: [],\n\t\t\tdatasets: [\n\t\t\t\t{\n\t\t\t\t\tdata: [],\n\t\t\t\t},\n\t\t\t],\n\t\t},\n\t\taggregateMenuEl: null,\n\t};\n\taggregatables = [];\n\tcolors = [];\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.handleShowAggregateMenu = this.handleShowAggregateMenu.bind(this);\n\t\tthis.handleCloseAggregateMenu = this.handleCloseAggregateMenu.bind(\n\t\t\tthis\n\t\t);\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.prepareForData();\n\t\tthis.loadAggregates();\n\t\tthis.prepareChartData();\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\tif (!Object.areEqual(this.props.defination, prevProps.defination)) {\n\t\t\tthis.prepareForData();\n\t\t\tthis.loadAggregates();\n\t\t} else if (!Object.areEqual(prevProps.api, this.props.api)) {\n\t\t\tthis.prepareChartData();\n\t\t} else if (Array.isArray(this.props.cache)) {\n\t\t\tif (!this.props.cache.equals(prevProps.cache)) {\n\t\t\t\tthis.prepareChartData();\n\t\t\t}\n\t\t} else if (Array.isArray(prevProps.cache)) {\n\t\t\tif (!prevProps.cache.equals(this.props.cache)) {\n\t\t\t\tthis.prepareChartData();\n\t\t\t}\n\t\t}\n\t}\n\n\tprepareForData() {\n\t\tlet {\n\t\t\tdynamic,\n\t\t\tmonochrome,\n\t\t\tcolor,\n\t\t\tcolors,\n\t\t\tdefination,\n\t\t\tservice,\n\t\t\taggregate,\n\t\t\tonResolveAggregates,\n\t\t} = this.props;\n\n\t\tif (dynamic) {\n\t\t\tthis.aggregatables = [];\n\t\t\tfor (let [column, properties] of Object.entries(\n\t\t\t\tdefination.scope.columns\n\t\t\t)) {\n\t\t\t\tif (properties.possibilities) {\n\t\t\t\t\tthis.aggregatables.push({\n\t\t\t\t\t\tname: column,\n\t\t\t\t\t\tlabel: properties.label,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (!aggregate && this.aggregatables.length > 0) {\n\t\t\taggregate = this.aggregatables[0].name;\n\t\t\tif (onResolveAggregates) {\n\t\t\t\tonResolveAggregates(defination.name, this.aggregatables);\n\t\t\t}\n\t\t}\n\n\t\tif (dynamic) {\n\t\t\tthis.state.aggregate = aggregate;\n\n\t\t\t//generate color scheme if monochromatic\n\t\t\tif (monochrome) {\n\t\t\t\tlet no_of_colors =\n\t\t\t\t\tthis.aggregatables.length > 0\n\t\t\t\t\t\t? this.aggregatables.length\n\t\t\t\t\t\t: 1;\n\t\t\t\tlet monochrome_colors = UtilitiesHelper.monochromeColorScheme(\n\t\t\t\t\tcolor,\n\t\t\t\t\tno_of_colors\n\t\t\t\t);\n\t\t\t\tthis.colors = monochrome_colors;\n\t\t\t} else if (colors) {\n\t\t\t\tthis.colors = colors;\n\t\t\t} else {\n\t\t\t\tlet no_of_colors =\n\t\t\t\t\tthis.aggregatables.length > 0\n\t\t\t\t\t\t? this.aggregatables.length\n\t\t\t\t\t\t: 1;\n\t\t\t\tlet rotation_colors = UtilitiesHelper.rotationColorScheme(\n\t\t\t\t\tcolor,\n\t\t\t\t\tno_of_colors\n\t\t\t\t);\n\t\t\t\tthis.colors = rotation_colors;\n\t\t\t}\n\t\t}\n\t}\n\n\tprepareChartData() {\n\t\tconst {\n\t\t\tmonochrome,\n\t\t\tcolor,\n\t\t\tcolors,\n\t\t\taggregate,\n\t\t\tdefination,\n\t\t\tservice,\n\t\t\tauth,\n\t\t\tonLoadAggregates,\n\t\t\tcache,\n\t\t\tapi,\n\t\t} = this.props;\n\t\tif (Array.isArray(cache)) {\n\t\t\tlet possibilities = defination.scope.columns[this.state.aggregate]\n\t\t\t\t? defination.scope.columns[this.state.aggregate].possibilities\n\t\t\t\t: {};\n\t\t\tif (typeof possibilities === \"function\") {\n\t\t\t\tpossibilities = possibilities(false, auth.user);\n\t\t\t}\n\t\t\t//generate color scheme if monochromatic\n\t\t\tif (monochrome) {\n\t\t\t\tlet no_of_colors = cache.length > 0 ? cache.length : 1;\n\t\t\t\tlet monochrome_colors = UtilitiesHelper.monochromeColorScheme(\n\t\t\t\t\tapi.loading || api.error ? \"#595959\" : color,\n\t\t\t\t\tno_of_colors\n\t\t\t\t);\n\t\t\t\tthis.colors = monochrome_colors;\n\t\t\t} else if (colors) {\n\t\t\t\tthis.colors =\n\t\t\t\t\tapi.loading || api.error\n\t\t\t\t\t\t? UtilitiesHelper.monochromeColorScheme(\"#595959\")\n\t\t\t\t\t\t: colors;\n\t\t\t} else {\n\t\t\t\tlet no_of_colors = cache.length > 0 ? cache.length : 1;\n\t\t\t\tlet rotation_colors = UtilitiesHelper.rotationColorScheme(\n\t\t\t\t\tapi.loading || api.error ? \"#595959\" : color,\n\t\t\t\t\tno_of_colors\n\t\t\t\t);\n\t\t\t\tthis.colors = rotation_colors;\n\t\t\t}\n\n\t\t\tlet chart_data_labels = [];\n\t\t\tlet chart_data_data = [];\n\t\t\tlet onload_callback_data = [];\n\n\t\t\tif (typeof possibilities === \"object\") {\n\t\t\t\tfor (var i = 0; i < cache.length; i++) {\n\t\t\t\t\tif (cache[i]._id in possibilities) {\n\t\t\t\t\t\tchart_data_labels.push(possibilities[cache[i]._id]);\n\t\t\t\t\t\tchart_data_data.push(cache[i].count);\n\t\t\t\t\t\tif (onLoadAggregates) {\n\t\t\t\t\t\t\tonload_callback_data.push({\n\t\t\t\t\t\t\t\tname: cache[i]._id,\n\t\t\t\t\t\t\t\tlabel: possibilities[cache[i]._id],\n\t\t\t\t\t\t\t\tcount: cache[i].count,\n\t\t\t\t\t\t\t\tcolor: this.colors[i],\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet chart_data = {\n\t\t\t\tlabels: chart_data_labels,\n\t\t\t\tdatasets: [\n\t\t\t\t\t{\n\t\t\t\t\t\tdata: chart_data_data,\n\t\t\t\t\t\tbackgroundColor: this.colors,\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t};\n\n\t\t\tthis.setState(state => ({\n\t\t\t\taggregates: cache,\n\t\t\t\tchart_data: chart_data,\n\t\t\t\tloading: false,\n\t\t\t}));\n\t\t\tif (onLoadAggregates) {\n\t\t\t\tonLoadAggregates(onload_callback_data);\n\t\t\t}\n\t\t} else {\n\t\t\tlet chart_data_labels = [];\n\t\t\tlet chart_data_data = [];\n\t\t\tlet onload_callback_data = [];\n\n\t\t\tlet chart_data = {\n\t\t\t\tlabels: chart_data_labels,\n\t\t\t\tdatasets: [\n\t\t\t\t\t{\n\t\t\t\t\t\tdata: chart_data_data,\n\t\t\t\t\t\tbackgroundColor: this.colors,\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t};\n\n\t\t\tthis.setState(state => ({\n\t\t\t\taggregates: cache,\n\t\t\t\tchart_data: chart_data,\n\t\t\t\tloading: false,\n\t\t\t}));\n\t\t\tif (onLoadAggregates) {\n\t\t\t\tonLoadAggregates(onload_callback_data);\n\t\t\t}\n\t\t}\n\t}\n\n\tloadAggregates(query_data) {\n\t\tconst { apiCallRequest, defination } = this.props;\n\n\t\tif (!query_data) {\n\t\t\tquery_data = { g: this.state.aggregate };\n\t\t}\n\n\t\tlet new_aggregate =\n\t\t\t\"g\" in query_data\n\t\t\t\t? query_data.g\n\t\t\t\t: \"group\" in query_data\n\t\t\t\t\t? query_data.group\n\t\t\t\t\t: false;\n\t\tthis.setState(state => ({ aggregate: new_aggregate }));\n\n\t\tif (defination) {\n\t\t\tapiCallRequest(\n\t\t\t\tdefination.name + \"_aggregates\",\n\t\t\t\t{\n\t\t\t\t\turi: defination.endpoint,\n\t\t\t\t\ttype: \"aggregates\",\n\t\t\t\t\tparams: query_data,\n\t\t\t\t\tdata: {},\n\t\t\t\t\tcache: true,\n\t\t\t\t},\n\t\t\t);\n\t\t}\n\t}\n\n\thandleShowAggregateMenu = event => {\n\t\tlet aggregateMenuEl = event.currentTarget;\n\t\tthis.setState({ aggregateMenuEl: aggregateMenuEl });\n\t};\n\n\thandleCloseAggregateMenu() {\n\t\tthis.setState({ aggregateMenuEl: null });\n\t}\n\n\thandleAggregateMenuItemClick = column => event => {\n\t\t//this.handleCloseAggregateMenu();\n\t\tthis.setState({ aggregateMenuEl: null });\n\t\tthis.loadAggregates({ g: column });\n\t};\n\n\trender() {\n\t\tconst {\n\t\t\tclassName,\n\t\t\taggregate,\n\t\t\tdynamic,\n\t\t\tdefination,\n\t\t\tservice,\n\t\t\tshowTitle,\n\t\t\tshowMenu,\n\t\t\tapi,\n\t\t\tcache,\n\t\t} = this.props;\n\t\treturn (\n\t\t\t<GridContainer className={className + \" p-0 m-0\"}>\n\t\t\t\t<GridItem xs={12} className=\"p-0 m-0\">\n\t\t\t\t\t<GridContainer className=\"p-0 m-0\">\n\t\t\t\t\t\t<GridContainer className=\"p-0 m-0\">\n\t\t\t\t\t\t\t{(showMenu || showTitle) && (\n\t\t\t\t\t\t\t\t<GridItem xs={12}>\n\t\t\t\t\t\t\t\t\t<GridContainer>\n\t\t\t\t\t\t\t\t\t\t{showTitle && !showMenu && (\n\t\t\t\t\t\t\t\t\t\t\t<GridItem xs={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography\n\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"body1\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{defination.scope.columns[\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.state.aggregate\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? defination.scope\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.columns[\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.state\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.aggregate\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t].label\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"Unknown\"}{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t\tAggregate\n\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t\t</GridItem>\n\t\t\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t\t\t{dynamic && showMenu && (\n\t\t\t\t\t\t\t\t\t\t\t<GridItem\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"p-0 m-0\"\n\t\t\t\t\t\t\t\t\t\t\t\txs={12}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\taria-controls=\"aggregate-menu\"\n\t\t\t\t\t\t\t\t\t\t\t\t\taria-haspopup=\"true\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.handleShowAggregateMenu\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-right\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"md\"\n\t\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"Aggregate Menu\"\n\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{defination.scope.columns[\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.state.aggregate\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? defination.scope\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.columns[\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.state\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.aggregate\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t].label\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"Unknown\"}{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t\tAggregate\n\t\t\t\t\t\t\t\t\t\t\t\t\t<AggregateMenuIcon />\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t<Menu\n\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"surveys-aggregate-menu\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tanchorEl={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.state\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.aggregateMenuEl\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tkeepMounted\n\t\t\t\t\t\t\t\t\t\t\t\t\topen={Boolean(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.state\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.aggregateMenuEl\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClose={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.handleCloseAggregateMenu\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{this.aggregatables.map(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taggregatable,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tindex\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={this.handleAggregateMenuItemClick(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taggregatable.name\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"aggregate_\" +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taggregatable.name\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{aggregatable.label +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\" Aggregate\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</Menu>\n\t\t\t\t\t\t\t\t\t\t\t</GridItem>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</GridContainer>\n\t\t\t\t\t\t\t\t</GridItem>\n\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t<GridItem className=\"p-0 m-0\" xs={12}>\n\t\t\t\t\t\t\t\t{Array.isArray(this.state.chart_data.labels) &&\n\t\t\t\t\t\t\t\t\tthis.state.chart_data.labels.length > 0 ? (\n\t\t\t\t\t\t\t\t\t<Pie data={this.state.chart_data} />\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<GridContainer\n\t\t\t\t\t\t\t\t\t\tclassName=\"p-0 m-0\"\n\t\t\t\t\t\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\t\t\t\t\t\talignItems=\"center\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\talt=\"Empty Aggregates\"\n\t\t\t\t\t\t\t\t\t\t\tclassName={`w-9/12`}\n\t\t\t\t\t\t\t\t\t\t\tsrc={(\"https://realfield.nyc3.cdn.digitaloceanspaces.com/public/img/empty-state-table.svg\")}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\t\t\tclassName={`mt-4`}\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"grey\"\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"body2\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tNo{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t{defination.scope.columns[\n\t\t\t\t\t\t\t\t\t\t\t\tthis.state.aggregate\n\t\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t\t\t\t? defination.scope.columns[\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.state.aggregate\n\t\t\t\t\t\t\t\t\t\t\t\t].label\n\t\t\t\t\t\t\t\t\t\t\t\t: \"\"}{\" \"}\n\t\t\t\t\t\t\t\t\t\t\tAggregates\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t</GridContainer>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</GridItem>\n\t\t\t\t\t\t</GridContainer>\n\n\t\t\t\t\t\t{api.complete && api.error && (\n\t\t\t\t\t\t\t<GridContainer>\n\t\t\t\t\t\t\t\t<GridItem xs={12}>\n\t\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\t\tcolor=\"error\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"body2\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{\"An error occured. \\n \" +\n\t\t\t\t\t\t\t\t\t\t\tapi.error.msg}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</GridItem>\n\t\t\t\t\t\t\t</GridContainer>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</GridContainer>\n\t\t\t\t</GridItem>\n\t\t\t</GridContainer>\n\t\t);\n\t}\n}\n\nAggregatesPieChart.propTypes = {\n\tclassName: PropTypes.string,\n\n\tdynamic: PropTypes.bool,\n\tshowTitle: PropTypes.bool,\n\tshowMenu: PropTypes.bool,\n\tmonochrome: PropTypes.bool,\n\tcolor: PropTypes.string,\n\tcolors: PropTypes.array,\n\tdefination: PropTypes.object.isRequired,\n\tservice: PropTypes.any.isRequired,\n\taggregate: PropTypes.string,\n\tonResolveAggregates: PropTypes.func,\n\tonLoadAggregates: PropTypes.func,\n};\n\nAggregatesPieChart.defaultProps = {\n\t//colors: [colors.hex.accent, colors.hex.primary, colors.hex.secondary, colors.hex.primarydark, colors.hex.default],\n\tcolor: colors.hex.accent,\n\tmonochrome: true,\n};\n\nconst mapStateToProps = (state, ownProps) => {\n\tconst { defination } = ownProps;\n\treturn {\n\t\tauth: state.auth,\n\t\tcache: defination\n\t\t\t? state.cache.data[defination.name + \"_aggregates\"]\n\t\t\t: null,\n\t\tapi: defination\n\t\t\t? state.api[defination.name]\n\t\t\t\t? state.api[defination.name]\n\t\t\t\t: {}\n\t\t\t: {},\n\t};\n};\n\nexport default compose(\n\n\tconnect(mapStateToProps, { apiCallRequest })\n)(AggregatesPieChart);\n","/** @format */\n\nimport { Menu, MenuItem } from \"@mui/material\";\n//\n\nimport { MoreVert as AggregateMenuIcon } from \"@mui/icons-material\";\nimport { colors } from \"assets/jss/app-theme\";\nimport Button from \"components/Button\";\nimport GridContainer from \"components/Grid/GridContainer\";\nimport GridItem from \"components/Grid/GridItem\";\nimport Typography from \"components/Typography\";\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport { defaults, Bar } from \"react-chartjs-2\";\nimport { connect } from \"react-redux\";\nimport compose from \"recompose/compose\";\nimport { apiCallRequest } from \"state/actions\";\n\n//\nimport ApiService from \"services/Api\";\nimport { UtilitiesHelper } from \"utils/Helpers\";\n\n\n//\n// defaults.global.legend.display = false;\n\nclass AggregatesBarChart extends React.Component {\n\tstate = {\n\t\tloading: true,\n\t\tload_error: false,\n\t\taggregate: \"status\",\n\t\taggregates: [],\n\t\tchart_data: {\n\t\t\tlabels: [],\n\t\t\tdatasets: [\n\t\t\t\t{\n\t\t\t\t\tdata: [],\n\t\t\t\t},\n\t\t\t],\n\t\t},\n\t\taggregateMenuEl: null,\n\t};\n\taggregatables = [];\n\tcolors = [];\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.handleShowAggregateMenu = this.handleShowAggregateMenu.bind(this);\n\t\tthis.handleCloseAggregateMenu = this.handleCloseAggregateMenu.bind(\n\t\t\tthis\n\t\t);\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.prepareForData();\n\t\tthis.loadAggregates();\n\t\tthis.prepareChartData();\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\tif (!Object.areEqual(this.props.defination, prevProps.defination)) {\n\t\t\tthis.prepareForData();\n\t\t\tthis.loadAggregates();\n\t\t} else if (!Object.areEqual(prevProps.api, this.props.api)) {\n\t\t\tthis.prepareChartData();\n\t\t} else if (Array.isArray(this.props.cache)) {\n\t\t\tif (!this.props.cache.equals(prevProps.cache)) {\n\t\t\t\tthis.prepareChartData();\n\t\t\t}\n\t\t} else if (Array.isArray(prevProps.cache)) {\n\t\t\tif (!prevProps.cache.equals(this.props.cache)) {\n\t\t\t\tthis.prepareChartData();\n\t\t\t}\n\t\t}\n\t}\n\n\tprepareForData() {\n\t\tlet {\n\t\t\tdynamic,\n\t\t\tmonochrome,\n\t\t\tcolor,\n\t\t\tcolors,\n\t\t\tdefination,\n\t\t\tservice,\n\t\t\taggregate,\n\t\t\tonResolveAggregates,\n\t\t} = this.props;\n\n\t\tif (dynamic && !JSON.isEmpty(defination)) {\n\t\t\tthis.aggregatables = [];\n\t\t\tfor (let [column, properties] of Object.entries(\n\t\t\t\tdefination.scope.columns\n\t\t\t)) {\n\t\t\t\tif (properties.possibilities) {\n\t\t\t\t\tthis.aggregatables.push({\n\t\t\t\t\t\tname: column,\n\t\t\t\t\t\tlabel: properties.label,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (!aggregate && this.aggregatables.length > 0) {\n\t\t\taggregate = this.aggregatables[0].name;\n\t\t\tif (onResolveAggregates) {\n\t\t\t\tonResolveAggregates(defination.name, this.aggregatables);\n\t\t\t}\n\t\t}\n\n\t\tif (dynamic) {\n\t\t\tthis.state.aggregate = aggregate;\n\n\t\t\t//generate color scheme if monochromatic\n\t\t\tif (monochrome) {\n\t\t\t\tlet no_of_colors =\n\t\t\t\t\tthis.aggregatables.length > 0\n\t\t\t\t\t\t? this.aggregatables.length\n\t\t\t\t\t\t: 1;\n\t\t\t\tlet monochrome_colors = UtilitiesHelper.monochromeColorScheme(\n\t\t\t\t\tcolor,\n\t\t\t\t\tno_of_colors\n\t\t\t\t);\n\t\t\t\tthis.colors = monochrome_colors;\n\t\t\t} else if (colors) {\n\t\t\t\tthis.colors = colors;\n\t\t\t} else {\n\t\t\t\tlet no_of_colors =\n\t\t\t\t\tthis.aggregatables.length > 0\n\t\t\t\t\t\t? this.aggregatables.length\n\t\t\t\t\t\t: 1;\n\t\t\t\tlet rotation_colors = UtilitiesHelper.rotationColorScheme(\n\t\t\t\t\tcolor,\n\t\t\t\t\tno_of_colors\n\t\t\t\t);\n\t\t\t\tthis.colors = rotation_colors;\n\t\t\t}\n\t\t}\n\t}\n\n\tprepareChartData() {\n\t\tconst {\n\t\t\tmonochrome,\n\t\t\tcolor,\n\t\t\tcolors,\n\t\t\taggregate,\n\t\t\tdefination,\n\t\t\tservice,\n\t\t\tauth,\n\t\t\tonLoadAggregates,\n\t\t\tcache,\n\t\t\tapi,\n\t\t} = this.props;\n\t\tif (Array.isArray(cache)) {\n\t\t\tlet possibilities = defination.scope.columns[this.state.aggregate]\n\t\t\t\t? defination.scope.columns[this.state.aggregate].possibilities\n\t\t\t\t: {};\n\t\t\tif (typeof possibilities === \"function\") {\n\t\t\t\tpossibilities = possibilities(false, auth.user);\n\t\t\t}\n\t\t\t//generate color scheme if monochromatic\n\t\t\tif (monochrome) {\n\t\t\t\tlet no_of_colors = cache.length > 0 ? cache.length : 1;\n\t\t\t\tlet monochrome_colors = UtilitiesHelper.monochromeColorScheme(\n\t\t\t\t\tapi.loading || api.error ? \"#595959\" : color,\n\t\t\t\t\tno_of_colors\n\t\t\t\t);\n\t\t\t\tthis.colors = monochrome_colors;\n\t\t\t} else if (colors) {\n\t\t\t\tthis.colors =\n\t\t\t\t\tapi.loading || api.error\n\t\t\t\t\t\t? UtilitiesHelper.monochromeColorScheme(\"#595959\")\n\t\t\t\t\t\t: colors;\n\t\t\t} else {\n\t\t\t\tlet no_of_colors = cache.length > 0 ? cache.length : 1;\n\t\t\t\tlet rotation_colors = UtilitiesHelper.rotationColorScheme(\n\t\t\t\t\tapi.loading || api.error ? \"#595959\" : color,\n\t\t\t\t\tno_of_colors\n\t\t\t\t);\n\t\t\t\tthis.colors = rotation_colors;\n\t\t\t}\n\n\t\t\tlet chart_data_labels = [];\n\t\t\tlet chart_data_data = [];\n\t\t\tlet onload_callback_data = [];\n\n\t\t\tif (typeof possibilities === \"object\") {\n\t\t\t\tfor (var i = 0; i < cache.length; i++) {\n\t\t\t\t\tif (cache[i]._id in possibilities) {\n\t\t\t\t\t\tchart_data_labels.push(possibilities[cache[i]._id]);\n\t\t\t\t\t\tchart_data_data.push(cache[i].count);\n\t\t\t\t\t\tif (onLoadAggregates) {\n\t\t\t\t\t\t\tonload_callback_data.push({\n\t\t\t\t\t\t\t\tname: cache[i]._id,\n\t\t\t\t\t\t\t\tlabel: possibilities[cache[i]._id],\n\t\t\t\t\t\t\t\tcount: cache[i].count,\n\t\t\t\t\t\t\t\tcolor: this.colors[i],\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet chart_data = {\n\t\t\t\tlabels: chart_data_labels,\n\t\t\t\tdatasets: [\n\t\t\t\t\t{\n\t\t\t\t\t\tdata: chart_data_data,\n\t\t\t\t\t\tbackgroundColor: this.colors,\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t};\n\n\t\t\tthis.setState(state => ({\n\t\t\t\taggregates: cache,\n\t\t\t\tchart_data: chart_data,\n\t\t\t\tloading: false,\n\t\t\t}));\n\t\t\tif (onLoadAggregates) {\n\t\t\t\tonLoadAggregates(onload_callback_data);\n\t\t\t}\n\t\t} else {\n\t\t\tlet chart_data_labels = [];\n\t\t\tlet chart_data_data = [];\n\t\t\tlet onload_callback_data = [];\n\n\t\t\tlet chart_data = {\n\t\t\t\tlabels: chart_data_labels,\n\t\t\t\tdatasets: [\n\t\t\t\t\t{\n\t\t\t\t\t\tdata: chart_data_data,\n\t\t\t\t\t\tbackgroundColor: this.colors,\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t};\n\n\t\t\tthis.setState(state => ({\n\t\t\t\taggregates: cache,\n\t\t\t\tchart_data: chart_data,\n\t\t\t\tloading: false,\n\t\t\t}));\n\t\t\tif (onLoadAggregates) {\n\t\t\t\tonLoadAggregates(onload_callback_data);\n\t\t\t}\n\t\t}\n\t}\n\n\tloadAggregates(query_data) {\n\t\tconst { apiCallRequest, defination } = this.props;\n\n\t\tif (!query_data) {\n\t\t\tquery_data = { g: this.state.aggregate };\n\t\t}\n\n\t\tlet new_aggregate =\n\t\t\t\"g\" in query_data\n\t\t\t\t? query_data.g\n\t\t\t\t: \"group\" in query_data\n\t\t\t\t\t? query_data.group\n\t\t\t\t\t: false;\n\t\tthis.setState(state => ({ aggregate: new_aggregate }));\n\n\t\tif (defination) {\n\t\t\tapiCallRequest(\n\t\t\t\tdefination.name + \"_aggregates\",\n\t\t\t\t{\n\t\t\t\t\turi: defination.endpoint,\n\t\t\t\t\ttype: \"aggregates\",\n\t\t\t\t\tparams: query_data,\n\t\t\t\t\tdata: {},\n\t\t\t\t\tcache: true,\n\t\t\t\t},\n\t\t\t);\n\t\t}\n\t}\n\n\thandleShowAggregateMenu = event => {\n\t\tlet aggregateMenuEl = event.currentTarget;\n\t\tthis.setState({ aggregateMenuEl: aggregateMenuEl });\n\t};\n\n\thandleCloseAggregateMenu() {\n\t\tthis.setState({ aggregateMenuEl: null });\n\t}\n\n\thandleAggregateMenuItemClick = column => event => {\n\t\t//this.handleCloseAggregateMenu();\n\t\tthis.setState({ aggregateMenuEl: null });\n\t\tthis.loadAggregates({ g: column });\n\t};\n\n\trender() {\n\t\tconst {\n\t\t\tclassName,\n\t\t\taggregate,\n\t\t\tdynamic,\n\t\t\tdefination,\n\t\t\tservice,\n\t\t\tshowTitle,\n\t\t\tshowMenu,\n\t\t\tapi,\n\t\t\tcache,\n\t\t} = this.props;\n\n\t\treturn (\n\t\t\t!JSON.isEmpty(defination) && <GridContainer className={className + \" p-0 m-0\"}>\n\t\t\t\t<GridItem xs={12} className=\"p-0 m-0\">\n\t\t\t\t\t<GridContainer className=\"p-0 m-0\">\n\t\t\t\t\t\t<GridContainer className=\"p-0 m-0\">\n\t\t\t\t\t\t\t{(showMenu || showTitle) && (\n\t\t\t\t\t\t\t\t<GridItem xs={12}>\n\t\t\t\t\t\t\t\t\t<GridContainer>\n\t\t\t\t\t\t\t\t\t\t{showTitle && !showMenu && (\n\t\t\t\t\t\t\t\t\t\t\t<GridItem xs={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography\n\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"body1\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{defination.scope.columns[\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.state.aggregate\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? defination.scope\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.columns[\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.state\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.aggregate\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t].label\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"Unknown\"}{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t\tAggregate\n\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t\t</GridItem>\n\t\t\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t\t\t{dynamic && showMenu && (\n\t\t\t\t\t\t\t\t\t\t\t<GridItem\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"p-0 m-0\"\n\t\t\t\t\t\t\t\t\t\t\t\txs={12}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\taria-controls=\"aggregate-menu\"\n\t\t\t\t\t\t\t\t\t\t\t\t\taria-haspopup=\"true\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.handleShowAggregateMenu\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"float-right\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"md\"\n\t\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"Aggregate Menu\"\n\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{defination.scope?.columns[\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.state.aggregate\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? defination.scope\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.columns[\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.state\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.aggregate\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t].label\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"Unknown\"}{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t\tAggregate\n\t\t\t\t\t\t\t\t\t\t\t\t\t<AggregateMenuIcon />\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t<Menu\n\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"surveys-aggregate-menu\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tanchorEl={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.state\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.aggregateMenuEl\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tkeepMounted\n\t\t\t\t\t\t\t\t\t\t\t\t\topen={Boolean(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.state\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.aggregateMenuEl\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClose={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.handleCloseAggregateMenu\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{this.aggregatables.map(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taggregatable,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tindex\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={this.handleAggregateMenuItemClick(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taggregatable.name\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"aggregate_\" +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taggregatable.name\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{aggregatable.label +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\" Aggregate\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</Menu>\n\t\t\t\t\t\t\t\t\t\t\t</GridItem>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</GridContainer>\n\t\t\t\t\t\t\t\t</GridItem>\n\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t<GridItem className=\"p-0 m-0\" xs={12}>\n\t\t\t\t\t\t\t\t{Array.isArray(this.state.chart_data.labels) &&\n\t\t\t\t\t\t\t\t\tthis.state.chart_data.labels.length > 0 ? (\n\t\t\t\t\t\t\t\t\t<Bar\n\t\t\t\t\t\t\t\t\t\tdata={this.state.chart_data}\n\t\t\t\t\t\t\t\t\t\toptions={{\n\t\t\t\t\t\t\t\t\t\t\tmaintainAspectRatio: false,\n\t\t\t\t\t\t\t\t\t\t\tscales: {\n\t\t\t\t\t\t\t\t\t\t\t\tyAxes: [{\n\t\t\t\t\t\t\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbeginAtZero: true\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}]\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<GridContainer\n\t\t\t\t\t\t\t\t\t\tclassName=\"p-0 m-0\"\n\t\t\t\t\t\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\t\t\t\t\t\talignItems=\"center\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\talt=\"Empty Aggregates\"\n\t\t\t\t\t\t\t\t\t\t\tclassName={\"m-8 w-9/12\"}\n\t\t\t\t\t\t\t\t\t\t\tsrc={(\"https://realfield.nyc3.cdn.digitaloceanspaces.com/public/img/empty-state-table.svg\")}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\t\t\tclassName={\"mt-4\"}\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"grey\"\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"body2\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tNo{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t{defination.scope.columns[\n\t\t\t\t\t\t\t\t\t\t\t\tthis.state.aggregate\n\t\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t\t\t\t? defination.scope.columns[\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.state.aggregate\n\t\t\t\t\t\t\t\t\t\t\t\t].label\n\t\t\t\t\t\t\t\t\t\t\t\t: \"\"}{\" \"}\n\t\t\t\t\t\t\t\t\t\t\tAggregates\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t</GridContainer>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</GridItem>\n\t\t\t\t\t\t</GridContainer>\n\n\t\t\t\t\t\t{api.complete && api.error && (\n\t\t\t\t\t\t\t<GridContainer>\n\t\t\t\t\t\t\t\t<GridItem xs={12}>\n\t\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\t\tcolor=\"error\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"body2\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{\"An error occured. \\n \" +\n\t\t\t\t\t\t\t\t\t\t\tapi.error.msg}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</GridItem>\n\t\t\t\t\t\t\t</GridContainer>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</GridContainer>\n\t\t\t\t</GridItem>\n\t\t\t</GridContainer>\n\t\t);\n\t}\n}\n\nAggregatesBarChart.propTypes = {\n\tclassName: PropTypes.string,\n\n\tdynamic: PropTypes.bool,\n\tshowTitle: PropTypes.bool,\n\tshowMenu: PropTypes.bool,\n\tmonochrome: PropTypes.bool,\n\tcolor: PropTypes.string,\n\tcolors: PropTypes.array,\n\tdefination: PropTypes.object.isRequired,\n\tservice: PropTypes.any.isRequired,\n\taggregate: PropTypes.string,\n\tonResolveAggregates: PropTypes.func,\n\tonLoadAggregates: PropTypes.func,\n};\n\nAggregatesBarChart.defaultProps = {\n\t//colors: [colors.hex.accent, colors.hex.primary, colors.hex.secondary, colors.hex.primarydark, colors.hex.default],\n\tcolor: colors.hex.accent,\n\tmonochrome: true,\n};\n\nconst mapStateToProps = (state, ownProps) => {\n\tconst { defination } = ownProps;\n\treturn {\n\t\tauth: state.auth,\n\t\tcache: defination\n\t\t\t? state.cache.data[defination.name + \"_aggregates\"]\n\t\t\t: null,\n\t\tapi: defination\n\t\t\t? state.api[defination.name]\n\t\t\t\t? state.api[defination.name]\n\t\t\t\t: {}\n\t\t\t: {},\n\t};\n};\n\nexport default compose(\n\n\tconnect(mapStateToProps, { apiCallRequest })\n)(AggregatesBarChart);\n","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\"\n}), 'MoreVert');","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"m9.17 6 2 2H20v10H4V6h5.17M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z\"\n}), 'FolderOutlined');\n\nexports.default = _default;","/** @format */\n\nimport IconButton from \"@mui/material/IconButton\";\nimport Menu from \"@mui/material/Menu\";\nimport MenuItem from \"@mui/material/MenuItem\";\n\nimport FolderIcon from \"@mui/icons-material/FolderOutlined\";\nimport MenuIcon from \"@mui/icons-material/MoreVert\";\nimport { colors } from \"assets/jss/app-theme\";\nimport Avatar from \"components/Avatar\";\nimport Badge from \"components/Badge\";\nimport Card from \"components/Card\";\nimport CardActions from \"components/Card/CardActions\";\nimport CardContent from \"components/Card/CardContent\";\nimport CardHeader from \"components/Card/CardHeader\";\nimport GridContainer from \"components/Grid/GridContainer\";\nimport GridItem from \"components/Grid/GridItem\";\nimport Typography from \"components/Typography\"\nimport PropTypes from \"prop-types\"\nimport React from \"react\"\nimport { connect } from \"react-redux\"\nimport compose from \"recompose/compose\"\nimport AggregatesPieChart from \"views/widgets/Charts/AggregatesPieChart\"\nimport AggregatesBarChart from \"views/widgets/Charts/AggregatesBarChart\"\nimport ApiService from \"services/Api\"\nimport * as definations from \"definations\"\n\nconst styles = theme => ({\n\tfullHeight: {\n\t\theight: \"100% !important\",\n\t},\n})\n\nclass CompactAggregatesOverview extends React.Component {\n\tstate = {\n\t\tcontext: null,\n\t\tdefination: false,\n\t\tdefinations: {},\n\t\taggregates: [],\n\t\tmenuAnchorEl: null,\n\t}\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tconst { auth, contexts } = props\n\t\tlet possible_definations = {}\n\t\tfor (let [name, defination] of Object.entries(definations)) {\n\t\t\tif (!defination.access.restricted(auth.user) && defination.access.view.summary(auth.user) && contexts.includes(name)) {\n\t\t\t\tpossible_definations[name] = defination\n\t\t\t\tif (!this.state.defination) {\n\t\t\t\t\tthis.state.defination = defination\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tthis.state.definations = possible_definations\n\t\tthis.handleMenuOpen = this.handleMenuOpen.bind(this)\n\t\tthis.handleMenuClose = this.handleMenuClose.bind(this)\n\t\tthis.handleDefinationChange = this.handleDefinationChange.bind(this)\n\t\tthis.handleOnAggregatesLoad = this.handleOnAggregatesLoad.bind(this)\n\t}\n\n\thandleMenuOpen = event => {\n\t\tlet menuAnchorMenuEl = event.currentTarget\n\t\tthis.setState(state => ({ menuAnchorEl: menuAnchorMenuEl }))\n\t}\n\n\thandleMenuClose() {\n\t\tthis.setState(state => ({ menuAnchorEl: null }))\n\t}\n\n\thandleDefinationChange = name => event => {\n\t\tthis.setState(state => ({\n\t\t\tmenuAnchorEl: null,\n\t\t\tdefination: state.definations[name],\n\t\t}))\n\t}\n\n\thandleOnAggregatesLoad(aggregates) {\n\t\tthis.setState(state => ({ aggregates: aggregates }))\n\t}\n\n\trender() {\n\t\tconst { classes, auth, contexts, gridSize, theme, chartType } = this.props\n\n\t\treturn (\n\t\t\t<Card>\n\t\t\t\t<CardHeader\n\t\t\t\t\tavatar={\n\t\t\t\t\t\t<Avatar aria-label={this.state.defination.label} style={{ background: this.state.defination.color }}>\n\t\t\t\t\t\t\t{this.state.defination.icon}\n\t\t\t\t\t\t</Avatar>\n\t\t\t\t\t}\n\t\t\t\t\ttitle={this.state.defination.label}\n\t\t\t\t\tsubheader=\"Aggregates Overview\"\n\t\t\t\t\taction={\n\t\t\t\t\t\tcontexts.length > 1 && (\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<IconButton aria-label=\"menuicon\" color=\"primary\" className={classes?.margin} onClick={this.handleMenuOpen}>\n\t\t\t\t\t\t\t\t\t{\" \"}\n\t\t\t\t\t\t\t\t\t<MenuIcon />{\" \"}\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t<Menu\n\t\t\t\t\t\t\t\t\tid=\"definations-menu\"\n\t\t\t\t\t\t\t\t\tanchorEl={this.state.menuAnchorEl}\n\t\t\t\t\t\t\t\t\tkeepMounted\n\t\t\t\t\t\t\t\t\topen={Boolean(this.state.menuAnchorEl)}\n\t\t\t\t\t\t\t\t\tonClose={this.handleMenuClose}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{Object.entries(this.state.definations).map(\n\t\t\t\t\t\t\t\t\t\t([name, defination], index) =>\n\t\t\t\t\t\t\t\t\t\t\t!defination.access.restricted(auth.user) &&\n\t\t\t\t\t\t\t\t\t\t\tdefination.access.view.summary(auth.user) &&\n\t\t\t\t\t\t\t\t\t\t\tcontexts.includes(name) && (\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem onClick={this.handleDefinationChange(name)} key={\"aggregate-\" + defination.name}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{defination.label}{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Menu>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t></CardHeader>\n\t\t\t\t<CardContent className=\"p-0 m-0\">\n\t\t\t\t\t<GridContainer className={classes?.fullHeight} direction=\"column\" justify=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t<GridContainer className=\"p-0 m-0\">\n\t\t\t\t\t\t\t<GridItem xs={12}>\n\t\t\t\t\t\t\t\t<GridContainer style={{ height: \"100%\" }} direction=\"column\" justify=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t\t\t{chartType === \"pie\" && (\n\t\t\t\t\t\t\t\t\t\t<AggregatesPieChart\n\t\t\t\t\t\t\t\t\t\t\tdefination={this.state.defination}\n\t\t\t\t\t\t\t\t\t\t\tservice={ApiService.getContextRequests(this.state.defination.endpoint)}\n\t\t\t\t\t\t\t\t\t\t\tcolor={this.state.defination.color ? this.state.defination.color : colors.hex.primary}\n\t\t\t\t\t\t\t\t\t\t\tonLoadAggregates={this.handleOnAggregatesLoad}\n\t\t\t\t\t\t\t\t\t\t\tmonochrome\n\t\t\t\t\t\t\t\t\t\t\tshowTitle\n\t\t\t\t\t\t\t\t\t\t\tshowMenu\n\t\t\t\t\t\t\t\t\t\t\tdynamic\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t{chartType === \"bar\" && (\n\t\t\t\t\t\t\t\t\t\t<AggregatesBarChart\n\t\t\t\t\t\t\t\t\t\t\tdefination={this.state.defination}\n\t\t\t\t\t\t\t\t\t\t\tservice={ApiService.getContextRequests(this.state.defination.endpoint)}\n\t\t\t\t\t\t\t\t\t\t\tcolor={this.state.defination.color ? this.state.defination.color : colors.hex.primary}\n\t\t\t\t\t\t\t\t\t\t\tonLoadAggregates={this.handleOnAggregatesLoad}\n\t\t\t\t\t\t\t\t\t\t\tmonochrome\n\t\t\t\t\t\t\t\t\t\t\tshowTitle\n\t\t\t\t\t\t\t\t\t\t\tshowMenu\n\t\t\t\t\t\t\t\t\t\t\tdynamic\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</GridContainer>\n\t\t\t\t\t\t\t</GridItem>\n\t\t\t\t\t\t\t<GridItem xs={12}>\n\t\t\t\t\t\t\t\t<GridContainer className=\"center\" direction=\"column\" justify=\"center\" alignItems=\"center\">\n\t\t\t\t\t\t\t\t\t<Typography color=\"grey\" variant=\"body2\" gutterBottom>\n\t\t\t\t\t\t\t\t\t\tAggregates Index\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t{this.state.aggregates.length === 0 && <FolderIcon fontSize=\"large\" />}\n\t\t\t\t\t\t\t\t\t{this.state.aggregates.map((aggregate, index) => (\n\t\t\t\t\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\t\t\t\t\tbadgeContent={aggregate.count}\n\t\t\t\t\t\t\t\t\t\t\tcolor={aggregate.color}\n\t\t\t\t\t\t\t\t\t\t\ttextColor={colors.hex.inverse}\n\t\t\t\t\t\t\t\t\t\t\tkey={this.state.defination.name + \"-aggregate-\" + index}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant=\"subtitle1\" component=\"h3\" gutterBottom>\n\t\t\t\t\t\t\t\t\t\t\t\t{aggregate.label}\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</GridContainer>\n\t\t\t\t\t\t\t</GridItem>\n\t\t\t\t\t\t</GridContainer>\n\t\t\t\t\t</GridContainer>\n\t\t\t\t</CardContent>\n\t\t\t\t<CardActions>\n\t\t\t\t\t<GridContainer className=\"p-0 m-0\">\n\t\t\t\t\t\t<GridItem xs={12}>\n\t\t\t\t\t\t\t<Typography variant=\"body2\">{this.state.defination.label} by Aggregates</Typography>\n\t\t\t\t\t\t</GridItem>\n\t\t\t\t\t</GridContainer>\n\t\t\t\t</CardActions>\n\t\t\t</Card>\n\t\t)\n\t}\n}\n\nCompactAggregatesOverview.propTypes = {\n\tgridSize: PropTypes.number,\n\tchartType: PropTypes.string,\n\tcontexts: PropTypes.array,\n\taggregates: PropTypes.array,\n}\n\nCompactAggregatesOverview.defaultProps = {\n\tgridSize: 12,\n\tchartType: \"pie\",\n\tcontexts: [\"commissions\", \"surveys\", \"responses\"],\n\taggregates: [],\n}\n\nconst mapStateToProps = state => ({\n\tauth: state.auth,\n})\n\nexport default compose(connect(mapStateToProps, {}))(CompactAggregatesOverview)\n"],"sourceRoot":""}